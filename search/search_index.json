{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u622f\u8853memo \u30e1\u30e2\u7f6e\u304d\u5834\u306e\u4e88\u5b9a link zaki work log zaki-lknr - Qiita develop Swarm SGBT usansible - Chrome \u30a6\u30a7\u30d6\u30b9\u30c8\u30a2 r2tokimeki - Chrome \u30a6\u30a7\u30d6\u30b9\u30c8\u30a2 author \ud83e\udd8b \ud835\udd4f","title":"\u622f\u8853memo"},{"location":"#memo","text":"\u30e1\u30e2\u7f6e\u304d\u5834\u306e\u4e88\u5b9a","title":"\u622f\u8853memo"},{"location":"#link","text":"zaki work log zaki-lknr - Qiita","title":"link"},{"location":"#develop","text":"Swarm SGBT usansible - Chrome \u30a6\u30a7\u30d6\u30b9\u30c8\u30a2 r2tokimeki - Chrome \u30a6\u30a7\u30d6\u30b9\u30c8\u30a2","title":"develop"},{"location":"#author","text":"\ud83e\udd8b \ud835\udd4f","title":"author"},{"location":"Ansible/","text":"\u57fa\u672c\u30fb\u30cd\u30bf\u5e33 \u30b3\u30f3\u30bb\u30d7\u30c8 Ansible concepts \u2014 Ansible Documentation \u30ea\u30ea\u30fc\u30b9\u3068\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u60c5\u5831 Releases and maintenance \u2014 Ansible Documentation Red Hat Ansible Automation Platform \u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb - Red Hat Customer Portal Ansible Automation Platform \u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb - \u8d64\u5e3d\u30a8\u30f3\u30b8\u30cb\u30a2\u30d6\u30ed\u30b0 \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30d0\u30fc\u30b8\u30e7\u30f3\u3068ansible-core\u30d0\u30fc\u30b8\u30e7\u30f3 Ansible X\u3068ansible-core z\u306e\u30d0\u30fc\u30b8\u30e7\u30f3 Release and maintenance\u306e\u4e2d\u306e Ansible community changelogs \u30b5\u30dd\u30fc\u30c8\u30d0\u30fc\u30b8\u30e7\u30f3\u30de\u30c8\u30ea\u30af\u30b9 Release and maintenance\u306e\u4e2d\u306e ansible-core support matrix \u30ed\u30fc\u30c9\u30de\u30c3\u30d7 Ansible Roadmap \u2014 Ansible Documentation \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210 Sample Ansible setup \u2014 Ansible Documentation \u300cSample directory layout\u300d\u3084\u300cAlternative directory layout\u300d\u3092\u53c2\u7167\u3002 Playbook\u66f8\u304d\u65b9 Good Practices for Ansible - GPA Tips and tricks \u2014 Ansible Documentation \u65e7\u300c\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u300d\u306e\u30da\u30fc\u30b8\u3002 Conditionals \u2014 Ansible Documentation \u6761\u4ef6\u5206 \u5b9f\u884c\u5236\u5fa1 Controlling playbook execution: strategies and more \u2014 Ansible Community Documentation Controlling where tasks run: delegation and local actions \u2014 Ansible Community Documentation \u30cd\u30c3\u30c8\u30ef\u30fc\u30af Ansible for Network Automation \u2014 Ansible Documentation Ansible Network Examples \u2014 Ansible Documentation Network Debug and Troubleshooting Guide \u2014 Ansible Documentation Platform Options \u2014 Ansible Documentation \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u7d22\u5f15 Index \u2014 Ansible Documentation ansible-doc $ ansible-doc <module-name> $ ansible-doc <module-fqcn> \u30e2\u30b8\u30e5\u30fc\u30eb\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f $ ansible-doc -M /path/to/collection-path/ansible_collections/namespace/collectionname/plugins/modules hogehoge \u30d1\u30b9\u304c\u5408\u308f\u306a\u3044\u5834\u5408\u306f\u3001\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u300c\u3053\u308c\u3089\u306e\u30d1\u30b9\u306b\u305d\u3093\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u306a\u3044\u3093\u3060\u304c\uff1f\u300d\u3068\u30d1\u30b9\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u305d\u3053\u304b\u3089\u8abf\u6574\u3059\u308b\u3002 Automation Hub \u30c8\u30fc\u30af\u30f3\u306e\u4f5c\u6210 Hub \u3078\u306e\u63a5\u7d9a","title":"\u57fa\u672c\u30fb\u30cd\u30bf\u5e33"},{"location":"Ansible/#_1","text":"","title":"\u57fa\u672c\u30fb\u30cd\u30bf\u5e33"},{"location":"Ansible/#_2","text":"Ansible concepts \u2014 Ansible Documentation","title":"\u30b3\u30f3\u30bb\u30d7\u30c8"},{"location":"Ansible/#_3","text":"Releases and maintenance \u2014 Ansible Documentation Red Hat Ansible Automation Platform \u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb - Red Hat Customer Portal Ansible Automation Platform \u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb - \u8d64\u5e3d\u30a8\u30f3\u30b8\u30cb\u30a2\u30d6\u30ed\u30b0","title":"\u30ea\u30ea\u30fc\u30b9\u3068\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u60c5\u5831"},{"location":"Ansible/#ansible-core","text":"Ansible X\u3068ansible-core z\u306e\u30d0\u30fc\u30b8\u30e7\u30f3 Release and maintenance\u306e\u4e2d\u306e Ansible community changelogs","title":"\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30d0\u30fc\u30b8\u30e7\u30f3\u3068ansible-core\u30d0\u30fc\u30b8\u30e7\u30f3"},{"location":"Ansible/#_4","text":"Release and maintenance\u306e\u4e2d\u306e ansible-core support matrix","title":"\u30b5\u30dd\u30fc\u30c8\u30d0\u30fc\u30b8\u30e7\u30f3\u30de\u30c8\u30ea\u30af\u30b9"},{"location":"Ansible/#_5","text":"Ansible Roadmap \u2014 Ansible Documentation","title":"\u30ed\u30fc\u30c9\u30de\u30c3\u30d7"},{"location":"Ansible/#_6","text":"Sample Ansible setup \u2014 Ansible Documentation \u300cSample directory layout\u300d\u3084\u300cAlternative directory layout\u300d\u3092\u53c2\u7167\u3002","title":"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210"},{"location":"Ansible/#playbook","text":"Good Practices for Ansible - GPA Tips and tricks \u2014 Ansible Documentation \u65e7\u300c\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u300d\u306e\u30da\u30fc\u30b8\u3002 Conditionals \u2014 Ansible Documentation \u6761\u4ef6\u5206","title":"Playbook\u66f8\u304d\u65b9"},{"location":"Ansible/#_7","text":"Controlling playbook execution: strategies and more \u2014 Ansible Community Documentation Controlling where tasks run: delegation and local actions \u2014 Ansible Community Documentation","title":"\u5b9f\u884c\u5236\u5fa1"},{"location":"Ansible/#_8","text":"Ansible for Network Automation \u2014 Ansible Documentation Ansible Network Examples \u2014 Ansible Documentation Network Debug and Troubleshooting Guide \u2014 Ansible Documentation Platform Options \u2014 Ansible Documentation","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af"},{"location":"Ansible/#_9","text":"","title":"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"},{"location":"Ansible/#_10","text":"Index \u2014 Ansible Documentation","title":"\u7d22\u5f15"},{"location":"Ansible/#ansible-doc","text":"$ ansible-doc <module-name> $ ansible-doc <module-fqcn> \u30e2\u30b8\u30e5\u30fc\u30eb\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f $ ansible-doc -M /path/to/collection-path/ansible_collections/namespace/collectionname/plugins/modules hogehoge \u30d1\u30b9\u304c\u5408\u308f\u306a\u3044\u5834\u5408\u306f\u3001\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u300c\u3053\u308c\u3089\u306e\u30d1\u30b9\u306b\u305d\u3093\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u306a\u3044\u3093\u3060\u304c\uff1f\u300d\u3068\u30d1\u30b9\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u305d\u3053\u304b\u3089\u8abf\u6574\u3059\u308b\u3002","title":"ansible-doc"},{"location":"Ansible/#automation-hub","text":"","title":"Automation Hub"},{"location":"Ansible/#_11","text":"Hub \u3078\u306e\u63a5\u7d9a","title":"\u30c8\u30fc\u30af\u30f3\u306e\u4f5c\u6210"},{"location":"Ansible/awx/","text":"AWX document Ansible AWX Documentation \u2014 Ansible AWX community documentation Ansible AWX Operator Documentation Ansible Tower/AWX\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u30b8\u30e7\u30d6\u5b9f\u884c\u306e\u4ed5\u7d44\u307f(1) #awx - Qiita helm\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7248 \u57fa\u672c\u7684\u306b\u60c5\u5831\u304c\u5c11\u306a\u3044\u3002 \u7d30\u304b\u3044\u30d1\u30e9\u30e1\u30bf\u306fGitHub\u306eREADME\u306b\u8a18\u8f09\u3042\u308a\u3002 AWX Operator Helm Chart awx-operator Helm charts | awx-operator-helm ansible-community/awx-operator-helm: Helm chart for the AWX operator. arm64\u7248\u30d3\u30eb\u30c9 arm64\u7248\u306f\u30a4\u30e1\u30fc\u30b8\u304c\u516c\u958b\u3055\u308c\u3066\u306a\u3044\u306e\u3067\u30d3\u30eb\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 2022.02.15\u6642\u70b9\u306e\u5185\u5bb9\u30022.16\u306bAWX 2.0.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3066\u308b\u3002 awx-operator 0.16.1 (devel)\u3067\u5b9f\u65bd $ make docker-build IMAGE_TAG_BASE = zakihmkc/awx-operator VERSION =0 .16.1-arm \u3053\u308c\u3067\u30d3\u30eb\u30c9\u3055\u308c\u308b\u30a4\u30e1\u30fc\u30b8\u540d\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 : : Step 5/8 : RUN ansible-galaxy collection install -r ${HOME}/requirements.yml && chmod -R ug+rwx ${HOME}/.ansible ---> Running in bb9cc8cc61ee Process install dependency map Starting collection install process Installing 'kubernetes.core:1.2.1' to '/opt/ansible/.ansible/collections/ansible_collections/kubernetes/core' Installing 'operator_sdk.util:0.2.0' to '/opt/ansible/.ansible/collections/ansible_collections/operator_sdk/util' Removing intermediate container bb9cc8cc61ee ---> 7346f9bc9f4e Step 6/8 : COPY watches.yaml ${HOME}/watches.yaml ---> fdba769a7d2f Step 7/8 : COPY roles/ ${HOME}/roles/ ---> 5326e818c7ed Step 8/8 : COPY playbooks/ ${HOME}/playbooks/ ---> 28538a5f08b7 Successfully built 28538a5f08b7 Successfully tagged zakihmkc/awx-operator:0.16.1-arm $ docker image ls zakihmkc/awx-operator REPOSITORY TAG IMAGE ID CREATED SIZE zakihmkc/awx-operator 0.16.1-arm 28538a5f08b7 45 seconds ago 516MB \u30a4\u30e1\u30fc\u30b8\u304c\u3067\u304d\u305f\u3089 push \u3059\u308b\u3002 $ make docker-push IMG = zakihmkc/awx-operator:0.16.1-arm \u30d3\u30eb\u30c9\u3057\u305f\u30ab\u30b9\u30bf\u30e0\u30a4\u30e1\u30fc\u30b8\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u306b\u306f $ make deploy IMG = zakihmkc/awx-operator:0.16.1-arm awx 19.5.1\u3067\u5b9f\u65bd\u3002 Makefile\u3042\u308b\u3051\u3069\u4f7f\u3044\u65b9\u304c\u3088\u304f\u308f\u304b\u3089\u306a\u304b\u3063\u305f\u3002 tools/ansible/build.yml\u304c\u3042\u308b\u306e\u3067\u3001\u3053\u3063\u3061\u3067\u30d3\u30eb\u30c9\u3067\u304d\u305f\u3002 $ cd tools/ansible/ $ ansible-playbook build.yml $ docker images ansible/awx REPOSITORY TAG IMAGE ID CREATED SIZE ansible/awx 19.5.2.dev117 5c0f58543bbc 5 minutes ago 696MB \u30d3\u30eb\u30c9\u3067\u304d\u305f\u3089push $ docker tag ansible/awx:19.5.2.dev117 zakihmkc/awx:19.5.2.dev117-arm $ docker push zakihmkc/awx:19.5.2.dev117-arm \u3053\u306e\u72b6\u614b\u3067\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3068\u3001 $ cat awx-demo.yml --- apiVersion: awx.ansible.com/v1beta1 kind: AWX metadata: name: awx-demo spec: service_type: nodeport image: zakihmkc/awx image_version: 19.5.2.dev117-arm $ kubectl apply -f awx-demo.yml -n awx awx.awx.ansible.com/awx-demo created $ kubectl get pod -n awx NAME READY STATUS RESTARTS AGE awx-operator-controller-manager-59584d6d-cfvcw 2/2 Running 0 60m awx-demo-postgres-0 1/1 Running 0 83s awx-demo-64b6ddfbb5-td57c 3/4 Error 3 (30s ago) 73s \u3042\u30fc\u3001\u3001 (awx-build) ubuntu@oci-g-a1-ubuntu:~/src/awx-operator$ kubectl logs -n awx awx-demo-64b6ddfbb5-td57c -c awx-demo-ee standard_init_linux.go:228: exec user process caused: exec format error \u3053\u306e\u30a4\u30e1\u30fc\u30b8\u3082arm\u7248\u5fc5\u8981\u3060\u3063\u305f\u3002 awx-ee\u3082arm\u7248\u3092build&push\u3057\u3066\u2026 $ cat awx-demo.yml --- apiVersion: awx.ansible.com/v1beta1 kind: AWX metadata: name: awx-demo spec: service_type: nodeport image: zakihmkc/awx image_version: 19.5.2.dev117-arm ee_images: - name: awx-demo-ee image: zakihmkc/awx-ee $ kubectl apply -f awx-demo.yml -n awx awx.awx.ansible.com/awx-demo created \u53cd\u6620\u3055\u308c\u306a\u3044\u3002\u3002 ee_images \u306e\u8a2d\u5b9a\u65b9\u6cd5\u308f\u304b\u3089\u305a\u3002\u3002 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3088\u304f\u898b\u308b\u3068\u3001\u3059\u3050\u8fd1\u304f\u306b control_plane_ee_image \u306b\u3064\u3044\u3066\u66f8\u304b\u308c\u3066\u3044\u308b\u3002 $ cat awx-demo.yml --- apiVersion: awx.ansible.com/v1beta1 kind: AWX metadata: name: awx-demo spec: service_type: nodeport image: zakihmkc/awx image_version: 19.5.2.dev117-arm ee_images: - name: awx-ee-arm64 image: zakihmkc/awx-ee control_plane_ee_image: zakihmkc/awx-ee \u3053\u308c\u3067arm\u7528\u306b\u30d3\u30eb\u30c9\u3057\u305f\u30a4\u30e1\u30fc\u30b8\u3092pull\u3067\u304d\u305f\u3002 \u304c\u2026 $ kubectl logs -n awx awx-demo-5888cdc5cc-dtqtt -c awx-demo-ee /usr/bin/receptor: /usr/bin/receptor: cannot execute binary file \u4e2d\u3067\u4f7f\u3063\u3066\u308b\u5b9f\u884c\u30d0\u30a4\u30ca\u30ea\u304carm\u3058\u3083\u306a\u3044\uff1f $ docker run -it --rm zakihmkc/awx-ee cat /usr/bin/receptor | file - /dev/stdin: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically linked, Go BuildID=dzUF3PWwMDDpxbzJG4PA/ROcMoX3MTms06DLSdROU/2q0gqTdR4VkvLhOjbFwW/_sKtclM7e0bA3VOTpJ50, not stripped \u3042\u3041\u3001\u3001\u306a\u308b\u307b\u3069\u2026 \u30d3\u30eb\u30c9\u30ed\u30b0\u3092\u898b\u8fd4\u3059\u3068\u3001 Step 21/26 : COPY --from=quay.io/ansible/receptor:devel /usr/bin/receptor /usr/bin/receptor devel: Pulling from ansible/receptor \u3063\u3066\u306e\u304c\u51fa\u529b\u3055\u308c\u3066\u305f\u3002(awx-ee) awx-ee 0.6.0\u3067\u5b9f\u65bd $ pip install tox $ tox -edocker \u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\u3002\u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u304c\u3053\u308c\u3082amd64\u3057\u304b\u306a\u3044\u3063\u307d\u3044\u3002 Digest: sha256:67164fe74446b5cc40f7ff48d69c2cf5a09d234103982a870e8dd90f0cce4fcf Status: Downloaded newer image for quay.io/ansible/ansible-runner:latest ---> fe0ebe0eae7f Step 4/26 : ARG ANSIBLE_GALAXY_CLI_COLLECTION_OPTS= ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in ddcc58ce4a3e Removing intermediate container ddcc58ce4a3e ---> 29bdd8b42c78 Step 5/26 : USER root ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in ec96ecc53899 Removing intermediate container ec96ecc53899 ---> 047557a18fd9 Step 6/26 : ADD _build /build ---> 4aae6069de8c Step 7/26 : WORKDIR /build ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in 84bc2b6aa898 Removing intermediate container 84bc2b6aa898 ---> 96ca9bbcffce Step 8/26 : RUN ansible-galaxy role install -r requirements.yml --roles-path /usr/share/ansible/roles ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in 52ab0ab8b6c9 standard_init_linux.go:228: exec user process caused: exec format error The command '/bin/sh -c ansible-galaxy role install -r requirements.yml --roles-path /usr/share/ansible/roles' returned a non-zero code: 1 An error occured (rc=1), see output line(s) above for details. ERROR: InvocationError for command /home/ubuntu/src/awx-ee/.tox/docker/bin/ansible-builder build -v3 -c . -t quay.io/ansible/awx-ee --container-runtime=docker (exited with code 1) runner\u3082builder\u3082arm\u7248\u304c\u5fc5\u8981\u3063\u307d\u3044\u306a runner\u3068builder\u3092\u7528\u610f\u3059\u308b\u3068\u30d3\u30eb\u30c9\u6210\u529f\u3002 Removing intermediate container dcdffc16d888 ---> 5b60adcb5b7b Successfully built 5b60adcb5b7b Successfully tagged quay.io/ansible/awx-ee:latest Complete! The build context can be found at: /home/ubuntu/src/awx/awx-ee ______________________________________________________ summary _______________________________________________________ docker: commands succeeded congratulations :) $ docker image ls quay.io/ansible/awx-ee REPOSITORY TAG IMAGE ID CREATED SIZE quay.io/ansible/awx-ee latest 5b60adcb5b7b 5 minutes ago 1.58GB \u3042\u3001\u30a4\u30e1\u30fc\u30b8\u540d\u2026 $ docker tag quay.io/ansible/awx-ee:latest zakihmkc/awx-ee:latest $ docker push zakihmkc/awx-ee:latest ansible-runner devel\u30d6\u30e9\u30f3\u30c1\u3067\u5b9f\u65bd $ make image Status: Downloaded newer image for quay.io/ansible/python-builder:latest ---> e86f8912b919 Step 6/21 : ARG ANSIBLE_BRANCH ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in 4efe4c1dbf0d Removing intermediate container 4efe4c1dbf0d ---> b29ee85f97c3 Step 7/21 : ARG ZUUL_SIBLINGS ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in e3770bf07693 Removing intermediate container e3770bf07693 ---> 3bc46246a2c3 Step 8/21 : COPY . /tmp/src ---> 5c8193d3adec Step 9/21 : RUN if [ \"$ANSIBLE_BRANCH\" != \"\" ] ; then echo \"Installing requirements.txt / upper-constraints.txt for Ansible $ANSIBLE_BRANCH\" ; cp /tmp/src/tools/requirements-$ANSIBLE_BRANCH.txt /tmp/src/requirements.txt ; cp /tmp/src/tools/upper-constraints-$ANSIBLE_BRANCH.txt /tmp/src/upper-constraints.txt ; else echo \"Installing requirements.txt\" ; cp /tmp/src/tools/requirements.txt /tmp/src/requirements.txt ; fi && cp /tmp/src/tools/build-requirements.txt /tmp/src/build-requirements.txt && cp /tmp/src/tools/bindep.txt /tmp/src/bindep.txt ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in a3b89d0a4b54 standard_init_linux.go:228: exec user process caused: exec format error The command '/bin/sh -c if [ \"$ANSIBLE_BRANCH\" != \"\" ] ; then echo \"Installing requirements.txt / upper-constraints.txt for Ansible $ANSIBLE_BRANCH\" ; cp /tmp/src/tools/requirements-$ANSIBLE_BRANCH.txt /tmp/src/requirements.txt ; cp /tmp/src/tools/upper-constraints-$ANSIBLE_BRANCH.txt /tmp/src/upper-constraints.txt ; else echo \"Installing requirements.txt\" ; cp /tmp/src/tools/requirements.txt /tmp/src/requirements.txt ; fi && cp /tmp/src/tools/build-requirements.txt /tmp/src/build-requirements.txt && cp /tmp/src/tools/bindep.txt /tmp/src/bindep.txt' returned a non-zero code: 1 make: *** [Makefile:95: image] Error 1 \u3053\u308c\u307e\u305f\u30d9\u30fc\u30b9\u3084\u30d3\u30eb\u30c9\u306b\u4f7f\u3046 quay.io/ansible/python-base:latest \u3068 quay.io/ansible/python-builder:latest \u304camd64\u5411\u3051\u3063\u307d\u3044\u3002 \u5f8c\u8ff0\u306e python-base \u3068 python-builder \u3092\u2191\u306e\u30a4\u30e1\u30fc\u30b8\u540d\u3067\u30d3\u30eb\u30c9\u3057\u3066\u518d\u5b9f\u884c\u3059\u308c\u3070OK Step 20/21 : ENTRYPOINT [\"entrypoint\"] ---> Running in efe6471171c6 Removing intermediate container efe6471171c6 ---> 8b899620e92f Step 21/21 : CMD [\"ansible-runner\", \"run\", \"/runner\"] ---> Running in 5486cf162432 Removing intermediate container 5486cf162432 ---> 7db86ada250a Successfully built 7db86ada250a Successfully tagged quay.io/ansible/ansible-runner:latest docker tag quay.io/ansible/ansible-runner quay.io/ansible/ansible-runner:devel python-base main\u30d6\u30e9\u30f3\u30c1\u3067\u5b9f\u65bd ansible/python-base-image: A container image for running python projects \u30d3\u30eb\u30c9\u7528\u306eMakefile\u306e\u985e\u306f\u306a\u306b\u3082\u7121\u3057\u3002 Containerfile \u3042\u308b\u306e\u3067\u3001\u3053\u308c\u3067 docker build \u3057\u305f\u3002 $ docker build -f Containerfile -t quay.io/ansible/python-base . \u3053\u308c\u306f\u3046\u307e\u304f\u884c\u3063\u305f\u3002 : : Step 16/17 : RUN rm -rf $REMOTE_SOURCE_DIR ---> Running in e45372606b30 Removing intermediate container e45372606b30 ---> 1fc6e4db77c4 Step 17/17 : ENTRYPOINT [\"/usr/local/bin/dumb-init\", \"--\"] ---> Running in e711f13da032 Removing intermediate container e711f13da032 ---> 84c14ff10f30 Successfully built 84c14ff10f30 Successfully tagged quay.io/ansible/python-base:latest $ docker image ls quay.io/ansible/python-base REPOSITORY TAG IMAGE ID CREATED SIZE quay.io/ansible/python-base latest 84c14ff10f30 About a minute ago 768MB python-builder main\u30d6\u30e9\u30f3\u30c1\u3067\u5b9f\u65bd ansible/python-builder-image: A container image for building python projects \u3053\u308c\u3082\u7279\u306b\u30d3\u30eb\u30c9\u7528\u306e\u30c4\u30fc\u30eb\u7121\u3057\u3002 $ docker build -f Containerfile -t quay.io/ansible/python-builder:latest . \u3053\u308c\u3082\u3046\u307e\u304f\u3044\u3063\u305f\u3002 : : Step 18/19 : WORKDIR / ---> Running in 561b64ed5ff6 Removing intermediate container 561b64ed5ff6 ---> 756c2f3aab76 Step 19/19 : RUN rm -rf $REMOTE_SOURCE_APP_DIR ---> Running in 0315f4ab8cbc Removing intermediate container 0315f4ab8cbc ---> c832710ee7dd Successfully built c832710ee7dd Successfully tagged quay.io/ansible/python-builder:latest $ docker image ls quay.io/ansible/python-builder REPOSITORY TAG IMAGE ID CREATED SIZE quay.io/ansible/python-builder latest c832710ee7dd 51 seconds ago 854MB $ docker image ls quay.io/ansible/ansible-runner REPOSITORY TAG IMAGE ID CREATED SIZE quay.io/ansible/ansible-runner devel 7db86ada250a About a minute ago 962MB quay.io/ansible/ansible-runner latest 7db86ada250a About a minute ago 962MB ansible-builder release_1.0\u3067\u5b9f\u65bd ansible/ansible-builder: An Ansible execution environment builder \u3053\u308c\u3082runner\u3068\u540c\u3058\u304f\u3001 Makefile \u306b image \u30bf\u30fc\u30b2\u30c3\u30c8\u304c\u3042\u308b\u306e\u3067\u3053\u308c\u3092\u5b9f\u884c\u3002 \u30d3\u30eb\u30c9\u4e2d\u306e\u30ed\u30b0\u3092\u898b\u308b\u3068python-base\u3068python-builder\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3002 $ make image $ docker image ls quay.io/ansible/ansible-builder REPOSITORY TAG IMAGE ID CREATED SIZE quay.io/ansible/ansible-builder 1.0.0a2-99-g38a0104 e0d5adabb6c3 46 seconds ago 858MB quay.io/ansible/ansible-builder latest e0d5adabb6c3 46 seconds ago 858MB receptor 1.0.0a2\u30d6\u30e9\u30f3\u30c1\u3067\u5b9f\u65bd ansible/receptor: Project Receptor is a flexible multi-service relayer with remote execution and orchestration capabilities linking controllers with executors across a mesh of nodes. \u30c7\u30d5\u30a9\u30eb\u30c8\u306f podman \u3092\u4f7f\u3046\u307f\u305f\u3044\u306a\u306e\u3067 docker \u3092\u6307\u5b9a\u3057\u3066\u5b9f\u884c\u3002 $ make container CONTAINERCMD = docker \u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\u3002 Exception: Versioning for this project requires either an sdist tarball, or access to an upstream git repository. It's also possible that there is a mismatch between the package name in setup.cfg and the argument given to pbr.version.VersionInfo. Project name receptorctl was given, but was not able to be found. error in setup command: Error parsing /source/receptorctl/setup.cfg: Exception: Versioning for this project requires either an sdist tarball, or access to an upstream git repository. It's also possible that there is a mismatch between the package name in setup.cfg and the argument given to pbr.version.VersionInfo. Project name receptorctl was given, but was not able to be found. make: git: Command not found \u3093\u30fc\u3001devel\u306e\u307e\u307e\u3060\u3063\u305f\u306e\u304c\u60aa\u304b\u3063\u305f\u304b\u306a\u3002 $ git switch release_1.1 Switched to branch 'release_1.1' Your branch is up to date with 'origin/release_1.1'. \u3067\u3082\u3001\u5225\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\u3002\u3088\u304f\u308f\u304b\u3089\u3093\u3002 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6398\u3063\u305f\u3089 packaging/container/Dockerfile \u304c\u3042\u3063\u305f\u2026\u304c\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f make \u3067\u30d3\u30eb\u30c9\u3059\u308b\u3068\u304d\u306b\u4f7f\u308f\u308c\u308b\u306e\u3068\u4e00\u7dd2\u3060\u3002\u3002 \u30d3\u30eb\u30c9\u306e\u30ed\u30b0\u3092\u3088\u304f\u307f\u308b\u3068 Step 3/25 : RUN curl -LO https://go.dev/dl/go1.16.13.linux-amd64.tar.gz ---> Using cache ---> b1bf06de576f Step 4/25 : RUN tar -C /usr/local -xzf go1.16.13.linux-amd64.tar.gz ---> Using cache ---> 7b134322bd9b \u307f\u305f\u3044\u306a\u306e\u3042\u3063\u305f\u3002\u3053\u308c\u304b\u3002 \u4ee5\u4e0b\u5909\u66f4 $ git diff diff --git a/packaging/container/Dockerfile b/packaging/container/Dockerfile index ead007a..1fc7416 100644 --- a/packaging/container/Dockerfile +++ b/packaging/container/Dockerfile @@ -2,9 +2,9 @@ FROM quay.io/centos/centos:stream8 as builder RUN dnf -y update && dnf install -y make python3 python3-pip python3-wheel -RUN curl -LO https://go.dev/dl/go1.16.13.linux-amd64.tar.gz +RUN curl -LO https://go.dev/dl/go1.16.13.linux-arm64.tar.gz -RUN tar -C /usr/local -xzf go1.16.13.linux-amd64.tar.gz +RUN tar -C /usr/local -xzf go1.16.13.linux-arm64.tar.gz ADD source.tar.gz /source WORKDIR /source \u3053\u308c\u3067\u30d3\u30eb\u30c9\u3002\u540c\u3058\u30a8\u30e9\u30fc\u306f\u3067\u305f\u304c\u51e6\u7406\u306f\u7d9a\u884c\u3057\u305f\u3002 : : Step 24/25 : ENTRYPOINT [\"/usr/bin/tini\", \"--\"] ---> Running in c19287787c6c Removing intermediate container c19287787c6c ---> d90dae43fbbf Step 25/25 : CMD [\"/usr/bin/receptor\", \"-c\", \"/etc/receptor/receptor.conf\"] ---> Running in e8debaee8c0c Removing intermediate container e8debaee8c0c ---> 376efbc54f61 Successfully built 376efbc54f61 Successfully tagged receptor:latest \u3042\u3001\u30a4\u30e1\u30fc\u30b8\u540d\u2026 $ docker image ls receptor REPOSITORY TAG IMAGE ID CREATED SIZE receptor latest 376efbc54f61 51 seconds ago 777MB \u3068\u308a\u3042\u3048\u305a\u30bb\u30c3\u30c8 $ docker tag receptor:latest quay.io/ansible/receptor:devel AWX\u3067\u30b8\u30e7\u30d6\u304c\u5b9f\u884c\u3067\u304d\u306a\u3044\u4ef6(\u8abf\u67fb\u4e2d) AWX\u3067\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u308b\u3084\u3064\u3002 Traceback (most recent call last): File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py\", line 449, in run self.pre_run_hook(self.instance, private_data_dir) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py\", line 979, in pre_run_hook RunProjectUpdate.make_local_copy(job.project, private_data_dir, scm_revision=job_revision) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py\", line 1380, in make_local_copy source_branch = git_repo.create_head(tmp_branch_name, p.scm_revision) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/git/repo/base.py\", line 386, in create_head return Head.create(self, path, commit, force, logmsg) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/git/refs/symbolic.py\", line 543, in create return cls._create(repo, path, cls._resolve_ref_on_create, reference, force, logmsg) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/git/refs/symbolic.py\", line 510, in _create ref.set_reference(target, logmsg) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/git/refs/symbolic.py\", line 326, in set_reference assure_directory_exists(fpath, is_file=True) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/git/util.py\", line 177, in assure_directory_exists os.makedirs(path, exist_ok=True) File \"/usr/lib64/python3.9/os.py\", line 225, in makedirs mkdir(name, mode) PermissionError: [Errno 13] Permission denied: '/var/lib/awx/projects/_6__demo_project/.git/refs/heads/awx_internal' \u30aa\u30ea\u30b8\u30ca\u30eb\u306eamd64\u7248\u3001Docker\u30a4\u30e1\u30fc\u30b8\u306e\u30e6\u30fc\u30b6\u30fc\u6a29\u9650 [zaki@cloud-dev2 ~]$ docker run -it --rm quay.io/ansible/awx-ee:0.6.0 bash bash-4.4# id uid=0(root) gid=0(root) groups=0(root) bash-4.4# exit [zaki@cloud-dev2 ~]$ docker run -it --rm quay.io/ansible/awx:20.0.0 bash bash-5.1$ id uid=1000 gid=0(root) groups=0(root) bash-5.1$ arm64\u3067\u30d3\u30eb\u30c9\u3057\u305fDocker\u30a4\u30e1\u30fc\u30b8\u306e\u30e6\u30fc\u30b6\u30fc\u6a29\u9650 ubuntu@oci-ap-a1-ubuntu02:~$ docker run -it --rm zakihmkc/awx-ee:0.6.0 bash bash-4.4# id uid=0(root) gid=0(root) groups=0(root) bash-4.4# exit exit ubuntu@oci-ap-a1-ubuntu02:~$ docker run -it --rm zakihmkc/awx:20.0.0 bash bash-5.1$ id uid=1000 gid=0(root) groups=0(root) bash-5.1$ exit exit Docker\u4e0a\u3060\u3068\u540c\u4e00\u3002 \u3058\u3083\u3042k8s\u4e0a\u3060\u3068\u2026 amd64\u7248\u306f\u3053\u308c\u3002 [zaki@cloud-dev2 ~]$ kubectl exec -it -n awx awx-demo-74d8979549-bszp6 -c awx-demo-ee -- bash bash-4.4$ id uid=1000(runner) gid=0(root) groups=0(root) bash-4.4$ exit [zaki@cloud-dev2 ~]$ kubectl exec -it -n awx awx-demo-74d8979549-bszp6 -c awx-demo-task -- bash bash-5.1$ id uid=1000(awx) gid=0(root) groups=0(root) bash-5.1$ exit exit arm64\u7248\u3002 ubuntu@oci-ap-a1-ubuntu02:~$ kubectl exec -n awx -it awx-demo-7847cd4bb-wd4w4 -c awx-demo-ee -- bash bash-4.4# id uid=0(root) gid=0(root) groups=0(root) bash-4.4# exit ubuntu@oci-ap-a1-ubuntu02:~$ kubectl exec -n awx -it awx-demo-7847cd4bb-wd4w4 -c awx-demo-task -- bash bash-5.1$ id uid=1000(awx) gid=0(root) groups=0(root) bash-5.1$ exit ee\u306e\u5b9f\u884c\u6a29\u9650\u304c\u3053\u3053\u3060\u3051 root \u306b\u306a\u3063\u3066\u3044\u308b\u3002 \u5b9f\u884c\u6a29\u9650\u3058\u3083\u306a\u304f\u3066 /etc/passwd \u304b\u3082\u3002 amd64\u306e\u30aa\u30ea\u30b8\u30ca\u30eb\u7248 [zaki@cloud-dev2 ~]$ kubectl exec -it -n awx awx-demo-74d8979549-bszp6 -c awx-demo-ee -- bash bash-4.4$ id uid=1000(runner) gid=0(root) groups=0(root) bash-4.4$ cat /etc/passwd root:x:0:0:root:/root:/bin/bash runner:x:1000:0:,,,:/home/runner:/bin/bash arm64\u5411\u3051\u306b\u30d3\u30eb\u30c9\u3057\u305f\u7248 ubuntu@oci-ap-a1-ubuntu02:~/tmp$ kubectl exec -n awx -it awx-demo-84b4b75d85-9txt2 -c awx-demo-ee -- bash bash-4.4# cat /etc/passwd root:x:0:0:root:/root:/bin/bash runner:x:0:0:,,,:/home/runner:/bin/bash bash-4.4# exit \u305d\u3082\u305d\u3082 runner \u30e6\u30fc\u30b6\u30fc\u306eUID\u304c\u304a\u304b\u3057\u3044\u611f\u3058\u3002 \u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u306e ansible-runner \u306f\uff1f [zaki@cloud-dev2 ~]$ docker run -it --rm quay.io/ansible/ansible-runner:latest bash bash-4.4# cat /etc/passwd root:x:0:0:root:/root:/bin/bash runner:x:0:0:,,,:/home/runner:/bin/bash bash-4.4# ubuntu@oci-g-a1-ubuntu:~$ docker run -it --rm quay.io/ansible/ansible-runner:latest bash bash-4.4# cat /etc/passwd root:x:0:0:root:/root:/bin/bash runner:x:0:0:,,,:/home/runner:/bin/bash bash-4.4# exit \u3053\u306e\u6642\u70b9\u3067\u306f\u540c\u3058\u6a21\u69d8\u3002 \u3066\u3053\u3068\u306fEE\u306e\u30d3\u30eb\u30c9\u6642\u306b /etc/passwd \u3092\u5909\u66f4\u3059\u308b\u4f55\u304b\u304c\u629c\u3051\u3066\u308b\u306e\u304b\u306a","title":"AWX"},{"location":"Ansible/awx/#awx","text":"","title":"AWX"},{"location":"Ansible/awx/#document","text":"Ansible AWX Documentation \u2014 Ansible AWX community documentation Ansible AWX Operator Documentation Ansible Tower/AWX\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u30b8\u30e7\u30d6\u5b9f\u884c\u306e\u4ed5\u7d44\u307f(1) #awx - Qiita","title":"document"},{"location":"Ansible/awx/#helm","text":"\u57fa\u672c\u7684\u306b\u60c5\u5831\u304c\u5c11\u306a\u3044\u3002 \u7d30\u304b\u3044\u30d1\u30e9\u30e1\u30bf\u306fGitHub\u306eREADME\u306b\u8a18\u8f09\u3042\u308a\u3002 AWX Operator Helm Chart awx-operator Helm charts | awx-operator-helm ansible-community/awx-operator-helm: Helm chart for the AWX operator.","title":"helm\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7248"},{"location":"Ansible/awx/#arm64","text":"arm64\u7248\u306f\u30a4\u30e1\u30fc\u30b8\u304c\u516c\u958b\u3055\u308c\u3066\u306a\u3044\u306e\u3067\u30d3\u30eb\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 2022.02.15\u6642\u70b9\u306e\u5185\u5bb9\u30022.16\u306bAWX 2.0.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3066\u308b\u3002","title":"arm64\u7248\u30d3\u30eb\u30c9"},{"location":"Ansible/awx/#awx-operator","text":"0.16.1 (devel)\u3067\u5b9f\u65bd $ make docker-build IMAGE_TAG_BASE = zakihmkc/awx-operator VERSION =0 .16.1-arm \u3053\u308c\u3067\u30d3\u30eb\u30c9\u3055\u308c\u308b\u30a4\u30e1\u30fc\u30b8\u540d\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 : : Step 5/8 : RUN ansible-galaxy collection install -r ${HOME}/requirements.yml && chmod -R ug+rwx ${HOME}/.ansible ---> Running in bb9cc8cc61ee Process install dependency map Starting collection install process Installing 'kubernetes.core:1.2.1' to '/opt/ansible/.ansible/collections/ansible_collections/kubernetes/core' Installing 'operator_sdk.util:0.2.0' to '/opt/ansible/.ansible/collections/ansible_collections/operator_sdk/util' Removing intermediate container bb9cc8cc61ee ---> 7346f9bc9f4e Step 6/8 : COPY watches.yaml ${HOME}/watches.yaml ---> fdba769a7d2f Step 7/8 : COPY roles/ ${HOME}/roles/ ---> 5326e818c7ed Step 8/8 : COPY playbooks/ ${HOME}/playbooks/ ---> 28538a5f08b7 Successfully built 28538a5f08b7 Successfully tagged zakihmkc/awx-operator:0.16.1-arm $ docker image ls zakihmkc/awx-operator REPOSITORY TAG IMAGE ID CREATED SIZE zakihmkc/awx-operator 0.16.1-arm 28538a5f08b7 45 seconds ago 516MB \u30a4\u30e1\u30fc\u30b8\u304c\u3067\u304d\u305f\u3089 push \u3059\u308b\u3002 $ make docker-push IMG = zakihmkc/awx-operator:0.16.1-arm \u30d3\u30eb\u30c9\u3057\u305f\u30ab\u30b9\u30bf\u30e0\u30a4\u30e1\u30fc\u30b8\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u306b\u306f $ make deploy IMG = zakihmkc/awx-operator:0.16.1-arm","title":"awx-operator"},{"location":"Ansible/awx/#awx_1","text":"19.5.1\u3067\u5b9f\u65bd\u3002 Makefile\u3042\u308b\u3051\u3069\u4f7f\u3044\u65b9\u304c\u3088\u304f\u308f\u304b\u3089\u306a\u304b\u3063\u305f\u3002 tools/ansible/build.yml\u304c\u3042\u308b\u306e\u3067\u3001\u3053\u3063\u3061\u3067\u30d3\u30eb\u30c9\u3067\u304d\u305f\u3002 $ cd tools/ansible/ $ ansible-playbook build.yml $ docker images ansible/awx REPOSITORY TAG IMAGE ID CREATED SIZE ansible/awx 19.5.2.dev117 5c0f58543bbc 5 minutes ago 696MB \u30d3\u30eb\u30c9\u3067\u304d\u305f\u3089push $ docker tag ansible/awx:19.5.2.dev117 zakihmkc/awx:19.5.2.dev117-arm $ docker push zakihmkc/awx:19.5.2.dev117-arm \u3053\u306e\u72b6\u614b\u3067\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3068\u3001 $ cat awx-demo.yml --- apiVersion: awx.ansible.com/v1beta1 kind: AWX metadata: name: awx-demo spec: service_type: nodeport image: zakihmkc/awx image_version: 19.5.2.dev117-arm $ kubectl apply -f awx-demo.yml -n awx awx.awx.ansible.com/awx-demo created $ kubectl get pod -n awx NAME READY STATUS RESTARTS AGE awx-operator-controller-manager-59584d6d-cfvcw 2/2 Running 0 60m awx-demo-postgres-0 1/1 Running 0 83s awx-demo-64b6ddfbb5-td57c 3/4 Error 3 (30s ago) 73s \u3042\u30fc\u3001\u3001 (awx-build) ubuntu@oci-g-a1-ubuntu:~/src/awx-operator$ kubectl logs -n awx awx-demo-64b6ddfbb5-td57c -c awx-demo-ee standard_init_linux.go:228: exec user process caused: exec format error \u3053\u306e\u30a4\u30e1\u30fc\u30b8\u3082arm\u7248\u5fc5\u8981\u3060\u3063\u305f\u3002 awx-ee\u3082arm\u7248\u3092build&push\u3057\u3066\u2026 $ cat awx-demo.yml --- apiVersion: awx.ansible.com/v1beta1 kind: AWX metadata: name: awx-demo spec: service_type: nodeport image: zakihmkc/awx image_version: 19.5.2.dev117-arm ee_images: - name: awx-demo-ee image: zakihmkc/awx-ee $ kubectl apply -f awx-demo.yml -n awx awx.awx.ansible.com/awx-demo created \u53cd\u6620\u3055\u308c\u306a\u3044\u3002\u3002 ee_images \u306e\u8a2d\u5b9a\u65b9\u6cd5\u308f\u304b\u3089\u305a\u3002\u3002 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3088\u304f\u898b\u308b\u3068\u3001\u3059\u3050\u8fd1\u304f\u306b control_plane_ee_image \u306b\u3064\u3044\u3066\u66f8\u304b\u308c\u3066\u3044\u308b\u3002 $ cat awx-demo.yml --- apiVersion: awx.ansible.com/v1beta1 kind: AWX metadata: name: awx-demo spec: service_type: nodeport image: zakihmkc/awx image_version: 19.5.2.dev117-arm ee_images: - name: awx-ee-arm64 image: zakihmkc/awx-ee control_plane_ee_image: zakihmkc/awx-ee \u3053\u308c\u3067arm\u7528\u306b\u30d3\u30eb\u30c9\u3057\u305f\u30a4\u30e1\u30fc\u30b8\u3092pull\u3067\u304d\u305f\u3002 \u304c\u2026 $ kubectl logs -n awx awx-demo-5888cdc5cc-dtqtt -c awx-demo-ee /usr/bin/receptor: /usr/bin/receptor: cannot execute binary file \u4e2d\u3067\u4f7f\u3063\u3066\u308b\u5b9f\u884c\u30d0\u30a4\u30ca\u30ea\u304carm\u3058\u3083\u306a\u3044\uff1f $ docker run -it --rm zakihmkc/awx-ee cat /usr/bin/receptor | file - /dev/stdin: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically linked, Go BuildID=dzUF3PWwMDDpxbzJG4PA/ROcMoX3MTms06DLSdROU/2q0gqTdR4VkvLhOjbFwW/_sKtclM7e0bA3VOTpJ50, not stripped \u3042\u3041\u3001\u3001\u306a\u308b\u307b\u3069\u2026 \u30d3\u30eb\u30c9\u30ed\u30b0\u3092\u898b\u8fd4\u3059\u3068\u3001 Step 21/26 : COPY --from=quay.io/ansible/receptor:devel /usr/bin/receptor /usr/bin/receptor devel: Pulling from ansible/receptor \u3063\u3066\u306e\u304c\u51fa\u529b\u3055\u308c\u3066\u305f\u3002(awx-ee)","title":"awx"},{"location":"Ansible/awx/#awx-ee","text":"0.6.0\u3067\u5b9f\u65bd $ pip install tox $ tox -edocker \u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\u3002\u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u304c\u3053\u308c\u3082amd64\u3057\u304b\u306a\u3044\u3063\u307d\u3044\u3002 Digest: sha256:67164fe74446b5cc40f7ff48d69c2cf5a09d234103982a870e8dd90f0cce4fcf Status: Downloaded newer image for quay.io/ansible/ansible-runner:latest ---> fe0ebe0eae7f Step 4/26 : ARG ANSIBLE_GALAXY_CLI_COLLECTION_OPTS= ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in ddcc58ce4a3e Removing intermediate container ddcc58ce4a3e ---> 29bdd8b42c78 Step 5/26 : USER root ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in ec96ecc53899 Removing intermediate container ec96ecc53899 ---> 047557a18fd9 Step 6/26 : ADD _build /build ---> 4aae6069de8c Step 7/26 : WORKDIR /build ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in 84bc2b6aa898 Removing intermediate container 84bc2b6aa898 ---> 96ca9bbcffce Step 8/26 : RUN ansible-galaxy role install -r requirements.yml --roles-path /usr/share/ansible/roles ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in 52ab0ab8b6c9 standard_init_linux.go:228: exec user process caused: exec format error The command '/bin/sh -c ansible-galaxy role install -r requirements.yml --roles-path /usr/share/ansible/roles' returned a non-zero code: 1 An error occured (rc=1), see output line(s) above for details. ERROR: InvocationError for command /home/ubuntu/src/awx-ee/.tox/docker/bin/ansible-builder build -v3 -c . -t quay.io/ansible/awx-ee --container-runtime=docker (exited with code 1) runner\u3082builder\u3082arm\u7248\u304c\u5fc5\u8981\u3063\u307d\u3044\u306a runner\u3068builder\u3092\u7528\u610f\u3059\u308b\u3068\u30d3\u30eb\u30c9\u6210\u529f\u3002 Removing intermediate container dcdffc16d888 ---> 5b60adcb5b7b Successfully built 5b60adcb5b7b Successfully tagged quay.io/ansible/awx-ee:latest Complete! The build context can be found at: /home/ubuntu/src/awx/awx-ee ______________________________________________________ summary _______________________________________________________ docker: commands succeeded congratulations :) $ docker image ls quay.io/ansible/awx-ee REPOSITORY TAG IMAGE ID CREATED SIZE quay.io/ansible/awx-ee latest 5b60adcb5b7b 5 minutes ago 1.58GB \u3042\u3001\u30a4\u30e1\u30fc\u30b8\u540d\u2026 $ docker tag quay.io/ansible/awx-ee:latest zakihmkc/awx-ee:latest $ docker push zakihmkc/awx-ee:latest","title":"awx-ee"},{"location":"Ansible/awx/#ansible-runner","text":"devel\u30d6\u30e9\u30f3\u30c1\u3067\u5b9f\u65bd $ make image Status: Downloaded newer image for quay.io/ansible/python-builder:latest ---> e86f8912b919 Step 6/21 : ARG ANSIBLE_BRANCH ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in 4efe4c1dbf0d Removing intermediate container 4efe4c1dbf0d ---> b29ee85f97c3 Step 7/21 : ARG ZUUL_SIBLINGS ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in e3770bf07693 Removing intermediate container e3770bf07693 ---> 3bc46246a2c3 Step 8/21 : COPY . /tmp/src ---> 5c8193d3adec Step 9/21 : RUN if [ \"$ANSIBLE_BRANCH\" != \"\" ] ; then echo \"Installing requirements.txt / upper-constraints.txt for Ansible $ANSIBLE_BRANCH\" ; cp /tmp/src/tools/requirements-$ANSIBLE_BRANCH.txt /tmp/src/requirements.txt ; cp /tmp/src/tools/upper-constraints-$ANSIBLE_BRANCH.txt /tmp/src/upper-constraints.txt ; else echo \"Installing requirements.txt\" ; cp /tmp/src/tools/requirements.txt /tmp/src/requirements.txt ; fi && cp /tmp/src/tools/build-requirements.txt /tmp/src/build-requirements.txt && cp /tmp/src/tools/bindep.txt /tmp/src/bindep.txt ---> [Warning] The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested ---> Running in a3b89d0a4b54 standard_init_linux.go:228: exec user process caused: exec format error The command '/bin/sh -c if [ \"$ANSIBLE_BRANCH\" != \"\" ] ; then echo \"Installing requirements.txt / upper-constraints.txt for Ansible $ANSIBLE_BRANCH\" ; cp /tmp/src/tools/requirements-$ANSIBLE_BRANCH.txt /tmp/src/requirements.txt ; cp /tmp/src/tools/upper-constraints-$ANSIBLE_BRANCH.txt /tmp/src/upper-constraints.txt ; else echo \"Installing requirements.txt\" ; cp /tmp/src/tools/requirements.txt /tmp/src/requirements.txt ; fi && cp /tmp/src/tools/build-requirements.txt /tmp/src/build-requirements.txt && cp /tmp/src/tools/bindep.txt /tmp/src/bindep.txt' returned a non-zero code: 1 make: *** [Makefile:95: image] Error 1 \u3053\u308c\u307e\u305f\u30d9\u30fc\u30b9\u3084\u30d3\u30eb\u30c9\u306b\u4f7f\u3046 quay.io/ansible/python-base:latest \u3068 quay.io/ansible/python-builder:latest \u304camd64\u5411\u3051\u3063\u307d\u3044\u3002 \u5f8c\u8ff0\u306e python-base \u3068 python-builder \u3092\u2191\u306e\u30a4\u30e1\u30fc\u30b8\u540d\u3067\u30d3\u30eb\u30c9\u3057\u3066\u518d\u5b9f\u884c\u3059\u308c\u3070OK Step 20/21 : ENTRYPOINT [\"entrypoint\"] ---> Running in efe6471171c6 Removing intermediate container efe6471171c6 ---> 8b899620e92f Step 21/21 : CMD [\"ansible-runner\", \"run\", \"/runner\"] ---> Running in 5486cf162432 Removing intermediate container 5486cf162432 ---> 7db86ada250a Successfully built 7db86ada250a Successfully tagged quay.io/ansible/ansible-runner:latest docker tag quay.io/ansible/ansible-runner quay.io/ansible/ansible-runner:devel","title":"ansible-runner"},{"location":"Ansible/awx/#python-base","text":"main\u30d6\u30e9\u30f3\u30c1\u3067\u5b9f\u65bd ansible/python-base-image: A container image for running python projects \u30d3\u30eb\u30c9\u7528\u306eMakefile\u306e\u985e\u306f\u306a\u306b\u3082\u7121\u3057\u3002 Containerfile \u3042\u308b\u306e\u3067\u3001\u3053\u308c\u3067 docker build \u3057\u305f\u3002 $ docker build -f Containerfile -t quay.io/ansible/python-base . \u3053\u308c\u306f\u3046\u307e\u304f\u884c\u3063\u305f\u3002 : : Step 16/17 : RUN rm -rf $REMOTE_SOURCE_DIR ---> Running in e45372606b30 Removing intermediate container e45372606b30 ---> 1fc6e4db77c4 Step 17/17 : ENTRYPOINT [\"/usr/local/bin/dumb-init\", \"--\"] ---> Running in e711f13da032 Removing intermediate container e711f13da032 ---> 84c14ff10f30 Successfully built 84c14ff10f30 Successfully tagged quay.io/ansible/python-base:latest $ docker image ls quay.io/ansible/python-base REPOSITORY TAG IMAGE ID CREATED SIZE quay.io/ansible/python-base latest 84c14ff10f30 About a minute ago 768MB","title":"python-base"},{"location":"Ansible/awx/#python-builder","text":"main\u30d6\u30e9\u30f3\u30c1\u3067\u5b9f\u65bd ansible/python-builder-image: A container image for building python projects \u3053\u308c\u3082\u7279\u306b\u30d3\u30eb\u30c9\u7528\u306e\u30c4\u30fc\u30eb\u7121\u3057\u3002 $ docker build -f Containerfile -t quay.io/ansible/python-builder:latest . \u3053\u308c\u3082\u3046\u307e\u304f\u3044\u3063\u305f\u3002 : : Step 18/19 : WORKDIR / ---> Running in 561b64ed5ff6 Removing intermediate container 561b64ed5ff6 ---> 756c2f3aab76 Step 19/19 : RUN rm -rf $REMOTE_SOURCE_APP_DIR ---> Running in 0315f4ab8cbc Removing intermediate container 0315f4ab8cbc ---> c832710ee7dd Successfully built c832710ee7dd Successfully tagged quay.io/ansible/python-builder:latest $ docker image ls quay.io/ansible/python-builder REPOSITORY TAG IMAGE ID CREATED SIZE quay.io/ansible/python-builder latest c832710ee7dd 51 seconds ago 854MB $ docker image ls quay.io/ansible/ansible-runner REPOSITORY TAG IMAGE ID CREATED SIZE quay.io/ansible/ansible-runner devel 7db86ada250a About a minute ago 962MB quay.io/ansible/ansible-runner latest 7db86ada250a About a minute ago 962MB","title":"python-builder"},{"location":"Ansible/awx/#ansible-builder","text":"release_1.0\u3067\u5b9f\u65bd ansible/ansible-builder: An Ansible execution environment builder \u3053\u308c\u3082runner\u3068\u540c\u3058\u304f\u3001 Makefile \u306b image \u30bf\u30fc\u30b2\u30c3\u30c8\u304c\u3042\u308b\u306e\u3067\u3053\u308c\u3092\u5b9f\u884c\u3002 \u30d3\u30eb\u30c9\u4e2d\u306e\u30ed\u30b0\u3092\u898b\u308b\u3068python-base\u3068python-builder\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3002 $ make image $ docker image ls quay.io/ansible/ansible-builder REPOSITORY TAG IMAGE ID CREATED SIZE quay.io/ansible/ansible-builder 1.0.0a2-99-g38a0104 e0d5adabb6c3 46 seconds ago 858MB quay.io/ansible/ansible-builder latest e0d5adabb6c3 46 seconds ago 858MB","title":"ansible-builder"},{"location":"Ansible/awx/#receptor","text":"1.0.0a2\u30d6\u30e9\u30f3\u30c1\u3067\u5b9f\u65bd ansible/receptor: Project Receptor is a flexible multi-service relayer with remote execution and orchestration capabilities linking controllers with executors across a mesh of nodes. \u30c7\u30d5\u30a9\u30eb\u30c8\u306f podman \u3092\u4f7f\u3046\u307f\u305f\u3044\u306a\u306e\u3067 docker \u3092\u6307\u5b9a\u3057\u3066\u5b9f\u884c\u3002 $ make container CONTAINERCMD = docker \u30a8\u30e9\u30fc\u306b\u306a\u3063\u305f\u3002 Exception: Versioning for this project requires either an sdist tarball, or access to an upstream git repository. It's also possible that there is a mismatch between the package name in setup.cfg and the argument given to pbr.version.VersionInfo. Project name receptorctl was given, but was not able to be found. error in setup command: Error parsing /source/receptorctl/setup.cfg: Exception: Versioning for this project requires either an sdist tarball, or access to an upstream git repository. It's also possible that there is a mismatch between the package name in setup.cfg and the argument given to pbr.version.VersionInfo. Project name receptorctl was given, but was not able to be found. make: git: Command not found \u3093\u30fc\u3001devel\u306e\u307e\u307e\u3060\u3063\u305f\u306e\u304c\u60aa\u304b\u3063\u305f\u304b\u306a\u3002 $ git switch release_1.1 Switched to branch 'release_1.1' Your branch is up to date with 'origin/release_1.1'. \u3067\u3082\u3001\u5225\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002\u3002\u3088\u304f\u308f\u304b\u3089\u3093\u3002 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6398\u3063\u305f\u3089 packaging/container/Dockerfile \u304c\u3042\u3063\u305f\u2026\u304c\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f make \u3067\u30d3\u30eb\u30c9\u3059\u308b\u3068\u304d\u306b\u4f7f\u308f\u308c\u308b\u306e\u3068\u4e00\u7dd2\u3060\u3002\u3002 \u30d3\u30eb\u30c9\u306e\u30ed\u30b0\u3092\u3088\u304f\u307f\u308b\u3068 Step 3/25 : RUN curl -LO https://go.dev/dl/go1.16.13.linux-amd64.tar.gz ---> Using cache ---> b1bf06de576f Step 4/25 : RUN tar -C /usr/local -xzf go1.16.13.linux-amd64.tar.gz ---> Using cache ---> 7b134322bd9b \u307f\u305f\u3044\u306a\u306e\u3042\u3063\u305f\u3002\u3053\u308c\u304b\u3002 \u4ee5\u4e0b\u5909\u66f4 $ git diff diff --git a/packaging/container/Dockerfile b/packaging/container/Dockerfile index ead007a..1fc7416 100644 --- a/packaging/container/Dockerfile +++ b/packaging/container/Dockerfile @@ -2,9 +2,9 @@ FROM quay.io/centos/centos:stream8 as builder RUN dnf -y update && dnf install -y make python3 python3-pip python3-wheel -RUN curl -LO https://go.dev/dl/go1.16.13.linux-amd64.tar.gz +RUN curl -LO https://go.dev/dl/go1.16.13.linux-arm64.tar.gz -RUN tar -C /usr/local -xzf go1.16.13.linux-amd64.tar.gz +RUN tar -C /usr/local -xzf go1.16.13.linux-arm64.tar.gz ADD source.tar.gz /source WORKDIR /source \u3053\u308c\u3067\u30d3\u30eb\u30c9\u3002\u540c\u3058\u30a8\u30e9\u30fc\u306f\u3067\u305f\u304c\u51e6\u7406\u306f\u7d9a\u884c\u3057\u305f\u3002 : : Step 24/25 : ENTRYPOINT [\"/usr/bin/tini\", \"--\"] ---> Running in c19287787c6c Removing intermediate container c19287787c6c ---> d90dae43fbbf Step 25/25 : CMD [\"/usr/bin/receptor\", \"-c\", \"/etc/receptor/receptor.conf\"] ---> Running in e8debaee8c0c Removing intermediate container e8debaee8c0c ---> 376efbc54f61 Successfully built 376efbc54f61 Successfully tagged receptor:latest \u3042\u3001\u30a4\u30e1\u30fc\u30b8\u540d\u2026 $ docker image ls receptor REPOSITORY TAG IMAGE ID CREATED SIZE receptor latest 376efbc54f61 51 seconds ago 777MB \u3068\u308a\u3042\u3048\u305a\u30bb\u30c3\u30c8 $ docker tag receptor:latest quay.io/ansible/receptor:devel","title":"receptor"},{"location":"Ansible/awx/#awx_2","text":"AWX\u3067\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u308b\u3084\u3064\u3002 Traceback (most recent call last): File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py\", line 449, in run self.pre_run_hook(self.instance, private_data_dir) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py\", line 979, in pre_run_hook RunProjectUpdate.make_local_copy(job.project, private_data_dir, scm_revision=job_revision) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py\", line 1380, in make_local_copy source_branch = git_repo.create_head(tmp_branch_name, p.scm_revision) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/git/repo/base.py\", line 386, in create_head return Head.create(self, path, commit, force, logmsg) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/git/refs/symbolic.py\", line 543, in create return cls._create(repo, path, cls._resolve_ref_on_create, reference, force, logmsg) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/git/refs/symbolic.py\", line 510, in _create ref.set_reference(target, logmsg) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/git/refs/symbolic.py\", line 326, in set_reference assure_directory_exists(fpath, is_file=True) File \"/var/lib/awx/venv/awx/lib64/python3.9/site-packages/git/util.py\", line 177, in assure_directory_exists os.makedirs(path, exist_ok=True) File \"/usr/lib64/python3.9/os.py\", line 225, in makedirs mkdir(name, mode) PermissionError: [Errno 13] Permission denied: '/var/lib/awx/projects/_6__demo_project/.git/refs/heads/awx_internal' \u30aa\u30ea\u30b8\u30ca\u30eb\u306eamd64\u7248\u3001Docker\u30a4\u30e1\u30fc\u30b8\u306e\u30e6\u30fc\u30b6\u30fc\u6a29\u9650 [zaki@cloud-dev2 ~]$ docker run -it --rm quay.io/ansible/awx-ee:0.6.0 bash bash-4.4# id uid=0(root) gid=0(root) groups=0(root) bash-4.4# exit [zaki@cloud-dev2 ~]$ docker run -it --rm quay.io/ansible/awx:20.0.0 bash bash-5.1$ id uid=1000 gid=0(root) groups=0(root) bash-5.1$ arm64\u3067\u30d3\u30eb\u30c9\u3057\u305fDocker\u30a4\u30e1\u30fc\u30b8\u306e\u30e6\u30fc\u30b6\u30fc\u6a29\u9650 ubuntu@oci-ap-a1-ubuntu02:~$ docker run -it --rm zakihmkc/awx-ee:0.6.0 bash bash-4.4# id uid=0(root) gid=0(root) groups=0(root) bash-4.4# exit exit ubuntu@oci-ap-a1-ubuntu02:~$ docker run -it --rm zakihmkc/awx:20.0.0 bash bash-5.1$ id uid=1000 gid=0(root) groups=0(root) bash-5.1$ exit exit Docker\u4e0a\u3060\u3068\u540c\u4e00\u3002 \u3058\u3083\u3042k8s\u4e0a\u3060\u3068\u2026 amd64\u7248\u306f\u3053\u308c\u3002 [zaki@cloud-dev2 ~]$ kubectl exec -it -n awx awx-demo-74d8979549-bszp6 -c awx-demo-ee -- bash bash-4.4$ id uid=1000(runner) gid=0(root) groups=0(root) bash-4.4$ exit [zaki@cloud-dev2 ~]$ kubectl exec -it -n awx awx-demo-74d8979549-bszp6 -c awx-demo-task -- bash bash-5.1$ id uid=1000(awx) gid=0(root) groups=0(root) bash-5.1$ exit exit arm64\u7248\u3002 ubuntu@oci-ap-a1-ubuntu02:~$ kubectl exec -n awx -it awx-demo-7847cd4bb-wd4w4 -c awx-demo-ee -- bash bash-4.4# id uid=0(root) gid=0(root) groups=0(root) bash-4.4# exit ubuntu@oci-ap-a1-ubuntu02:~$ kubectl exec -n awx -it awx-demo-7847cd4bb-wd4w4 -c awx-demo-task -- bash bash-5.1$ id uid=1000(awx) gid=0(root) groups=0(root) bash-5.1$ exit ee\u306e\u5b9f\u884c\u6a29\u9650\u304c\u3053\u3053\u3060\u3051 root \u306b\u306a\u3063\u3066\u3044\u308b\u3002 \u5b9f\u884c\u6a29\u9650\u3058\u3083\u306a\u304f\u3066 /etc/passwd \u304b\u3082\u3002 amd64\u306e\u30aa\u30ea\u30b8\u30ca\u30eb\u7248 [zaki@cloud-dev2 ~]$ kubectl exec -it -n awx awx-demo-74d8979549-bszp6 -c awx-demo-ee -- bash bash-4.4$ id uid=1000(runner) gid=0(root) groups=0(root) bash-4.4$ cat /etc/passwd root:x:0:0:root:/root:/bin/bash runner:x:1000:0:,,,:/home/runner:/bin/bash arm64\u5411\u3051\u306b\u30d3\u30eb\u30c9\u3057\u305f\u7248 ubuntu@oci-ap-a1-ubuntu02:~/tmp$ kubectl exec -n awx -it awx-demo-84b4b75d85-9txt2 -c awx-demo-ee -- bash bash-4.4# cat /etc/passwd root:x:0:0:root:/root:/bin/bash runner:x:0:0:,,,:/home/runner:/bin/bash bash-4.4# exit \u305d\u3082\u305d\u3082 runner \u30e6\u30fc\u30b6\u30fc\u306eUID\u304c\u304a\u304b\u3057\u3044\u611f\u3058\u3002 \u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u306e ansible-runner \u306f\uff1f [zaki@cloud-dev2 ~]$ docker run -it --rm quay.io/ansible/ansible-runner:latest bash bash-4.4# cat /etc/passwd root:x:0:0:root:/root:/bin/bash runner:x:0:0:,,,:/home/runner:/bin/bash bash-4.4# ubuntu@oci-g-a1-ubuntu:~$ docker run -it --rm quay.io/ansible/ansible-runner:latest bash bash-4.4# cat /etc/passwd root:x:0:0:root:/root:/bin/bash runner:x:0:0:,,,:/home/runner:/bin/bash bash-4.4# exit \u3053\u306e\u6642\u70b9\u3067\u306f\u540c\u3058\u6a21\u69d8\u3002 \u3066\u3053\u3068\u306fEE\u306e\u30d3\u30eb\u30c9\u6642\u306b /etc/passwd \u3092\u5909\u66f4\u3059\u308b\u4f55\u304b\u304c\u629c\u3051\u3066\u308b\u306e\u304b\u306a","title":"AWX\u3067\u30b8\u30e7\u30d6\u304c\u5b9f\u884c\u3067\u304d\u306a\u3044\u4ef6(\u8abf\u67fb\u4e2d)"},{"location":"Ansible/builder/","text":"Ansible Builder ansible-builder \u30bf\u30b0\u6307\u5b9a $ ansible-builder build -t net-ee:latest Running command: podman build -f context/Containerfile -t net-ee:latest context Complete! The build context can be found at: /home/zaki/local/ansible-builder/net-runner/context image-name:tag \u306e\u307f\u3060\u3068\u3001 localhost/ \u304c\u81ea\u52d5\u3067\u4ed8\u4e0e\u3055\u308c\u308b\u3002 $ podman image ls | grep net localhost/net-ee latest 119f99382b23 7 minutes ago 819 MB repository-name/image-name:tag \u3092\u6307\u5b9a\u3059\u308b\u3068\u2026 $ ansible-builder build -t zakihmkc/net-ee:latest Running command: podman build -f context/Containerfile -t zakihmkc/net-ee:latest context Complete! The build context can be found at: /home/zaki/local/ansible-builder/net-runner/context $ podman image ls | grep zakihmkc localhost/zakihmkc/net-ee latest 119f99382b23 9 minutes ago 819 MB \u305d\u308c\u3067\u3082 localhost/ \u304c\u4ed8\u4e0e\u3055\u308c\u305f\u3002 \u30ec\u30b8\u30b9\u30c8\u30eaURL\u3092\u4ed8\u4e0e\u3059\u308b\u3068\u3001 $ ansible-builder build -t docker.io/zakihmkc/net-ee:latest Running command: podman build -f context/Containerfile -t docker.io/zakihmkc/net-ee:latest context Complete! The build context can be found at: /home/zaki/local/ansible-builder/net-runner/context $ podman image ls | grep docker docker.io/zakihmkc/net-ee latest 119f99382b23 13 minutes ago 819 MB \u30ec\u30b8\u30b9\u30c8\u30ea\u306eURL\u3092\u7701\u7565\u3059\u308b\u3068 localhost \u304c\u4ed8\u4e0e\u3055\u308c\u308b\u307f\u305f\u3044\u306d\u3002 \u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8 RHEL builder\u30a4\u30e1\u30fc\u30b8\u306f Certified container images \u3067\"ansible-builder\"\u3067\u691c\u7d22\u3002 \u3060\u3044\u305f\u3044RHEL8\u304bRHEL9\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u51fa\u3066\u304f\u308b\u306e\u3067\u305d\u308c\u3092\u9078\u629e\u3057\u3001tag\u30671.2\u7cfb\u304b3\u7cfb\u3092\u9078\u629e\u3059\u308b\u3002(1.2\u7cfb\u306fRHEL8\u306e\u307f\u304b\u306a\uff1f) \u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u306fImage type\u3067\u300cAutomation execution environment\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308c\u3070\u51fa\u3066\u304f\u308b\u3002 \u30ab\u30b9\u30bf\u30e0\u3059\u308b\u306e\u3067\u3042\u308c\u3070minimal\u3092\u9078\u629e\u3057\u3066\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u3051\u3070\u3044\u3044\u3068\u601d\u3046\u3002 Tag\u3067Ansible\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3059\u308b\u3002\u6700\u65b0\u306flatest \u5927\u307e\u304b\u306a\u30d0\u30fc\u30b8\u30e7\u30f3(RHEL8\u304bRHEL9\u304b\u3001\u306a\u3069)\u306f\u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u3057\u305f\u3068\u304d\u306eURL\u3067\u5224\u65ad\u3067\u304d\u308b\u3002(rhel8\u3084rhel9\u304c\u30d1\u30b9\u306b\u5165\u3063\u3066\u3044\u308b)","title":"Ansible Builder"},{"location":"Ansible/builder/#ansible-builder","text":"","title":"Ansible Builder"},{"location":"Ansible/builder/#ansible-builder_1","text":"","title":"ansible-builder"},{"location":"Ansible/builder/#_1","text":"$ ansible-builder build -t net-ee:latest Running command: podman build -f context/Containerfile -t net-ee:latest context Complete! The build context can be found at: /home/zaki/local/ansible-builder/net-runner/context image-name:tag \u306e\u307f\u3060\u3068\u3001 localhost/ \u304c\u81ea\u52d5\u3067\u4ed8\u4e0e\u3055\u308c\u308b\u3002 $ podman image ls | grep net localhost/net-ee latest 119f99382b23 7 minutes ago 819 MB repository-name/image-name:tag \u3092\u6307\u5b9a\u3059\u308b\u3068\u2026 $ ansible-builder build -t zakihmkc/net-ee:latest Running command: podman build -f context/Containerfile -t zakihmkc/net-ee:latest context Complete! The build context can be found at: /home/zaki/local/ansible-builder/net-runner/context $ podman image ls | grep zakihmkc localhost/zakihmkc/net-ee latest 119f99382b23 9 minutes ago 819 MB \u305d\u308c\u3067\u3082 localhost/ \u304c\u4ed8\u4e0e\u3055\u308c\u305f\u3002 \u30ec\u30b8\u30b9\u30c8\u30eaURL\u3092\u4ed8\u4e0e\u3059\u308b\u3068\u3001 $ ansible-builder build -t docker.io/zakihmkc/net-ee:latest Running command: podman build -f context/Containerfile -t docker.io/zakihmkc/net-ee:latest context Complete! The build context can be found at: /home/zaki/local/ansible-builder/net-runner/context $ podman image ls | grep docker docker.io/zakihmkc/net-ee latest 119f99382b23 13 minutes ago 819 MB \u30ec\u30b8\u30b9\u30c8\u30ea\u306eURL\u3092\u7701\u7565\u3059\u308b\u3068 localhost \u304c\u4ed8\u4e0e\u3055\u308c\u308b\u307f\u305f\u3044\u306d\u3002","title":"\u30bf\u30b0\u6307\u5b9a"},{"location":"Ansible/builder/#_2","text":"","title":"\u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8"},{"location":"Ansible/builder/#rhel","text":"builder\u30a4\u30e1\u30fc\u30b8\u306f Certified container images \u3067\"ansible-builder\"\u3067\u691c\u7d22\u3002 \u3060\u3044\u305f\u3044RHEL8\u304bRHEL9\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u51fa\u3066\u304f\u308b\u306e\u3067\u305d\u308c\u3092\u9078\u629e\u3057\u3001tag\u30671.2\u7cfb\u304b3\u7cfb\u3092\u9078\u629e\u3059\u308b\u3002(1.2\u7cfb\u306fRHEL8\u306e\u307f\u304b\u306a\uff1f) \u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u306fImage type\u3067\u300cAutomation execution environment\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308c\u3070\u51fa\u3066\u304f\u308b\u3002 \u30ab\u30b9\u30bf\u30e0\u3059\u308b\u306e\u3067\u3042\u308c\u3070minimal\u3092\u9078\u629e\u3057\u3066\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u3051\u3070\u3044\u3044\u3068\u601d\u3046\u3002 Tag\u3067Ansible\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3059\u308b\u3002\u6700\u65b0\u306flatest \u5927\u307e\u304b\u306a\u30d0\u30fc\u30b8\u30e7\u30f3(RHEL8\u304bRHEL9\u304b\u3001\u306a\u3069)\u306f\u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u3057\u305f\u3068\u304d\u306eURL\u3067\u5224\u65ad\u3067\u304d\u308b\u3002(rhel8\u3084rhel9\u304c\u30d1\u30b9\u306b\u5165\u3063\u3066\u3044\u308b)","title":"RHEL"},{"location":"Ansible/cli/","text":"CLI \u3053\u308cCLI\u3068\u304b\u30b3\u30de\u30f3\u30c9\u3063\u3066\u30bf\u30a4\u30c8\u30eb\u306e\u65b9\u304c\u3044\u3044\u304b \u5171\u901a -e | --extra-vars \u30b9\u30da\u30fc\u30b9\u3092\u542b\u3080\u5024\u3092\u4e0e\u3048\u308b\u5834\u5408 $ ansible-playbook ... -e 'key=\"foo bar baz\"' \u3042\u308b\u3044\u306fJSON\u5f62\u5f0f\u3067\u3002(JSON\u3060\u3068\u8f9e\u66f8\u3082\u30ea\u30b9\u30c8\u3082\u3044\u3051\u308b) $ ansible-playbook ... -e '{key: \"foo bar baz\"}' \u5909\u6570\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408 --- netbox_url : http://netbox.example.org/ netbox_token : hogehoge \u3053\u3093\u306a\u30d5\u30a1\u30a4\u30eb\u3092 netbox-vars.yml \u3068\u3057\u3066\u7528\u610f\u3057\u3066\u304a\u304d\u3001 ansible-playbook \u5b9f\u884c\u6642\u306b $ ansible-playbook ... -e @/path/to/netbox-vars.yml \u3067\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3057\u305f\u5909\u6570\u3092\u5b9f\u884c\u6642\u306bextra vars\u3068\u3057\u3066\u53c2\u7167\u3067\u304d\u308b\u3002 -l | --limit playbook\u306e hosts \u3067\u6307\u5b9a\u3057\u3066\u3042\u308b\u30db\u30b9\u30c8\u30b0\u30eb\u30fc\u30d7\u306e\u5185\u3001\u7279\u5b9a\u306e\u30db\u30b9\u30c8\u3060\u3051\u306b\u51e6\u7406\u3057\u305f\u3044\u5834\u5408\u306b\u4f7f\u3046\u3002 $ ansible-playbook ... -l host1 \u3053\u3046\u3059\u308b\u3068\u3001playbook\u3067\u4f8b\u3048\u3070 hosts: servers \u3068\u6307\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001servers\u30b0\u30eb\u30fc\u30d7\u306b host1 , host2 , host3 \u304c\u6709\u3063\u305f\u3068\u3057\u3066\u3082\u3001\u3053\u306e ansible-playbook \u5b9f\u884c\u306e\u30bf\u30b9\u30af\u306f host1 \u306e\u307f\u304c\u51e6\u7406\u5bfe\u8c61\u3067\u5b9f\u884c\u3055\u308c\u308b\u3002 \u958b\u767a\u3084\u30c7\u30d0\u30c3\u30b0\u306e\u304a\u4f9b\u306b\u3002 --connection-password-file \u30ea\u30e2\u30fc\u30c8\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u306b\u4f7f\u7528\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u66f8\u304b\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3001\u5bfe\u8a71\u7684\u51e6\u7406\u3092\u56de\u907f\u3059\u308b\u3002 ansible-playbook playbook.yml -i inventory.ini --connection-password-file password.txt \u6307\u5b9a\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u307f\u304ctext/plain\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u3002 ansible-playbook \u30b3\u30de\u30f3\u30c9 --check \u3044\u308f\u3086\u308bDry Run\u3067\u5b9f\u884c\u3059\u308b\u3002 check\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b copy \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 - name : command sample copy : src : /home/zaki/tmp.yml dest : /var/tmp mode : '0644' register : result \u3053\u306eplaybook\u3001\u30b3\u30d4\u30fc\u5148\u304c\u5b58\u5728\u3057\u306a\u3044\u72b6\u614b\u3067\u3001\u5b9f\u969b\u306b\u52d5\u304b\u3059\u3068 changed \u306b\u306a\u308b\u72b6\u614b\u3067 --check \u4ed8\u3051\u3066\u5b9f\u884c\u3059\u308b\u3068 (ansible4) [zaki@cloud-dev shell (master)]$ ls /var/tmp/tmp.yml ls: /var/tmp/tmp.yml \u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093: \u305d\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u3042\u308a\u307e\u305b\u3093 (ansible4) [zaki@cloud-dev shell (master)]$ ansible-playbook copy.yml --check PLAY [localhost] ******************** TASK [command sample] *************** changed: [localhost] TASK [print result] ***************** ok: [localhost] => msg: changed: true diff: [] failed: false : : (ansible4) [zaki@cloud-dev shell (master)]$ ls /var/tmp/tmp.yml ls: /var/tmp/tmp.yml \u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093: \u305d\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u3042\u308a\u307e\u305b\u3093 \u3053\u306e\u3068\u304a\u308a changed \u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u3001result\u3082changed\u306b\u306a\u308b\u3002 \u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3057\u3066 ok \u3068\u306a\u308b\u72b6\u614b\u3067 --check \u3067\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u901a\u308a\u3002 (ansible4) [zaki@cloud-dev shell (master)]$ ls /var/tmp/tmp.yml /var/tmp/tmp.yml (ansible4) [zaki@cloud-dev shell (master)]$ ansible-playbook copy.yml --check PLAY [localhost] ******************** TASK [command sample] *************** ok: [localhost] TASK [print result] ***************** ok: [localhost] => msg: changed: false checksum: e4012c7ec05eb3bd3d27774fa73b772426c02d74 dest: /var/tmp/tmp.yml diff: after: path: /var/tmp/tmp.yml before: path: /var/tmp/tmp.yml failed: false gid: 1000 group: zaki mode: '0644' owner: zaki path: /var/tmp/tmp.yml secontext: unconfined_u:object_r:user_home_t:s0 size: 5447 state: file uid: 1000 \u30bf\u30b9\u30af\u5358\u4f4d\u3067\u30c1\u30a7\u30c3\u30af\u30e2\u30fc\u30c9\u3092\u6307\u5b9a\u3059\u308b check_mode \u30d1\u30e9\u30e1\u30bf\u306b\u3064\u3044\u3066\u306f directives \u53c2\u7167\u3002 --list-tasks \u540c\u6642\u306b\u6307\u5b9a\u3059\u308b --tags \u306a\u3069\u306e\u5b9f\u884c\u6761\u4ef6\u3092\u8e0f\u307e\u3048\u3066\u3001\u3069\u306e\u30d7\u30ec\u30a4\u3068\u30bf\u30b9\u30af\u304c\u5b9f\u884c\u5bfe\u8c61\u3068\u306a\u308b\u304b\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3002dry run\u306e\u3082\u30461\u6bb5\u968e\u624b\u524d\u306a\u611f\u3058\u3002 $ ansible-playbook setup.yml --list-tasks playbook: setup.yml play #1 (rhel): rhel TAGS: [] tasks: subscription TAGS: [subscription] install packages TAGS: [packages] play #2 (rhel): rhel TAGS: [] tasks: ssh user config TAGS: [ssh] git config TAGS: [git] get git-prompt.sh TAGS: [git] add prompt with git config TAGS: [git] add source gitprompt TAGS: [git] create venv TAGS: [python] clone repository (linux) TAGS: [repository] clone repository (container) TAGS: [repository] --tags \u6307\u5b9a\u3042\u308a\u306e\u5834\u5408 $ ansible-playbook setup.yml --list-tasks --tags git playbook: setup.yml play #1 (rhel): rhel TAGS: [] tasks: play #2 (rhel): rhel TAGS: [] tasks: git config TAGS: [git] get git-prompt.sh TAGS: [git] add prompt with git config TAGS: [git] add source gitprompt TAGS: [git] --start-at \u6307\u5b9a\u30bf\u30b9\u30af\u304b\u3089\u51e6\u7406\u3092\u958b\u59cb\u3059\u308b\u3002\u958b\u767a\u30fb\u30c7\u30d0\u30c3\u30b0\u306e\u304a\u4f9b\u306b\u3002 --- - hosts : localhost gather_facts : false tasks : - name : exec 1st task debug : msg : \"hello world\" - name : exec 2nd task debug : msg : \"hello worlds\" - name : exec 3rd task debug : msg : \"hello worlds!!\" $ ansible-playbook sample.yml --start-at \"exec 2nd task\" \u5b9f\u884c\u7d50\u679c PLAY [localhost] ***************************************************************************** TASK [exec 2nd task] ************************************************************************* ok: [localhost] => msg: hello worlds TASK [exec 3rd task] ************************************************************************* ok: [localhost] => msg: hello worlds!! role\u306e\u5834\u5408\u306f\u3001\u30ed\u30fc\u30eb\u540d\u542b\u3081\u3066\u6307\u5b9a\u3059\u308c\u3070\u3088\u3044\u3002(\u5b9f\u884c\u6642\u306e TASK [***] \u306e *** \u306e\u90e8\u5206\u3092\u6307\u5b9a\u3059\u308b) $ ansible-playbook -i inventory-oci-l-dev.ini playbook.yml -v : : TASK [build_awx/awx-ee : clone repository] *************************************************** fatal: [oci-l-a1-ubuntu]: FAILED! => {\"before\": \"54de4047be742783f69678f942a515e991c097ab\", \"changed\": false, \"msg\": \"Local modifications exist in repository (force=no).\"} PLAY RECAP *********************************************************************************** oci-l-a1-ubuntu : ok=33 changed=5 unreachable=0 failed=1 skipped=3 rescued=0 ignored=0 : : $ ansible-playbook -i inventory-oci-l-dev.ini playbook.yml -v --start-at \"build_awx/awx-ee : create working directory\" ansible-inventory\u30b3\u30de\u30f3\u30c9 ansible-inventory \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u4e00\u89a7\u3084\u305d\u306e\u30db\u30b9\u30c8\u306b\u7d10\u3065\u304f\u5909\u6570\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002 \u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u306e\u5834\u5408\u306b\u5bfe\u8c61\u30ce\u30fc\u30c9\u304c\u4f55\u306b\u306a\u308b\u304b\u78ba\u8a8d\u3067\u304d\u308b\u3002 --list $ ansible-inventory -i inventory.ini --list \u3053\u306e\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb \u3092\u53c2\u7167\u3057\u305f\u969b\u306e\u30db\u30b9\u30c8\u30b0\u30eb\u30fc\u30d7\u3084\u30db\u30b9\u30c8\u5909\u6570( group_vars \u306a\u3069\u6709\u308c\u3070\u53c2\u7167 )\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3002 { \"_meta\" : { \"hostvars\" : { \"master01\" : { \"additional_packages\" : [ \"bash-completion\" , \"open-vm-tools\" ], \"additional_services\" : [ \"vmtoolsd\" ], \"ansible_host\" : \"192.168.0.121\" , \"cluster_name\" : \"my-kubeadm-cluster\" , \"controlplane_endpoint\" : \"k8s-master.esxi.jp-z.jp\" , \"enable_firewalld\" : \"true\" , \"pod_network_cidr\" : \"10.244.0.0/16\" , \"required_ports\" : [ \"6443/tcp\" , \"2379-2380/tcp\" , \"10250/tcp\" , \"10251/tcp\" , \"10252/tcp\" ], \"use_cni_plugin\" : \"calico\" , \"use_cri\" : \"containerd\" }, \"master02\" : { \"additional_packages\" : [ \"bash-completion\" , \"open-vm-tools\" ], \"additional_services\" : [ \"vmtoolsd\" ], \"ansible_host\" : \"192.168.0.122\" , \"cluster_name\" : \"my-kubeadm-cluster\" , \"controlplane_endpoint\" : \"k8s-master.esxi.jp-z.jp\" , \"enable_firewalld\" : \"true\" , \"pod_network_cidr\" : \"10.244.0.0/16\" , \"required_ports\" : [ \"6443/tcp\" , \"2379-2380/tcp\" , \"10250/tcp\" , \"10251/tcp\" , \"10252/tcp\" ], \"use_cni_plugin\" : \"calico\" , \"use_cri\" : \"containerd\" }, \"master03\" : { \"additional_packages\" : [ \"bash-completion\" , \"open-vm-tools\" ], \"additional_services\" : [ \"vmtoolsd\" ], \"ansible_host\" : \"192.168.0.123\" , \"cluster_name\" : \"my-kubeadm-cluster\" , \"controlplane_endpoint\" : \"k8s-master.esxi.jp-z.jp\" , \"enable_firewalld\" : \"true\" , \"pod_network_cidr\" : \"10.244.0.0/16\" , \"required_ports\" : [ \"6443/tcp\" , \"2379-2380/tcp\" , \"10250/tcp\" , \"10251/tcp\" , \"10252/tcp\" ], \"use_cni_plugin\" : \"calico\" , \"use_cri\" : \"containerd\" }, \"worker01\" : { \"additional_packages\" : [ \"bash-completion\" , \"open-vm-tools\" ], \"additional_services\" : [ \"vmtoolsd\" ], \"ansible_host\" : \"192.168.0.125\" , \"cluster_name\" : \"my-kubeadm-cluster\" , \"controlplane_endpoint\" : \"k8s-master.esxi.jp-z.jp\" , \"enable_firewalld\" : \"true\" , \"pod_network_cidr\" : \"10.244.0.0/16\" , \"required_ports\" : [ \"10250/tcp\" , \"30000-32767/tcp\" ], \"use_cni_plugin\" : \"calico\" , \"use_cri\" : \"containerd\" }, \"worker02\" : { \"additional_packages\" : [ \"bash-completion\" , \"open-vm-tools\" ], \"additional_services\" : [ \"vmtoolsd\" ], \"ansible_host\" : \"192.168.0.126\" , \"cluster_name\" : \"my-kubeadm-cluster\" , \"controlplane_endpoint\" : \"k8s-master.esxi.jp-z.jp\" , \"enable_firewalld\" : \"true\" , \"pod_network_cidr\" : \"10.244.0.0/16\" , \"required_ports\" : [ \"10250/tcp\" , \"30000-32767/tcp\" ], \"use_cni_plugin\" : \"calico\" , \"use_cri\" : \"containerd\" } } }, \"all\" : { \"children\" : [ \"master\" , \"ungrouped\" , \"worker\" ] }, \"master\" : { \"hosts\" : [ \"master01\" , \"master02\" , \"master03\" ] }, \"worker\" : { \"hosts\" : [ \"worker01\" , \"worker02\" ] } } --graph --vars \u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u5834\u5408\u306f\u3001\u30b0\u30eb\u30fc\u30d7\u5909\u6570\u5b9a\u7fa9\u304c\u72ec\u7acb\u3057\u3066\u8868\u793a\u3055\u308c\u308b\u3002 $ ansible-inventory -i inventory.ini --graph --vars @all: |--@master: | |--master01 | | |--{additional_packages = ['bash-completion', 'open-vm-tools']} | | |--{additional_services = ['vmtoolsd']} | | |--{ansible_host = 192.168.0.121} | | |--{cluster_name = my-kubeadm-cluster} | | |--{controlplane_endpoint = k8s-master.esxi.jp-z.jp} | | |--{enable_firewalld = true} | | |--{pod_network_cidr = 10.244.0.0/16} | | |--{required_ports = ['6443/tcp', '2379-2380/tcp', '10250/tcp', '10251/tcp', '10252/tcp']} | | |--{use_cni_plugin = calico} | | |--{use_cri = containerd} | |--master02 | | |--{additional_packages = ['bash-completion', 'open-vm-tools']} | | |--{additional_services = ['vmtoolsd']} | | |--{ansible_host = 192.168.0.122} | | |--{cluster_name = my-kubeadm-cluster} | | |--{controlplane_endpoint = k8s-master.esxi.jp-z.jp} | | |--{enable_firewalld = true} | | |--{pod_network_cidr = 10.244.0.0/16} | | |--{required_ports = ['6443/tcp', '2379-2380/tcp', '10250/tcp', '10251/tcp', '10252/tcp']} | | |--{use_cni_plugin = calico} | | |--{use_cri = containerd} | |--master03 | | |--{additional_packages = ['bash-completion', 'open-vm-tools']} | | |--{additional_services = ['vmtoolsd']} | | |--{ansible_host = 192.168.0.123} | | |--{cluster_name = my-kubeadm-cluster} | | |--{controlplane_endpoint = k8s-master.esxi.jp-z.jp} | | |--{enable_firewalld = true} | | |--{pod_network_cidr = 10.244.0.0/16} | | |--{required_ports = ['6443/tcp', '2379-2380/tcp', '10250/tcp', '10251/tcp', '10252/tcp']} | | |--{use_cni_plugin = calico} | | |--{use_cri = containerd} | |--{required_ports = ['6443/tcp', '2379-2380/tcp', '10250/tcp', '10251/tcp', '10252/tcp']} |--@ungrouped: |--@worker: | |--worker01 | | |--{additional_packages = ['bash-completion', 'open-vm-tools']} | | |--{additional_services = ['vmtoolsd']} | | |--{ansible_host = 192.168.0.125} | | |--{cluster_name = my-kubeadm-cluster} | | |--{controlplane_endpoint = k8s-master.esxi.jp-z.jp} | | |--{enable_firewalld = true} | | |--{pod_network_cidr = 10.244.0.0/16} | | |--{required_ports = ['10250/tcp', '30000-32767/tcp']} | | |--{use_cni_plugin = calico} | | |--{use_cri = containerd} | |--worker02 | | |--{additional_packages = ['bash-completion', 'open-vm-tools']} | | |--{additional_services = ['vmtoolsd']} | | |--{ansible_host = 192.168.0.126} | | |--{cluster_name = my-kubeadm-cluster} | | |--{controlplane_endpoint = k8s-master.esxi.jp-z.jp} | | |--{enable_firewalld = true} | | |--{pod_network_cidr = 10.244.0.0/16} | | |--{required_ports = ['10250/tcp', '30000-32767/tcp']} | | |--{use_cni_plugin = calico} | | |--{use_cri = containerd} | |--{required_ports = ['10250/tcp', '30000-32767/tcp']} |--{additional_packages = ['bash-completion', 'open-vm-tools']} |--{additional_services = ['vmtoolsd']} |--{cluster_name = my-kubeadm-cluster} |--{controlplane_endpoint = k8s-master.esxi.jp-z.jp} |--{enable_firewalld = true} |--{pod_network_cidr = 10.244.0.0/16} |--{use_cni_plugin = calico} |--{use_cri = containerd} ansible-galaxy\u30b3\u30de\u30f3\u30c9 -r | --requirements-file requirements.yml \u30d5\u30a1\u30a4\u30eb\u306e\u6307\u5b9a\u3002 ansible-galaxy collection install -r collections/requirements.yml","title":"CLI"},{"location":"Ansible/cli/#cli","text":"\u3053\u308cCLI\u3068\u304b\u30b3\u30de\u30f3\u30c9\u3063\u3066\u30bf\u30a4\u30c8\u30eb\u306e\u65b9\u304c\u3044\u3044\u304b","title":"CLI"},{"location":"Ansible/cli/#_1","text":"","title":"\u5171\u901a"},{"location":"Ansible/cli/#-e-extra-vars","text":"\u30b9\u30da\u30fc\u30b9\u3092\u542b\u3080\u5024\u3092\u4e0e\u3048\u308b\u5834\u5408 $ ansible-playbook ... -e 'key=\"foo bar baz\"' \u3042\u308b\u3044\u306fJSON\u5f62\u5f0f\u3067\u3002(JSON\u3060\u3068\u8f9e\u66f8\u3082\u30ea\u30b9\u30c8\u3082\u3044\u3051\u308b) $ ansible-playbook ... -e '{key: \"foo bar baz\"}' \u5909\u6570\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408 --- netbox_url : http://netbox.example.org/ netbox_token : hogehoge \u3053\u3093\u306a\u30d5\u30a1\u30a4\u30eb\u3092 netbox-vars.yml \u3068\u3057\u3066\u7528\u610f\u3057\u3066\u304a\u304d\u3001 ansible-playbook \u5b9f\u884c\u6642\u306b $ ansible-playbook ... -e @/path/to/netbox-vars.yml \u3067\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3057\u305f\u5909\u6570\u3092\u5b9f\u884c\u6642\u306bextra vars\u3068\u3057\u3066\u53c2\u7167\u3067\u304d\u308b\u3002","title":"-e | --extra-vars"},{"location":"Ansible/cli/#-l-limit","text":"playbook\u306e hosts \u3067\u6307\u5b9a\u3057\u3066\u3042\u308b\u30db\u30b9\u30c8\u30b0\u30eb\u30fc\u30d7\u306e\u5185\u3001\u7279\u5b9a\u306e\u30db\u30b9\u30c8\u3060\u3051\u306b\u51e6\u7406\u3057\u305f\u3044\u5834\u5408\u306b\u4f7f\u3046\u3002 $ ansible-playbook ... -l host1 \u3053\u3046\u3059\u308b\u3068\u3001playbook\u3067\u4f8b\u3048\u3070 hosts: servers \u3068\u6307\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001servers\u30b0\u30eb\u30fc\u30d7\u306b host1 , host2 , host3 \u304c\u6709\u3063\u305f\u3068\u3057\u3066\u3082\u3001\u3053\u306e ansible-playbook \u5b9f\u884c\u306e\u30bf\u30b9\u30af\u306f host1 \u306e\u307f\u304c\u51e6\u7406\u5bfe\u8c61\u3067\u5b9f\u884c\u3055\u308c\u308b\u3002 \u958b\u767a\u3084\u30c7\u30d0\u30c3\u30b0\u306e\u304a\u4f9b\u306b\u3002","title":"-l | --limit"},{"location":"Ansible/cli/#-connection-password-file","text":"\u30ea\u30e2\u30fc\u30c8\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u306b\u4f7f\u7528\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u66f8\u304b\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3001\u5bfe\u8a71\u7684\u51e6\u7406\u3092\u56de\u907f\u3059\u308b\u3002 ansible-playbook playbook.yml -i inventory.ini --connection-password-file password.txt \u6307\u5b9a\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u307f\u304ctext/plain\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u3002","title":"--connection-password-file"},{"location":"Ansible/cli/#ansible-playbook","text":"","title":"ansible-playbook \u30b3\u30de\u30f3\u30c9"},{"location":"Ansible/cli/#-check","text":"\u3044\u308f\u3086\u308bDry Run\u3067\u5b9f\u884c\u3059\u308b\u3002 check\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b copy \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 - name : command sample copy : src : /home/zaki/tmp.yml dest : /var/tmp mode : '0644' register : result \u3053\u306eplaybook\u3001\u30b3\u30d4\u30fc\u5148\u304c\u5b58\u5728\u3057\u306a\u3044\u72b6\u614b\u3067\u3001\u5b9f\u969b\u306b\u52d5\u304b\u3059\u3068 changed \u306b\u306a\u308b\u72b6\u614b\u3067 --check \u4ed8\u3051\u3066\u5b9f\u884c\u3059\u308b\u3068 (ansible4) [zaki@cloud-dev shell (master)]$ ls /var/tmp/tmp.yml ls: /var/tmp/tmp.yml \u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093: \u305d\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u3042\u308a\u307e\u305b\u3093 (ansible4) [zaki@cloud-dev shell (master)]$ ansible-playbook copy.yml --check PLAY [localhost] ******************** TASK [command sample] *************** changed: [localhost] TASK [print result] ***************** ok: [localhost] => msg: changed: true diff: [] failed: false : : (ansible4) [zaki@cloud-dev shell (master)]$ ls /var/tmp/tmp.yml ls: /var/tmp/tmp.yml \u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093: \u305d\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u3042\u308a\u307e\u305b\u3093 \u3053\u306e\u3068\u304a\u308a changed \u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u3001result\u3082changed\u306b\u306a\u308b\u3002 \u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3057\u3066 ok \u3068\u306a\u308b\u72b6\u614b\u3067 --check \u3067\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u901a\u308a\u3002 (ansible4) [zaki@cloud-dev shell (master)]$ ls /var/tmp/tmp.yml /var/tmp/tmp.yml (ansible4) [zaki@cloud-dev shell (master)]$ ansible-playbook copy.yml --check PLAY [localhost] ******************** TASK [command sample] *************** ok: [localhost] TASK [print result] ***************** ok: [localhost] => msg: changed: false checksum: e4012c7ec05eb3bd3d27774fa73b772426c02d74 dest: /var/tmp/tmp.yml diff: after: path: /var/tmp/tmp.yml before: path: /var/tmp/tmp.yml failed: false gid: 1000 group: zaki mode: '0644' owner: zaki path: /var/tmp/tmp.yml secontext: unconfined_u:object_r:user_home_t:s0 size: 5447 state: file uid: 1000 \u30bf\u30b9\u30af\u5358\u4f4d\u3067\u30c1\u30a7\u30c3\u30af\u30e2\u30fc\u30c9\u3092\u6307\u5b9a\u3059\u308b check_mode \u30d1\u30e9\u30e1\u30bf\u306b\u3064\u3044\u3066\u306f directives \u53c2\u7167\u3002","title":"--check"},{"location":"Ansible/cli/#-list-tasks","text":"\u540c\u6642\u306b\u6307\u5b9a\u3059\u308b --tags \u306a\u3069\u306e\u5b9f\u884c\u6761\u4ef6\u3092\u8e0f\u307e\u3048\u3066\u3001\u3069\u306e\u30d7\u30ec\u30a4\u3068\u30bf\u30b9\u30af\u304c\u5b9f\u884c\u5bfe\u8c61\u3068\u306a\u308b\u304b\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3002dry run\u306e\u3082\u30461\u6bb5\u968e\u624b\u524d\u306a\u611f\u3058\u3002 $ ansible-playbook setup.yml --list-tasks playbook: setup.yml play #1 (rhel): rhel TAGS: [] tasks: subscription TAGS: [subscription] install packages TAGS: [packages] play #2 (rhel): rhel TAGS: [] tasks: ssh user config TAGS: [ssh] git config TAGS: [git] get git-prompt.sh TAGS: [git] add prompt with git config TAGS: [git] add source gitprompt TAGS: [git] create venv TAGS: [python] clone repository (linux) TAGS: [repository] clone repository (container) TAGS: [repository] --tags \u6307\u5b9a\u3042\u308a\u306e\u5834\u5408 $ ansible-playbook setup.yml --list-tasks --tags git playbook: setup.yml play #1 (rhel): rhel TAGS: [] tasks: play #2 (rhel): rhel TAGS: [] tasks: git config TAGS: [git] get git-prompt.sh TAGS: [git] add prompt with git config TAGS: [git] add source gitprompt TAGS: [git]","title":"--list-tasks"},{"location":"Ansible/cli/#-start-at","text":"\u6307\u5b9a\u30bf\u30b9\u30af\u304b\u3089\u51e6\u7406\u3092\u958b\u59cb\u3059\u308b\u3002\u958b\u767a\u30fb\u30c7\u30d0\u30c3\u30b0\u306e\u304a\u4f9b\u306b\u3002 --- - hosts : localhost gather_facts : false tasks : - name : exec 1st task debug : msg : \"hello world\" - name : exec 2nd task debug : msg : \"hello worlds\" - name : exec 3rd task debug : msg : \"hello worlds!!\" $ ansible-playbook sample.yml --start-at \"exec 2nd task\" \u5b9f\u884c\u7d50\u679c PLAY [localhost] ***************************************************************************** TASK [exec 2nd task] ************************************************************************* ok: [localhost] => msg: hello worlds TASK [exec 3rd task] ************************************************************************* ok: [localhost] => msg: hello worlds!! role\u306e\u5834\u5408\u306f\u3001\u30ed\u30fc\u30eb\u540d\u542b\u3081\u3066\u6307\u5b9a\u3059\u308c\u3070\u3088\u3044\u3002(\u5b9f\u884c\u6642\u306e TASK [***] \u306e *** \u306e\u90e8\u5206\u3092\u6307\u5b9a\u3059\u308b) $ ansible-playbook -i inventory-oci-l-dev.ini playbook.yml -v : : TASK [build_awx/awx-ee : clone repository] *************************************************** fatal: [oci-l-a1-ubuntu]: FAILED! => {\"before\": \"54de4047be742783f69678f942a515e991c097ab\", \"changed\": false, \"msg\": \"Local modifications exist in repository (force=no).\"} PLAY RECAP *********************************************************************************** oci-l-a1-ubuntu : ok=33 changed=5 unreachable=0 failed=1 skipped=3 rescued=0 ignored=0 : : $ ansible-playbook -i inventory-oci-l-dev.ini playbook.yml -v --start-at \"build_awx/awx-ee : create working directory\"","title":"--start-at"},{"location":"Ansible/cli/#ansible-inventory","text":"ansible-inventory \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u4e00\u89a7\u3084\u305d\u306e\u30db\u30b9\u30c8\u306b\u7d10\u3065\u304f\u5909\u6570\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002 \u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u306e\u5834\u5408\u306b\u5bfe\u8c61\u30ce\u30fc\u30c9\u304c\u4f55\u306b\u306a\u308b\u304b\u78ba\u8a8d\u3067\u304d\u308b\u3002","title":"ansible-inventory\u30b3\u30de\u30f3\u30c9"},{"location":"Ansible/cli/#-list","text":"$ ansible-inventory -i inventory.ini --list \u3053\u306e\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb \u3092\u53c2\u7167\u3057\u305f\u969b\u306e\u30db\u30b9\u30c8\u30b0\u30eb\u30fc\u30d7\u3084\u30db\u30b9\u30c8\u5909\u6570( group_vars \u306a\u3069\u6709\u308c\u3070\u53c2\u7167 )\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3002 { \"_meta\" : { \"hostvars\" : { \"master01\" : { \"additional_packages\" : [ \"bash-completion\" , \"open-vm-tools\" ], \"additional_services\" : [ \"vmtoolsd\" ], \"ansible_host\" : \"192.168.0.121\" , \"cluster_name\" : \"my-kubeadm-cluster\" , \"controlplane_endpoint\" : \"k8s-master.esxi.jp-z.jp\" , \"enable_firewalld\" : \"true\" , \"pod_network_cidr\" : \"10.244.0.0/16\" , \"required_ports\" : [ \"6443/tcp\" , \"2379-2380/tcp\" , \"10250/tcp\" , \"10251/tcp\" , \"10252/tcp\" ], \"use_cni_plugin\" : \"calico\" , \"use_cri\" : \"containerd\" }, \"master02\" : { \"additional_packages\" : [ \"bash-completion\" , \"open-vm-tools\" ], \"additional_services\" : [ \"vmtoolsd\" ], \"ansible_host\" : \"192.168.0.122\" , \"cluster_name\" : \"my-kubeadm-cluster\" , \"controlplane_endpoint\" : \"k8s-master.esxi.jp-z.jp\" , \"enable_firewalld\" : \"true\" , \"pod_network_cidr\" : \"10.244.0.0/16\" , \"required_ports\" : [ \"6443/tcp\" , \"2379-2380/tcp\" , \"10250/tcp\" , \"10251/tcp\" , \"10252/tcp\" ], \"use_cni_plugin\" : \"calico\" , \"use_cri\" : \"containerd\" }, \"master03\" : { \"additional_packages\" : [ \"bash-completion\" , \"open-vm-tools\" ], \"additional_services\" : [ \"vmtoolsd\" ], \"ansible_host\" : \"192.168.0.123\" , \"cluster_name\" : \"my-kubeadm-cluster\" , \"controlplane_endpoint\" : \"k8s-master.esxi.jp-z.jp\" , \"enable_firewalld\" : \"true\" , \"pod_network_cidr\" : \"10.244.0.0/16\" , \"required_ports\" : [ \"6443/tcp\" , \"2379-2380/tcp\" , \"10250/tcp\" , \"10251/tcp\" , \"10252/tcp\" ], \"use_cni_plugin\" : \"calico\" , \"use_cri\" : \"containerd\" }, \"worker01\" : { \"additional_packages\" : [ \"bash-completion\" , \"open-vm-tools\" ], \"additional_services\" : [ \"vmtoolsd\" ], \"ansible_host\" : \"192.168.0.125\" , \"cluster_name\" : \"my-kubeadm-cluster\" , \"controlplane_endpoint\" : \"k8s-master.esxi.jp-z.jp\" , \"enable_firewalld\" : \"true\" , \"pod_network_cidr\" : \"10.244.0.0/16\" , \"required_ports\" : [ \"10250/tcp\" , \"30000-32767/tcp\" ], \"use_cni_plugin\" : \"calico\" , \"use_cri\" : \"containerd\" }, \"worker02\" : { \"additional_packages\" : [ \"bash-completion\" , \"open-vm-tools\" ], \"additional_services\" : [ \"vmtoolsd\" ], \"ansible_host\" : \"192.168.0.126\" , \"cluster_name\" : \"my-kubeadm-cluster\" , \"controlplane_endpoint\" : \"k8s-master.esxi.jp-z.jp\" , \"enable_firewalld\" : \"true\" , \"pod_network_cidr\" : \"10.244.0.0/16\" , \"required_ports\" : [ \"10250/tcp\" , \"30000-32767/tcp\" ], \"use_cni_plugin\" : \"calico\" , \"use_cri\" : \"containerd\" } } }, \"all\" : { \"children\" : [ \"master\" , \"ungrouped\" , \"worker\" ] }, \"master\" : { \"hosts\" : [ \"master01\" , \"master02\" , \"master03\" ] }, \"worker\" : { \"hosts\" : [ \"worker01\" , \"worker02\" ] } }","title":"--list"},{"location":"Ansible/cli/#-graph-vars","text":"\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u5834\u5408\u306f\u3001\u30b0\u30eb\u30fc\u30d7\u5909\u6570\u5b9a\u7fa9\u304c\u72ec\u7acb\u3057\u3066\u8868\u793a\u3055\u308c\u308b\u3002 $ ansible-inventory -i inventory.ini --graph --vars @all: |--@master: | |--master01 | | |--{additional_packages = ['bash-completion', 'open-vm-tools']} | | |--{additional_services = ['vmtoolsd']} | | |--{ansible_host = 192.168.0.121} | | |--{cluster_name = my-kubeadm-cluster} | | |--{controlplane_endpoint = k8s-master.esxi.jp-z.jp} | | |--{enable_firewalld = true} | | |--{pod_network_cidr = 10.244.0.0/16} | | |--{required_ports = ['6443/tcp', '2379-2380/tcp', '10250/tcp', '10251/tcp', '10252/tcp']} | | |--{use_cni_plugin = calico} | | |--{use_cri = containerd} | |--master02 | | |--{additional_packages = ['bash-completion', 'open-vm-tools']} | | |--{additional_services = ['vmtoolsd']} | | |--{ansible_host = 192.168.0.122} | | |--{cluster_name = my-kubeadm-cluster} | | |--{controlplane_endpoint = k8s-master.esxi.jp-z.jp} | | |--{enable_firewalld = true} | | |--{pod_network_cidr = 10.244.0.0/16} | | |--{required_ports = ['6443/tcp', '2379-2380/tcp', '10250/tcp', '10251/tcp', '10252/tcp']} | | |--{use_cni_plugin = calico} | | |--{use_cri = containerd} | |--master03 | | |--{additional_packages = ['bash-completion', 'open-vm-tools']} | | |--{additional_services = ['vmtoolsd']} | | |--{ansible_host = 192.168.0.123} | | |--{cluster_name = my-kubeadm-cluster} | | |--{controlplane_endpoint = k8s-master.esxi.jp-z.jp} | | |--{enable_firewalld = true} | | |--{pod_network_cidr = 10.244.0.0/16} | | |--{required_ports = ['6443/tcp', '2379-2380/tcp', '10250/tcp', '10251/tcp', '10252/tcp']} | | |--{use_cni_plugin = calico} | | |--{use_cri = containerd} | |--{required_ports = ['6443/tcp', '2379-2380/tcp', '10250/tcp', '10251/tcp', '10252/tcp']} |--@ungrouped: |--@worker: | |--worker01 | | |--{additional_packages = ['bash-completion', 'open-vm-tools']} | | |--{additional_services = ['vmtoolsd']} | | |--{ansible_host = 192.168.0.125} | | |--{cluster_name = my-kubeadm-cluster} | | |--{controlplane_endpoint = k8s-master.esxi.jp-z.jp} | | |--{enable_firewalld = true} | | |--{pod_network_cidr = 10.244.0.0/16} | | |--{required_ports = ['10250/tcp', '30000-32767/tcp']} | | |--{use_cni_plugin = calico} | | |--{use_cri = containerd} | |--worker02 | | |--{additional_packages = ['bash-completion', 'open-vm-tools']} | | |--{additional_services = ['vmtoolsd']} | | |--{ansible_host = 192.168.0.126} | | |--{cluster_name = my-kubeadm-cluster} | | |--{controlplane_endpoint = k8s-master.esxi.jp-z.jp} | | |--{enable_firewalld = true} | | |--{pod_network_cidr = 10.244.0.0/16} | | |--{required_ports = ['10250/tcp', '30000-32767/tcp']} | | |--{use_cni_plugin = calico} | | |--{use_cri = containerd} | |--{required_ports = ['10250/tcp', '30000-32767/tcp']} |--{additional_packages = ['bash-completion', 'open-vm-tools']} |--{additional_services = ['vmtoolsd']} |--{cluster_name = my-kubeadm-cluster} |--{controlplane_endpoint = k8s-master.esxi.jp-z.jp} |--{enable_firewalld = true} |--{pod_network_cidr = 10.244.0.0/16} |--{use_cni_plugin = calico} |--{use_cri = containerd}","title":"--graph --vars"},{"location":"Ansible/cli/#ansible-galaxy","text":"","title":"ansible-galaxy\u30b3\u30de\u30f3\u30c9"},{"location":"Ansible/cli/#-r-requirements-file","text":"requirements.yml \u30d5\u30a1\u30a4\u30eb\u306e\u6307\u5b9a\u3002 ansible-galaxy collection install -r collections/requirements.yml","title":"-r | --requirements-file"},{"location":"Ansible/collection/","text":"\u30b3\u30ec\u30af\u30b7\u30e7\u30f3 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb ansible-galaxy collection install amazon.aws \u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a ansible-galaxy collection install ansible.netcommon:2.1.0 \u8907\u6570 ansible-galaxy collection install ansible.netcommon:2.1.0 ansible.utils:2.2.0 seiko.smartcs:1.3.0 requirements.yml \u4f7f\u7528\u6642\u306f\u4ee5\u4e0b\u3002 $ ansible-galaxy collection install -r collections/requirements.yml requirements.yml\u66f8\u5f0f \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u540d\u306e\u307f(\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u6700\u65b0) --- collections : - community.general \u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a --- collections : - name : ansible.netcommon version : 2.1.0 - name : ansible.utils version : 2.2.0 - name : seiko.smartcs version : 1.3.0 Git\u30ea\u30dd\u30b8\u30c8\u30ea --- collections : - name : https://github.com/zaki-lknr/esxissh-ansible.git version : main type : git \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u8a2d\u5b9a https://github.com/ansible/ansible/blob/devel/lib/ansible/config/ansible_builtin_runtime.yml \u3053\u306eyml\u30d5\u30a1\u30a4\u30eb\u306e\u5b9a\u7fa9\u306b\u5f93\u3044\u3001FQCN\u8868\u8a18\u3067\u306a\u3044\u3082\u306e\u306f\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u308b\u3002 module\u306b\u9650\u3089\u305aaction\u30d7\u30e9\u30b0\u30a4\u30f3\u3084connection\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u5b9a\u7fa9\u3082\u3042\u308b\u3002 \u4f9d\u5b58\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d galaxy.yml \u306e dependencies \u3092\u78ba\u8a8d\u3059\u308b\u3002 \u4f8b\u3048\u3070cisco.ios\u306ev7.0.0\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 dependencies : \"ansible.netcommon\" : \">=6.0.0\" https://github.com/ansible-collections/cisco.ios/blob/v7.0.0/galaxy.yml#L4-L5","title":"\u30b3\u30ec\u30af\u30b7\u30e7\u30f3"},{"location":"Ansible/collection/#_1","text":"","title":"\u30b3\u30ec\u30af\u30b7\u30e7\u30f3"},{"location":"Ansible/collection/#_2","text":"ansible-galaxy collection install amazon.aws \u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a ansible-galaxy collection install ansible.netcommon:2.1.0 \u8907\u6570 ansible-galaxy collection install ansible.netcommon:2.1.0 ansible.utils:2.2.0 seiko.smartcs:1.3.0 requirements.yml \u4f7f\u7528\u6642\u306f\u4ee5\u4e0b\u3002 $ ansible-galaxy collection install -r collections/requirements.yml","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Ansible/collection/#requirementsyml","text":"\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u540d\u306e\u307f(\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u6700\u65b0) --- collections : - community.general \u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a --- collections : - name : ansible.netcommon version : 2.1.0 - name : ansible.utils version : 2.2.0 - name : seiko.smartcs version : 1.3.0 Git\u30ea\u30dd\u30b8\u30c8\u30ea --- collections : - name : https://github.com/zaki-lknr/esxissh-ansible.git version : main type : git","title":"requirements.yml\u66f8\u5f0f"},{"location":"Ansible/collection/#_3","text":"https://github.com/ansible/ansible/blob/devel/lib/ansible/config/ansible_builtin_runtime.yml \u3053\u306eyml\u30d5\u30a1\u30a4\u30eb\u306e\u5b9a\u7fa9\u306b\u5f93\u3044\u3001FQCN\u8868\u8a18\u3067\u306a\u3044\u3082\u306e\u306f\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u308b\u3002 module\u306b\u9650\u3089\u305aaction\u30d7\u30e9\u30b0\u30a4\u30f3\u3084connection\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u5b9a\u7fa9\u3082\u3042\u308b\u3002","title":"\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u8a2d\u5b9a"},{"location":"Ansible/collection/#_4","text":"galaxy.yml \u306e dependencies \u3092\u78ba\u8a8d\u3059\u308b\u3002 \u4f8b\u3048\u3070cisco.ios\u306ev7.0.0\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 dependencies : \"ansible.netcommon\" : \">=6.0.0\" https://github.com/ansible-collections/cisco.ios/blob/v7.0.0/galaxy.yml#L4-L5","title":"\u4f9d\u5b58\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d"},{"location":"Ansible/config/","text":"\u8a2d\u5b9a Ansible Configuration Settings \u2014 Ansible Documentation \u8a2d\u5b9a\u306e\u78ba\u8a8d \u73fe\u5728\u306e\u8a2d\u5b9a\u5024\u3092\u78ba\u8a8d\u3059\u308b ansible-config dump \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3068\u7570\u306a\u308b\u3082\u306e\u306e\u307f\u51fa\u529b\u3059\u308b\u306b\u306f --only-changed \u3092\u4ed8\u4e0e ansible-config dump --only-changed \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u512a\u5148\u9806\u4f4d ANSIBLE_CONFIG \u74b0\u5883\u5909\u6570 ansible.cfg (\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea) ~/.ansible.cfg /etc/ansible/ansible.cfg \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u66f8\u5f0f ansible.cfg \u30b5\u30f3\u30d7\u30eb [defaults] stdout_callback = yaml \u8a2d\u5b9a\u30ad\u30fc \u63a5\u7d9a\u30e6\u30fc\u30b6\u30fc\u540d \u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u540d \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3 -u ( --user ) \u5909\u6570 ansible_user SSH\u79d8\u5bc6\u9375 \u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u540d \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3 --private-key \u74b0\u5883\u5909\u6570 ANSIBLE_PRIVATE_KEY_FILE \u5909\u6570 ansible_private_key_file ansible.cfg private_key_file ([defaults]section) Python\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\u30d1\u30b9 \u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u30ad\u30fc ansible.cfg interpreter_python ([defaults]section) \u74b0\u5883\u5909\u6570 ANSIBLE_PYTHON_INTERPRETER \u5909\u6570 ansible_python_interpreter \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30d7\u30e9\u30b0\u30a4\u30f3 \u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u30ad\u30fc ansible.cfg stdout_callback ([defaults]section) \u74b0\u5883\u5909\u6570 ANSIBLE_STDOUT_CALLBACK \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u30d1\u30b9(2.10\uff5e) \u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u30ad\u30fc ansible.cfg collections_path ([defaults]section) \u74b0\u5883\u5909\u6570 ANSIBLE_COLLECTIONS_PATH \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u30d1\u30b9(\u65e7) \u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u30ad\u30fc ansible.cfg collections_paths ([defaults]section) \u74b0\u5883\u5909\u6570 ANSIBLE_COLLECTIONS_PATHS \u5b9f\u884c\u5f8c\u306bAnsiballZ\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u3055\u306a\u3044 \u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u30ad\u30fc \u74b0\u5883\u5909\u6570 ANSIBLE_KEEP_REMOTE_FILES ANSIBLE_KEEP_REMOTE_FILES=true \u3092\u30bb\u30c3\u30c8\u3057\u3066\u5b9f\u884c\u3059\u308b $ ANSIBLE_KEEP_REMOTE_FILES = true ansible-playbook -i inventory.ini playbook.yml -v ... \u3053\u308c\u3067\u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u4e0a\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u6b8b\u308b\u3002 \u57fa\u672c\u7684\u306b\u6d88\u3048\u306a\u3044\u306e\u3067\u624b\u52d5\u3067\u6d88\u3059\u5fc5\u8981\u3042\u308a\u3002 \u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306e\u3069\u3053\u306b\u8ee2\u9001\u3055\u308c\u308b\u304b\u306f\u3001-vvv\u304f\u3089\u3044\u307e\u3067verbose\u30ec\u30d9\u30eb\u3092\u4e0a\u3052\u3066\u304a\u3051\u3070\u5b9f\u884c\u6642\u306b\u8868\u793a\u3055\u308c\u308b\u3002","title":"\u8a2d\u5b9a"},{"location":"Ansible/config/#_1","text":"Ansible Configuration Settings \u2014 Ansible Documentation","title":"\u8a2d\u5b9a"},{"location":"Ansible/config/#_2","text":"\u73fe\u5728\u306e\u8a2d\u5b9a\u5024\u3092\u78ba\u8a8d\u3059\u308b ansible-config dump \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3068\u7570\u306a\u308b\u3082\u306e\u306e\u307f\u51fa\u529b\u3059\u308b\u306b\u306f --only-changed \u3092\u4ed8\u4e0e ansible-config dump --only-changed","title":"\u8a2d\u5b9a\u306e\u78ba\u8a8d"},{"location":"Ansible/config/#_3","text":"ANSIBLE_CONFIG \u74b0\u5883\u5909\u6570 ansible.cfg (\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea) ~/.ansible.cfg /etc/ansible/ansible.cfg","title":"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u512a\u5148\u9806\u4f4d"},{"location":"Ansible/config/#_4","text":"ansible.cfg \u30b5\u30f3\u30d7\u30eb [defaults] stdout_callback = yaml","title":"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u66f8\u5f0f"},{"location":"Ansible/config/#_5","text":"","title":"\u8a2d\u5b9a\u30ad\u30fc"},{"location":"Ansible/config/#_6","text":"\u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u540d \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3 -u ( --user ) \u5909\u6570 ansible_user","title":"\u63a5\u7d9a\u30e6\u30fc\u30b6\u30fc\u540d"},{"location":"Ansible/config/#ssh","text":"\u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u540d \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3 --private-key \u74b0\u5883\u5909\u6570 ANSIBLE_PRIVATE_KEY_FILE \u5909\u6570 ansible_private_key_file ansible.cfg private_key_file ([defaults]section)","title":"SSH\u79d8\u5bc6\u9375"},{"location":"Ansible/config/#python","text":"\u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u30ad\u30fc ansible.cfg interpreter_python ([defaults]section) \u74b0\u5883\u5909\u6570 ANSIBLE_PYTHON_INTERPRETER \u5909\u6570 ansible_python_interpreter","title":"Python\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\u30d1\u30b9"},{"location":"Ansible/config/#_7","text":"\u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u30ad\u30fc ansible.cfg stdout_callback ([defaults]section) \u74b0\u5883\u5909\u6570 ANSIBLE_STDOUT_CALLBACK","title":"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30d7\u30e9\u30b0\u30a4\u30f3"},{"location":"Ansible/config/#210","text":"\u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u30ad\u30fc ansible.cfg collections_path ([defaults]section) \u74b0\u5883\u5909\u6570 ANSIBLE_COLLECTIONS_PATH","title":"\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u30d1\u30b9(2.10\uff5e)"},{"location":"Ansible/config/#_8","text":"\u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u30ad\u30fc ansible.cfg collections_paths ([defaults]section) \u74b0\u5883\u5909\u6570 ANSIBLE_COLLECTIONS_PATHS","title":"\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u30d1\u30b9(\u65e7)"},{"location":"Ansible/config/#ansiballz","text":"\u8a2d\u5b9a\u5834\u6240 \u8a2d\u5b9a\u30ad\u30fc \u74b0\u5883\u5909\u6570 ANSIBLE_KEEP_REMOTE_FILES ANSIBLE_KEEP_REMOTE_FILES=true \u3092\u30bb\u30c3\u30c8\u3057\u3066\u5b9f\u884c\u3059\u308b $ ANSIBLE_KEEP_REMOTE_FILES = true ansible-playbook -i inventory.ini playbook.yml -v ... \u3053\u308c\u3067\u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u4e0a\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u6b8b\u308b\u3002 \u57fa\u672c\u7684\u306b\u6d88\u3048\u306a\u3044\u306e\u3067\u624b\u52d5\u3067\u6d88\u3059\u5fc5\u8981\u3042\u308a\u3002 \u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306e\u3069\u3053\u306b\u8ee2\u9001\u3055\u308c\u308b\u304b\u306f\u3001-vvv\u304f\u3089\u3044\u307e\u3067verbose\u30ec\u30d9\u30eb\u3092\u4e0a\u3052\u3066\u304a\u3051\u3070\u5b9f\u884c\u6642\u306b\u8868\u793a\u3055\u308c\u308b\u3002","title":"\u5b9f\u884c\u5f8c\u306bAnsiballZ\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u3055\u306a\u3044"},{"location":"Ansible/directives/","text":"\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6 Playbook Keywords \u2014 Ansible Documentation \u30eb\u30fc\u30d7 range()\u3092\u4f7f\u3063\u3066\u6307\u5b9a\u56de\u6570\u30eb\u30fc\u30d7 host0 \u304b\u3089 host9 \u307e\u3067\u4f5c\u308a\u305f\u3044\u5834\u5408\u3002 - name : loop awx.awx.host : name : \"host{{ item }}\" inventory : inventory enable : true loop : \"{{ range(0, 10) }}\" \u30eb\u30fc\u30d7\u3068block\u306f\u4f75\u7528\u4e0d\u53ef tasks : - name : block with loop loop : \"{{ item_list }}\" block : : \u3053\u3046\u3044\u3046\u306e\u306f\u7121\u7406 ERROR! 'loop' is not a valid attribute for a Block Blocks \u2014 Ansible Documentation Most of what you can apply to a single task (with the exception of loops) can be applied at the block level, so blocks make it much easier to set data or directives common to the tasks. \u30eb\u30fc\u30d7\u3068register\u306e\u4f75\u7528 [Ansible] loop\u3068\u30e2\u30b8\u30e5\u30fc\u30eb\u5b9f\u884c\u306e\u7d50\u679c\u3092\u4fdd\u6301\u3059\u308bregister\u3092\u4f75\u7528\u3059\u308b - zaki work log Registering variables with a loop - name : exec command ansible.builtin.command : \"{{ item }}\" loop : - hostname - pwd - ls /opt register : result_command - name : print result debug : msg : '{{ result_command }}' \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002 ok : [ localhost ] => msg: changed : true msg : All items completed results : - ansible_loop_var : item changed : true cmd : - hostname delta : '0:00:00.001672' end : '2021-04-06 18:54:28.461799' failed : false invocation : module_args : ... item : hostname rc : 0 start : '2021-04-06 18:54:28.460127' stderr : '' stderr_lines : [] stdout : cloud-dev stdout_lines : - cloud-dev - ansible_loop_var : item changed : true cmd : - pwd delta : '0:00:00.001590' end : '2021-04-06 18:54:28.630725' failed : false invocation : module_args : ... item : pwd rc : 0 start : '2021-04-06 18:54:28.629135' stderr : '' stderr_lines : [] stdout : /home/zaki/src/ansible-sample/file stdout_lines : - /home/zaki/src/ansible-sample/file - ansible_loop_var : item changed : true cmd : - ls - /opt delta : '0:00:00.001935' end : '2021-04-06 18:54:28.798976' failed : false invocation : module_args : ... item : ls /opt rc : 0 start : '2021-04-06 18:54:28.797041' stderr : '' stderr_lines : [] stdout : |- cni containerd stdout_lines : - cni - containerd \u8981\u306f\u3001 ${register\u3067\u6307\u5b9a\u3057\u305f\u5909\u6570\u540d}.results[...] \u3068\u3044\u3046\u914d\u5217\u306b\u306a\u308b\u3002 \u30eb\u30fc\u30d7\u5909\u6570\u306e\u30ab\u30b9\u30bf\u30e0 loop_control.loop_var \u3067\u6307\u5b9a\u3067\u304d\u308b\u3002 - name : loop debug : msg : \"{{ zzz }}\" loop : - foo - bar - baz - qux loop_control : loop_var : zzz {{ item }} \u306f\u4f7f\u7528\u4e0d\u53ef\u3068\u306a\u308b\u3002 \u30eb\u30fc\u30d7\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u53c2\u7167 \u30bf\u30b9\u30af\u5185\u3067\u30eb\u30fc\u30d7\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53c2\u7167\u3057\u305f\u3044\u5834\u5408\u306f\u3001 extended: true \u3092\u4ed8\u52a0\u3059\u308c\u3070\u53c2\u7167\u3067\u304d\u308b\u3002 - name : loop index sample debug : msg : - \"{{ item }}\" - \"{{ ansible_loop.index }}\" - \"{{ ansible_loop.index0 }}\" loop : - foo - bar - baz loop_control : extended : true \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 ok: [localhost] => (item=foo) => msg: - foo - '1' - '0' ok: [localhost] => (item=bar) => msg: - bar - '2' - '1' ok: [localhost] => (item=baz) => msg: - baz - '3' - '2' \u4f7f\u7528\u53ef\u80fd\u306a\u5909\u6570\u306f\u3053\u3061\u3089\u2192 Extended loop variables \u30eb\u30fc\u30d7\u3068include\u4f75\u7528\u6642\u306b\u30eb\u30fc\u30d7\u306b\u95a2\u4fc2\u306a\u3044\u30bf\u30b9\u30af\u30921\u56de\u3060\u3051\u5b9f\u884c\u3059\u308b\u3053\u3068\u306f\u2026 run_once \u4f7f\u3063\u3066\u51fa\u6765\u306a\u3044\u304b\u8a66\u3057\u305f\u3051\u3069\u4e88\u60f3\u901a\u308a\u7121\u52b9\u3002 \u305f\u3076\u3093\u7121\u7406\u306a\u306e\u3067\u3001\u305d\u3046\u3044\u3046\u30bf\u30b9\u30af\u306f\u30eb\u30fc\u30d7\u306e\u5916\u3067\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\u3002 - name : include with loop include_tasks : dup-loop-included.yml loop : \"{{ users }}\" - name : 1\u56de\u3060\u3051\u5b9f\u884c\u3057\u305f\u3044\u30bf\u30b9\u30af debug : msg : zzz run_once : true \u3053\u306e\u30bf\u30b9\u30af\u306f users \u306e\u8981\u7d20\u306e\u30eb\u30fc\u30d7\u3054\u3068\u306b\u5f53\u7136\u6bce\u56de\u5b9f\u884c\u3055\u308c\u308b\u3002 \u30eb\u30fc\u30d7\u5185\u3067\u6bce\u56de\u5b9f\u884c\u3055\u308c\u308b\u5fc5\u8981\u304c\u306a\u3044\u306e\u3067\u3042\u308c\u3070\u3001include\u306e\u5916\u3067\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002 when \u57fa\u672c tasks : - module : vars : cond : (bool) when : - cond when \u90e8\u5206\u306f\u5909\u6570\u53c2\u7167\u306e \"{{ values }}\" \u306e\u8868\u8a18\u306f\u4e0d\u8981\u3067\u3001bool\u578b\u306e\u6761\u4ef6\u5f0f\u30fb\u5909\u6570\u3092\u305d\u306e\u307e\u307e\u66f8\u3051\u3070\u826f\u3044\u3002 \u5426\u5b9a\u306f not when : - not disable_foobar \u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb(ini\u5f62\u5f0f)\u306eboolean\u3063\u307d\u3044\u5909\u6570\u3092\u4f7f\u3046\u5834\u5408\u306f bool \u306b\u5909\u63db\u3057\u3066\u4f7f\u3046\u3002 when : - not (flag | bool) \u6761\u4ef6\u304cint\u578b tasks : - name : len bool debug : loop : - 1 - 0 - -1 when : item 0 \u306e\u5834\u5408\u306fskip\u3002 1 , -1 \u306f\u51e6\u7406\u5bfe\u8c61\u3002 ansible-core 2.11.3\u3067\u78ba\u8a8d \u6761\u4ef6\u304cstring\u578b - name : str debug : loop : - \"a\" - \"\" when : item \"\" \u306e\u5834\u5408\u306fskip\u3002 \"a\" \u306e\u5834\u5408\u306f\u51e6\u7406\u3055\u308c\u308b\u3002 ansible-core 2.11.3\u3067\u78ba\u8a8d / 2.9\u3060\u3068\u69cb\u6587\u30a8\u30e9\u30fc(\u6587\u5b57\u5217\u306e\u307f\u306e\u5224\u5b9a\u306f\u3067\u304d\u306a\u3044\u3063\u307d\u3044\uff1f\u4f55\u304b\u3068\u6bd4\u8f03\u3059\u308b\u306a\u3069\u8a55\u4fa1\u3059\u308c\u3070\u3082\u3061\u308d\u3093OK) \u30ea\u30b9\u30c8\u3067\u8907\u6570\u6761\u4ef6 when \u306b\u306f\u30ea\u30b9\u30c8\u5f62\u5f0f\u3067\u6761\u4ef6\u3092\u8907\u6570\u6307\u5b9a\u3067\u304d\u308b\u3002\u30ea\u30b9\u30c8\u306e\u5834\u5408\u306f\u300c\u3059\u3079\u3066\u306e\u6761\u4ef6\u304ctrue\u306e\u5834\u5408\u300d\u306b\u30bf\u30b9\u30af\u306f\u5b9f\u884c\u3002 --- - hosts : localhost gather_facts : false vars : cond1 : true cond2 : false tasks : - debug : msg : \"hello\" when : - cond1 - cond2 \u3053\u306e\u5834\u5408\u30b9\u30ad\u30c3\u30d7\u3055\u308c\u308b\u3002 or\u3067\u8907\u6570\u6761\u4ef6 \u30ea\u30b9\u30c8\u5f62\u5f0f\u306fand\u306b\u306a\u308b\u305f\u3081\u3001 or \u3067\u6761\u4ef6\u3092\u7f85\u5217\u3057\u3066\u4e00\u3064\u306e\u6761\u4ef6\u5f0f\u3068\u3057\u3066\u8a18\u8ff0\u3059\u308b\u3002 when : cond == \"foobar\" or cond == \"bazqux\" \u5b9a\u7fa9\u3055\u308c\u3066\u308b\u5834\u5408/\u3055\u308c\u3066\u306a\u3044\u5834\u5408 foobar_value \u304c\u672a\u5b9a\u7fa9\u306e\u5834\u5408\u306b\u30bf\u30b9\u30af\u5b9f\u884c\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 when : foobar_value is not defined become \u7279\u6a29\u30e6\u30fc\u30b6\u30fc\u3078\u306e\u6607\u683c\u306b\u4f7f\u3046\u5834\u5408\u304c\u591a\u3044\u304c\u3001\u57fa\u672c\u7684\u306b\u306f\u300c\u5225\u30e6\u30fc\u30b6\u30fc\u6a29\u9650\u3067\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u300d\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3002 become_user \u3092\u4f7f\u3048\u3070 su - <USER_NAME> \u306e\u52d5\u4f5c\u306b\u306a\u308b\u3002 \u305f\u3060\u3057\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u6307\u5b9a\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306f\u306a\u3044\u305f\u3081\u3001\u8a8d\u8a3c\u306e\u305f\u3081\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306f ansible_become_password \u5909\u6570\u3092\u4f75\u7528\u3059\u308b\u3002 - name : exec by other user module : become : true become_user : other-user-name vars : ansible_become_password : other-user-password include\u3068import Re-using Ansible artifacts \u2014 Ansible Documentation include \u304a\u3088\u3073 import \u2014 Ansible Documentation OSS\u306f\u30a2\u30eb\u30df\u30cb\u30a6\u30e0\u306e\u7ffc\u3067\u98db\u3076: Ansible: include \u306e\u4ee3\u308f\u308a\u306b\u4f7f\u3046 import_xxx, include_yyy \u3068\u306f \u3068\u308a\u3042\u3048\u305a\u30ea\u30f3\u30af check mode ansible-playbook \u5b9f\u884c\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067 --check \u4ed8\u4e0e\u3067dry run\u306b\u306a\u308b\u304c\u3001 check_mode \u3092\u4f7f\u3046\u3053\u3068\u3067\u30bf\u30b9\u30af\u5358\u4f4d\u3067\u5f37\u5236\u7684\u306b\u30c1\u30a7\u30c3\u30af\u30e2\u30fc\u30c9\u306eon/off\u304c\u3067\u304d\u308b\u3002 - name : command sample copy : src : /home/zaki/tmp.yml dest : /var/tmp mode : '0644' register : result check_mode : false \u3053\u306e\u30d1\u30e9\u30e1\u30bf\u3092 true \u306b\u3059\u308b\u3068\u3001 --check \u3092\u4ed8\u3051\u306a\u304f\u3066\u3082\u30c1\u30a7\u30c3\u30af\u30e2\u30fc\u30c9\u3067\u52d5\u4f5c\u3059\u308b\u3002 false \u306b\u3059\u308b\u3068\u3001 --check \u3067\u52d5\u304b\u3057\u3066\u3082\u30c1\u30a7\u30c3\u30af\u30e2\u30fc\u30c9\u3067\u306a\u304f\u5b9f\u51e6\u7406\u304c\u884c\u308f\u308c\u308b\u3002 --check \u306b\u3064\u3044\u3066\u306f playbook \u53c2\u7167\u3002 \u3061\u306a\u307f\u306b\u3001\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306e always_run \u3068\u6a5f\u80fd\u7684\u306b\u306f\u540c\u3058(\u5024\u306f\u9006) Note Prior to version 2.2 only the equivalent of check_mode: no existed. The notation for that was always_run: yes . https://docs.ansible.com/ansible/2.9/user_guide/playbooks_checkmode.html#enabling-or-disabling-check-mode-for-tasks changed_when \u6761\u4ef6\u304ctrue\u306e\u5834\u5408\u306f\u30bf\u30b9\u30af\u306e\u7d50\u679c\u306b\u95a2\u4fc2\u306a\u304f changed \u5224\u5b9a\u306b\u3059\u308b\u3002\u9006\u306bfalse\u306e\u5834\u5408\u306f ok \u5224\u5b9a\u306b\u3059\u308b\u3002 \u30bf\u30b9\u30af\u306e\u7d50\u679c\u3092 register \u3067\u4fdd\u6301\u3057\u3001\u305d\u306e\u5185\u5bb9\u3092\u6761\u4ef6\u5f0f\u306b\u7d44\u307f\u8fbc\u3080\u306e\u3082OK - name : command always run and no change ansible.builtin.shell : cmd : hogehoge changed_when : exec_result.stdout != '' register : exec_result hogehoge \u306e\u5b9f\u884c\u7d50\u679c\u3067\u6a19\u6e96\u51fa\u529b\u304c\u4f55\u3082\u7121\u3044\u5834\u5408\u306f changed \u306b\u306a\u308b\u3002 until [Ansible] until\u3092\u4f7f\u3063\u3066\u975e\u540c\u671f\u51e6\u7406\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u6b21\u306etask\u3092\u5f85\u3064 - zaki work log \u4f7f\u7528\u4f8b - name : install flannel shell : kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/2140ac876ef134e0ed5af15c65e414cf26827915/Documentation/kube-flannel.yml # todo: apply\u306e\u51e6\u7406\u304cunchanged\u306e\u5834\u5408\u3082\u3001ansible\u3067\u306fchanged\u6271\u3044\u306b\u306a\u3063\u3066\u3044\u308b - name : wait for Node-Ready shell : kubectl get node --no-headers | awk '{print $2}' register : node_state until : node_state.stdout == \"Ready\" retries : 10 delay : 5 changed_when : false # \u5f85\u3064\u3060\u3051\u306a\u306e\u3067\u5f37\u5236no changed initialize-kubeadm-ansible/deploy_cni.yaml at e48d1a86ef9f4d94853c18246708490f842b8058 \u00b7 zaki-lknr/initialize-kubeadm-ansible include_tasks\u3068\u306f\u4f75\u7528\u4e0d\u53ef\uff1f \u624b\u5143\u306e2.10.5\u3067\u3059\u3063\u3054\u304f\u96d1\u306b\u78ba\u8a8d\u3057\u305f\u9650\u308a\u3060\u3068\u3001import_tasks\u306f when: \u6709\u52b9 loop: \u300cloop\u3057\u305f\u3051\u308c\u3070include\u4f7f\u3048\u300d\u3068\u30a8\u30e9\u30fc register: \u7121\u8996\u3055\u308c\u308b until: \u7121\u8996\u3055\u308c\u308b \u3063\u3066\u611f\u3058\u3067\u3057\u305f\u3002 include_tasks\u306b\u3060\u3068loop\u3068register\u306f\u4f7f\u3048\u307e\u3057\u305f\u304c\u3001until\u306fnot valid attribute error\u3067\u3084\u3063\u3071\u308a\u30c0\u30e1\u3063\u307d\u3044\u2026 pic.twitter.com/9CNihs7tvh \u2014 z a k i \ud83c\udf08 (@zaki_hmkc) February 18, 2021 async + poll [Ansible] async\u3068poll\u3092\u4f7f\u3063\u305f\u975e\u540c\u671f\u51e6\u7406\u3068\u30eb\u30fc\u30d7\u306e\u4e26\u5217\u5b9f\u884c - zaki work log","title":"\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6"},{"location":"Ansible/directives/#_1","text":"Playbook Keywords \u2014 Ansible Documentation","title":"\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6"},{"location":"Ansible/directives/#_2","text":"","title":"\u30eb\u30fc\u30d7"},{"location":"Ansible/directives/#range","text":"host0 \u304b\u3089 host9 \u307e\u3067\u4f5c\u308a\u305f\u3044\u5834\u5408\u3002 - name : loop awx.awx.host : name : \"host{{ item }}\" inventory : inventory enable : true loop : \"{{ range(0, 10) }}\"","title":"range()\u3092\u4f7f\u3063\u3066\u6307\u5b9a\u56de\u6570\u30eb\u30fc\u30d7"},{"location":"Ansible/directives/#block","text":"tasks : - name : block with loop loop : \"{{ item_list }}\" block : : \u3053\u3046\u3044\u3046\u306e\u306f\u7121\u7406 ERROR! 'loop' is not a valid attribute for a Block Blocks \u2014 Ansible Documentation Most of what you can apply to a single task (with the exception of loops) can be applied at the block level, so blocks make it much easier to set data or directives common to the tasks.","title":"\u30eb\u30fc\u30d7\u3068block\u306f\u4f75\u7528\u4e0d\u53ef"},{"location":"Ansible/directives/#register","text":"[Ansible] loop\u3068\u30e2\u30b8\u30e5\u30fc\u30eb\u5b9f\u884c\u306e\u7d50\u679c\u3092\u4fdd\u6301\u3059\u308bregister\u3092\u4f75\u7528\u3059\u308b - zaki work log Registering variables with a loop - name : exec command ansible.builtin.command : \"{{ item }}\" loop : - hostname - pwd - ls /opt register : result_command - name : print result debug : msg : '{{ result_command }}' \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002 ok : [ localhost ] => msg: changed : true msg : All items completed results : - ansible_loop_var : item changed : true cmd : - hostname delta : '0:00:00.001672' end : '2021-04-06 18:54:28.461799' failed : false invocation : module_args : ... item : hostname rc : 0 start : '2021-04-06 18:54:28.460127' stderr : '' stderr_lines : [] stdout : cloud-dev stdout_lines : - cloud-dev - ansible_loop_var : item changed : true cmd : - pwd delta : '0:00:00.001590' end : '2021-04-06 18:54:28.630725' failed : false invocation : module_args : ... item : pwd rc : 0 start : '2021-04-06 18:54:28.629135' stderr : '' stderr_lines : [] stdout : /home/zaki/src/ansible-sample/file stdout_lines : - /home/zaki/src/ansible-sample/file - ansible_loop_var : item changed : true cmd : - ls - /opt delta : '0:00:00.001935' end : '2021-04-06 18:54:28.798976' failed : false invocation : module_args : ... item : ls /opt rc : 0 start : '2021-04-06 18:54:28.797041' stderr : '' stderr_lines : [] stdout : |- cni containerd stdout_lines : - cni - containerd \u8981\u306f\u3001 ${register\u3067\u6307\u5b9a\u3057\u305f\u5909\u6570\u540d}.results[...] \u3068\u3044\u3046\u914d\u5217\u306b\u306a\u308b\u3002","title":"\u30eb\u30fc\u30d7\u3068register\u306e\u4f75\u7528"},{"location":"Ansible/directives/#_3","text":"loop_control.loop_var \u3067\u6307\u5b9a\u3067\u304d\u308b\u3002 - name : loop debug : msg : \"{{ zzz }}\" loop : - foo - bar - baz - qux loop_control : loop_var : zzz {{ item }} \u306f\u4f7f\u7528\u4e0d\u53ef\u3068\u306a\u308b\u3002","title":"\u30eb\u30fc\u30d7\u5909\u6570\u306e\u30ab\u30b9\u30bf\u30e0"},{"location":"Ansible/directives/#_4","text":"\u30bf\u30b9\u30af\u5185\u3067\u30eb\u30fc\u30d7\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53c2\u7167\u3057\u305f\u3044\u5834\u5408\u306f\u3001 extended: true \u3092\u4ed8\u52a0\u3059\u308c\u3070\u53c2\u7167\u3067\u304d\u308b\u3002 - name : loop index sample debug : msg : - \"{{ item }}\" - \"{{ ansible_loop.index }}\" - \"{{ ansible_loop.index0 }}\" loop : - foo - bar - baz loop_control : extended : true \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 ok: [localhost] => (item=foo) => msg: - foo - '1' - '0' ok: [localhost] => (item=bar) => msg: - bar - '2' - '1' ok: [localhost] => (item=baz) => msg: - baz - '3' - '2' \u4f7f\u7528\u53ef\u80fd\u306a\u5909\u6570\u306f\u3053\u3061\u3089\u2192 Extended loop variables","title":"\u30eb\u30fc\u30d7\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u53c2\u7167"},{"location":"Ansible/directives/#include1","text":"run_once \u4f7f\u3063\u3066\u51fa\u6765\u306a\u3044\u304b\u8a66\u3057\u305f\u3051\u3069\u4e88\u60f3\u901a\u308a\u7121\u52b9\u3002 \u305f\u3076\u3093\u7121\u7406\u306a\u306e\u3067\u3001\u305d\u3046\u3044\u3046\u30bf\u30b9\u30af\u306f\u30eb\u30fc\u30d7\u306e\u5916\u3067\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\u3002 - name : include with loop include_tasks : dup-loop-included.yml loop : \"{{ users }}\" - name : 1\u56de\u3060\u3051\u5b9f\u884c\u3057\u305f\u3044\u30bf\u30b9\u30af debug : msg : zzz run_once : true \u3053\u306e\u30bf\u30b9\u30af\u306f users \u306e\u8981\u7d20\u306e\u30eb\u30fc\u30d7\u3054\u3068\u306b\u5f53\u7136\u6bce\u56de\u5b9f\u884c\u3055\u308c\u308b\u3002 \u30eb\u30fc\u30d7\u5185\u3067\u6bce\u56de\u5b9f\u884c\u3055\u308c\u308b\u5fc5\u8981\u304c\u306a\u3044\u306e\u3067\u3042\u308c\u3070\u3001include\u306e\u5916\u3067\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002","title":"\u30eb\u30fc\u30d7\u3068include\u4f75\u7528\u6642\u306b\u30eb\u30fc\u30d7\u306b\u95a2\u4fc2\u306a\u3044\u30bf\u30b9\u30af\u30921\u56de\u3060\u3051\u5b9f\u884c\u3059\u308b\u3053\u3068\u306f\u2026"},{"location":"Ansible/directives/#when","text":"","title":"when"},{"location":"Ansible/directives/#_5","text":"tasks : - module : vars : cond : (bool) when : - cond when \u90e8\u5206\u306f\u5909\u6570\u53c2\u7167\u306e \"{{ values }}\" \u306e\u8868\u8a18\u306f\u4e0d\u8981\u3067\u3001bool\u578b\u306e\u6761\u4ef6\u5f0f\u30fb\u5909\u6570\u3092\u305d\u306e\u307e\u307e\u66f8\u3051\u3070\u826f\u3044\u3002 \u5426\u5b9a\u306f not when : - not disable_foobar \u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb(ini\u5f62\u5f0f)\u306eboolean\u3063\u307d\u3044\u5909\u6570\u3092\u4f7f\u3046\u5834\u5408\u306f bool \u306b\u5909\u63db\u3057\u3066\u4f7f\u3046\u3002 when : - not (flag | bool)","title":"\u57fa\u672c"},{"location":"Ansible/directives/#int","text":"tasks : - name : len bool debug : loop : - 1 - 0 - -1 when : item 0 \u306e\u5834\u5408\u306fskip\u3002 1 , -1 \u306f\u51e6\u7406\u5bfe\u8c61\u3002 ansible-core 2.11.3\u3067\u78ba\u8a8d","title":"\u6761\u4ef6\u304cint\u578b"},{"location":"Ansible/directives/#string","text":"- name : str debug : loop : - \"a\" - \"\" when : item \"\" \u306e\u5834\u5408\u306fskip\u3002 \"a\" \u306e\u5834\u5408\u306f\u51e6\u7406\u3055\u308c\u308b\u3002 ansible-core 2.11.3\u3067\u78ba\u8a8d / 2.9\u3060\u3068\u69cb\u6587\u30a8\u30e9\u30fc(\u6587\u5b57\u5217\u306e\u307f\u306e\u5224\u5b9a\u306f\u3067\u304d\u306a\u3044\u3063\u307d\u3044\uff1f\u4f55\u304b\u3068\u6bd4\u8f03\u3059\u308b\u306a\u3069\u8a55\u4fa1\u3059\u308c\u3070\u3082\u3061\u308d\u3093OK)","title":"\u6761\u4ef6\u304cstring\u578b"},{"location":"Ansible/directives/#_6","text":"when \u306b\u306f\u30ea\u30b9\u30c8\u5f62\u5f0f\u3067\u6761\u4ef6\u3092\u8907\u6570\u6307\u5b9a\u3067\u304d\u308b\u3002\u30ea\u30b9\u30c8\u306e\u5834\u5408\u306f\u300c\u3059\u3079\u3066\u306e\u6761\u4ef6\u304ctrue\u306e\u5834\u5408\u300d\u306b\u30bf\u30b9\u30af\u306f\u5b9f\u884c\u3002 --- - hosts : localhost gather_facts : false vars : cond1 : true cond2 : false tasks : - debug : msg : \"hello\" when : - cond1 - cond2 \u3053\u306e\u5834\u5408\u30b9\u30ad\u30c3\u30d7\u3055\u308c\u308b\u3002","title":"\u30ea\u30b9\u30c8\u3067\u8907\u6570\u6761\u4ef6"},{"location":"Ansible/directives/#or","text":"\u30ea\u30b9\u30c8\u5f62\u5f0f\u306fand\u306b\u306a\u308b\u305f\u3081\u3001 or \u3067\u6761\u4ef6\u3092\u7f85\u5217\u3057\u3066\u4e00\u3064\u306e\u6761\u4ef6\u5f0f\u3068\u3057\u3066\u8a18\u8ff0\u3059\u308b\u3002 when : cond == \"foobar\" or cond == \"bazqux\"","title":"or\u3067\u8907\u6570\u6761\u4ef6"},{"location":"Ansible/directives/#_7","text":"foobar_value \u304c\u672a\u5b9a\u7fa9\u306e\u5834\u5408\u306b\u30bf\u30b9\u30af\u5b9f\u884c\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 when : foobar_value is not defined","title":"\u5b9a\u7fa9\u3055\u308c\u3066\u308b\u5834\u5408/\u3055\u308c\u3066\u306a\u3044\u5834\u5408"},{"location":"Ansible/directives/#become","text":"\u7279\u6a29\u30e6\u30fc\u30b6\u30fc\u3078\u306e\u6607\u683c\u306b\u4f7f\u3046\u5834\u5408\u304c\u591a\u3044\u304c\u3001\u57fa\u672c\u7684\u306b\u306f\u300c\u5225\u30e6\u30fc\u30b6\u30fc\u6a29\u9650\u3067\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u300d\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3002 become_user \u3092\u4f7f\u3048\u3070 su - <USER_NAME> \u306e\u52d5\u4f5c\u306b\u306a\u308b\u3002 \u305f\u3060\u3057\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u6307\u5b9a\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306f\u306a\u3044\u305f\u3081\u3001\u8a8d\u8a3c\u306e\u305f\u3081\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306f ansible_become_password \u5909\u6570\u3092\u4f75\u7528\u3059\u308b\u3002 - name : exec by other user module : become : true become_user : other-user-name vars : ansible_become_password : other-user-password","title":"become"},{"location":"Ansible/directives/#includeimport","text":"Re-using Ansible artifacts \u2014 Ansible Documentation include \u304a\u3088\u3073 import \u2014 Ansible Documentation OSS\u306f\u30a2\u30eb\u30df\u30cb\u30a6\u30e0\u306e\u7ffc\u3067\u98db\u3076: Ansible: include \u306e\u4ee3\u308f\u308a\u306b\u4f7f\u3046 import_xxx, include_yyy \u3068\u306f \u3068\u308a\u3042\u3048\u305a\u30ea\u30f3\u30af","title":"include\u3068import"},{"location":"Ansible/directives/#check-mode","text":"ansible-playbook \u5b9f\u884c\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067 --check \u4ed8\u4e0e\u3067dry run\u306b\u306a\u308b\u304c\u3001 check_mode \u3092\u4f7f\u3046\u3053\u3068\u3067\u30bf\u30b9\u30af\u5358\u4f4d\u3067\u5f37\u5236\u7684\u306b\u30c1\u30a7\u30c3\u30af\u30e2\u30fc\u30c9\u306eon/off\u304c\u3067\u304d\u308b\u3002 - name : command sample copy : src : /home/zaki/tmp.yml dest : /var/tmp mode : '0644' register : result check_mode : false \u3053\u306e\u30d1\u30e9\u30e1\u30bf\u3092 true \u306b\u3059\u308b\u3068\u3001 --check \u3092\u4ed8\u3051\u306a\u304f\u3066\u3082\u30c1\u30a7\u30c3\u30af\u30e2\u30fc\u30c9\u3067\u52d5\u4f5c\u3059\u308b\u3002 false \u306b\u3059\u308b\u3068\u3001 --check \u3067\u52d5\u304b\u3057\u3066\u3082\u30c1\u30a7\u30c3\u30af\u30e2\u30fc\u30c9\u3067\u306a\u304f\u5b9f\u51e6\u7406\u304c\u884c\u308f\u308c\u308b\u3002 --check \u306b\u3064\u3044\u3066\u306f playbook \u53c2\u7167\u3002 \u3061\u306a\u307f\u306b\u3001\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306e always_run \u3068\u6a5f\u80fd\u7684\u306b\u306f\u540c\u3058(\u5024\u306f\u9006) Note Prior to version 2.2 only the equivalent of check_mode: no existed. The notation for that was always_run: yes . https://docs.ansible.com/ansible/2.9/user_guide/playbooks_checkmode.html#enabling-or-disabling-check-mode-for-tasks","title":"check mode"},{"location":"Ansible/directives/#changed_when","text":"\u6761\u4ef6\u304ctrue\u306e\u5834\u5408\u306f\u30bf\u30b9\u30af\u306e\u7d50\u679c\u306b\u95a2\u4fc2\u306a\u304f changed \u5224\u5b9a\u306b\u3059\u308b\u3002\u9006\u306bfalse\u306e\u5834\u5408\u306f ok \u5224\u5b9a\u306b\u3059\u308b\u3002 \u30bf\u30b9\u30af\u306e\u7d50\u679c\u3092 register \u3067\u4fdd\u6301\u3057\u3001\u305d\u306e\u5185\u5bb9\u3092\u6761\u4ef6\u5f0f\u306b\u7d44\u307f\u8fbc\u3080\u306e\u3082OK - name : command always run and no change ansible.builtin.shell : cmd : hogehoge changed_when : exec_result.stdout != '' register : exec_result hogehoge \u306e\u5b9f\u884c\u7d50\u679c\u3067\u6a19\u6e96\u51fa\u529b\u304c\u4f55\u3082\u7121\u3044\u5834\u5408\u306f changed \u306b\u306a\u308b\u3002","title":"changed_when"},{"location":"Ansible/directives/#until","text":"[Ansible] until\u3092\u4f7f\u3063\u3066\u975e\u540c\u671f\u51e6\u7406\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u6b21\u306etask\u3092\u5f85\u3064 - zaki work log \u4f7f\u7528\u4f8b - name : install flannel shell : kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/2140ac876ef134e0ed5af15c65e414cf26827915/Documentation/kube-flannel.yml # todo: apply\u306e\u51e6\u7406\u304cunchanged\u306e\u5834\u5408\u3082\u3001ansible\u3067\u306fchanged\u6271\u3044\u306b\u306a\u3063\u3066\u3044\u308b - name : wait for Node-Ready shell : kubectl get node --no-headers | awk '{print $2}' register : node_state until : node_state.stdout == \"Ready\" retries : 10 delay : 5 changed_when : false # \u5f85\u3064\u3060\u3051\u306a\u306e\u3067\u5f37\u5236no changed initialize-kubeadm-ansible/deploy_cni.yaml at e48d1a86ef9f4d94853c18246708490f842b8058 \u00b7 zaki-lknr/initialize-kubeadm-ansible include_tasks\u3068\u306f\u4f75\u7528\u4e0d\u53ef\uff1f \u624b\u5143\u306e2.10.5\u3067\u3059\u3063\u3054\u304f\u96d1\u306b\u78ba\u8a8d\u3057\u305f\u9650\u308a\u3060\u3068\u3001import_tasks\u306f when: \u6709\u52b9 loop: \u300cloop\u3057\u305f\u3051\u308c\u3070include\u4f7f\u3048\u300d\u3068\u30a8\u30e9\u30fc register: \u7121\u8996\u3055\u308c\u308b until: \u7121\u8996\u3055\u308c\u308b \u3063\u3066\u611f\u3058\u3067\u3057\u305f\u3002 include_tasks\u306b\u3060\u3068loop\u3068register\u306f\u4f7f\u3048\u307e\u3057\u305f\u304c\u3001until\u306fnot valid attribute error\u3067\u3084\u3063\u3071\u308a\u30c0\u30e1\u3063\u307d\u3044\u2026 pic.twitter.com/9CNihs7tvh \u2014 z a k i \ud83c\udf08 (@zaki_hmkc) February 18, 2021","title":"until"},{"location":"Ansible/directives/#async-poll","text":"[Ansible] async\u3068poll\u3092\u4f7f\u3063\u305f\u975e\u540c\u671f\u51e6\u7406\u3068\u30eb\u30fc\u30d7\u306e\u4e26\u5217\u5b9f\u884c - zaki work log","title":"async + poll"},{"location":"Ansible/filter/","text":"\u30d5\u30a3\u30eb\u30bf \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306fAnsible\u3068Jinja2\u4e21\u65b9\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3002 Using filters to manipulate data \u2014 Ansible Documentation Template Designer Documentation \u2014 Jinja Documentation (3.1.x) \u9805\u76ee\u3084\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u306f\u500b\u5225\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3082\u3042\u308b\u3002 ipaddr filter \u2014 Ansible Documentation community.general Filter Guide \u2014 Ansible Documentation \u5b9f\u88c5\u306f\u3053\u306e\u3042\u305f\u308a ansible.builtin ansible/core.py at devel \u00b7 ansible/ansible core\u4ee5\u5916\u306e\u3082\u306e\u306f\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5225\u30bd\u30fc\u30b9\u306b\u3042\u308b\u304b\u3082 jinja2 jinja/filters.py at main \u00b7 pallets/jinja \u30c7\u30d5\u30a9\u30eb\u30c8\u5024 (default) \u672a\u5b9a\u7fa9\u3060\u3063\u305f\u3089\u3053\u306e\u5024\u306b\u7f6e\u304d\u63db\u3048\u308b\u3001\u3068\u3044\u3046\u3082\u306e\u3002 \u4ee5\u4e0b\u306f foobar_values \u304c\u672a\u5b9a\u7fa9\u306e\u5834\u5408\u306f value \u306f zzz \u3068\u306a\u308b\u3002 vars : value : \"{{ foobar_values | default('zzz') }}\" \u3088\u304f\u4f7f\u3046\u306e\u306f\u521d\u671f\u5024\u304c\u7121\u3044\u5834\u5408\u306b\u30eb\u30fc\u30d7\u3067\u30ea\u30b9\u30c8\u3092\u4f5c\u308b\u3068\u304d\u3002 - name : curry debug : msg : \"{{ item }}\" loop : \"{{ yasai + (niku | default([])) }}\" \u3068\u304b - name : set_fact list value vars : list_values : - item1 - item2 - item3 set_fact : list_items : \"{{ list_items|default([]) + [item] }}\" loop : \"{{ list_values }}\" \u672a\u5b9a\u7fa9\u3067\u306a\u304ffalse\u3060\u3063\u305f\u3089\u7f6e\u304d\u63db\u3048\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u7b2c2\u5f15\u6570\u306b true \u3092\u30bb\u30c3\u30c8\u3059\u308b\u3002 {{ '' | default('the string was empty' , true) }} jinja-filters.default [Ansible] \u7701\u7565\u3057\u305f\u3044\u30d1\u30e9\u30e1\u30bf\u306b\u5909\u6570\u6307\u5b9a\u305b\u3056\u308b\u3092\u5f97\u306a\u3044\u5834\u5408\u306b\u4f7f\u3046\u5909\u6570omit\u3068default\u30d5\u30a3\u30eb\u30bf - zaki work log [Ansible] \u30ea\u30b9\u30c8\u9023\u7d50\u6642\u306bdefault\u3092\u4f7f\u3063\u3066\u672a\u5b9a\u7fa9\u306e\u5834\u5408\u306f\u7a7a\u30ea\u30b9\u30c8\u3068\u3057\u3066\u51e6\u7406\u3059\u308b - zaki work log \u4e09\u9805\u6f14\u7b97\u5b50 ternary \u3092\u4f7f\u3046\u3002 Defining different values for true/false/null (ternary) - name : ternary sample debug : msg : \"{{ (sample_value == 1) | ternary('sample_value\u306f1\u3060\u3088', 'sample_value\u306f1\u3058\u3083\u306a\u3044\u3088') }}\" # \u3084\u3063\u3066\u308b\u3053\u3068\u306f (sample_value == 1) ? 'sample_value\u306f1\u3060\u3088': 'sample_value\u306f1\u3058\u3083\u306a\u3044\u3088' \u3068\u540c\u3058 - name : ternary nest sample debug : msg : \"{{ (sample_value == 1) | ternary('sample_value\u306f1\u3060\u3088', (sample_value == 2) | ternary('sample_value\u306f2\u3060\u3088', 'sample_value\u306f1\u3067\u30822\u3067\u3082\u306a\u3044\u3088') ) }}\" # \u5165\u308c\u5b50\u306b\u3057\u305fternary() - name : ternary nest sample debug : msg : \"{{ (sample_value == 1) | ternary('sample_value\u306f1\u3060\u3088', undefined) | default((sample_value == 2) | ternary('sample_value\u306f2\u3060\u3088', 'sample_value\u306f1\u3067\u30822\u3067\u3082\u306a\u3044\u3088') ) }}\" # \u5165\u308c\u5b50\u306b\u305b\u305a\u306b\u3001default\u30d5\u30a3\u30eb\u30bf\u3092\u4f75\u7528\u3002\u30d4\u30bf\u30b4\u30e9\u30b9\u30a4\u30c3\u30c1\u611f\u3002 # if-elsif-else \u3063\u307d\u304f\u898b\u305b\u308b\u30a4\u30f3\u30c7\u30f3\u30c8\u96e3\u3057\u3044 \u8f9e\u66f8\u3092 { key=\u8f9e\u66f8\u306e\u30ad\u30fc\u540d, value=\u8f9e\u66f8\u306evalue\u30c7\u30fc\u30bf } \u306e\u30ea\u30b9\u30c8\u306b\u5909\u63db dict2items \u3092\u4f7f\u3046\u3002 Transforming dictionaries into lists --- - hosts : localhost gather_facts : false tasks : - name : dict2items sample vars : menu : curry : vegetable : - carrot - potato - onion meat : - cow chicken : pasta : vegetable : - spinach - garlic debug : msg : \"{{ menu | dict2items }}\" \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 \"msg\" : [ { \"key\" : \"curry\" , \"value\" : { \"chicken\" : null , \"meat\" : [ \"cow\" ], \"vegetable\" : [ \"carrot\" , \"potato\" , \"onion\" ] } }, { \"key\" : \"pasta\" , \"value\" : { \"vegetable\" : [ \"spinach\" , \"garlic\" ] } } ] ansible-sample/dict2items.yml at master \u00b7 zaki-lknr/ansible-sample \u691c\u7d22 (select / selectattr) [Ansible / Jinja2] select / selectattr \u3092\u4f7f\u3063\u305f\u914d\u5217\u3068\u8f9e\u66f8\u306e\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0 - zaki work log \u30ea\u30b9\u30c8\u8981\u7d20\u3078\u306e\u4e00\u5f8b\u51e6\u7406 (map) \u5225\u30d5\u30a3\u30eb\u30bf\u306e\u9069\u7528 \"{{ items | map('length') }}\" \u30ea\u30b9\u30c8 items \u306e\u5404\u8981\u7d20\u306b\u5bfe\u3057\u3066 length \u30d5\u30a3\u30eb\u30bf\u3092\u304b\u307e\u3059 \u8981\u7d20\u629c\u304d\u51fa\u3057 \u8f9e\u66f8\u306e\u30ad\u30fc\u3092 attribute \u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u5404\u8981\u7d20(\u8f9e\u66f8\u578b\u304b\u3089\u306a\u308b)\u306e\u6307\u5b9a\u30ad\u30fc\u306e\u5024\u306e\u307f\u629c\u304d\u51fa\u3059\u3002 \"{{ items | map(attribute='hostname') }}\" \u30ad\u30fc\u304c\u7121\u3044\u5834\u5408\u306f AnsibleUndefined \u306b\u306a\u308b\u304c\u3001\u30aa\u30d7\u30b7\u30e7\u30f3\u304b\u66f4\u306b\u30d5\u30a3\u30eb\u30bf\u3059\u308b\u3053\u3068\u3067\u5bfe\u51e6\u3067\u304d\u308b\u3002 default \u3092\u6307\u5b9a\u3059\u308c\u3070\u30ad\u30fc\u304c\u7121\u3044\u5834\u5408\u306f\u305d\u306e\u5024\u306b\u7f6e\u304d\u63db\u3048\u308b\u3002 \"{{ items | map(attribute='hostname', default='no data') }}\" select \u3092\u4f7f\u3063\u305f\u30d5\u30a3\u30eb\u30bf\u306b\u7e4b\u3052\u308c\u3070\u3001undef\u306e\u9805\u76ee\u3092\u9664\u5916\u3082\u3067\u304d\u308b\u3002 \"{{ items | map(attribute='hostname') | select('none') }}\" none \u306f Jinja2\u306eTest \u306e\u4e00\u3064\u3002 \u30ea\u30b9\u30c8\u306e\u5148\u982d\u30fb\u672b\u5c3e\u8981\u7d20 array[0] , array[-1] \u3067\u3082\u4e00\u7dd2\u3068\u3044\u3048\u3070\u4e00\u7dd2\u3060\u3051\u3069\u3002 \u51fa\u5c55\u306fJinja2\u306e\u30d5\u30a3\u30eb\u30bf\u3002 first last - name : first vars : list : - item1 - item2 - item3 foobar : hogehoge debug : msg : - \"{{ list | first }}\" - \"{{ list[0] }}\" - \"{{ list | last }}\" - \"{{ list[-1] }}\" \u7d50\u679c TASK [ first ] ******************************************* ok : [ localhost ] => msg : - item1 - item1 - item3 - item3 \u3061\u306a\u307f\u306b\u3001\u6587\u5b57\u5217\u578b\u306e\u5834\u5408\u3067\u3082iterable\u306a\u306e\u3067\u3001\u4e00\u6587\u5b57\u76ee\u30fb\u6700\u5f8c\u306e\u6587\u5b57\u304c\u53d6\u308c\u308b\u3002 \u30ea\u30b9\u30c8\u304b\u3089\u8981\u7d20\u306e\u9664\u5916(difference) \u30ea\u30b9\u30c8\u304b\u3089\u7279\u5b9a\u8981\u7d20\u3092\u9664\u5916\u3059\u308b\u306b\u306f difference \u30d5\u30a3\u30eb\u30bf\u3092\u4f7f\u3046\u3002 \u5165\u529b\u306e\u30ea\u30b9\u30c8\u306e\u8981\u7d20\u304b\u3089\u3001 difference \u30d5\u30a3\u30eb\u30bf\u306e\u5f15\u6570\u306b\u6307\u5b9a\u3057\u305f\u30ea\u30b9\u30c8\u306e\u8981\u7d20\u3092\u9664\u5916\u3057\u305f\u30ea\u30b9\u30c8\u3092\u8fd4\u3059\u3002 difference \u306b\u3082\u30ea\u30b9\u30c8\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b(iterable\u306a\u5909\u6570\u3067\u306a\u3051\u308c\u3070\u30a8\u30e9\u30fc\u3068\u306a\u308b) --- - hosts : localhost vars : int_list1 : [ 1 , 2 , 3 ] int_list2 : [ 3 , 4 ] tasks : - name : defference filter sample debug : msg : - \"{{ int_list1 | difference(int_list2) }}\" \u51fa\u529b\u306f [1, 2] \u306b\u306a\u308b\u3002 \u306a\u304a\u3001\u6587\u5b57\u5217\u306e\u5834\u5408\u306f\u5143\u3005iterable\u306e\u305f\u3081\u3001 difference \u306e\u5f15\u6570\u306f\u30ea\u30b9\u30c8\u3067\u306a\u304f\u3066\u3082\u4e00\u5fdc\u52d5\u4f5c\u3059\u308b\u3002 --- - hosts : localhost vars : list1 : [ \"foo\" , \"bar\" , \"baz\" ] list2 : [ \"baz\" , \"qux\" ] str_item : \"baz\" tasks : - name : defference filter sample debug : msg : - \"{{ list1 | difference(list2) }}\" - \"{{ list1 | difference(str_item) }}\" \u3069\u3061\u3089\u306e\u7d50\u679c\u3082 [\"foo\", \"bar\"] \u306b\u306a\u308b\u3002 \u8f9e\u66f8\u306e\u30de\u30fc\u30b8(combine) - name : merge 2 dicts vars : var1 : list1 : - item1 - item2 var2 : list2 : - itemA - itemB debug : msg : \"{{ var1 | combine(var2) }}\" 2\u3064\u306e\u8f9e\u66f8\u3092\u30de\u30fc\u30b8\u3059\u308b\u3002 \u91cd\u8907\u30ad\u30fc\u306e\u7121\u3044\u8f9e\u66f8\u540c\u58eb\u306f\u5358\u7d14\u5408\u6210\u306b\u306a\u308a\u3001\u4e0a\u306e\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 TASK [merge 2 dicts] ********************************************* ok: [localhost] => { \"msg\": { \"list1\": [ \"item1\", \"item2\" ], \"list2\": [ \"itemA\", \"itemB\" ] } } \u540c\u3058\u30ad\u30fc\u3092\u542b\u3080\u5834\u5408\u306f\u4e0a\u66f8\u304d\u3059\u308b\u3002 - name : merge 2 dicts vars : var1 : list1 : - item1 - item2 var2 : list1 : - item3 list2 : - itemA - itemB debug : msg : \"{{ var1 | combine(var2) }}\" combine \u3059\u308b\u8f9e\u66f8\u306b\u540c\u3058 lsit1 \u30ad\u30fc\u3092\u542b\u3080\u5834\u5408\u3001\u3053\u306e\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3001 combine \u306b\u6307\u5b9a\u3057\u305f\u8f9e\u66f8\u5074\u306e list1 \u30ad\u30fc\u306e\u5024\u3067\u4e0a\u66f8\u304d\u3055\u308c\u308b\u3002 TASK [merge 2 dicts] ****************************************************************** ok: [localhost] => { \"msg\": { \"list1\": [ \"item3\" ], \"list2\": [ \"itemA\", \"itemB\" ] } } list_merge \u8f9e\u66f8\u306e\u8981\u7d20\u304c\u30ea\u30b9\u30c8\u306e\u5834\u5408\u3001\u30ad\u30fc\u304c\u540c\u3058\u5834\u5408\u306e\u4e0a\u66f8\u304d\u52d5\u4f5c\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u3001 list_merge \u30d1\u30e9\u30e1\u30bf\u3067\u52d5\u4f5c\u3092\u5909\u66f4\u3067\u304d\u308b\u3002 append \u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u8981\u7d20\u306e\u672b\u5c3e\u306b\u8ffd\u52a0\u3002 - name : merge 2 dicts vars : var1 : list1 : - item1 - item2 var2 : list1 : - item3 list2 : - itemA - itemB debug : msg : \"{{ var1 | combine(var2, list_merge='append') }}\" list1 \u30ad\u30fc\u304c\u91cd\u8907\u3057\u305f\u5165\u529b\u3067\u3001 list_merge=append \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306e\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 TASK [merge 2 dicts] ********************************************* ok: [localhost] => { \"msg\": { \"list1\": [ \"item1\", \"item2\", \"item3\" ], \"list2\": [ \"itemA\", \"itemB\" ] } } list1 \u30ad\u30fc\u306e\u5024\u306e\u30ea\u30b9\u30c8\u3082\u30de\u30fc\u30b8( combime \u306e\u5f15\u6570\u306b\u6307\u5b9a\u3059\u308b\u65b9\u304c\u672b\u5c3e\u306b\u8ffd\u52a0)\u3055\u308c\u3066\u3044\u308b\u3002 list_merge \u306b\u6307\u5b9a\u3067\u304d\u308b\u30d1\u30e9\u30e1\u30bf\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 \u30d1\u30e9\u30e1\u30bf \u52d5\u4f5c append \u672b\u5c3e\u306b\u8ffd\u52a0 prepend \u5148\u982d\u306b\u8ffd\u52a0 append_rp \u672b\u5c3e\u306b\u8ffd\u52a0 (\u91cd\u8907\u6642\u306b\u65e2\u5b58\u8981\u7d20\u306f\u524a\u9664) prepend_rp \u5148\u982d\u306b\u8ffd\u52a0 (\u91cd\u8907\u6642\u306b\u65e2\u5b58\u8981\u7d20\u306f\u524a\u9664) append_rp \u306e\u52d5\u4f5c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 - name : merge 2 dicts vars : var1 : list1 : - item1 - item2 var2 : list1 : - item3 - item1 - item4 list2 : - itemA - itemB debug : msg : \"{{ var1 | combine(var2, list_merge='append_rp') }}\" \u3053\u306e\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u901a\u308a\u3002 \u30ea\u30b9\u30c8\u8981\u7d20\u306b\u3069\u3061\u3089\u3082 item1 \u304c\u542b\u307e\u308c\u308b\u305f\u3081\u3053\u308c\u304c var1 \u304b\u3089\u524a\u9664\u3055\u308c\u3001 var2 \u306e\u8981\u7d20( item3 , item1 , item4 )\u304c\u672b\u5c3e\u3078\u8ffd\u52a0\u3055\u308c\u308b\u3002 TASK [merge 2 dicts] ********************************************* ok: [localhost] => { \"msg\": { \"list1\": [ \"item2\", \"item3\", \"item1\", \"item4\" ], \"list2\": [ \"itemA\", \"itemB\" ] } } prepend_rp \u306e\u52d5\u4f5c\u306f\u3001\u2191\u3068\u540c\u3058\u6761\u4ef6\u3067\u30d1\u30e9\u30e1\u30bf\u306e\u307f\u5909\u66f4\u3057\u3066\u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u901a\u308a\u3002 \u91cd\u8907\u3059\u308b item1 \u304c var1 \u304b\u3089\u524a\u9664\u3055\u308c\u308b\u52d5\u4f5c\u306f\u540c\u3058\u3067\u3001 var2 \u306e\u8981\u7d20( item3 , item1 , item4 )\u304c\u5148\u982d\u3078\u8ffd\u52a0\u3055\u308c\u308b\u3002 TASK [merge 2 dicts] ********************************************* ok: [localhost] => { \"msg\": { \"list1\": [ \"item3\", \"item1\", \"item4\", \"item2\" ], \"list2\": [ \"itemA\", \"itemB\" ] } } \u30d1\u30b9\u51e6\u7406 \u30d1\u30b9\u306e\u5408\u6210 (path_join) path_join \u3092\u4f7f\u3046\u3068\u3001\u30ea\u30b9\u30c8\u306e\u6587\u5b57\u5217\u3092\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30bb\u30d1\u30ec\u30fc\u30bf\u3067\u7e4b\u3050\u3002 - name : create repository url debug : msg : - \"{{ (registry_url, registry_username, 'awx') | path_join }}\" registry_username = zaki-lknr registry_url = ghcr.io \u3068\u3044\u3046\u5909\u6570\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308c\u3070\u3001\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 TASK [create repository url] ************************************ ok: [oci-g-a1-ubuntu] => msg: - ghcr.io/zaki-lknr/awx \u6697\u53f7\u5316\u30d1\u30b9\u30ef\u30fc\u30c9 How do I generate encrypted passwords for the user module? Encrypting and checksumming strings and passwords password_hash password : \"{{ password_plain_text | password_hash('sha512') }}\" \u30c7\u30d5\u30a9\u30eb\u30c8\u306f sha512 \u3067\u6697\u53f7\u5316\u3055\u308c\u308b\u3002 https://github.com/ansible/ansible/blob/v2.10.5/lib/ansible/plugins/filter/core.py#L266 def get_encrypted_password (password, hashtype = 'sha512' , salt = None , salt_size = None , rounds = None ): salt\u306e\u6307\u5b9a\u304c\u7121\u3044\u5834\u5408\u306f\u30e9\u30f3\u30c0\u30e0\u306b\u306a\u308b\u305f\u3081\u3001\u5b9f\u884c\u306e\u305f\u3073\u306b\u7d50\u679c\u306e\u5024\u306f\u5909\u5316\u3059\u308b\u3002(\u3064\u307e\u308a\u3001\u3053\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u305f\u308a\u3059\u308c\u3070\u6bce\u56de changed \u306b\u306a\u308b) \u51aa\u7b49\u306b\u3057\u305f\u3051\u308c\u3070\u3001salt\u306b\u56fa\u5b9a\u306e\u5024\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3002 password : \"{{ password_plain_text | password_hash('sha512', 'hoge') }}\" Linux \u306e UNIX \u30d1\u30b9\u30ef\u30fc\u30c9\u8a8d\u8a3c\u306b\u3064\u3044\u3066\u8abf\u3079\u305f - CUBE SUGAR CONTAINER \u3010CentOS\u3011/etc/shadow\u306e\u30cf\u30c3\u30b7\u30e5\u5316\u30d1\u30b9\u30ef\u30fc\u30c9\u306b\u3064\u3044\u3066 - \u3088\u304f\u308f\u304b\u3089\u306a\u3044\u30a8\u30f3\u30b8\u30cb\u30a2 base64 \u30a8\u30f3\u30b3\u30fc\u30c9 - name : base64 enc vars : sample_text : zaki debug : msg : \"{{ sample_text | b64encode }}\" \u2193 ok: [localhost] => msg: emFraQ== \u30c7\u30b3\u30fc\u30c9 - name : base64 dec vars : b64text : emFraQ== debug : msg : \"{{ b64text | b64decode }}\" \u2193 ok: [localhost] => msg: zaki \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u578b\u3092\u8abf\u3079\u308b (type_debug) \u4efb\u610f\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u578b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u306b\u306f type_debug \u3092\u4f7f\u3046\u3002 - name: type debug debug: msg: \"{{ item }}\" vars: num_val: 1 str_val: zzz list_val: - item1 - item2 - item3 dict_val: key1: val1 key2: val2 key3: val3 loop: - \"{{ num_val | type_debug }}\" - \"{{ str_val | type_debug }}\" - \"{{ list_val | type_debug }}\" - \"{{ dict_val | type_debug }}\" \u7d50\u679c TASK [type debug] *********************************************************** ok: [localhost] => (item=int) => msg: int ok: [localhost] => (item=AnsibleUnicode) => msg: AnsibleUnicode ok: [localhost] => (item=list) => msg: list ok: [localhost] => (item=dict) => msg: dict","title":"\u30d5\u30a3\u30eb\u30bf"},{"location":"Ansible/filter/#_1","text":"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306fAnsible\u3068Jinja2\u4e21\u65b9\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3002 Using filters to manipulate data \u2014 Ansible Documentation Template Designer Documentation \u2014 Jinja Documentation (3.1.x) \u9805\u76ee\u3084\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u306f\u500b\u5225\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3082\u3042\u308b\u3002 ipaddr filter \u2014 Ansible Documentation community.general Filter Guide \u2014 Ansible Documentation \u5b9f\u88c5\u306f\u3053\u306e\u3042\u305f\u308a ansible.builtin ansible/core.py at devel \u00b7 ansible/ansible core\u4ee5\u5916\u306e\u3082\u306e\u306f\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5225\u30bd\u30fc\u30b9\u306b\u3042\u308b\u304b\u3082 jinja2 jinja/filters.py at main \u00b7 pallets/jinja","title":"\u30d5\u30a3\u30eb\u30bf"},{"location":"Ansible/filter/#default","text":"\u672a\u5b9a\u7fa9\u3060\u3063\u305f\u3089\u3053\u306e\u5024\u306b\u7f6e\u304d\u63db\u3048\u308b\u3001\u3068\u3044\u3046\u3082\u306e\u3002 \u4ee5\u4e0b\u306f foobar_values \u304c\u672a\u5b9a\u7fa9\u306e\u5834\u5408\u306f value \u306f zzz \u3068\u306a\u308b\u3002 vars : value : \"{{ foobar_values | default('zzz') }}\" \u3088\u304f\u4f7f\u3046\u306e\u306f\u521d\u671f\u5024\u304c\u7121\u3044\u5834\u5408\u306b\u30eb\u30fc\u30d7\u3067\u30ea\u30b9\u30c8\u3092\u4f5c\u308b\u3068\u304d\u3002 - name : curry debug : msg : \"{{ item }}\" loop : \"{{ yasai + (niku | default([])) }}\" \u3068\u304b - name : set_fact list value vars : list_values : - item1 - item2 - item3 set_fact : list_items : \"{{ list_items|default([]) + [item] }}\" loop : \"{{ list_values }}\" \u672a\u5b9a\u7fa9\u3067\u306a\u304ffalse\u3060\u3063\u305f\u3089\u7f6e\u304d\u63db\u3048\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u7b2c2\u5f15\u6570\u306b true \u3092\u30bb\u30c3\u30c8\u3059\u308b\u3002 {{ '' | default('the string was empty' , true) }} jinja-filters.default [Ansible] \u7701\u7565\u3057\u305f\u3044\u30d1\u30e9\u30e1\u30bf\u306b\u5909\u6570\u6307\u5b9a\u305b\u3056\u308b\u3092\u5f97\u306a\u3044\u5834\u5408\u306b\u4f7f\u3046\u5909\u6570omit\u3068default\u30d5\u30a3\u30eb\u30bf - zaki work log [Ansible] \u30ea\u30b9\u30c8\u9023\u7d50\u6642\u306bdefault\u3092\u4f7f\u3063\u3066\u672a\u5b9a\u7fa9\u306e\u5834\u5408\u306f\u7a7a\u30ea\u30b9\u30c8\u3068\u3057\u3066\u51e6\u7406\u3059\u308b - zaki work log","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 (default)"},{"location":"Ansible/filter/#_2","text":"ternary \u3092\u4f7f\u3046\u3002 Defining different values for true/false/null (ternary) - name : ternary sample debug : msg : \"{{ (sample_value == 1) | ternary('sample_value\u306f1\u3060\u3088', 'sample_value\u306f1\u3058\u3083\u306a\u3044\u3088') }}\" # \u3084\u3063\u3066\u308b\u3053\u3068\u306f (sample_value == 1) ? 'sample_value\u306f1\u3060\u3088': 'sample_value\u306f1\u3058\u3083\u306a\u3044\u3088' \u3068\u540c\u3058 - name : ternary nest sample debug : msg : \"{{ (sample_value == 1) | ternary('sample_value\u306f1\u3060\u3088', (sample_value == 2) | ternary('sample_value\u306f2\u3060\u3088', 'sample_value\u306f1\u3067\u30822\u3067\u3082\u306a\u3044\u3088') ) }}\" # \u5165\u308c\u5b50\u306b\u3057\u305fternary() - name : ternary nest sample debug : msg : \"{{ (sample_value == 1) | ternary('sample_value\u306f1\u3060\u3088', undefined) | default((sample_value == 2) | ternary('sample_value\u306f2\u3060\u3088', 'sample_value\u306f1\u3067\u30822\u3067\u3082\u306a\u3044\u3088') ) }}\" # \u5165\u308c\u5b50\u306b\u305b\u305a\u306b\u3001default\u30d5\u30a3\u30eb\u30bf\u3092\u4f75\u7528\u3002\u30d4\u30bf\u30b4\u30e9\u30b9\u30a4\u30c3\u30c1\u611f\u3002 # if-elsif-else \u3063\u307d\u304f\u898b\u305b\u308b\u30a4\u30f3\u30c7\u30f3\u30c8\u96e3\u3057\u3044","title":"\u4e09\u9805\u6f14\u7b97\u5b50"},{"location":"Ansible/filter/#key-valuevalue","text":"dict2items \u3092\u4f7f\u3046\u3002 Transforming dictionaries into lists --- - hosts : localhost gather_facts : false tasks : - name : dict2items sample vars : menu : curry : vegetable : - carrot - potato - onion meat : - cow chicken : pasta : vegetable : - spinach - garlic debug : msg : \"{{ menu | dict2items }}\" \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 \"msg\" : [ { \"key\" : \"curry\" , \"value\" : { \"chicken\" : null , \"meat\" : [ \"cow\" ], \"vegetable\" : [ \"carrot\" , \"potato\" , \"onion\" ] } }, { \"key\" : \"pasta\" , \"value\" : { \"vegetable\" : [ \"spinach\" , \"garlic\" ] } } ] ansible-sample/dict2items.yml at master \u00b7 zaki-lknr/ansible-sample","title":"\u8f9e\u66f8\u3092{ key=\u8f9e\u66f8\u306e\u30ad\u30fc\u540d, value=\u8f9e\u66f8\u306evalue\u30c7\u30fc\u30bf }\u306e\u30ea\u30b9\u30c8\u306b\u5909\u63db"},{"location":"Ansible/filter/#select-selectattr","text":"[Ansible / Jinja2] select / selectattr \u3092\u4f7f\u3063\u305f\u914d\u5217\u3068\u8f9e\u66f8\u306e\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0 - zaki work log","title":"\u691c\u7d22 (select / selectattr)"},{"location":"Ansible/filter/#map","text":"","title":"\u30ea\u30b9\u30c8\u8981\u7d20\u3078\u306e\u4e00\u5f8b\u51e6\u7406 (map)"},{"location":"Ansible/filter/#_3","text":"\"{{ items | map('length') }}\" \u30ea\u30b9\u30c8 items \u306e\u5404\u8981\u7d20\u306b\u5bfe\u3057\u3066 length \u30d5\u30a3\u30eb\u30bf\u3092\u304b\u307e\u3059","title":"\u5225\u30d5\u30a3\u30eb\u30bf\u306e\u9069\u7528"},{"location":"Ansible/filter/#_4","text":"\u8f9e\u66f8\u306e\u30ad\u30fc\u3092 attribute \u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u5404\u8981\u7d20(\u8f9e\u66f8\u578b\u304b\u3089\u306a\u308b)\u306e\u6307\u5b9a\u30ad\u30fc\u306e\u5024\u306e\u307f\u629c\u304d\u51fa\u3059\u3002 \"{{ items | map(attribute='hostname') }}\" \u30ad\u30fc\u304c\u7121\u3044\u5834\u5408\u306f AnsibleUndefined \u306b\u306a\u308b\u304c\u3001\u30aa\u30d7\u30b7\u30e7\u30f3\u304b\u66f4\u306b\u30d5\u30a3\u30eb\u30bf\u3059\u308b\u3053\u3068\u3067\u5bfe\u51e6\u3067\u304d\u308b\u3002 default \u3092\u6307\u5b9a\u3059\u308c\u3070\u30ad\u30fc\u304c\u7121\u3044\u5834\u5408\u306f\u305d\u306e\u5024\u306b\u7f6e\u304d\u63db\u3048\u308b\u3002 \"{{ items | map(attribute='hostname', default='no data') }}\" select \u3092\u4f7f\u3063\u305f\u30d5\u30a3\u30eb\u30bf\u306b\u7e4b\u3052\u308c\u3070\u3001undef\u306e\u9805\u76ee\u3092\u9664\u5916\u3082\u3067\u304d\u308b\u3002 \"{{ items | map(attribute='hostname') | select('none') }}\" none \u306f Jinja2\u306eTest \u306e\u4e00\u3064\u3002","title":"\u8981\u7d20\u629c\u304d\u51fa\u3057"},{"location":"Ansible/filter/#_5","text":"array[0] , array[-1] \u3067\u3082\u4e00\u7dd2\u3068\u3044\u3048\u3070\u4e00\u7dd2\u3060\u3051\u3069\u3002 \u51fa\u5c55\u306fJinja2\u306e\u30d5\u30a3\u30eb\u30bf\u3002 first last - name : first vars : list : - item1 - item2 - item3 foobar : hogehoge debug : msg : - \"{{ list | first }}\" - \"{{ list[0] }}\" - \"{{ list | last }}\" - \"{{ list[-1] }}\" \u7d50\u679c TASK [ first ] ******************************************* ok : [ localhost ] => msg : - item1 - item1 - item3 - item3 \u3061\u306a\u307f\u306b\u3001\u6587\u5b57\u5217\u578b\u306e\u5834\u5408\u3067\u3082iterable\u306a\u306e\u3067\u3001\u4e00\u6587\u5b57\u76ee\u30fb\u6700\u5f8c\u306e\u6587\u5b57\u304c\u53d6\u308c\u308b\u3002","title":"\u30ea\u30b9\u30c8\u306e\u5148\u982d\u30fb\u672b\u5c3e\u8981\u7d20"},{"location":"Ansible/filter/#difference","text":"\u30ea\u30b9\u30c8\u304b\u3089\u7279\u5b9a\u8981\u7d20\u3092\u9664\u5916\u3059\u308b\u306b\u306f difference \u30d5\u30a3\u30eb\u30bf\u3092\u4f7f\u3046\u3002 \u5165\u529b\u306e\u30ea\u30b9\u30c8\u306e\u8981\u7d20\u304b\u3089\u3001 difference \u30d5\u30a3\u30eb\u30bf\u306e\u5f15\u6570\u306b\u6307\u5b9a\u3057\u305f\u30ea\u30b9\u30c8\u306e\u8981\u7d20\u3092\u9664\u5916\u3057\u305f\u30ea\u30b9\u30c8\u3092\u8fd4\u3059\u3002 difference \u306b\u3082\u30ea\u30b9\u30c8\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b(iterable\u306a\u5909\u6570\u3067\u306a\u3051\u308c\u3070\u30a8\u30e9\u30fc\u3068\u306a\u308b) --- - hosts : localhost vars : int_list1 : [ 1 , 2 , 3 ] int_list2 : [ 3 , 4 ] tasks : - name : defference filter sample debug : msg : - \"{{ int_list1 | difference(int_list2) }}\" \u51fa\u529b\u306f [1, 2] \u306b\u306a\u308b\u3002 \u306a\u304a\u3001\u6587\u5b57\u5217\u306e\u5834\u5408\u306f\u5143\u3005iterable\u306e\u305f\u3081\u3001 difference \u306e\u5f15\u6570\u306f\u30ea\u30b9\u30c8\u3067\u306a\u304f\u3066\u3082\u4e00\u5fdc\u52d5\u4f5c\u3059\u308b\u3002 --- - hosts : localhost vars : list1 : [ \"foo\" , \"bar\" , \"baz\" ] list2 : [ \"baz\" , \"qux\" ] str_item : \"baz\" tasks : - name : defference filter sample debug : msg : - \"{{ list1 | difference(list2) }}\" - \"{{ list1 | difference(str_item) }}\" \u3069\u3061\u3089\u306e\u7d50\u679c\u3082 [\"foo\", \"bar\"] \u306b\u306a\u308b\u3002","title":"\u30ea\u30b9\u30c8\u304b\u3089\u8981\u7d20\u306e\u9664\u5916(difference)"},{"location":"Ansible/filter/#combine","text":"- name : merge 2 dicts vars : var1 : list1 : - item1 - item2 var2 : list2 : - itemA - itemB debug : msg : \"{{ var1 | combine(var2) }}\" 2\u3064\u306e\u8f9e\u66f8\u3092\u30de\u30fc\u30b8\u3059\u308b\u3002 \u91cd\u8907\u30ad\u30fc\u306e\u7121\u3044\u8f9e\u66f8\u540c\u58eb\u306f\u5358\u7d14\u5408\u6210\u306b\u306a\u308a\u3001\u4e0a\u306e\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 TASK [merge 2 dicts] ********************************************* ok: [localhost] => { \"msg\": { \"list1\": [ \"item1\", \"item2\" ], \"list2\": [ \"itemA\", \"itemB\" ] } } \u540c\u3058\u30ad\u30fc\u3092\u542b\u3080\u5834\u5408\u306f\u4e0a\u66f8\u304d\u3059\u308b\u3002 - name : merge 2 dicts vars : var1 : list1 : - item1 - item2 var2 : list1 : - item3 list2 : - itemA - itemB debug : msg : \"{{ var1 | combine(var2) }}\" combine \u3059\u308b\u8f9e\u66f8\u306b\u540c\u3058 lsit1 \u30ad\u30fc\u3092\u542b\u3080\u5834\u5408\u3001\u3053\u306e\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3001 combine \u306b\u6307\u5b9a\u3057\u305f\u8f9e\u66f8\u5074\u306e list1 \u30ad\u30fc\u306e\u5024\u3067\u4e0a\u66f8\u304d\u3055\u308c\u308b\u3002 TASK [merge 2 dicts] ****************************************************************** ok: [localhost] => { \"msg\": { \"list1\": [ \"item3\" ], \"list2\": [ \"itemA\", \"itemB\" ] } }","title":"\u8f9e\u66f8\u306e\u30de\u30fc\u30b8(combine)"},{"location":"Ansible/filter/#list_merge","text":"\u8f9e\u66f8\u306e\u8981\u7d20\u304c\u30ea\u30b9\u30c8\u306e\u5834\u5408\u3001\u30ad\u30fc\u304c\u540c\u3058\u5834\u5408\u306e\u4e0a\u66f8\u304d\u52d5\u4f5c\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u3001 list_merge \u30d1\u30e9\u30e1\u30bf\u3067\u52d5\u4f5c\u3092\u5909\u66f4\u3067\u304d\u308b\u3002 append \u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u8981\u7d20\u306e\u672b\u5c3e\u306b\u8ffd\u52a0\u3002 - name : merge 2 dicts vars : var1 : list1 : - item1 - item2 var2 : list1 : - item3 list2 : - itemA - itemB debug : msg : \"{{ var1 | combine(var2, list_merge='append') }}\" list1 \u30ad\u30fc\u304c\u91cd\u8907\u3057\u305f\u5165\u529b\u3067\u3001 list_merge=append \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306e\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 TASK [merge 2 dicts] ********************************************* ok: [localhost] => { \"msg\": { \"list1\": [ \"item1\", \"item2\", \"item3\" ], \"list2\": [ \"itemA\", \"itemB\" ] } } list1 \u30ad\u30fc\u306e\u5024\u306e\u30ea\u30b9\u30c8\u3082\u30de\u30fc\u30b8( combime \u306e\u5f15\u6570\u306b\u6307\u5b9a\u3059\u308b\u65b9\u304c\u672b\u5c3e\u306b\u8ffd\u52a0)\u3055\u308c\u3066\u3044\u308b\u3002 list_merge \u306b\u6307\u5b9a\u3067\u304d\u308b\u30d1\u30e9\u30e1\u30bf\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 \u30d1\u30e9\u30e1\u30bf \u52d5\u4f5c append \u672b\u5c3e\u306b\u8ffd\u52a0 prepend \u5148\u982d\u306b\u8ffd\u52a0 append_rp \u672b\u5c3e\u306b\u8ffd\u52a0 (\u91cd\u8907\u6642\u306b\u65e2\u5b58\u8981\u7d20\u306f\u524a\u9664) prepend_rp \u5148\u982d\u306b\u8ffd\u52a0 (\u91cd\u8907\u6642\u306b\u65e2\u5b58\u8981\u7d20\u306f\u524a\u9664) append_rp \u306e\u52d5\u4f5c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 - name : merge 2 dicts vars : var1 : list1 : - item1 - item2 var2 : list1 : - item3 - item1 - item4 list2 : - itemA - itemB debug : msg : \"{{ var1 | combine(var2, list_merge='append_rp') }}\" \u3053\u306e\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u901a\u308a\u3002 \u30ea\u30b9\u30c8\u8981\u7d20\u306b\u3069\u3061\u3089\u3082 item1 \u304c\u542b\u307e\u308c\u308b\u305f\u3081\u3053\u308c\u304c var1 \u304b\u3089\u524a\u9664\u3055\u308c\u3001 var2 \u306e\u8981\u7d20( item3 , item1 , item4 )\u304c\u672b\u5c3e\u3078\u8ffd\u52a0\u3055\u308c\u308b\u3002 TASK [merge 2 dicts] ********************************************* ok: [localhost] => { \"msg\": { \"list1\": [ \"item2\", \"item3\", \"item1\", \"item4\" ], \"list2\": [ \"itemA\", \"itemB\" ] } } prepend_rp \u306e\u52d5\u4f5c\u306f\u3001\u2191\u3068\u540c\u3058\u6761\u4ef6\u3067\u30d1\u30e9\u30e1\u30bf\u306e\u307f\u5909\u66f4\u3057\u3066\u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u901a\u308a\u3002 \u91cd\u8907\u3059\u308b item1 \u304c var1 \u304b\u3089\u524a\u9664\u3055\u308c\u308b\u52d5\u4f5c\u306f\u540c\u3058\u3067\u3001 var2 \u306e\u8981\u7d20( item3 , item1 , item4 )\u304c\u5148\u982d\u3078\u8ffd\u52a0\u3055\u308c\u308b\u3002 TASK [merge 2 dicts] ********************************************* ok: [localhost] => { \"msg\": { \"list1\": [ \"item3\", \"item1\", \"item4\", \"item2\" ], \"list2\": [ \"itemA\", \"itemB\" ] } }","title":"list_merge"},{"location":"Ansible/filter/#_6","text":"","title":"\u30d1\u30b9\u51e6\u7406"},{"location":"Ansible/filter/#path_join","text":"path_join \u3092\u4f7f\u3046\u3068\u3001\u30ea\u30b9\u30c8\u306e\u6587\u5b57\u5217\u3092\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30bb\u30d1\u30ec\u30fc\u30bf\u3067\u7e4b\u3050\u3002 - name : create repository url debug : msg : - \"{{ (registry_url, registry_username, 'awx') | path_join }}\" registry_username = zaki-lknr registry_url = ghcr.io \u3068\u3044\u3046\u5909\u6570\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308c\u3070\u3001\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 TASK [create repository url] ************************************ ok: [oci-g-a1-ubuntu] => msg: - ghcr.io/zaki-lknr/awx","title":"\u30d1\u30b9\u306e\u5408\u6210 (path_join)"},{"location":"Ansible/filter/#_7","text":"How do I generate encrypted passwords for the user module? Encrypting and checksumming strings and passwords","title":"\u6697\u53f7\u5316\u30d1\u30b9\u30ef\u30fc\u30c9"},{"location":"Ansible/filter/#password_hash","text":"password : \"{{ password_plain_text | password_hash('sha512') }}\" \u30c7\u30d5\u30a9\u30eb\u30c8\u306f sha512 \u3067\u6697\u53f7\u5316\u3055\u308c\u308b\u3002 https://github.com/ansible/ansible/blob/v2.10.5/lib/ansible/plugins/filter/core.py#L266 def get_encrypted_password (password, hashtype = 'sha512' , salt = None , salt_size = None , rounds = None ): salt\u306e\u6307\u5b9a\u304c\u7121\u3044\u5834\u5408\u306f\u30e9\u30f3\u30c0\u30e0\u306b\u306a\u308b\u305f\u3081\u3001\u5b9f\u884c\u306e\u305f\u3073\u306b\u7d50\u679c\u306e\u5024\u306f\u5909\u5316\u3059\u308b\u3002(\u3064\u307e\u308a\u3001\u3053\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u305f\u308a\u3059\u308c\u3070\u6bce\u56de changed \u306b\u306a\u308b) \u51aa\u7b49\u306b\u3057\u305f\u3051\u308c\u3070\u3001salt\u306b\u56fa\u5b9a\u306e\u5024\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3002 password : \"{{ password_plain_text | password_hash('sha512', 'hoge') }}\" Linux \u306e UNIX \u30d1\u30b9\u30ef\u30fc\u30c9\u8a8d\u8a3c\u306b\u3064\u3044\u3066\u8abf\u3079\u305f - CUBE SUGAR CONTAINER \u3010CentOS\u3011/etc/shadow\u306e\u30cf\u30c3\u30b7\u30e5\u5316\u30d1\u30b9\u30ef\u30fc\u30c9\u306b\u3064\u3044\u3066 - \u3088\u304f\u308f\u304b\u3089\u306a\u3044\u30a8\u30f3\u30b8\u30cb\u30a2","title":"password_hash"},{"location":"Ansible/filter/#base64","text":"","title":"base64"},{"location":"Ansible/filter/#_8","text":"- name : base64 enc vars : sample_text : zaki debug : msg : \"{{ sample_text | b64encode }}\" \u2193 ok: [localhost] => msg: emFraQ==","title":"\u30a8\u30f3\u30b3\u30fc\u30c9"},{"location":"Ansible/filter/#_9","text":"- name : base64 dec vars : b64text : emFraQ== debug : msg : \"{{ b64text | b64decode }}\" \u2193 ok: [localhost] => msg: zaki","title":"\u30c7\u30b3\u30fc\u30c9"},{"location":"Ansible/filter/#type_debug","text":"\u4efb\u610f\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u578b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u306b\u306f type_debug \u3092\u4f7f\u3046\u3002 - name: type debug debug: msg: \"{{ item }}\" vars: num_val: 1 str_val: zzz list_val: - item1 - item2 - item3 dict_val: key1: val1 key2: val2 key3: val3 loop: - \"{{ num_val | type_debug }}\" - \"{{ str_val | type_debug }}\" - \"{{ list_val | type_debug }}\" - \"{{ dict_val | type_debug }}\" \u7d50\u679c TASK [type debug] *********************************************************** ok: [localhost] => (item=int) => msg: int ok: [localhost] => (item=AnsibleUnicode) => msg: AnsibleUnicode ok: [localhost] => (item=list) => msg: list ok: [localhost] => (item=dict) => msg: dict","title":"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u578b\u3092\u8abf\u3079\u308b (type_debug)"},{"location":"Ansible/galaxy/","text":"Galaxy document Galaxy User Guide \u2014 Ansible Community Documentation requirements.yml requirements.yml \u306e\u4e2d\u8eab\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3002 --- collections : - name : zaki_lknr.esxissh \u3068\u304b --- collections : - name : https://github.com/zaki-lknr/esxissh-ansible.git version : main type : git","title":"Galaxy"},{"location":"Ansible/galaxy/#galaxy","text":"","title":"Galaxy"},{"location":"Ansible/galaxy/#document","text":"Galaxy User Guide \u2014 Ansible Community Documentation","title":"document"},{"location":"Ansible/galaxy/#requirementsyml","text":"requirements.yml \u306e\u4e2d\u8eab\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3002 --- collections : - name : zaki_lknr.esxissh \u3068\u304b --- collections : - name : https://github.com/zaki-lknr/esxissh-ansible.git version : main type : git","title":"requirements.yml"},{"location":"Ansible/install/","text":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb pip \u6700\u65b0 $ pip install ansible 2.9\u7cfb\u6700\u65b0 $ pip install ansible ==2 .9.* ansible==2.9 \u3060\u30682.9.0\u304c\u5165\u308b\u306e\u3067\u6ce8\u610f\u3002","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Ansible/install/#_1","text":"","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Ansible/install/#pip","text":"\u6700\u65b0 $ pip install ansible 2.9\u7cfb\u6700\u65b0 $ pip install ansible ==2 .9.* ansible==2.9 \u3060\u30682.9.0\u304c\u5165\u308b\u306e\u3067\u6ce8\u610f\u3002","title":"pip"},{"location":"Ansible/inventory/","text":"\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea How to build your inventory \u2014 Ansible Documentation \u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30fc\u306e\u69cb\u7bc9\u65b9\u6cd5 \u2014 Ansible Documentation \u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30b0\u30eb\u30fc\u30d7\u5909\u6570\u5b9a\u7fa9 [servers] host1 host2 [all:vars] gateway = 192.168.0.1 [servers:vars] db_host = 192.168.0.121 localhost Implicit \u2018localhost\u2019 \u2014 Ansible Documentation \u6697\u9ed9\u7684\u306a \u2018localhost\u2019 \u2014 Ansible Documentation \u30bf\u30fc\u30b2\u30c3\u30c8\u30db\u30b9\u30c8\u3067 localhost \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408 --- - hosts : localhost gather_facts : false tasks : - name : sample ping : \u3053\u306e\u3068\u304d\u3001\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u306b localhost \u306e\u5b9a\u7fa9\u304c\u7121\u3044\u5834\u5408(\u3084\u3001\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408)\u306f\u3001\u6697\u9ed9\u306e localhost \u3068\u3057\u3066 hosts : localhost : vars : ansible_connection : local ansible_python_interpreter : \"{{ansible_playbook_python}}\" \u3063\u3066\u306e\u304c\u5185\u90e8\u3067\u7528\u610f\u3055\u308c\u3001\u3053\u306e\u8a2d\u5b9a\u3067\u63a5\u7d9a\u3055\u308c\u308b\u3002\u3088\u3063\u3066\u3001 connection: local \u3068\u3057\u3066\u52d5\u304f\u3002 $ ansible-playbook localhost.yml -vvv : : TASK [sample] ***************************************************** task path: /home/zaki/src/ansible-sample/inventory/localhost.yml:6 <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: zaki : : \u3053\u3093\u306a\u611f\u3058\u3002 \u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u306b localhost \u306e\u8a2d\u5b9a\u304c\u3042\u308c\u3070\u305d\u308c\u304c\u4f7f\u308f\u308c\u308b\u3002\u5f53\u7136 connection: local \u304c\u7121\u3051\u308c\u3070\u3001\u8a2d\u5b9a\u3055\u308c\u305f\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u4f7f\u7528\u3055\u308c\u308b(\u672a\u6307\u5b9a\u306a\u3089\u30c7\u30d5\u30a9\u30eb\u30c8\u306e ssh ) [localhost] localhost \u3053\u3093\u306a localhost.ini \u3068\u3044\u3046\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001 $ ansible-playbook localhost.yml -i localhost.ini -vvv : : TASK [sample] ***************************************************** task path: /home/zaki/src/ansible-sample/inventory/localhost.yml:6 <localhost> ESTABLISH SSH CONNECTION FOR USER: None : : \u3053\u306e\u3088\u3046\u306bssh\u63a5\u7d9a\u3068\u306a\u308b\u3002 \u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea EC2 [Ansible / AWS] \u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u3092\u4f7f\u3063\u3066EC2\u63a5\u7d9a\u5148\u3092\u52d5\u7684\u306b\u53d6\u5f97\u3057\u3066Ansible\u5b9f\u884c\u304a\u8a66\u3057 - zaki work log --- plugin : amazon.aws.aws_ec2 regions : - ap-northeast-1 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067 aws_ec2 \u30b0\u30eb\u30fc\u30d7\u306b\u5168EC2\u304c\u6240\u5c5e\u3059\u308b\u3002 tag\u3092\u4f7f\u3063\u305f\u30db\u30b9\u30c8\u306e\u30b0\u30eb\u30fc\u30d4\u30f3\u30b0 --- plugin : amazon.aws.aws_ec2 regions : - ap-northeast-1 keyed_groups : - key : tags.Type keyed_groups \u914d\u4e0b\u306b\u30ea\u30b9\u30c8\u3067 key: tags.<\u30bf\u30b0\u540d> \u3092\u30bb\u30c3\u30c8\u3059\u308b\u3068\u3001\u5bfe\u8c61\u306e\u30bf\u30b0\u306e\u5024\u3067\u30b0\u30eb\u30fc\u30d7\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002 \u4f8b\u3048\u3070\u4e0a\u8a18\u306e\u5b9a\u7fa9\u306e\u5834\u5408\u3001 Type \u30ad\u30fc\u304c\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308bEC2\u306e\u30b0\u30eb\u30fc\u30d7\u304c\u3067\u304d\u308b\u3002 EC2 Type\u30bf\u30b0\u306e\u5024 host1 Type=server host2 Type=client host3 Type=client \u3053\u306e\u3088\u3046\u306a\u69cb\u6210\u3060\u3063\u305f\u5834\u5408\u3001 _server \u30b0\u30eb\u30fc\u30d7\u306bhost1\u3001 _client \u30b0\u30eb\u30fc\u30d7\u306bhost2,host3\u304c\u30bb\u30c3\u30c8\u3055\u308c\u308b\u3002 netbox [NetBox / Ansible] \u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u3092\u4f7f\u3063\u3066NetBox\u306b\u767b\u9332\u3055\u308c\u305f\u30db\u30b9\u30c8\u60c5\u5831\u3092\u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306bAnsible\u3092\u5b9f\u884c - zaki work log plugin : netbox.netbox.nb_inventory api_endpoint : http://192.168.0.19:28080 token : 0123456789abcdef0123456789abcdef01234567","title":"\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea"},{"location":"Ansible/inventory/#_1","text":"How to build your inventory \u2014 Ansible Documentation \u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30fc\u306e\u69cb\u7bc9\u65b9\u6cd5 \u2014 Ansible Documentation","title":"\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea"},{"location":"Ansible/inventory/#_2","text":"[servers] host1 host2 [all:vars] gateway = 192.168.0.1 [servers:vars] db_host = 192.168.0.121","title":"\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30b0\u30eb\u30fc\u30d7\u5909\u6570\u5b9a\u7fa9"},{"location":"Ansible/inventory/#localhost","text":"Implicit \u2018localhost\u2019 \u2014 Ansible Documentation \u6697\u9ed9\u7684\u306a \u2018localhost\u2019 \u2014 Ansible Documentation \u30bf\u30fc\u30b2\u30c3\u30c8\u30db\u30b9\u30c8\u3067 localhost \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408 --- - hosts : localhost gather_facts : false tasks : - name : sample ping : \u3053\u306e\u3068\u304d\u3001\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u306b localhost \u306e\u5b9a\u7fa9\u304c\u7121\u3044\u5834\u5408(\u3084\u3001\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408)\u306f\u3001\u6697\u9ed9\u306e localhost \u3068\u3057\u3066 hosts : localhost : vars : ansible_connection : local ansible_python_interpreter : \"{{ansible_playbook_python}}\" \u3063\u3066\u306e\u304c\u5185\u90e8\u3067\u7528\u610f\u3055\u308c\u3001\u3053\u306e\u8a2d\u5b9a\u3067\u63a5\u7d9a\u3055\u308c\u308b\u3002\u3088\u3063\u3066\u3001 connection: local \u3068\u3057\u3066\u52d5\u304f\u3002 $ ansible-playbook localhost.yml -vvv : : TASK [sample] ***************************************************** task path: /home/zaki/src/ansible-sample/inventory/localhost.yml:6 <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: zaki : : \u3053\u3093\u306a\u611f\u3058\u3002 \u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u306b localhost \u306e\u8a2d\u5b9a\u304c\u3042\u308c\u3070\u305d\u308c\u304c\u4f7f\u308f\u308c\u308b\u3002\u5f53\u7136 connection: local \u304c\u7121\u3051\u308c\u3070\u3001\u8a2d\u5b9a\u3055\u308c\u305f\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u4f7f\u7528\u3055\u308c\u308b(\u672a\u6307\u5b9a\u306a\u3089\u30c7\u30d5\u30a9\u30eb\u30c8\u306e ssh ) [localhost] localhost \u3053\u3093\u306a localhost.ini \u3068\u3044\u3046\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001 $ ansible-playbook localhost.yml -i localhost.ini -vvv : : TASK [sample] ***************************************************** task path: /home/zaki/src/ansible-sample/inventory/localhost.yml:6 <localhost> ESTABLISH SSH CONNECTION FOR USER: None : : \u3053\u306e\u3088\u3046\u306bssh\u63a5\u7d9a\u3068\u306a\u308b\u3002","title":"localhost"},{"location":"Ansible/inventory/#_3","text":"","title":"\u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea"},{"location":"Ansible/inventory/#ec2","text":"[Ansible / AWS] \u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u3092\u4f7f\u3063\u3066EC2\u63a5\u7d9a\u5148\u3092\u52d5\u7684\u306b\u53d6\u5f97\u3057\u3066Ansible\u5b9f\u884c\u304a\u8a66\u3057 - zaki work log --- plugin : amazon.aws.aws_ec2 regions : - ap-northeast-1 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067 aws_ec2 \u30b0\u30eb\u30fc\u30d7\u306b\u5168EC2\u304c\u6240\u5c5e\u3059\u308b\u3002","title":"EC2"},{"location":"Ansible/inventory/#tag","text":"--- plugin : amazon.aws.aws_ec2 regions : - ap-northeast-1 keyed_groups : - key : tags.Type keyed_groups \u914d\u4e0b\u306b\u30ea\u30b9\u30c8\u3067 key: tags.<\u30bf\u30b0\u540d> \u3092\u30bb\u30c3\u30c8\u3059\u308b\u3068\u3001\u5bfe\u8c61\u306e\u30bf\u30b0\u306e\u5024\u3067\u30b0\u30eb\u30fc\u30d7\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002 \u4f8b\u3048\u3070\u4e0a\u8a18\u306e\u5b9a\u7fa9\u306e\u5834\u5408\u3001 Type \u30ad\u30fc\u304c\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308bEC2\u306e\u30b0\u30eb\u30fc\u30d7\u304c\u3067\u304d\u308b\u3002 EC2 Type\u30bf\u30b0\u306e\u5024 host1 Type=server host2 Type=client host3 Type=client \u3053\u306e\u3088\u3046\u306a\u69cb\u6210\u3060\u3063\u305f\u5834\u5408\u3001 _server \u30b0\u30eb\u30fc\u30d7\u306bhost1\u3001 _client \u30b0\u30eb\u30fc\u30d7\u306bhost2,host3\u304c\u30bb\u30c3\u30c8\u3055\u308c\u308b\u3002","title":"tag\u3092\u4f7f\u3063\u305f\u30db\u30b9\u30c8\u306e\u30b0\u30eb\u30fc\u30d4\u30f3\u30b0"},{"location":"Ansible/inventory/#netbox","text":"[NetBox / Ansible] \u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u3092\u4f7f\u3063\u3066NetBox\u306b\u767b\u9332\u3055\u308c\u305f\u30db\u30b9\u30c8\u60c5\u5831\u3092\u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306bAnsible\u3092\u5b9f\u884c - zaki work log plugin : netbox.netbox.nb_inventory api_endpoint : http://192.168.0.19:28080 token : 0123456789abcdef0123456789abcdef01234567","title":"netbox"},{"location":"Ansible/jinja2/","text":"Jinja2\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 \u5897\u3048\u305f\u3089Tools\u3068\u304b\u306b\u79fb\u3059\u304b\u3082 Templating (Jinja2) \u2014 Ansible Documentation \u30aa\u30f3\u30e9\u30a4\u30f3\u30d1\u30fc\u30b5\u30fc TTL255 J2Live - Live Jinja2 Parser \u5909\u6570 \u5909\u6570\u5ba3\u8a00 \u5909\u6570 {% set hogehoge = 'foobar' %} \u914d\u5217 {% set array = [] %} \u914d\u5217\u8981\u7d20\u306e\u8ffd\u52a0 \u2191\u306e array \u306b\u8981\u7d20\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408\u3001Ansible\u3067\u306f array.append() \u306f\u4f7f\u3048\u308b\u3088\u3046\u306b\u898b\u3048\u3066\u4f7f\u3048\u306a\u3044\u3002 \u2193\u306e\u3088\u3046\u306b\u66f8\u304f\u3002 {% set _ = array.append('item') %} \u3053\u308c\u306b do \u3092\u8ffd\u52a0\u3057\u3066 {% do list.append(1) %} \u3068\u66f8\u3051\u308b\u3088\u3046\u306b\u3059\u308b Expression Statement \u3068\u3044\u3046\u62e1\u5f35\u3082\u3042\u308b\u3089\u3057\u3044\u306e\u3067\u3059\u304c Ansible \u3067\u306f\u6709\u52b9\u5316\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3001\u9762\u5012\u3067\u3059\u304c {% if list.append(1) %}{% endif %} \u3084 {% set _ = list.append(1) %} \u306e\u3088\u3046\u306b\u4ed6\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u4e2d\u3067\u8a55\u4fa1\u3057\u305f\u3044\u5f0f\u3092\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u307b\u3052\u3081\u3082: Ansible \u306e Jinja2 \u3092\u6d3b\u7528\u3059\u308b \u8f9e\u66f8\u3092\u30ea\u30b9\u30c8\u306e\u8981\u7d20\u3068\u3057\u3066\u8ffd\u52a0\u306f\u666e\u901a\u306bOK { % set _ = host_list.append( { 'host' : host , 'name' : hostvars [ host ] .tags. User } ) % } \u8f9e\u66f8 \u5024\u306e\u53c2\u7167 {{ foo.bar.baz }} \u307e\u305f\u306f {{ foo [ 'bar' ][ 'baz' ] }} \u5f8c\u8005\u306e\u66f8\u5f0f\u3067\u3042\u308c\u3070\u30ad\u30fc\u540d\u306b\u5909\u6570\u3092\u4f7f\u3046\u3053\u3068\u3082\u3067\u304d\u308b\u3002 \u5236\u5fa1\u69cb\u6587 \u30eb\u30fc\u30d7 \u30ea\u30b9\u30c8\u306b\u5bfe\u3059\u308b for \u69cb\u6587\u306f\u3001foreach\u5f0f\u3067\u914d\u5217\u8981\u7d20\u3092\u30eb\u30fc\u30d7\u6bce\u306b\u51e6\u7406\u3067\u304d\u308b {% for item in array_value %} ... {% endfor %} array_value \u306e\u914d\u5217\u8981\u7d20\u304c item \u306b\u30bb\u30c3\u30c8\u3055\u308c\u3066\u30eb\u30fc\u30d7\u51e6\u7406\u3055\u308c\u308b\u3002 \u30eb\u30fc\u30d7\u30a4\u30f3\u30c7\u30c3\u30af\u30b9 \u30eb\u30fc\u30d7\u30d6\u30ed\u30c3\u30af\u5185\u3067 loop.index0 \u3068\u3044\u3046\u5909\u6570\u53c2\u7167\u3067\u30eb\u30fc\u30d7\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u308a\u51fa\u305b\u308b(\u30bc\u30ed\u30aa\u30ea\u30b8\u30f3) \u30b3\u30e1\u30f3\u30c8 {# comment #} \u8907\u6570\u884c\u3082OK {# { % for item in list % } { % endfor % } #} lookup\u30d7\u30e9\u30b0\u30a4\u30f3\u5b9f\u884c playbook\u7b49\u3067\u66f8\u304f\u3068\u304d\u3068\u540c\u3058\u8981\u9818\u3067\u8a18\u8ff0\u53ef\u80fd {{ lookup ( 'pipe' , 'date +%s' ) }} \u6307\u5b9a\u90e8\u5206\u3078\u306e\u30d5\u30a3\u30eb\u30bf\u306e\u5b9f\u884c indent() {% filter indent (4, true ) %} {{ sample_string }} {% endfilter %} --- - hosts : localhost gather_facts : false vars : sample_string : | int main() { return 0; } tasks : - name : j2 saple template : src : indent_sample.txt.j2 dest : /var/tmp/indent_sample.txt \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3001\u30b9\u30da\u30fc\u30b94\u6587\u5b57\u5206\u306e\u30a4\u30f3\u30c7\u30f3\u30c8\u304c\u5165\u308b\u3002 int main() { return 0; }","title":"Jinja2\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"},{"location":"Ansible/jinja2/#jinja2","text":"\u5897\u3048\u305f\u3089Tools\u3068\u304b\u306b\u79fb\u3059\u304b\u3082 Templating (Jinja2) \u2014 Ansible Documentation","title":"Jinja2\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"},{"location":"Ansible/jinja2/#_1","text":"TTL255 J2Live - Live Jinja2 Parser","title":"\u30aa\u30f3\u30e9\u30a4\u30f3\u30d1\u30fc\u30b5\u30fc"},{"location":"Ansible/jinja2/#_2","text":"","title":"\u5909\u6570"},{"location":"Ansible/jinja2/#_3","text":"\u5909\u6570 {% set hogehoge = 'foobar' %} \u914d\u5217 {% set array = [] %}","title":"\u5909\u6570\u5ba3\u8a00"},{"location":"Ansible/jinja2/#_4","text":"\u2191\u306e array \u306b\u8981\u7d20\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408\u3001Ansible\u3067\u306f array.append() \u306f\u4f7f\u3048\u308b\u3088\u3046\u306b\u898b\u3048\u3066\u4f7f\u3048\u306a\u3044\u3002 \u2193\u306e\u3088\u3046\u306b\u66f8\u304f\u3002 {% set _ = array.append('item') %} \u3053\u308c\u306b do \u3092\u8ffd\u52a0\u3057\u3066 {% do list.append(1) %} \u3068\u66f8\u3051\u308b\u3088\u3046\u306b\u3059\u308b Expression Statement \u3068\u3044\u3046\u62e1\u5f35\u3082\u3042\u308b\u3089\u3057\u3044\u306e\u3067\u3059\u304c Ansible \u3067\u306f\u6709\u52b9\u5316\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3001\u9762\u5012\u3067\u3059\u304c {% if list.append(1) %}{% endif %} \u3084 {% set _ = list.append(1) %} \u306e\u3088\u3046\u306b\u4ed6\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u4e2d\u3067\u8a55\u4fa1\u3057\u305f\u3044\u5f0f\u3092\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u307b\u3052\u3081\u3082: Ansible \u306e Jinja2 \u3092\u6d3b\u7528\u3059\u308b \u8f9e\u66f8\u3092\u30ea\u30b9\u30c8\u306e\u8981\u7d20\u3068\u3057\u3066\u8ffd\u52a0\u306f\u666e\u901a\u306bOK { % set _ = host_list.append( { 'host' : host , 'name' : hostvars [ host ] .tags. User } ) % }","title":"\u914d\u5217\u8981\u7d20\u306e\u8ffd\u52a0"},{"location":"Ansible/jinja2/#_5","text":"","title":"\u8f9e\u66f8"},{"location":"Ansible/jinja2/#_6","text":"{{ foo.bar.baz }} \u307e\u305f\u306f {{ foo [ 'bar' ][ 'baz' ] }} \u5f8c\u8005\u306e\u66f8\u5f0f\u3067\u3042\u308c\u3070\u30ad\u30fc\u540d\u306b\u5909\u6570\u3092\u4f7f\u3046\u3053\u3068\u3082\u3067\u304d\u308b\u3002","title":"\u5024\u306e\u53c2\u7167"},{"location":"Ansible/jinja2/#_7","text":"","title":"\u5236\u5fa1\u69cb\u6587"},{"location":"Ansible/jinja2/#_8","text":"\u30ea\u30b9\u30c8\u306b\u5bfe\u3059\u308b for \u69cb\u6587\u306f\u3001foreach\u5f0f\u3067\u914d\u5217\u8981\u7d20\u3092\u30eb\u30fc\u30d7\u6bce\u306b\u51e6\u7406\u3067\u304d\u308b {% for item in array_value %} ... {% endfor %} array_value \u306e\u914d\u5217\u8981\u7d20\u304c item \u306b\u30bb\u30c3\u30c8\u3055\u308c\u3066\u30eb\u30fc\u30d7\u51e6\u7406\u3055\u308c\u308b\u3002","title":"\u30eb\u30fc\u30d7"},{"location":"Ansible/jinja2/#_9","text":"\u30eb\u30fc\u30d7\u30d6\u30ed\u30c3\u30af\u5185\u3067 loop.index0 \u3068\u3044\u3046\u5909\u6570\u53c2\u7167\u3067\u30eb\u30fc\u30d7\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u308a\u51fa\u305b\u308b(\u30bc\u30ed\u30aa\u30ea\u30b8\u30f3)","title":"\u30eb\u30fc\u30d7\u30a4\u30f3\u30c7\u30c3\u30af\u30b9"},{"location":"Ansible/jinja2/#_10","text":"{# comment #} \u8907\u6570\u884c\u3082OK {# { % for item in list % } { % endfor % } #}","title":"\u30b3\u30e1\u30f3\u30c8"},{"location":"Ansible/jinja2/#lookup","text":"playbook\u7b49\u3067\u66f8\u304f\u3068\u304d\u3068\u540c\u3058\u8981\u9818\u3067\u8a18\u8ff0\u53ef\u80fd {{ lookup ( 'pipe' , 'date +%s' ) }}","title":"lookup\u30d7\u30e9\u30b0\u30a4\u30f3\u5b9f\u884c"},{"location":"Ansible/jinja2/#_11","text":"","title":"\u6307\u5b9a\u90e8\u5206\u3078\u306e\u30d5\u30a3\u30eb\u30bf\u306e\u5b9f\u884c"},{"location":"Ansible/jinja2/#indent","text":"{% filter indent (4, true ) %} {{ sample_string }} {% endfilter %} --- - hosts : localhost gather_facts : false vars : sample_string : | int main() { return 0; } tasks : - name : j2 saple template : src : indent_sample.txt.j2 dest : /var/tmp/indent_sample.txt \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3001\u30b9\u30da\u30fc\u30b94\u6587\u5b57\u5206\u306e\u30a4\u30f3\u30c7\u30f3\u30c8\u304c\u5165\u308b\u3002 int main() { return 0; }","title":"indent()"},{"location":"Ansible/lint/","text":"Ansible Lint install $ pip install ansible-lint ==4 .3.7 sample --- - hosts : localhost gather_facts : false vars : value : hello tasks : - name : print result debug : msg : \"{{ value}}\" \"{{ value }}\" \u306e\u53c2\u7167\u3068\u3001\u3042\u3068 tasks \u306e\u524d\u306e\u884c\u306f\u7a7a\u884c\u3067\u306a\u304f2\u6587\u5b57\u30b9\u30da\u30fc\u30b9\u304c\u5165\u3063\u3066\u3044\u308b\u72b6\u614b\u3002 $ ansible-lint sample.yml WARNING Listing 2 violation(s) that are fatal [201] Trailing whitespace sample.yml:6 [206] Variables should have spaces before and after: {{ var_name }} sample.yml:10 msg: \"{{ value}}\" You can skip specific rules or tags by adding them to your configuration file: \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 # .ansible-lint \u2502 \u2502 warn_list: # or 'skip_list' to silence them completely \u2502 \u2502 - '201' # Trailing whitespace \u2502 \u2502 - '206' # Variables should have spaces before and after: {{ var_name }} \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u3082\u3057\u304f\u306f -p \u3092\u4ed8\u3051\u3066 $ ansible-lint sample.yml -p WARNING Listing 2 violation(s) that are fatal sample.yml:6: [E201] Trailing whitespace sample.yml:10: [E206] Variables should have spaces before and after: {{ var_name }} You can skip specific rules or tags by adding them to your configuration file: \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 # .ansible-lint \u2502 \u2502 warn_list: # or 'skip_list' to silence them completely \u2502 \u2502 - '201' # Trailing whitespace \u2502 \u2502 - '206' # Variables should have spaces before and after: {{ var_name }} \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518","title":"Ansible Lint"},{"location":"Ansible/lint/#ansible-lint","text":"","title":"Ansible Lint"},{"location":"Ansible/lint/#install","text":"$ pip install ansible-lint ==4 .3.7","title":"install"},{"location":"Ansible/lint/#sample","text":"--- - hosts : localhost gather_facts : false vars : value : hello tasks : - name : print result debug : msg : \"{{ value}}\" \"{{ value }}\" \u306e\u53c2\u7167\u3068\u3001\u3042\u3068 tasks \u306e\u524d\u306e\u884c\u306f\u7a7a\u884c\u3067\u306a\u304f2\u6587\u5b57\u30b9\u30da\u30fc\u30b9\u304c\u5165\u3063\u3066\u3044\u308b\u72b6\u614b\u3002 $ ansible-lint sample.yml WARNING Listing 2 violation(s) that are fatal [201] Trailing whitespace sample.yml:6 [206] Variables should have spaces before and after: {{ var_name }} sample.yml:10 msg: \"{{ value}}\" You can skip specific rules or tags by adding them to your configuration file: \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 # .ansible-lint \u2502 \u2502 warn_list: # or 'skip_list' to silence them completely \u2502 \u2502 - '201' # Trailing whitespace \u2502 \u2502 - '206' # Variables should have spaces before and after: {{ var_name }} \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u3082\u3057\u304f\u306f -p \u3092\u4ed8\u3051\u3066 $ ansible-lint sample.yml -p WARNING Listing 2 violation(s) that are fatal sample.yml:6: [E201] Trailing whitespace sample.yml:10: [E206] Variables should have spaces before and after: {{ var_name }} You can skip specific rules or tags by adding them to your configuration file: \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 # .ansible-lint \u2502 \u2502 warn_list: # or 'skip_list' to silence them completely \u2502 \u2502 - '201' # Trailing whitespace \u2502 \u2502 - '206' # Variables should have spaces before and after: {{ var_name }} \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518","title":"sample"},{"location":"Ansible/lookup/","text":"Lookup\u30d7\u30e9\u30b0\u30a4\u30f3 Lookup Plugins \u2014 Ansible Documentation Jinja2\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u66f8\u5f0f\u3068\u9023\u643a\u3057\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u53c2\u7167\u3084\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u306a\u3069\u5916\u90e8\u30ea\u30bd\u30fc\u30b9\u3092\u5229\u7528\u3067\u304d\u308b\u3002 \u8a55\u4fa1\u3055\u308c\u308b\u306e\u306f\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ce\u30fc\u30c9\u4e0a\u3067\u3042\u3063\u3066\u3001\u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306e\u30d5\u30a1\u30a4\u30eb\u3084\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3067\u306f\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u3002 task\u30921\u500b\u6d88\u8cbb\u305b\u305a\u306b\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u3092\u30ed\u30fc\u30c9\u3057\u305f\u308a\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3057\u305f\u308a\u3067\u304d\u308b\u306e\u3067\u4fbf\u5229 \u30d5\u30a1\u30a4\u30eb - name : load ssh public key vars : pubkey : \"{{ lookup('file', '~/.ssh/id_rsa.pub') }}\" debug : msg : \"{{ pubkey }}\" ansible-playbook \u306e\u5b9f\u884c\u30e6\u30fc\u30b6\u306e ~/.ssh/id_rsa.pub \u306e\u5185\u5bb9\u3092\u8aad\u307f\u8fbc\u3093\u3060\u5185\u5bb9\u304c pubkey \u306b\u30bb\u30c3\u30c8\u3055\u308c\u308b\u3002 \u74b0\u5883\u5909\u6570 - name : env lookup debug : msg : \"{{ lookup('env', 'HOSTNAME') }}\" \u74b0\u5883\u5909\u6570 HOSTNAME \u3092\u53d6\u5f97\u3059\u308b\u3002 \u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ce\u30fc\u30c9\u3067\u306e\u8a55\u4fa1\u7d50\u679c\u306b\u306a\u308b\u306e\u3067\u3001\u3069\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306etask\u306e\u5b9f\u884c\u3067\u3082\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ce\u30fc\u30c9\u306e\u30db\u30b9\u30c8\u540d\u306b\u306a\u308b\u3002 \u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306e\u60c5\u5831\u304c\u6b32\u3057\u3044\u5834\u5408\u306f\u3001 gather_facts: true \u3067fact\u60c5\u5831\u3092\u53c2\u7167\u3059\u308b\u3002 ansible-sample/env.yml at master \u00b7 zaki-lknr/ansible-sample \u30b3\u30de\u30f3\u30c9\u5b9f\u884c - name : get date vars : current_date : \"{{ lookup('pipe', 'date +%Y/%m/%d_%H:%M:%S') }}\" # https://docs.ansible.com/ansible/latest/collections/ansible/builtin/pipe_lookup.html # pipe\u3092\u4f7f\u3046\u3068\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u7d50\u679c\u3092\u53d6\u5f97\u3067\u304d\u308b debug : msg : - \"{{ current_date }}\" \u30d1\u30b9\u30ef\u30fc\u30c9\u6587\u5b57\u5217\u751f\u6210 ansible.builtin.password \u2013 retrieve or generate a random password, stored in a file \u2014 Ansible Documentation tasks : - name : create password debug : msg : \"{{ lookup('password', '/var/tmp/ansible-work/password') }}\" \u5b9f\u884c\u7d50\u679c\u306f TASK [create password] ************************* ok : [localhost] => msg : Uk .9 vigyP2IlQn2q4620 /var/tmp/ansible-work/password \u306e\u4e2d\u8eab\u306f $ cat /var/tmp/ansible-work/password Uk.9vigyP2IlQn2q4620 \u304c\u30d5\u30a1\u30a4\u30eb\u304c\u306a\u3051\u308c\u3070\u65b0\u898f\u306b\u4f5c\u6210\u3055\u308c\u308b\u3002 \u30d5\u30a1\u30a4\u30eb\u304c\u65e2\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u300c\u65e2\u5b58\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u300d\u304c\u8fd4\u308b\u3002(\u306e\u3067\u3001\u518d\u5b9f\u884c\u3059\u308b\u3068\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u304c\u53d6\u5f97\u3055\u308c\u308b) \u5b9f\u884c\u306e\u305f\u3073\u306b\u7570\u306a\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u751f\u6210\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3001 /dev/null \u3092\u6307\u5b9a\u3059\u308b - hosts : localhost gather_facts : false vars : create_password : \"{{ lookup('password', '/dev/null') }}\" tasks : - name : create password (1) debug : msg : \"{{ create_password }}\" - name : create password (2) debug : msg : \"{{ create_password }}\" \u5b9f\u884c\u7d50\u679c TASK [create password] ************************************************** ok : [localhost] => msg : sw : oDzMrVtdxy0aOdsEw TASK [create password] ************************************************** ok : [localhost] => msg : 9 imT.elnUhq1.GpALpX3 \u3053\u308c\u3060\u3068\u751f\u6210\u3057\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u306e\u3067\u3001 set_fact \u3067\u4e00\u5ea6\u4f5c\u6210\u6e08\u307f\u306b\u3057\u3066\u3001\u305d\u308c\u3092\u4f7f\u3046\u3088\u3046\u306b\u3059\u308c\u3070\u3001\u300c\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a\u300d\u3068\u300c\u8a2d\u5b9a\u3057\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30b9\u30c8\u30a2\u300d\u3092\u81ea\u524d\u3067\u7ba1\u7406\u3067\u304d\u308b\u3002 - name: create password set_fact: password: \" {{ create_password }} \" - name: print password debug: msg: \" {{ password }} \" -v \u3064\u3051\u3066\u5b9f\u884c\u3059\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 TASK [create password] ************************************************** ok : [localhost] => changed = false ansible_facts : password : - StMaxh9fmrGIkMYj_qJ TASK [print password] ************************************************** ok : [localhost] => msg : - StMaxh9fmrGIkMYj_qJ HTTP\u30a2\u30af\u30bb\u30b9\u3059\u308b - name : url lookup plugin vars : response : \"{{ lookup('url', 'https://www.jma.go.jp/bosai/forecast/data/overview_forecast/130000.json') }}\" debug : # msg: \"{{ lookup('url', 'https://www.jma.go.jp/bosai/forecast/data/overview_forecast/130000.json', wantlist=true) }}\" msg : \"{{ response.text }}\" basic\u8a8d\u8a3c\u3059\u308b\u306a\u3089 \"{{ lookup('ansible.builtin.url', 'http://www.example.org/path/to/basicauth/file', username='user', password='pass') }}\" \u3053\u3093\u306a\u611f\u3058","title":"Lookup\u30d7\u30e9\u30b0\u30a4\u30f3"},{"location":"Ansible/lookup/#lookup","text":"Lookup Plugins \u2014 Ansible Documentation Jinja2\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u66f8\u5f0f\u3068\u9023\u643a\u3057\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u53c2\u7167\u3084\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u306a\u3069\u5916\u90e8\u30ea\u30bd\u30fc\u30b9\u3092\u5229\u7528\u3067\u304d\u308b\u3002 \u8a55\u4fa1\u3055\u308c\u308b\u306e\u306f\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ce\u30fc\u30c9\u4e0a\u3067\u3042\u3063\u3066\u3001\u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306e\u30d5\u30a1\u30a4\u30eb\u3084\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3067\u306f\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u3002 task\u30921\u500b\u6d88\u8cbb\u305b\u305a\u306b\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u3092\u30ed\u30fc\u30c9\u3057\u305f\u308a\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3057\u305f\u308a\u3067\u304d\u308b\u306e\u3067\u4fbf\u5229","title":"Lookup\u30d7\u30e9\u30b0\u30a4\u30f3"},{"location":"Ansible/lookup/#_1","text":"- name : load ssh public key vars : pubkey : \"{{ lookup('file', '~/.ssh/id_rsa.pub') }}\" debug : msg : \"{{ pubkey }}\" ansible-playbook \u306e\u5b9f\u884c\u30e6\u30fc\u30b6\u306e ~/.ssh/id_rsa.pub \u306e\u5185\u5bb9\u3092\u8aad\u307f\u8fbc\u3093\u3060\u5185\u5bb9\u304c pubkey \u306b\u30bb\u30c3\u30c8\u3055\u308c\u308b\u3002","title":"\u30d5\u30a1\u30a4\u30eb"},{"location":"Ansible/lookup/#_2","text":"- name : env lookup debug : msg : \"{{ lookup('env', 'HOSTNAME') }}\" \u74b0\u5883\u5909\u6570 HOSTNAME \u3092\u53d6\u5f97\u3059\u308b\u3002 \u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ce\u30fc\u30c9\u3067\u306e\u8a55\u4fa1\u7d50\u679c\u306b\u306a\u308b\u306e\u3067\u3001\u3069\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306etask\u306e\u5b9f\u884c\u3067\u3082\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ce\u30fc\u30c9\u306e\u30db\u30b9\u30c8\u540d\u306b\u306a\u308b\u3002 \u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306e\u60c5\u5831\u304c\u6b32\u3057\u3044\u5834\u5408\u306f\u3001 gather_facts: true \u3067fact\u60c5\u5831\u3092\u53c2\u7167\u3059\u308b\u3002 ansible-sample/env.yml at master \u00b7 zaki-lknr/ansible-sample","title":"\u74b0\u5883\u5909\u6570"},{"location":"Ansible/lookup/#_3","text":"- name : get date vars : current_date : \"{{ lookup('pipe', 'date +%Y/%m/%d_%H:%M:%S') }}\" # https://docs.ansible.com/ansible/latest/collections/ansible/builtin/pipe_lookup.html # pipe\u3092\u4f7f\u3046\u3068\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u7d50\u679c\u3092\u53d6\u5f97\u3067\u304d\u308b debug : msg : - \"{{ current_date }}\"","title":"\u30b3\u30de\u30f3\u30c9\u5b9f\u884c"},{"location":"Ansible/lookup/#_4","text":"ansible.builtin.password \u2013 retrieve or generate a random password, stored in a file \u2014 Ansible Documentation tasks : - name : create password debug : msg : \"{{ lookup('password', '/var/tmp/ansible-work/password') }}\" \u5b9f\u884c\u7d50\u679c\u306f TASK [create password] ************************* ok : [localhost] => msg : Uk .9 vigyP2IlQn2q4620 /var/tmp/ansible-work/password \u306e\u4e2d\u8eab\u306f $ cat /var/tmp/ansible-work/password Uk.9vigyP2IlQn2q4620 \u304c\u30d5\u30a1\u30a4\u30eb\u304c\u306a\u3051\u308c\u3070\u65b0\u898f\u306b\u4f5c\u6210\u3055\u308c\u308b\u3002 \u30d5\u30a1\u30a4\u30eb\u304c\u65e2\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u300c\u65e2\u5b58\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u300d\u304c\u8fd4\u308b\u3002(\u306e\u3067\u3001\u518d\u5b9f\u884c\u3059\u308b\u3068\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u304c\u53d6\u5f97\u3055\u308c\u308b) \u5b9f\u884c\u306e\u305f\u3073\u306b\u7570\u306a\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u751f\u6210\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3001 /dev/null \u3092\u6307\u5b9a\u3059\u308b - hosts : localhost gather_facts : false vars : create_password : \"{{ lookup('password', '/dev/null') }}\" tasks : - name : create password (1) debug : msg : \"{{ create_password }}\" - name : create password (2) debug : msg : \"{{ create_password }}\" \u5b9f\u884c\u7d50\u679c TASK [create password] ************************************************** ok : [localhost] => msg : sw : oDzMrVtdxy0aOdsEw TASK [create password] ************************************************** ok : [localhost] => msg : 9 imT.elnUhq1.GpALpX3 \u3053\u308c\u3060\u3068\u751f\u6210\u3057\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u306e\u3067\u3001 set_fact \u3067\u4e00\u5ea6\u4f5c\u6210\u6e08\u307f\u306b\u3057\u3066\u3001\u305d\u308c\u3092\u4f7f\u3046\u3088\u3046\u306b\u3059\u308c\u3070\u3001\u300c\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a\u300d\u3068\u300c\u8a2d\u5b9a\u3057\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30b9\u30c8\u30a2\u300d\u3092\u81ea\u524d\u3067\u7ba1\u7406\u3067\u304d\u308b\u3002 - name: create password set_fact: password: \" {{ create_password }} \" - name: print password debug: msg: \" {{ password }} \" -v \u3064\u3051\u3066\u5b9f\u884c\u3059\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 TASK [create password] ************************************************** ok : [localhost] => changed = false ansible_facts : password : - StMaxh9fmrGIkMYj_qJ TASK [print password] ************************************************** ok : [localhost] => msg : - StMaxh9fmrGIkMYj_qJ","title":"\u30d1\u30b9\u30ef\u30fc\u30c9\u6587\u5b57\u5217\u751f\u6210"},{"location":"Ansible/lookup/#http","text":"- name : url lookup plugin vars : response : \"{{ lookup('url', 'https://www.jma.go.jp/bosai/forecast/data/overview_forecast/130000.json') }}\" debug : # msg: \"{{ lookup('url', 'https://www.jma.go.jp/bosai/forecast/data/overview_forecast/130000.json', wantlist=true) }}\" msg : \"{{ response.text }}\" basic\u8a8d\u8a3c\u3059\u308b\u306a\u3089 \"{{ lookup('ansible.builtin.url', 'http://www.example.org/path/to/basicauth/file', username='user', password='pass') }}\" \u3053\u3093\u306a\u611f\u3058","title":"HTTP\u30a2\u30af\u30bb\u30b9\u3059\u308b"},{"location":"Ansible/module/","text":"\u30e2\u30b8\u30e5\u30fc\u30eb setup ansible.builtin.setup \u2013 Gathers facts about remote hosts \u2014 Ansible Documentation facts\u5909\u6570\u3092\u53ce\u96c6\u3059\u308b\u3002 ad-hoc\u3067\u5b9f\u884c\u3059\u308b\u65b9\u304c\u591a\u3044\u304b\u3082\uff1f $ ansible -i inventory.ini all -m setup set_fact vars \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3068\u7570\u306a\u308a\u30db\u30b9\u30c8\u5909\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u306e\u3067\u3001\u30bb\u30c3\u30c8\u5f8c\u306e\u4ee5\u964d\u306e\u30bf\u30b9\u30af\u30fb\u30d7\u30ec\u30a4\u3067\u3082\u5909\u6570\u53c2\u7167\u3067\u304d\u308b\u3002 - name : define variable ansible.builtin.set_fact : _state_val : \"{{ foobar | default(true) }}\" vars \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3068\u7570\u306a\u308a\u5b9a\u7fa9\u3057\u305f\u5909\u6570\u3092\u5373\u53c2\u7167\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002 # \u30c0\u30e1\u306a\u4f8b - name : define variable ansible.builtin.set_fact : _state_val : \"{{ foobar | default(true) }}\" _mode : \"{{ _state_val | ternary(...) }}\" assert ansible.builtin.assert \u2013 Asserts given expressions are true \u2014 Ansible Documentation - name : assert sample vars : hoge : \"zzz\" foo : \"bar\" baz : False ansible.builtin.assert : that : - \"hoge is defined\" - foo is defined - baz is defined and baz fail_msg : \"'hoge','bar' must be defined, 'baz' must be true\" register : assert_result that \u3067\u6307\u5b9a\u3057\u305f\u5404\u5024\u304ctrue\u3067\u306a\u3051\u308c\u3070\u30bf\u30b9\u30af\u304c\u5931\u6557\u3059\u308b\u3002 \u5909\u6570\u3067\u306f\u306a\u304f\u6587\u5b57\u5217\u3067\u6307\u5b9a\u3059\u308b\u306e\u3067\u3001 : \u3092\u542b\u3080\u6587\u5b57\u306fYAML\u306e\u30ad\u30fc\u3068\u3057\u3066parse\u3055\u308c\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c8\u306a\u3069\u3067\u56f2\u3080\u5fc5\u8981\u304c\u3042\u308b\u3002 - name : assert ansible.builtin.assert : that : - 'sample_text | regex_search(\"could not found: foobar\")' uri HTTP\u3092\u3057\u3083\u3079\u308b\u3002 \u4ee5\u4e0b\u306fAWX/AAP\u3067\u901a\u77e5\u30c6\u30b9\u30c8\u3092kick\u3059\u308bREST\u3092\u53e9\u304f\u30bf\u30b9\u30af\u3002 basic\u8a8d\u8a3c+HTTPS\u3067SSL\u691c\u8a3c\u7121\u52b9\u306e\u8a2d\u5b9a\u3067\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u304c 200 or 201 or 202 \u3092\u671f\u5f85\u3057\u3066\u3044\u308b\u3002 ansible.builtin.uri : method : POST url : \"https://{{ aap_address }}/api/v2/notification_templates/{{ notify_id }}/test/\" url_username : \"{{ username }}\" url_password : \"{{ password }}\" validate_certs : false force_basic_auth : true status_code : [ 200 , 201 , 202 ] lineinfile ansible.builtin.lineinfile \u2013 Manage lines in text files \u2014 Ansible Documentation lineinfile : path : lineinfile.txt regexp : '^port: 80' line : 'port: 8080' lineinfile.txt\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u306e ^port: 80 \u306b \u6700\u5f8c\u306b \u30de\u30c3\u30c1\u3059\u308b\u884c\u3092 port: 8080 \u306b\u5909\u66f4\u3002 port: 8080 \u304c\u6709\u308b\u5834\u5408\u306f\u3001\u4ed6\u306b ^port: 80 \u306b\u30de\u30c3\u30c1\u3057\u3066\u3082\u305d\u308c\u306f\u5bfe\u8c61\u5916\u3002 \u6700\u521d\u306b \u30de\u30c3\u30c1\u3059\u308b\u884c\u3092\u5bfe\u8c61\u306b\u3059\u308b\u5834\u5408\u306f firstmatch: true \u3092\u6307\u5b9a\u3002 \u30d5\u30a1\u30a4\u30eb\u5185\u306b\u30de\u30c3\u30c1\u3059\u308b\u884c\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30d5\u30a1\u30a4\u30eb\u672b\u5c3e\u306b\u8ffd\u8a18\u3055\u308c\u308b\u3002 \u30d5\u30a1\u30a4\u30eb\u672b\u5c3e\u4ee5\u5916\u306b\u8ffd\u8a18\u3057\u305f\u3044\u5834\u5408\u306f\u3001 insertafter \u307e\u305f\u306f insertbefore \u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u6307\u5b9a\u884c\u76f4\u4e0b\u30fb\u307e\u305f\u306f\u76f4\u524d\u306b\u633f\u5165\u3067\u304d\u308b\u3002 insertafter \u3068 insertbefore \u306f\u6307\u5b9a\u3067\u304d\u308b\u306e\u306f\u3069\u3061\u3089\u304b\u7247\u65b9\u3002(\u4e21\u65b9\u540c\u6642\u6307\u5b9a\u306f\u4e0d\u53ef) blockinfile ansible.builtin.blockinfile \u2013 Insert/update/remove a text block surrounded by marker lines \u2014 Ansible Documentation \u30de\u30fc\u30ab\u30fc\u884c\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u3001\u300c\u30d5\u30a1\u30a4\u30eb\u5185\u4e00\u756a\u672b\u5c3e\u306e\u958b\u59cb\u30de\u30fc\u30ab\u30fc\u30fb\u7d42\u4e86\u30de\u30fc\u30ab\u30fc\u300d\u306e\u9593\u304c\u51e6\u7406\u5bfe\u8c61\u306b\u306a\u3063\u305f\u3002(ansible 2.10 / ansible 2.11\u3067\u78ba\u8a8d) # /share/www configure begin 1 # /share/www configure end # /share/www configure begin 2 # /share/www configure end <IfModule dir_module> DirectoryIndex index.html </IfModule> # /share/www configure begin 3 # /share/www configure end \u3053\u3093\u306a\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3057\u3066 - name : blockinfile sample blockinfile : path : blockinfile-test.txt marker_begin : begin marker_end : end marker : '# /share/www configure {mark}' block : | ... \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u66f4\u65b0\u3055\u308c\u308b\u306e\u306f 3 \u306e\u90e8\u5206\u306e\u307f\u3002 (\u8907\u6570\u306ebegin\u884c\u304c\u3042\u308b\u5834\u5408\u306f\u6700\u5f8c\u306e\u3082\u306e\u304c\u4f7f\u7528\u3055\u308c\u308b) \u5165\u529b\u30d5\u30a1\u30a4\u30eb\u304c\u4ee5\u4e0b\u306e\u5834\u5408\u306f\u3001 1 \u304b\u3089 3 \u307e\u3067\u306e\u7bc4\u56f2\u304c\u66f4\u65b0\u3055\u308c\u308b\u3002 (end\u884c\u3082\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u6700\u5f8c\u306e\u3082\u306e\u304c\u4f7f\u7528\u3055\u308c\u308b) # /share/www configure begin 1 # /share/www configure end 2 # /share/www configure end <IfModule dir_module> DirectoryIndex index.html </IfModule> 3 # /share/www configure end \u3053\u308c\u306a\u3089\u4e00\u5ea6\u3067\u78ba\u304b\u3081\u3089\u308c\u305f\u3002 \u2193\u306e\u30d5\u30a1\u30a4\u30eb\u306a\u3089\u3001blockinfile\u304c\u66f4\u65b0\u3059\u308b\u306e\u306f 3 \u304b\u3089 5 \u307e\u3067\u3002 # /share/www configure begin 1 # /share/www configure begin 2 # /share/www configure begin 3 # /share/www configure end <IfModule dir_module> DirectoryIndex index.html </IfModule> 4 # /share/www configure end 5 # /share/www configure end replace ansible.builtin.replace \u2013 Replace all instances of a particular string in a file using a back-referenced regular expression \u2014 Ansible Documentation after / before \u3067\u300c\u3053\u3053\u304b\u3089\u3053\u3053\u307e\u3067\u306e\u9593\u300d\u3092\u6307\u5b9a\u3067\u304d\u308b\u3002 - name : replace sample replace : path : duplicate-test.txt regexp : ^[0-9]+$ replace : zzz after : '# /share/www configure begin' before : '# /share/www configure end' \u5165\u529b\u30d5\u30a1\u30a4\u30eb\u304c\u2193\u306e\u3088\u3046\u306b\u8907\u6570\u30de\u30c3\u30c1\u3059\u308b\u5834\u5408\u306f # /share/www configure begin 1 # /share/www configure begin 2 # /share/www configure begin 3 # /share/www configure end <IfModule dir_module> DirectoryIndex index.html </IfModule> 4 # /share/www configure end 5 # /share/www configure end 1 \u304b\u3089 3 \u307e\u3067\u304c\u5bfe\u8c61\u3060\u3063\u305f\u3002( after \u3082 before \u3082\u6700\u521d\u306b\u30de\u30c3\u30c1\u3057\u305f\u90e8\u5206\u304c\u5bfe\u8c61) redhat_subscription community.general.redhat_subscription \u2013 Manage registration and subscriptions to RHSM using the subscription-manager command \u2014 Ansible Documentation RHEL\u306e\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u5272\u308a\u5f53\u3066\u3092\u884c\u3046\u3002 \u958b\u767a\u8005\u30e9\u30a4\u30bb\u30f3\u30b9\u306a\u3089\u30d7\u30fc\u30ebID\u306f1\u500b\u3057\u304b\u306a\u3044\u306e\u3067 - name : subscription community.general.redhat_subscription : state : present username : \"{{ rh_username }}\" password : \"{{ rh_password }}\" auto_attach : true \u3067\u3059\u3079\u3066\u5b8c\u4e86\u3059\u308b\u3002 \u5236\u9650\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u74b0\u5883\u306eRHEL7\u3067proxy\u7d4c\u7531\u3067\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u767b\u9332\u3068Docker\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb - zaki work log \u3053\u308c\u3067\u3044\u3046\u3068 subscription-manager register \u3057\u3066 subscription-manager attach --pool=**** \u307e\u3067\u7d42\u308f\u3063\u305f\u72b6\u614b\u306b\u306a\u308b\u3002 alternatives community.general.alternatives \u2013 Manages alternative programs for common commands \u2014 Ansible Documentation community.general.alternatives \u3067 alternatives \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u305f\u30b3\u30de\u30f3\u30c9\u5207\u308a\u66ff\u3048\u8a2d\u5b9a\u3092\u884c\u3046\u3002 - name : alternatives python community.general.alternatives : name : python link : /usr/bin/python path : /usr/bin/python3 become : true \u3053\u308c\u3067\u3001 /usr/bin/python -> /etc/alternatives/python -> /usr/bin/python3 \u3078\u306e\u30ea\u30f3\u30af\u304c python \u3068\u3044\u3046\u540d\u524d\u3067\u767b\u9332\u3055\u308c\u308b\u3002 \u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066\u306f\u4ee5\u4e0b\u3068\u540c\u7b49\u3002 ( priority \u306f\u30c7\u30d5\u30a9\u30eb\u30c850) # update-alternatives --install /usr/bin/python python /usr/bin/python3 50 \u30d1\u30c3\u30b1\u30fc\u30b8 dnf CentOS7(yum\u74b0\u5883)\u306b\u4f7f\u3048\u308b\uff1f => NG fatal: [cloud - dev]: FAILED ! => changed = false msg: Could not import the dnf python module using / usr / bin / python ( 2.7.5 (default, Nov 16 2020 , 22 : 23 : 17 ) [GCC 4.8.5 20150623 (Red Hat 4.8.5-44 )]) . Please install ` python3 - dnf ` or ` python2 - dnf ` package or ensure you have specified the correct ansible_python_interpreter . (attempted [ '/usr/libexec/platform-python' , '/usr/bin/python3' , '/usr/bin/python2' , '/usr/bin/python' ]) results: [] \u305f\u3060\u3057\u3001CentOS7\u3067 sudo yum install python2-dnf \u3092\u5165\u308c\u308b\u3068\u52d5\u304f\u3002 dnf\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001CentOS7\u4e0a\u3067 rpm -qa \u3068\u304b\u3057\u3066\u3082\u78ba\u8a8d\u3067\u304d\u308b\u3002 yum Fedora34 / RHEL8\u306b\u4f7f\u3048\u308b\uff1f => OK apt_repository - name : add apt repository ansible.builtin.apt_repository : repo : deb [arch=arm64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu focal stable filename : docker \u3053\u308c\u3067\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002 $ cat /etc/apt/sources.list.d/docker.list deb [arch=arm64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu focal stable \u3053\u306e\u3068\u304d\u3001 /etc/apt/sources.list.d/docker.list \u4ee5\u5916\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3067\u306b\u540c\u3058\u8a2d\u5b9a\u304c\u3042\u308b\u5834\u5408\u306f docker.list \u306f\u4f5c\u6210\u3055\u308c\u305a\u306b ok \u3068\u306a\u308b\u3002 \u30d5\u30a1\u30a4\u30eb state file \u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u304c\u306a\u3044\u5834\u5408\u306f\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002 \u9006\u624b\u306b\u3068\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u5b58\u5728\u30c1\u30a7\u30c3\u30af\u306b\u4f7f\u3048\u308b(\u305d\u306e\u5834\u5408\u30a8\u30e9\u30fc\u306f\u7121\u8996\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u306f\u3042\u308b) \u4ee5\u4e0b\u306f /var/tmp/ansible-file \u304c\u7121\u3044\u5834\u5408\u306b\u6700\u521d\u306e\u30bf\u30b9\u30af\u304c\u5931\u6557( ignore_errors \u306b\u3088\u308a\u7121\u8996)\u3057\u3001\u6b21\u306e\u30bf\u30b9\u30af\u3067 file not exist \u304c\u51fa\u529b\u3055\u308c\u308b\u3002\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u5834\u5408\u306f\u6700\u521d\u306e\u30bf\u30b9\u30af\u306f\u6210\u529f\u3057\u3001\u7d9a\u304f\u30bf\u30b9\u30af\u306f when \u306e\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u305f\u3081\u30b9\u30ad\u30c3\u30d7\u3055\u308c\u308b\u3002 - name : exist file? file : path : /var/tmp/ansible-file state : file register : result ignore_errors : true - debug : msg : file not exist when : result is failed failed_when \u3092\u4f7f\u3046\u306a\u3089\u4ee5\u4e0b - name : dounaru file : path : /var/tmp/ansible-file state : file register : result failed_when : false - debug : msg : file not exist when : result.state == \"absent\" \u30e2\u30fc\u30c9 - name : create file file : path : /var/tmp/file_permission mode : \"0755\" state : directory \u3053\u308c\u306a\u3089 $ ll -d /var/tmp/file_permission/ drwxr-xr-x. 2 zaki zaki 6 7\u6708 31 10:27 /var/tmp/file_permission/ mode \u5b9f\u4f53 \"0755\" (str) drwxr-xr-x 0755 (int) drwxr-xr-x \"755\" (str) drwxr-xr-x 755 (int) d-wxrw--wt 755 \u306b\u3059\u308b\u3068\u300110\u9032\u6570\u306e755\u5165\u529b\u30928\u9032\u6570\u3068\u89e3\u91c8\u3057 1363 \u3068\u3057\u3066\u30e2\u30fc\u30c9\u8a2d\u5b9a\u3055\u308c\u308b\u52d5\u4f5c\u306b\u306a\u308b\u3002 \u30e2\u30fc\u30c9\u8a2d\u5b9a\u306f8\u9032\u6570\u306e\u6570\u5024\u304b\u6587\u5b57\u5217\u578b\u306e\u6570\u5024\u304c\u5165\u529b\u306a\u306e\u3068\u3001\u5148\u982d\u30bc\u30ed\u306e\u6570\u5024\u306f8\u9032\u6570\u3068\u3057\u3066YAML\u304c\u89e3\u91c8\u3059\u308b\u306e\u3067\u3001\u5148\u982d\u30bc\u30ed\u3092\u4ed8\u3051\u305a\u306bint\u306e\u6570\u5024\u3092\u6307\u5b9a\u3059\u308b\u3068\u60f3\u5b9a\u5916\u306e\u52d5\u4f5c\u306b\u306a\u308b\u3002 fetch \u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ce\u30fc\u30c9\u3078\u30b3\u30d4\u30fc\u3059\u308b\u3002 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u4e0d\u53ef\u3002( src \u306e\u30d1\u30b9\u304c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5834\u5408\u306f\u5931\u6557\u3059\u308b) fatal: [fedora-node]: FAILED! => changed=false file: /home/zaki/src/docker-images/ msg: remote file is a directory, fetch cannot work on directories \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306esrc\u30d1\u30e9\u30e1\u30bf\u306e\u9805 \u306b\u3082\u8a18\u8f09\u3042\u308a\u3002 This must be a file, not a directory. fetch\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4f7f\u3044\u65b9\u5168\u822c\u306f\u306f\u3066\u30d6\u306b\u66f8\u3044\u305f\u3002 [Ansible] fetch\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u30ea\u30e2\u30fc\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u30ce\u30fc\u30c9\u3078\u8ee2\u9001\u30fb\u96c6\u7d04\u3059\u308b - zaki work log slurp \u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u4e0a\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u3092\u53d6\u5f97\u3059\u308b\u3002 fetch\u3068\u7570\u306a\u308a\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u3078\u4fdd\u5b58\u305b\u305a\u306b\u30aa\u30f3\u30e1\u30e2\u30ea\u51e6\u7406\u3002 base64\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3067\u30b3\u30fc\u30c9\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002 - name : get private key ansible.builtin.slurp : src : /home/ec2-user/.ssh/id_rsa register : ssh_private_key - name : create repository credential on awx awx.awx.credential : name : git-repository-credential organization : Default credential_type : Source Control inputs : username : ec2-user ssh_key_data : \"{{ ssh_private_key.content | b64decode }}\" make /path/to/awx-operator \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0a\u3067 make deploy IMG=zakihmkc/awx-operator:0.17.0 \u3092\u5b9f\u884c\u3059\u308b\u30bf\u30b9\u30af\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 - name : deploy awx-operator community.general.make : chdir : /path/to/awx-operator target : deploy params : IMG : zakihmkc/awx-operator:0.17.0 \u30bf\u30fc\u30b2\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u6e08\u307f\u3067 make \u304c\u4f55\u3082\u51e6\u7406\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u5b9f\u884c\u30b9\u30c6\u30fc\u30bf\u30b9\u306f ok \u3068\u306a\u308b\u3002 meta \u518d\u63a5\u7d9a \u305f\u3068\u3048\u3070\u3001OS\u30e6\u30fc\u30b6\u30fc\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u66f4\u65b0\u3057\u305f\u5834\u5408\u3001\u901a\u5e38\u3067\u3042\u308c\u3070\u30ed\u30b0\u30a4\u30f3\u3057\u76f4\u3055\u306a\u3051\u308c\u3070\u5909\u66f4\u304c\u53cd\u6620\u3055\u308c\u306a\u3044\u3002 Ansible\u3082\u540c\u69d8\u3067\u3001\u30bf\u30b9\u30af\u3067\u30b0\u30eb\u30fc\u30d7\u306e\u66f4\u65b0\u3092\u884c\u3063\u3066\u3082\u3001\u5f8c\u7d9a\u306e\u30bf\u30b9\u30af\u306f\u63a5\u7d9a\u304c\u7dad\u6301\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u66f4\u65b0\u3055\u308c\u305f\u30b0\u30eb\u30fc\u30d7\u306e\u72b6\u614b\u3067\u30bf\u30b9\u30af\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044\u3002 \u3053\u306e\u5834\u5408\u3001 meta\u30e2\u30b8\u30e5\u30fc\u30eb \u306e reset_connection \u3092\u4f7f\u3063\u3066\u518d\u63a5\u7d9a\u3092\u884c\u3044\u3001\u5909\u66f4\u3092\u53cd\u6620\u3057\u3066\u5f8c\u7d9a\u306e\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3067\u304d\u308b\u3002 - name : \u30b0\u30eb\u30fc\u30d7\u3092\u5909\u66f4\u3059\u308b\u30bf\u30b9\u30af ... - name : refresh connection ansible.builtin.meta : reset_connection - name : \u5909\u66f4\u3057\u305f\u30b0\u30eb\u30fc\u30d7\u524d\u63d0\u306e\u30bf\u30b9\u30af ... play\u306e\u7d42\u4e86 \u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u304a\u3051\u308b exit(0) \u307f\u305f\u3044\u306a\u3084\u3064\u3002 \u4efb\u610f\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067play\u3092\u6b63\u5e38\u7d42\u4e86\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 tasks : - name : task1 debug : msg : task1 - name : task2 debug : msg : task2 - name : end play ansible.builtin.meta : end_play - name : task3 debug : msg : task3 \u3053\u306eplaybook\u306e\u5185\u5bb9\u3067Ansible\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u901a\u308atask3\u306f\u5b9f\u884c\u3055\u308c\u305a\u306b\u7d42\u4e86\u3059\u308b\u3002 PLAY [localhost] **************************************************************** TASK [task1] ******************************************************************** ok: [localhost] => msg: task1 TASK [task2] ******************************************************************** ok: [localhost] => msg: task2 TASK [end play] ***************************************************************** PLAY RECAP ********************************************************************** localhost : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0 \u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u306e\u518d\u8aad\u307f\u8fbc\u307f \u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u3067\u30db\u30b9\u30c8\u60c5\u5831\u3092\u518d\u53ce\u96c6\u3057\u305f\u3044\u5834\u5408\u3001\u306a\u3069\u3002 - name : refresh inventory ansible.builtin.meta : refresh_inventory [Ansible] \u4efb\u610f\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u306e\u30db\u30b9\u30c8\u60c5\u5831\u53ce\u96c6\u3092\u884c\u3046 - zaki work log fail \u6307\u5b9a\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51fa\u529b\u3057\u3066play\u3092\u5931\u6557\u3055\u305b\u308b - ansible.builtin.fail : msg : failed task Docker push image docker_image \u3092\u4f7f\u7528\u3057\u30d1\u30e9\u30e1\u30bf\u306b push: true \u3092\u6307\u5b9a\u3002 - name : push container image community.docker.docker_image : name : quay.io/ansible/awx-ee repository : zakihmkc/awx-ee:0.6.0 push : true source : local \u3053\u306e\u30bf\u30b9\u30af\u306e\u5834\u5408\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u306b\u3042\u308b quay.io/ansible/awx-ee \u30a4\u30e1\u30fc\u30b8\u3092Docker Hub\u3078 zakihmkc/awx-ee:0.6.0 \u3068\u3057\u3066 push \u3059\u308b\u3002 \u3053\u306e\u3068\u304d\u3001 zakihmkc/awx-ee:0.6.0 \u304c\u65e2\u306b\u30ed\u30fc\u30ab\u30eb\u306b\u3042\u308b\u5834\u5408\u306ftag\u306e\u4e0a\u66f8\u304d\u304c\u767a\u751f\u3057\u306a\u3044\u305f\u3081\u3001push\u3055\u308c\u306a\u3044\u3002\u3053\u3053\u3067push\u3057\u305f\u3044\u5834\u5408\u306f\u3001tag\u8a2d\u5b9a\u3092\u4e0a\u66f8\u304d\u3059\u308b force_tag: true \u3082\u8ffd\u52a0\u3059\u308b\u3002 git ansible.builtin.git : repo : https://github.com/zaki-lknr/awx_build_and_deploy.git version : feature/awx-ver-21.13.0 dest : /var/tmp/work-dir dest\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u4e8b\u524d\u306b\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002 Git\u30e2\u30b8\u30e5\u30fc\u30eb\u306fCLI\u306e git clone \u3068\u7570\u306a\u308a\u3001\u4e0a\u306e\u4f8b\u3067\u3044\u3046\u3068 awx_build_and_deploy \u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u4f5c\u6210\u3055\u308c\u306a\u3044\u3002 ssh openssh_keypair ssh key pair\u4f5c\u6210 community.crypto.openssh_keypair : path : \"{{ ansible_env.HOME }}/.ssh/id_rsa\" size : 4096 # default type : rsa # default register : ssh_keypair_result authorized_key authorized_keys \u3078\u306e\u516c\u958b\u9375\u767b\u9332 ansible.posix.authorized_key : user : \"{{ ansible_env.USER }}\" key : \"{{ ssh_keypair_result.public_key }}\" # key: \"{{ lookup('file', '~/.ssh/id_rsa.pub') }}\" delegate_to : localhost run_once : true pip venv\u3092\u4f5c\u308a\u6307\u5b9a\u306ePython\u30d1\u30c3\u30b1\u30fc\u30b8\u5165\u308c\u308b\u3002 pip\u306f\u6700\u65b0\u306b\u3057\u3064\u3064\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u5165\u308c\u308b\u306a\u3089\u3053\u3093\u306a\u611f\u3058\u3002 - name : create venv ansible.builtin.pip : name : - pip - ansible-core==2.18.0 state : latest virtualenv : /path/to/venv/ansible virtualenv_command : python3 -m venv \u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306e\u3053\u306evenv\u3092\u4f7f\u3063\u3066Ansible\u5b9f\u884c\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 [Ansible] \u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306evenv\u306ePython\u3092\u6307\u5b9a\u3057\u3066\u5b9f\u884c\u3059\u308b (interpreter_python / ansible_python_interpreter / PYTHONPATH) - zaki work log \u3053\u306e\u8fba\u306e\u8a2d\u5b9a\u3092\u3069\u3053\u304b\u306b\u5165\u308c\u308c\u3070OK ansible_python_interpreter : /path/to/venv/ansible/bin/python pause sleep\u3059\u308b - name : sleep ansible.builtin.pause : seconds : 10 \u5358\u7d14\u306asleep\u3067\u306a\u304f\u3001\u6700\u5927\u3067\u6307\u5b9a\u6642\u9593\u3060\u3051wait\u304c\u304b\u304b\u308a\u3001\u305d\u306e\u9593\u306b Ctrl-c \u62bc\u4e0b\u3067\u300c\u5373\u518d\u958b or \u51e6\u7406\u4e2d\u65ad\u300d\u306e\u9078\u629e\u304c\u53ef\u80fd\u306b\u306a\u308b\u3002 a \u3067\u4e2d\u65ad\u3057\u305f\u5834\u5408\u306f\u305d\u3053\u3067\u51e6\u7406\u304c\u7d42\u4e86\u3059\u308b\u3002 TASK [sleep] ************************************************************************* Pausing for 10 seconds (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort) Press 'C' to continue the play or 'A' to abort fatal: [localhost]: FAILED! => msg: user requested abort! wait_for \u51e6\u7406\u5bfe\u8c61\u30db\u30b9\u30c8\u306e80/TCP\u304cAnsible\u5b9f\u884c\u30db\u30b9\u30c8\u304b\u3089\u63a5\u7d9a\u53ef\u80fd\u306b\u306a\u308b\u307e\u3067\u6700\u5927300\u79d2wait\u3059\u308b\u30bf\u30b9\u30af - ansible.builtin.wait_for : host : \"{{ ansible_host }}\" port : 80 delay : 5 state : started timeout : 300 delegate_to : localhost \u9006\u306b\u7d42\u4e86\u51e6\u7406\u306e\u78ba\u8a8d\u306a\u3069\u3067\u63a5\u7d9a\u4e0d\u53ef\u306b\u306a\u308b\u307e\u3067wait\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3001 state: stopped \u3092\u6307\u5b9a\u3059\u308b\u3002 debug msg \u3092\u4f7f\u3048\u3070(\u5909\u6570\u3092\u542b\u3081)\u4efb\u610f\u306e\u6587\u5b57\u5217\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\u3002 \u5909\u6570\u3060\u3051\u3067\u826f\u3051\u308c\u3070 var \u3092\u4f7f\u3046\u65b9\u304c\u697d\u3002 --- - hosts : localhost gather_facts : false vars : val1 : 1234 tasks : - debug : var : val1 \u305f\u3060\u3057 var \u306e\u5834\u5408\u306f\u30ea\u30b9\u30c8\u51fa\u529b\u306f\u4e0d\u53ef debug : var : - val1 - val2 # \u4e0d\u53ef","title":"\u30e2\u30b8\u30e5\u30fc\u30eb"},{"location":"Ansible/module/#_1","text":"","title":"\u30e2\u30b8\u30e5\u30fc\u30eb"},{"location":"Ansible/module/#setup","text":"ansible.builtin.setup \u2013 Gathers facts about remote hosts \u2014 Ansible Documentation facts\u5909\u6570\u3092\u53ce\u96c6\u3059\u308b\u3002 ad-hoc\u3067\u5b9f\u884c\u3059\u308b\u65b9\u304c\u591a\u3044\u304b\u3082\uff1f $ ansible -i inventory.ini all -m setup","title":"setup"},{"location":"Ansible/module/#set_fact","text":"vars \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3068\u7570\u306a\u308a\u30db\u30b9\u30c8\u5909\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u306e\u3067\u3001\u30bb\u30c3\u30c8\u5f8c\u306e\u4ee5\u964d\u306e\u30bf\u30b9\u30af\u30fb\u30d7\u30ec\u30a4\u3067\u3082\u5909\u6570\u53c2\u7167\u3067\u304d\u308b\u3002 - name : define variable ansible.builtin.set_fact : _state_val : \"{{ foobar | default(true) }}\" vars \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3068\u7570\u306a\u308a\u5b9a\u7fa9\u3057\u305f\u5909\u6570\u3092\u5373\u53c2\u7167\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002 # \u30c0\u30e1\u306a\u4f8b - name : define variable ansible.builtin.set_fact : _state_val : \"{{ foobar | default(true) }}\" _mode : \"{{ _state_val | ternary(...) }}\"","title":"set_fact"},{"location":"Ansible/module/#assert","text":"ansible.builtin.assert \u2013 Asserts given expressions are true \u2014 Ansible Documentation - name : assert sample vars : hoge : \"zzz\" foo : \"bar\" baz : False ansible.builtin.assert : that : - \"hoge is defined\" - foo is defined - baz is defined and baz fail_msg : \"'hoge','bar' must be defined, 'baz' must be true\" register : assert_result that \u3067\u6307\u5b9a\u3057\u305f\u5404\u5024\u304ctrue\u3067\u306a\u3051\u308c\u3070\u30bf\u30b9\u30af\u304c\u5931\u6557\u3059\u308b\u3002 \u5909\u6570\u3067\u306f\u306a\u304f\u6587\u5b57\u5217\u3067\u6307\u5b9a\u3059\u308b\u306e\u3067\u3001 : \u3092\u542b\u3080\u6587\u5b57\u306fYAML\u306e\u30ad\u30fc\u3068\u3057\u3066parse\u3055\u308c\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c8\u306a\u3069\u3067\u56f2\u3080\u5fc5\u8981\u304c\u3042\u308b\u3002 - name : assert ansible.builtin.assert : that : - 'sample_text | regex_search(\"could not found: foobar\")'","title":"assert"},{"location":"Ansible/module/#uri","text":"HTTP\u3092\u3057\u3083\u3079\u308b\u3002 \u4ee5\u4e0b\u306fAWX/AAP\u3067\u901a\u77e5\u30c6\u30b9\u30c8\u3092kick\u3059\u308bREST\u3092\u53e9\u304f\u30bf\u30b9\u30af\u3002 basic\u8a8d\u8a3c+HTTPS\u3067SSL\u691c\u8a3c\u7121\u52b9\u306e\u8a2d\u5b9a\u3067\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u304c 200 or 201 or 202 \u3092\u671f\u5f85\u3057\u3066\u3044\u308b\u3002 ansible.builtin.uri : method : POST url : \"https://{{ aap_address }}/api/v2/notification_templates/{{ notify_id }}/test/\" url_username : \"{{ username }}\" url_password : \"{{ password }}\" validate_certs : false force_basic_auth : true status_code : [ 200 , 201 , 202 ]","title":"uri"},{"location":"Ansible/module/#lineinfile","text":"ansible.builtin.lineinfile \u2013 Manage lines in text files \u2014 Ansible Documentation lineinfile : path : lineinfile.txt regexp : '^port: 80' line : 'port: 8080' lineinfile.txt\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u306e ^port: 80 \u306b \u6700\u5f8c\u306b \u30de\u30c3\u30c1\u3059\u308b\u884c\u3092 port: 8080 \u306b\u5909\u66f4\u3002 port: 8080 \u304c\u6709\u308b\u5834\u5408\u306f\u3001\u4ed6\u306b ^port: 80 \u306b\u30de\u30c3\u30c1\u3057\u3066\u3082\u305d\u308c\u306f\u5bfe\u8c61\u5916\u3002 \u6700\u521d\u306b \u30de\u30c3\u30c1\u3059\u308b\u884c\u3092\u5bfe\u8c61\u306b\u3059\u308b\u5834\u5408\u306f firstmatch: true \u3092\u6307\u5b9a\u3002 \u30d5\u30a1\u30a4\u30eb\u5185\u306b\u30de\u30c3\u30c1\u3059\u308b\u884c\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30d5\u30a1\u30a4\u30eb\u672b\u5c3e\u306b\u8ffd\u8a18\u3055\u308c\u308b\u3002 \u30d5\u30a1\u30a4\u30eb\u672b\u5c3e\u4ee5\u5916\u306b\u8ffd\u8a18\u3057\u305f\u3044\u5834\u5408\u306f\u3001 insertafter \u307e\u305f\u306f insertbefore \u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u6307\u5b9a\u884c\u76f4\u4e0b\u30fb\u307e\u305f\u306f\u76f4\u524d\u306b\u633f\u5165\u3067\u304d\u308b\u3002 insertafter \u3068 insertbefore \u306f\u6307\u5b9a\u3067\u304d\u308b\u306e\u306f\u3069\u3061\u3089\u304b\u7247\u65b9\u3002(\u4e21\u65b9\u540c\u6642\u6307\u5b9a\u306f\u4e0d\u53ef)","title":"lineinfile"},{"location":"Ansible/module/#blockinfile","text":"ansible.builtin.blockinfile \u2013 Insert/update/remove a text block surrounded by marker lines \u2014 Ansible Documentation \u30de\u30fc\u30ab\u30fc\u884c\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u3001\u300c\u30d5\u30a1\u30a4\u30eb\u5185\u4e00\u756a\u672b\u5c3e\u306e\u958b\u59cb\u30de\u30fc\u30ab\u30fc\u30fb\u7d42\u4e86\u30de\u30fc\u30ab\u30fc\u300d\u306e\u9593\u304c\u51e6\u7406\u5bfe\u8c61\u306b\u306a\u3063\u305f\u3002(ansible 2.10 / ansible 2.11\u3067\u78ba\u8a8d) # /share/www configure begin 1 # /share/www configure end # /share/www configure begin 2 # /share/www configure end <IfModule dir_module> DirectoryIndex index.html </IfModule> # /share/www configure begin 3 # /share/www configure end \u3053\u3093\u306a\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3057\u3066 - name : blockinfile sample blockinfile : path : blockinfile-test.txt marker_begin : begin marker_end : end marker : '# /share/www configure {mark}' block : | ... \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u66f4\u65b0\u3055\u308c\u308b\u306e\u306f 3 \u306e\u90e8\u5206\u306e\u307f\u3002 (\u8907\u6570\u306ebegin\u884c\u304c\u3042\u308b\u5834\u5408\u306f\u6700\u5f8c\u306e\u3082\u306e\u304c\u4f7f\u7528\u3055\u308c\u308b) \u5165\u529b\u30d5\u30a1\u30a4\u30eb\u304c\u4ee5\u4e0b\u306e\u5834\u5408\u306f\u3001 1 \u304b\u3089 3 \u307e\u3067\u306e\u7bc4\u56f2\u304c\u66f4\u65b0\u3055\u308c\u308b\u3002 (end\u884c\u3082\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u6700\u5f8c\u306e\u3082\u306e\u304c\u4f7f\u7528\u3055\u308c\u308b) # /share/www configure begin 1 # /share/www configure end 2 # /share/www configure end <IfModule dir_module> DirectoryIndex index.html </IfModule> 3 # /share/www configure end \u3053\u308c\u306a\u3089\u4e00\u5ea6\u3067\u78ba\u304b\u3081\u3089\u308c\u305f\u3002 \u2193\u306e\u30d5\u30a1\u30a4\u30eb\u306a\u3089\u3001blockinfile\u304c\u66f4\u65b0\u3059\u308b\u306e\u306f 3 \u304b\u3089 5 \u307e\u3067\u3002 # /share/www configure begin 1 # /share/www configure begin 2 # /share/www configure begin 3 # /share/www configure end <IfModule dir_module> DirectoryIndex index.html </IfModule> 4 # /share/www configure end 5 # /share/www configure end","title":"blockinfile"},{"location":"Ansible/module/#replace","text":"ansible.builtin.replace \u2013 Replace all instances of a particular string in a file using a back-referenced regular expression \u2014 Ansible Documentation after / before \u3067\u300c\u3053\u3053\u304b\u3089\u3053\u3053\u307e\u3067\u306e\u9593\u300d\u3092\u6307\u5b9a\u3067\u304d\u308b\u3002 - name : replace sample replace : path : duplicate-test.txt regexp : ^[0-9]+$ replace : zzz after : '# /share/www configure begin' before : '# /share/www configure end' \u5165\u529b\u30d5\u30a1\u30a4\u30eb\u304c\u2193\u306e\u3088\u3046\u306b\u8907\u6570\u30de\u30c3\u30c1\u3059\u308b\u5834\u5408\u306f # /share/www configure begin 1 # /share/www configure begin 2 # /share/www configure begin 3 # /share/www configure end <IfModule dir_module> DirectoryIndex index.html </IfModule> 4 # /share/www configure end 5 # /share/www configure end 1 \u304b\u3089 3 \u307e\u3067\u304c\u5bfe\u8c61\u3060\u3063\u305f\u3002( after \u3082 before \u3082\u6700\u521d\u306b\u30de\u30c3\u30c1\u3057\u305f\u90e8\u5206\u304c\u5bfe\u8c61)","title":"replace"},{"location":"Ansible/module/#redhat_subscription","text":"community.general.redhat_subscription \u2013 Manage registration and subscriptions to RHSM using the subscription-manager command \u2014 Ansible Documentation RHEL\u306e\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u5272\u308a\u5f53\u3066\u3092\u884c\u3046\u3002 \u958b\u767a\u8005\u30e9\u30a4\u30bb\u30f3\u30b9\u306a\u3089\u30d7\u30fc\u30ebID\u306f1\u500b\u3057\u304b\u306a\u3044\u306e\u3067 - name : subscription community.general.redhat_subscription : state : present username : \"{{ rh_username }}\" password : \"{{ rh_password }}\" auto_attach : true \u3067\u3059\u3079\u3066\u5b8c\u4e86\u3059\u308b\u3002 \u5236\u9650\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u74b0\u5883\u306eRHEL7\u3067proxy\u7d4c\u7531\u3067\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u767b\u9332\u3068Docker\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb - zaki work log \u3053\u308c\u3067\u3044\u3046\u3068 subscription-manager register \u3057\u3066 subscription-manager attach --pool=**** \u307e\u3067\u7d42\u308f\u3063\u305f\u72b6\u614b\u306b\u306a\u308b\u3002","title":"redhat_subscription"},{"location":"Ansible/module/#alternatives","text":"community.general.alternatives \u2013 Manages alternative programs for common commands \u2014 Ansible Documentation community.general.alternatives \u3067 alternatives \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u305f\u30b3\u30de\u30f3\u30c9\u5207\u308a\u66ff\u3048\u8a2d\u5b9a\u3092\u884c\u3046\u3002 - name : alternatives python community.general.alternatives : name : python link : /usr/bin/python path : /usr/bin/python3 become : true \u3053\u308c\u3067\u3001 /usr/bin/python -> /etc/alternatives/python -> /usr/bin/python3 \u3078\u306e\u30ea\u30f3\u30af\u304c python \u3068\u3044\u3046\u540d\u524d\u3067\u767b\u9332\u3055\u308c\u308b\u3002 \u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066\u306f\u4ee5\u4e0b\u3068\u540c\u7b49\u3002 ( priority \u306f\u30c7\u30d5\u30a9\u30eb\u30c850) # update-alternatives --install /usr/bin/python python /usr/bin/python3 50","title":"alternatives"},{"location":"Ansible/module/#_2","text":"","title":"\u30d1\u30c3\u30b1\u30fc\u30b8"},{"location":"Ansible/module/#dnf","text":"CentOS7(yum\u74b0\u5883)\u306b\u4f7f\u3048\u308b\uff1f => NG fatal: [cloud - dev]: FAILED ! => changed = false msg: Could not import the dnf python module using / usr / bin / python ( 2.7.5 (default, Nov 16 2020 , 22 : 23 : 17 ) [GCC 4.8.5 20150623 (Red Hat 4.8.5-44 )]) . Please install ` python3 - dnf ` or ` python2 - dnf ` package or ensure you have specified the correct ansible_python_interpreter . (attempted [ '/usr/libexec/platform-python' , '/usr/bin/python3' , '/usr/bin/python2' , '/usr/bin/python' ]) results: [] \u305f\u3060\u3057\u3001CentOS7\u3067 sudo yum install python2-dnf \u3092\u5165\u308c\u308b\u3068\u52d5\u304f\u3002 dnf\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001CentOS7\u4e0a\u3067 rpm -qa \u3068\u304b\u3057\u3066\u3082\u78ba\u8a8d\u3067\u304d\u308b\u3002","title":"dnf"},{"location":"Ansible/module/#yum","text":"Fedora34 / RHEL8\u306b\u4f7f\u3048\u308b\uff1f => OK","title":"yum"},{"location":"Ansible/module/#apt_repository","text":"- name : add apt repository ansible.builtin.apt_repository : repo : deb [arch=arm64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu focal stable filename : docker \u3053\u308c\u3067\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002 $ cat /etc/apt/sources.list.d/docker.list deb [arch=arm64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu focal stable \u3053\u306e\u3068\u304d\u3001 /etc/apt/sources.list.d/docker.list \u4ee5\u5916\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3067\u306b\u540c\u3058\u8a2d\u5b9a\u304c\u3042\u308b\u5834\u5408\u306f docker.list \u306f\u4f5c\u6210\u3055\u308c\u305a\u306b ok \u3068\u306a\u308b\u3002","title":"apt_repository"},{"location":"Ansible/module/#_3","text":"","title":"\u30d5\u30a1\u30a4\u30eb"},{"location":"Ansible/module/#state","text":"","title":"state"},{"location":"Ansible/module/#file","text":"\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u304c\u306a\u3044\u5834\u5408\u306f\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002 \u9006\u624b\u306b\u3068\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u5b58\u5728\u30c1\u30a7\u30c3\u30af\u306b\u4f7f\u3048\u308b(\u305d\u306e\u5834\u5408\u30a8\u30e9\u30fc\u306f\u7121\u8996\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u306f\u3042\u308b) \u4ee5\u4e0b\u306f /var/tmp/ansible-file \u304c\u7121\u3044\u5834\u5408\u306b\u6700\u521d\u306e\u30bf\u30b9\u30af\u304c\u5931\u6557( ignore_errors \u306b\u3088\u308a\u7121\u8996)\u3057\u3001\u6b21\u306e\u30bf\u30b9\u30af\u3067 file not exist \u304c\u51fa\u529b\u3055\u308c\u308b\u3002\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u5834\u5408\u306f\u6700\u521d\u306e\u30bf\u30b9\u30af\u306f\u6210\u529f\u3057\u3001\u7d9a\u304f\u30bf\u30b9\u30af\u306f when \u306e\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u305f\u3081\u30b9\u30ad\u30c3\u30d7\u3055\u308c\u308b\u3002 - name : exist file? file : path : /var/tmp/ansible-file state : file register : result ignore_errors : true - debug : msg : file not exist when : result is failed failed_when \u3092\u4f7f\u3046\u306a\u3089\u4ee5\u4e0b - name : dounaru file : path : /var/tmp/ansible-file state : file register : result failed_when : false - debug : msg : file not exist when : result.state == \"absent\"","title":"file"},{"location":"Ansible/module/#_4","text":"- name : create file file : path : /var/tmp/file_permission mode : \"0755\" state : directory \u3053\u308c\u306a\u3089 $ ll -d /var/tmp/file_permission/ drwxr-xr-x. 2 zaki zaki 6 7\u6708 31 10:27 /var/tmp/file_permission/ mode \u5b9f\u4f53 \"0755\" (str) drwxr-xr-x 0755 (int) drwxr-xr-x \"755\" (str) drwxr-xr-x 755 (int) d-wxrw--wt 755 \u306b\u3059\u308b\u3068\u300110\u9032\u6570\u306e755\u5165\u529b\u30928\u9032\u6570\u3068\u89e3\u91c8\u3057 1363 \u3068\u3057\u3066\u30e2\u30fc\u30c9\u8a2d\u5b9a\u3055\u308c\u308b\u52d5\u4f5c\u306b\u306a\u308b\u3002 \u30e2\u30fc\u30c9\u8a2d\u5b9a\u306f8\u9032\u6570\u306e\u6570\u5024\u304b\u6587\u5b57\u5217\u578b\u306e\u6570\u5024\u304c\u5165\u529b\u306a\u306e\u3068\u3001\u5148\u982d\u30bc\u30ed\u306e\u6570\u5024\u306f8\u9032\u6570\u3068\u3057\u3066YAML\u304c\u89e3\u91c8\u3059\u308b\u306e\u3067\u3001\u5148\u982d\u30bc\u30ed\u3092\u4ed8\u3051\u305a\u306bint\u306e\u6570\u5024\u3092\u6307\u5b9a\u3059\u308b\u3068\u60f3\u5b9a\u5916\u306e\u52d5\u4f5c\u306b\u306a\u308b\u3002","title":"\u30e2\u30fc\u30c9"},{"location":"Ansible/module/#fetch","text":"\u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ce\u30fc\u30c9\u3078\u30b3\u30d4\u30fc\u3059\u308b\u3002 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u4e0d\u53ef\u3002( src \u306e\u30d1\u30b9\u304c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5834\u5408\u306f\u5931\u6557\u3059\u308b) fatal: [fedora-node]: FAILED! => changed=false file: /home/zaki/src/docker-images/ msg: remote file is a directory, fetch cannot work on directories \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306esrc\u30d1\u30e9\u30e1\u30bf\u306e\u9805 \u306b\u3082\u8a18\u8f09\u3042\u308a\u3002 This must be a file, not a directory. fetch\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4f7f\u3044\u65b9\u5168\u822c\u306f\u306f\u3066\u30d6\u306b\u66f8\u3044\u305f\u3002 [Ansible] fetch\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u30ea\u30e2\u30fc\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u30ce\u30fc\u30c9\u3078\u8ee2\u9001\u30fb\u96c6\u7d04\u3059\u308b - zaki work log","title":"fetch"},{"location":"Ansible/module/#slurp","text":"\u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u4e0a\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u3092\u53d6\u5f97\u3059\u308b\u3002 fetch\u3068\u7570\u306a\u308a\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u3078\u4fdd\u5b58\u305b\u305a\u306b\u30aa\u30f3\u30e1\u30e2\u30ea\u51e6\u7406\u3002 base64\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3067\u30b3\u30fc\u30c9\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002 - name : get private key ansible.builtin.slurp : src : /home/ec2-user/.ssh/id_rsa register : ssh_private_key - name : create repository credential on awx awx.awx.credential : name : git-repository-credential organization : Default credential_type : Source Control inputs : username : ec2-user ssh_key_data : \"{{ ssh_private_key.content | b64decode }}\"","title":"slurp"},{"location":"Ansible/module/#make","text":"/path/to/awx-operator \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0a\u3067 make deploy IMG=zakihmkc/awx-operator:0.17.0 \u3092\u5b9f\u884c\u3059\u308b\u30bf\u30b9\u30af\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 - name : deploy awx-operator community.general.make : chdir : /path/to/awx-operator target : deploy params : IMG : zakihmkc/awx-operator:0.17.0 \u30bf\u30fc\u30b2\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u6e08\u307f\u3067 make \u304c\u4f55\u3082\u51e6\u7406\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u5b9f\u884c\u30b9\u30c6\u30fc\u30bf\u30b9\u306f ok \u3068\u306a\u308b\u3002","title":"make"},{"location":"Ansible/module/#meta","text":"","title":"meta"},{"location":"Ansible/module/#_5","text":"\u305f\u3068\u3048\u3070\u3001OS\u30e6\u30fc\u30b6\u30fc\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u66f4\u65b0\u3057\u305f\u5834\u5408\u3001\u901a\u5e38\u3067\u3042\u308c\u3070\u30ed\u30b0\u30a4\u30f3\u3057\u76f4\u3055\u306a\u3051\u308c\u3070\u5909\u66f4\u304c\u53cd\u6620\u3055\u308c\u306a\u3044\u3002 Ansible\u3082\u540c\u69d8\u3067\u3001\u30bf\u30b9\u30af\u3067\u30b0\u30eb\u30fc\u30d7\u306e\u66f4\u65b0\u3092\u884c\u3063\u3066\u3082\u3001\u5f8c\u7d9a\u306e\u30bf\u30b9\u30af\u306f\u63a5\u7d9a\u304c\u7dad\u6301\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u66f4\u65b0\u3055\u308c\u305f\u30b0\u30eb\u30fc\u30d7\u306e\u72b6\u614b\u3067\u30bf\u30b9\u30af\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044\u3002 \u3053\u306e\u5834\u5408\u3001 meta\u30e2\u30b8\u30e5\u30fc\u30eb \u306e reset_connection \u3092\u4f7f\u3063\u3066\u518d\u63a5\u7d9a\u3092\u884c\u3044\u3001\u5909\u66f4\u3092\u53cd\u6620\u3057\u3066\u5f8c\u7d9a\u306e\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3067\u304d\u308b\u3002 - name : \u30b0\u30eb\u30fc\u30d7\u3092\u5909\u66f4\u3059\u308b\u30bf\u30b9\u30af ... - name : refresh connection ansible.builtin.meta : reset_connection - name : \u5909\u66f4\u3057\u305f\u30b0\u30eb\u30fc\u30d7\u524d\u63d0\u306e\u30bf\u30b9\u30af ...","title":"\u518d\u63a5\u7d9a"},{"location":"Ansible/module/#play","text":"\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u304a\u3051\u308b exit(0) \u307f\u305f\u3044\u306a\u3084\u3064\u3002 \u4efb\u610f\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067play\u3092\u6b63\u5e38\u7d42\u4e86\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 tasks : - name : task1 debug : msg : task1 - name : task2 debug : msg : task2 - name : end play ansible.builtin.meta : end_play - name : task3 debug : msg : task3 \u3053\u306eplaybook\u306e\u5185\u5bb9\u3067Ansible\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u901a\u308atask3\u306f\u5b9f\u884c\u3055\u308c\u305a\u306b\u7d42\u4e86\u3059\u308b\u3002 PLAY [localhost] **************************************************************** TASK [task1] ******************************************************************** ok: [localhost] => msg: task1 TASK [task2] ******************************************************************** ok: [localhost] => msg: task2 TASK [end play] ***************************************************************** PLAY RECAP ********************************************************************** localhost : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0","title":"play\u306e\u7d42\u4e86"},{"location":"Ansible/module/#_6","text":"\u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u3067\u30db\u30b9\u30c8\u60c5\u5831\u3092\u518d\u53ce\u96c6\u3057\u305f\u3044\u5834\u5408\u3001\u306a\u3069\u3002 - name : refresh inventory ansible.builtin.meta : refresh_inventory [Ansible] \u4efb\u610f\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u306e\u30db\u30b9\u30c8\u60c5\u5831\u53ce\u96c6\u3092\u884c\u3046 - zaki work log","title":"\u30a4\u30f3\u30d9\u30f3\u30c8\u30ea\u306e\u518d\u8aad\u307f\u8fbc\u307f"},{"location":"Ansible/module/#fail","text":"\u6307\u5b9a\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51fa\u529b\u3057\u3066play\u3092\u5931\u6557\u3055\u305b\u308b - ansible.builtin.fail : msg : failed task","title":"fail"},{"location":"Ansible/module/#docker","text":"","title":"Docker"},{"location":"Ansible/module/#push-image","text":"docker_image \u3092\u4f7f\u7528\u3057\u30d1\u30e9\u30e1\u30bf\u306b push: true \u3092\u6307\u5b9a\u3002 - name : push container image community.docker.docker_image : name : quay.io/ansible/awx-ee repository : zakihmkc/awx-ee:0.6.0 push : true source : local \u3053\u306e\u30bf\u30b9\u30af\u306e\u5834\u5408\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u306b\u3042\u308b quay.io/ansible/awx-ee \u30a4\u30e1\u30fc\u30b8\u3092Docker Hub\u3078 zakihmkc/awx-ee:0.6.0 \u3068\u3057\u3066 push \u3059\u308b\u3002 \u3053\u306e\u3068\u304d\u3001 zakihmkc/awx-ee:0.6.0 \u304c\u65e2\u306b\u30ed\u30fc\u30ab\u30eb\u306b\u3042\u308b\u5834\u5408\u306ftag\u306e\u4e0a\u66f8\u304d\u304c\u767a\u751f\u3057\u306a\u3044\u305f\u3081\u3001push\u3055\u308c\u306a\u3044\u3002\u3053\u3053\u3067push\u3057\u305f\u3044\u5834\u5408\u306f\u3001tag\u8a2d\u5b9a\u3092\u4e0a\u66f8\u304d\u3059\u308b force_tag: true \u3082\u8ffd\u52a0\u3059\u308b\u3002","title":"push image"},{"location":"Ansible/module/#git","text":"ansible.builtin.git : repo : https://github.com/zaki-lknr/awx_build_and_deploy.git version : feature/awx-ver-21.13.0 dest : /var/tmp/work-dir dest\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u4e8b\u524d\u306b\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002 Git\u30e2\u30b8\u30e5\u30fc\u30eb\u306fCLI\u306e git clone \u3068\u7570\u306a\u308a\u3001\u4e0a\u306e\u4f8b\u3067\u3044\u3046\u3068 awx_build_and_deploy \u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u4f5c\u6210\u3055\u308c\u306a\u3044\u3002","title":"git"},{"location":"Ansible/module/#ssh","text":"","title":"ssh"},{"location":"Ansible/module/#openssh_keypair","text":"ssh key pair\u4f5c\u6210 community.crypto.openssh_keypair : path : \"{{ ansible_env.HOME }}/.ssh/id_rsa\" size : 4096 # default type : rsa # default register : ssh_keypair_result","title":"openssh_keypair"},{"location":"Ansible/module/#authorized_key","text":"authorized_keys \u3078\u306e\u516c\u958b\u9375\u767b\u9332 ansible.posix.authorized_key : user : \"{{ ansible_env.USER }}\" key : \"{{ ssh_keypair_result.public_key }}\" # key: \"{{ lookup('file', '~/.ssh/id_rsa.pub') }}\" delegate_to : localhost run_once : true","title":"authorized_key"},{"location":"Ansible/module/#pip","text":"venv\u3092\u4f5c\u308a\u6307\u5b9a\u306ePython\u30d1\u30c3\u30b1\u30fc\u30b8\u5165\u308c\u308b\u3002 pip\u306f\u6700\u65b0\u306b\u3057\u3064\u3064\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u5165\u308c\u308b\u306a\u3089\u3053\u3093\u306a\u611f\u3058\u3002 - name : create venv ansible.builtin.pip : name : - pip - ansible-core==2.18.0 state : latest virtualenv : /path/to/venv/ansible virtualenv_command : python3 -m venv \u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306e\u3053\u306evenv\u3092\u4f7f\u3063\u3066Ansible\u5b9f\u884c\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 [Ansible] \u30bf\u30fc\u30b2\u30c3\u30c8\u30ce\u30fc\u30c9\u306evenv\u306ePython\u3092\u6307\u5b9a\u3057\u3066\u5b9f\u884c\u3059\u308b (interpreter_python / ansible_python_interpreter / PYTHONPATH) - zaki work log \u3053\u306e\u8fba\u306e\u8a2d\u5b9a\u3092\u3069\u3053\u304b\u306b\u5165\u308c\u308c\u3070OK ansible_python_interpreter : /path/to/venv/ansible/bin/python","title":"pip"},{"location":"Ansible/module/#pause","text":"sleep\u3059\u308b - name : sleep ansible.builtin.pause : seconds : 10 \u5358\u7d14\u306asleep\u3067\u306a\u304f\u3001\u6700\u5927\u3067\u6307\u5b9a\u6642\u9593\u3060\u3051wait\u304c\u304b\u304b\u308a\u3001\u305d\u306e\u9593\u306b Ctrl-c \u62bc\u4e0b\u3067\u300c\u5373\u518d\u958b or \u51e6\u7406\u4e2d\u65ad\u300d\u306e\u9078\u629e\u304c\u53ef\u80fd\u306b\u306a\u308b\u3002 a \u3067\u4e2d\u65ad\u3057\u305f\u5834\u5408\u306f\u305d\u3053\u3067\u51e6\u7406\u304c\u7d42\u4e86\u3059\u308b\u3002 TASK [sleep] ************************************************************************* Pausing for 10 seconds (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort) Press 'C' to continue the play or 'A' to abort fatal: [localhost]: FAILED! => msg: user requested abort!","title":"pause"},{"location":"Ansible/module/#wait_for","text":"\u51e6\u7406\u5bfe\u8c61\u30db\u30b9\u30c8\u306e80/TCP\u304cAnsible\u5b9f\u884c\u30db\u30b9\u30c8\u304b\u3089\u63a5\u7d9a\u53ef\u80fd\u306b\u306a\u308b\u307e\u3067\u6700\u5927300\u79d2wait\u3059\u308b\u30bf\u30b9\u30af - ansible.builtin.wait_for : host : \"{{ ansible_host }}\" port : 80 delay : 5 state : started timeout : 300 delegate_to : localhost \u9006\u306b\u7d42\u4e86\u51e6\u7406\u306e\u78ba\u8a8d\u306a\u3069\u3067\u63a5\u7d9a\u4e0d\u53ef\u306b\u306a\u308b\u307e\u3067wait\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3001 state: stopped \u3092\u6307\u5b9a\u3059\u308b\u3002","title":"wait_for"},{"location":"Ansible/module/#debug","text":"msg \u3092\u4f7f\u3048\u3070(\u5909\u6570\u3092\u542b\u3081)\u4efb\u610f\u306e\u6587\u5b57\u5217\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\u3002 \u5909\u6570\u3060\u3051\u3067\u826f\u3051\u308c\u3070 var \u3092\u4f7f\u3046\u65b9\u304c\u697d\u3002 --- - hosts : localhost gather_facts : false vars : val1 : 1234 tasks : - debug : var : val1 \u305f\u3060\u3057 var \u306e\u5834\u5408\u306f\u30ea\u30b9\u30c8\u51fa\u529b\u306f\u4e0d\u53ef debug : var : - val1 - val2 # \u4e0d\u53ef","title":"debug"},{"location":"Ansible/playbook/","text":"playbook\u30b5\u30f3\u30d7\u30eb \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6 Playbook Keywords \u2014 Ansible Documentation \u4f7f\u7528\u4f8b playbook - hosts : all gather_facts : false tasks : - name : hello debug : msg : hello world inventory [server] 192.168.0.1","title":"playbook\u30b5\u30f3\u30d7\u30eb"},{"location":"Ansible/playbook/#playbook","text":"","title":"playbook\u30b5\u30f3\u30d7\u30eb"},{"location":"Ansible/playbook/#_1","text":"Playbook Keywords \u2014 Ansible Documentation \u4f7f\u7528\u4f8b","title":"\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6"},{"location":"Ansible/playbook/#playbook_1","text":"- hosts : all gather_facts : false tasks : - name : hello debug : msg : hello world","title":"playbook"},{"location":"Ansible/playbook/#inventory","text":"[server] 192.168.0.1","title":"inventory"},{"location":"Ansible/role/","text":"Role \u30ed\u30fc\u30eb\u306e\u96db\u5f62\u3092\u4f5c\u308b $ ansible-galaxy role init sample_role \u3053\u3093\u306a\u611f\u3058 $ find . ./sample_role ./sample_role/.travis.yml ./sample_role/README.md ./sample_role/defaults ./sample_role/defaults/main.yml ./sample_role/files ./sample_role/handlers ./sample_role/handlers/main.yml ./sample_role/meta ./sample_role/meta/main.yml ./sample_role/tasks ./sample_role/tasks/main.yml ./sample_role/templates ./sample_role/tests ./sample_role/tests/inventory ./sample_role/tests/test.yml ./sample_role/vars ./sample_role/vars/main.yml \u30ed\u30fc\u30eb\u304b\u3089\u5225\u306e\u30ed\u30fc\u30eb\u3092\u5b9f\u884c\u3059\u308b \u7279\u306b\u4f55\u4e8b\u3082\u306a\u304f\u53ef\u80fd\u3002 role2 (\u547c\u3070\u308c\u308b\u5074) --- # roles/test2/tasks/main.yml - name : ...\u7701\u7565 role3 (\u547c\u3076\u5074) --- # roles/test3/tasks/main.yml - name : this is test3 debug : msg : \"this is test3\" - name : exec other role import_role : name : test2 playbook --- # playbook.yml - hosts : localhost gather_facts : false roles : - test2 - test3 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210 meta meta/main.yml \u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5b9a\u7fa9\u3092\u8a18\u8ff0\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u30ed\u30fc\u30eb\u5b9f\u884c\u6642\u306b builde \u3068 runner \u30ed\u30fc\u30eb\u3092\u4e8b\u524d\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 --- dependencies : - role : builder - role : runner \u30ed\u30fc\u30ebA\u304c\u30ed\u30fc\u30ebX\u3068\u30ed\u30fc\u30ebY\u3001\u30ed\u30fc\u30ebB\u3082\u30ed\u30fc\u30ebX\u3068\u30ed\u30fc\u30ebY\u306b\u4f9d\u5b58\u3059\u308b\u8a2d\u5b9a\u306b\u3057\u3066\u308b\u5834\u5408\u3001\u30ed\u30fc\u30ebX\u3068\u30ed\u30fc\u30ebY\u306f1\u56de\u305a\u3064\u547c\u3070\u308c\u308b\u3002(A\u3068B\u306e\u30ed\u30fc\u30eb\u5b9f\u884c\u524d\u3067\u305d\u308c\u305e\u308c\u8a082\u56de\u305a\u3064\u547c\u3070\u308c\u308b\u3053\u3068\u306f\u7121\u3044)","title":"Role"},{"location":"Ansible/role/#role","text":"","title":"Role"},{"location":"Ansible/role/#_1","text":"$ ansible-galaxy role init sample_role \u3053\u3093\u306a\u611f\u3058 $ find . ./sample_role ./sample_role/.travis.yml ./sample_role/README.md ./sample_role/defaults ./sample_role/defaults/main.yml ./sample_role/files ./sample_role/handlers ./sample_role/handlers/main.yml ./sample_role/meta ./sample_role/meta/main.yml ./sample_role/tasks ./sample_role/tasks/main.yml ./sample_role/templates ./sample_role/tests ./sample_role/tests/inventory ./sample_role/tests/test.yml ./sample_role/vars ./sample_role/vars/main.yml","title":"\u30ed\u30fc\u30eb\u306e\u96db\u5f62\u3092\u4f5c\u308b"},{"location":"Ansible/role/#_2","text":"\u7279\u306b\u4f55\u4e8b\u3082\u306a\u304f\u53ef\u80fd\u3002 role2 (\u547c\u3070\u308c\u308b\u5074) --- # roles/test2/tasks/main.yml - name : ...\u7701\u7565 role3 (\u547c\u3076\u5074) --- # roles/test3/tasks/main.yml - name : this is test3 debug : msg : \"this is test3\" - name : exec other role import_role : name : test2 playbook --- # playbook.yml - hosts : localhost gather_facts : false roles : - test2 - test3","title":"\u30ed\u30fc\u30eb\u304b\u3089\u5225\u306e\u30ed\u30fc\u30eb\u3092\u5b9f\u884c\u3059\u308b"},{"location":"Ansible/role/#_3","text":"","title":"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210"},{"location":"Ansible/role/#meta","text":"meta/main.yml \u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5b9a\u7fa9\u3092\u8a18\u8ff0\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u30ed\u30fc\u30eb\u5b9f\u884c\u6642\u306b builde \u3068 runner \u30ed\u30fc\u30eb\u3092\u4e8b\u524d\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 --- dependencies : - role : builder - role : runner \u30ed\u30fc\u30ebA\u304c\u30ed\u30fc\u30ebX\u3068\u30ed\u30fc\u30ebY\u3001\u30ed\u30fc\u30ebB\u3082\u30ed\u30fc\u30ebX\u3068\u30ed\u30fc\u30ebY\u306b\u4f9d\u5b58\u3059\u308b\u8a2d\u5b9a\u306b\u3057\u3066\u308b\u5834\u5408\u3001\u30ed\u30fc\u30ebX\u3068\u30ed\u30fc\u30ebY\u306f1\u56de\u305a\u3064\u547c\u3070\u308c\u308b\u3002(A\u3068B\u306e\u30ed\u30fc\u30eb\u5b9f\u884c\u524d\u3067\u305d\u308c\u305e\u308c\u8a082\u56de\u305a\u3064\u547c\u3070\u308c\u308b\u3053\u3068\u306f\u7121\u3044)","title":"meta"},{"location":"Ansible/tower/","text":"Ansible Tower / AAP docs \u65e7\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 1. Overview \u2014 Automation Controller User Guide v4.5 1. Red Hat Ansible Automation Platform Controller Licensing, Updates, and Support \u2014 Automation Controller Administration Guide v4.5 \u73fe\u884c(v2.4) Automation Controller \u30e6\u30fc\u30b6\u30fc\u30ac\u30a4\u30c9 | Red Hat Product Documentation Automation Controller \u7ba1\u7406\u30ac\u30a4\u30c9 | Red Hat Product Documentation \u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u3068\u30d0\u30fc\u30b8\u30e7\u30f3 Red Hat Ansible Automation Platform \u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb - Red Hat Customer Portal AAP ver ansible-core Controller ver 2.5 2.16 4.6 2.4 2.15 4.4 2.3 2.14 4.3 2.2 2.13 4.2 2.1 2.12 4.1 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3068\u30ea\u30b9\u30c8\u30a2 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 Tower\u306f\u5b9f\u884c\u4e2d\u3067\u826f\u3044\u3002 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306b\u6210\u529f\u3059\u308b\u3068\u3001\u30ab\u30ec\u30f3\u30c8\u306b tower-backup-YYYY-mm-dd-HH:MM:SS.tar.gz \u304c\u4f5c\u6210\u3055\u308c\u308b\u3002(symlink\u306e tower-backup-latest.tar.gz \u3082\u4f5c\u6210\u3055\u308c\u308b) # ./setup.sh -b \u30ea\u30b9\u30c8\u30a2\u306f\u4ee5\u4e0b\u3002 # ./setup.sh -r -e restore_backup_file = /path/to/tower-backup-....tar.gz ver 2.4 Chapter 27. Backup and restore | Red Hat Product Documentation ver 2.5 Chapter 15. Backup and restore | Red Hat Product Documentation \u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb How to uninstall Red Hat Ansible Controller(Ansible Automation Platform 2.x)? - Red Hat Customer Portal \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u8a2d\u5b9a SCM\u3092\u4f7f\u308f\u306a\u3044\u5834\u5408 Git\u3068\u304b\u4f7f\u308f\u305aTower\u306e\u30db\u30b9\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306eplaybook\u3092\u4f7f\u3046\u5834\u5408\u306f /var/lib/awx/projects \u4ee5\u4e0b\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u308a\u3001\u305d\u306e\u914d\u4e0b\u306bplaybook\u985e\u3092\u914d\u7f6e\u3059\u308b\u3002 \u305f\u3068\u3048\u3070 /var/lib/awx/projects/sample-demo/playbook.yml \u306a\u3069\u3002 \u30ed\u30b0 \u7b2c11\u7ae0 Automation Controller \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb | Red Hat Product Documentation /var/log/tower/ /var/log/supervisor/ /var/log/nginx/ /var/lib/pgsql/data/pg_log/ /var/log/redis/ \u8a2d\u5b9a TOWER_URL_BASE \u901a\u77e5\u6642\u306e\u30db\u30b9\u30c8\u540d EVENT_STDOUT_MAX_BYTES_DISPLAY \u30b8\u30e7\u30d6\u30b9\u30c8\u30ea\u30fc\u30e0\u306b\u8868\u793a\u3055\u308c\u308b\u30ed\u30b0\u306e\u30d0\u30a4\u30c8\u6570\u3002\u8d85\u904e\u5206\u306f\u7701\u7565\u8868\u793a\u3055\u308c\u308b\u3002 MAX_EVENT_RES_DATA \u5927\u304d\u306a\u30b5\u30a4\u30ba\u306e\u30a4\u30d9\u30f3\u30c8\u30c7\u30fc\u30bf\u306e\u4e0a\u9650\u5024\u3002\u8d85\u904e\u5206\u306f\u4fdd\u5b58\u6642\u306b\u5207\u308a\u6368\u3066\u3089\u308c\u308b\u3002 3.7. Automation Controller \u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0 | Red Hat Product Documentation Returned JSON is empty when standard output is large \u00b7 Issue #1789 \u00b7 ansible/awx Tools awx-manage \u30b8\u30e7\u30d6\u524a\u9664 awx-manage cleanup_jobs [--help] --dry-run \u3067\u5b9f\u884c\u3059\u308c\u3070\u524a\u9664\u5bfe\u8c61\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002 \u30c7\u30d5\u30a9\u30eb\u30c890\u65e5\u4ee5\u524d\u304c\u524a\u9664\u5bfe\u8c61\u3002 \u65e5\u4ed8\u6307\u5b9a\u306f --days \u3067\u6307\u5b9a\u3002 awx-manage cleanup_jobs --days 3 API API\u4e00\u89a7\u306f\u4ee5\u4e0b\u3002 11. Controller API Reference Guide \u2014 Automation Controller API Guide v4.2.1 12. AWX API Reference Guide \u2014 Ansible AWX community documentation \u7a3c\u50cd\u4e2d\u306eAAP/AWX\u306eAPI\u30fb\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u3067 /api/v2/ \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u78ba\u8a8d\u3067\u304d\u308b\u3002 \u8a8d\u8a3c \u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9 web\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u4f7f\u7528\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3067REST\u3092\u5b9f\u884c\u3059\u308b\u306b\u306fBasic\u8a8d\u8a3c\u3092\u4f7f\u7528\u3059\u308b\u3002 curl \u3067\u3042\u308c\u3070 -u \u30aa\u30d7\u30b7\u30e7\u30f3\u3002 curl -u $username:$password -sk https://192.168.0.27/api/v2/job_templates/ \u30d1\u30fc\u30bd\u30ca\u30eb\u30c8\u30fc\u30af\u30f3 Tower\u306e\u30e6\u30fc\u30b6\u30fc\u30da\u30fc\u30b8\u3067\u3001\u5bfe\u8c61\u30e6\u30fc\u30b6\u30fc\u3092\u9078\u629e\u3001\u300c\u30c8\u30fc\u30af\u30f3\u300d\u62bc\u4e0b\u3057\u3066\u300c\uff0b\u300d\u62bc\u4e0b\u3067\u4f5c\u6210\u3067\u304d\u308b\u3002 \u6a29\u9650\u306fread/write\u306e\u307f\u3002 GUI\u3067\u4f5c\u3063\u305f\u30d1\u30fc\u30bd\u30ca\u30eb\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u3063\u305fREST\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b Authorization: Bearer {token-string} \u3092\u30d8\u30c3\u30c0\u306b\u8ffd\u52a0\u3059\u308c\u3070OK $ export tower_token = ........ $ curl -sk https://192.168.0.27/api/v2/job_templates/ -H \"Authorization: Bearer $tower_token \" 19.2. \u30d1\u30fc\u30bd\u30ca\u30eb\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3 (PAT) \u5411\u3051\u306e OAuth2 \u30c8\u30fc\u30af\u30f3\u30b7\u30b9\u30c6\u30e0\u306e\u4f7f\u7528 ping $ curl -sk https://server/api/v2/ping/ \u30b8\u30e7\u30d6 \u4e00\u89a7 $ curl -sk https://192.168.0.27/api/v2/jobs/?page_size =200 \u30bd\u30fc\u30c8\u3059\u308b\u306b\u306f order_by \u3092\u4f7f\u3046\u3002\u30ad\u30fc\u306f - \u3092\u5148\u982d\u306b\u3064\u3051\u308b\u3068\u9006\u9806\u3002 \u4ee5\u4e0b\u3067\u6700\u65b0\u306e\u30b8\u30e7\u30d6\u304c\u5148\u982d\u306b\u6765\u308b\u3002 $ curl -sk \"https://192.168.0.27/api/v2/jobs/?page_size=200&order_by=-created\" page_size \u306b\u6307\u5b9a\u3067\u304d\u308b\u306e\u306fMAX200\uff1f(\u30aa\u30fc\u30d0\u30fc\u6642\u306f\u7121\u8996\u3055\u308c\u3066200\u6271\u3044) \u8a73\u7d30 curl -sk https://192.168.0.27/api/v2/jobs/{JOB_ID} \u524a\u9664 curl -XDELETE -sk https://192.168.0.27/api/v2/jobs/{JOB_ID} \u30b8\u30e7\u30d6\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 \u4e00\u89a7 $ curl -sk https://192.168.0.27/api/v2/job_templates/?page_size =1000 | python -m json.tool \u8a73\u7d30 $ curl -sk https://192.168.0.27/api/v2/job_templates/ { template-ID } / \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u691c\u7d22 curl https://server/api/v2/job_templates/?search=Demo+Job+Template \u30b8\u30e7\u30d6\u306e\u8d77\u52d5 curl -XPost https://server/api/v2/job_templates/${TEMPLATE_ID}/launch/ \u30ef\u30fc\u30af\u30d5\u30b8\u30e7\u30d6\u30ed\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 \u30b8\u30e7\u30d6\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u306f\u5225 \u4e00\u89a7 curl https://tower.example.org/api/v2/workflow_job_templates/ \u30c1\u30fc\u30e0 \u30c1\u30fc\u30e0\u4e00\u89a7 curl -XGET https://server/api/v2/teams/ \u8a2d\u5b9a\u306ecategory_slug\u78ba\u8a8d \u300cSettings\u300d\u306b\u3042\u308b /api/v2/settings/ \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 curl -sk https://tower.example.org/api/v2/settings/ | python3 -m json.tool { \"count\": 20, \"next\": null, \"previous\": null, \"results\": [ { \"url\": \"/api/v2/settings/all/\", \"slug\": \"all\", \"name\": \"All\" }, { \"url\": \"/api/v2/settings/authentication/\", \"slug\": \"authentication\", \"name\": \"Authentication\" }, { \"url\": \"/api/v2/settings/azuread-oauth2/\", \"slug\": \"azuread-oauth2\", \"name\": \"Azure AD OAuth2\" }, { \"url\": \"/api/v2/settings/changed/\", \"slug\": \"changed\", \"name\": \"Changed\" }, { \"url\": \"/api/v2/settings/github/\", \"slug\": \"github\", \"name\": \"GitHub OAuth2\" }, { \"url\": \"/api/v2/settings/github-enterprise/\", \"slug\": \"github-enterprise\", \"name\": \"GitHub Enterprise OAuth2\" }, { \"url\": \"/api/v2/settings/github-enterprise-org/\", \"slug\": \"github-enterprise-org\", \"name\": \"GitHub Enterprise Organization OAuth2\" }, { \"url\": \"/api/v2/settings/github-enterprise-team/\", \"slug\": \"github-enterprise-team\", \"name\": \"GitHub Enterprise Team OAuth2\" }, { \"url\": \"/api/v2/settings/github-org/\", \"slug\": \"github-org\", \"name\": \"GitHub Organization OAuth2\" }, { \"url\": \"/api/v2/settings/github-team/\", \"slug\": \"github-team\", \"name\": \"GitHub Team OAuth2\" }, { \"url\": \"/api/v2/settings/google-oauth2/\", \"slug\": \"google-oauth2\", \"name\": \"Google OAuth2\" }, { \"url\": \"/api/v2/settings/jobs/\", \"slug\": \"jobs\", \"name\": \"Jobs\" }, { \"url\": \"/api/v2/settings/ldap/\", \"slug\": \"ldap\", \"name\": \"LDAP\" }, { \"url\": \"/api/v2/settings/logging/\", \"slug\": \"logging\", \"name\": \"Logging\" }, { \"url\": \"/api/v2/settings/named-url/\", \"slug\": \"named-url\", \"name\": \"Named URL\" }, { \"url\": \"/api/v2/settings/radius/\", \"slug\": \"radius\", \"name\": \"RADIUS\" }, { \"url\": \"/api/v2/settings/saml/\", \"slug\": \"saml\", \"name\": \"SAML\" }, { \"url\": \"/api/v2/settings/system/\", \"slug\": \"system\", \"name\": \"System\" }, { \"url\": \"/api/v2/settings/tacacsplus/\", \"slug\": \"tacacsplus\", \"name\": \"TACACS+\" }, { \"url\": \"/api/v2/settings/ui/\", \"slug\": \"ui\", \"name\": \"UI\" } ] } \u305d\u306e\u4ed6\u306e\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a category_slug\u306b system \u3092\u6307\u5b9a\u3002 \u30ad\u30fc\u4e00\u89a7\u306f\u4ee5\u4e0b\u306e\u901a\u308a $ curl -sk https://tower.example.org/api/v2/settings/system/ ... | python3 -m json.tool { \"ACTIVITY_STREAM_ENABLED\": true, \"ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC\": false, \"ORG_ADMINS_CAN_SEE_ALL_USERS\": true, \"MANAGE_ORGANIZATION_AUTH\": true, \"TOWER_URL_BASE\": \"https://127.0.0.1\", \"REMOTE_HOST_HEADERS\": [ \"REMOTE_ADDR\", \"REMOTE_HOST\" ], \"PROXY_IP_ALLOWED_LIST\": [], \"LICENSE\": { ... }, \"REDHAT_USERNAME\": \"\", \"REDHAT_PASSWORD\": \"\", \"SUBSCRIPTIONS_USERNAME\": \"\", \"SUBSCRIPTIONS_PASSWORD\": \"\", \"AUTOMATION_ANALYTICS_URL\": \"https://cloud.redhat.com/api/ingress/v1/upload\", \"INSTALL_UUID\": \"...\", \"DEFAULT_CONTROL_PLANE_QUEUE_NAME\": \"controlplane\", \"DEFAULT_EXECUTION_QUEUE_NAME\": \"default\", \"DEFAULT_EXECUTION_ENVIRONMENT\": null, \"CUSTOM_VENV_PATHS\": [], \"INSIGHTS_TRACKING_STATE\": false, \"AUTOMATION_ANALYTICS_LAST_GATHER\": null, \"AUTOMATION_ANALYTICS_LAST_ENTRIES\": \"\", \"AUTOMATION_ANALYTICS_GATHER_INTERVAL\": 14400, \"IS_K8S\": false }","title":"Ansible Tower / AAP"},{"location":"Ansible/tower/#ansible-tower-aap","text":"","title":"Ansible Tower / AAP"},{"location":"Ansible/tower/#docs","text":"\u65e7\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 1. Overview \u2014 Automation Controller User Guide v4.5 1. Red Hat Ansible Automation Platform Controller Licensing, Updates, and Support \u2014 Automation Controller Administration Guide v4.5 \u73fe\u884c(v2.4) Automation Controller \u30e6\u30fc\u30b6\u30fc\u30ac\u30a4\u30c9 | Red Hat Product Documentation Automation Controller \u7ba1\u7406\u30ac\u30a4\u30c9 | Red Hat Product Documentation","title":"docs"},{"location":"Ansible/tower/#_1","text":"Red Hat Ansible Automation Platform \u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb - Red Hat Customer Portal AAP ver ansible-core Controller ver 2.5 2.16 4.6 2.4 2.15 4.4 2.3 2.14 4.3 2.2 2.13 4.2 2.1 2.12 4.1","title":"\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u3068\u30d0\u30fc\u30b8\u30e7\u30f3"},{"location":"Ansible/tower/#_2","text":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 Tower\u306f\u5b9f\u884c\u4e2d\u3067\u826f\u3044\u3002 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306b\u6210\u529f\u3059\u308b\u3068\u3001\u30ab\u30ec\u30f3\u30c8\u306b tower-backup-YYYY-mm-dd-HH:MM:SS.tar.gz \u304c\u4f5c\u6210\u3055\u308c\u308b\u3002(symlink\u306e tower-backup-latest.tar.gz \u3082\u4f5c\u6210\u3055\u308c\u308b) # ./setup.sh -b \u30ea\u30b9\u30c8\u30a2\u306f\u4ee5\u4e0b\u3002 # ./setup.sh -r -e restore_backup_file = /path/to/tower-backup-....tar.gz ver 2.4 Chapter 27. Backup and restore | Red Hat Product Documentation ver 2.5 Chapter 15. Backup and restore | Red Hat Product Documentation","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3068\u30ea\u30b9\u30c8\u30a2"},{"location":"Ansible/tower/#_3","text":"How to uninstall Red Hat Ansible Controller(Ansible Automation Platform 2.x)? - Red Hat Customer Portal","title":"\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Ansible/tower/#_4","text":"","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u8a2d\u5b9a"},{"location":"Ansible/tower/#scm","text":"Git\u3068\u304b\u4f7f\u308f\u305aTower\u306e\u30db\u30b9\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306eplaybook\u3092\u4f7f\u3046\u5834\u5408\u306f /var/lib/awx/projects \u4ee5\u4e0b\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u308a\u3001\u305d\u306e\u914d\u4e0b\u306bplaybook\u985e\u3092\u914d\u7f6e\u3059\u308b\u3002 \u305f\u3068\u3048\u3070 /var/lib/awx/projects/sample-demo/playbook.yml \u306a\u3069\u3002","title":"SCM\u3092\u4f7f\u308f\u306a\u3044\u5834\u5408"},{"location":"Ansible/tower/#_5","text":"\u7b2c11\u7ae0 Automation Controller \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb | Red Hat Product Documentation /var/log/tower/ /var/log/supervisor/ /var/log/nginx/ /var/lib/pgsql/data/pg_log/ /var/log/redis/","title":"\u30ed\u30b0"},{"location":"Ansible/tower/#_6","text":"","title":"\u8a2d\u5b9a"},{"location":"Ansible/tower/#tower_url_base","text":"\u901a\u77e5\u6642\u306e\u30db\u30b9\u30c8\u540d","title":"TOWER_URL_BASE"},{"location":"Ansible/tower/#event_stdout_max_bytes_display","text":"\u30b8\u30e7\u30d6\u30b9\u30c8\u30ea\u30fc\u30e0\u306b\u8868\u793a\u3055\u308c\u308b\u30ed\u30b0\u306e\u30d0\u30a4\u30c8\u6570\u3002\u8d85\u904e\u5206\u306f\u7701\u7565\u8868\u793a\u3055\u308c\u308b\u3002","title":"EVENT_STDOUT_MAX_BYTES_DISPLAY"},{"location":"Ansible/tower/#max_event_res_data","text":"\u5927\u304d\u306a\u30b5\u30a4\u30ba\u306e\u30a4\u30d9\u30f3\u30c8\u30c7\u30fc\u30bf\u306e\u4e0a\u9650\u5024\u3002\u8d85\u904e\u5206\u306f\u4fdd\u5b58\u6642\u306b\u5207\u308a\u6368\u3066\u3089\u308c\u308b\u3002 3.7. Automation Controller \u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0 | Red Hat Product Documentation Returned JSON is empty when standard output is large \u00b7 Issue #1789 \u00b7 ansible/awx","title":"MAX_EVENT_RES_DATA"},{"location":"Ansible/tower/#tools","text":"","title":"Tools"},{"location":"Ansible/tower/#awx-manage","text":"","title":"awx-manage"},{"location":"Ansible/tower/#_7","text":"awx-manage cleanup_jobs [--help] --dry-run \u3067\u5b9f\u884c\u3059\u308c\u3070\u524a\u9664\u5bfe\u8c61\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002 \u30c7\u30d5\u30a9\u30eb\u30c890\u65e5\u4ee5\u524d\u304c\u524a\u9664\u5bfe\u8c61\u3002 \u65e5\u4ed8\u6307\u5b9a\u306f --days \u3067\u6307\u5b9a\u3002 awx-manage cleanup_jobs --days 3","title":"\u30b8\u30e7\u30d6\u524a\u9664"},{"location":"Ansible/tower/#api","text":"API\u4e00\u89a7\u306f\u4ee5\u4e0b\u3002 11. Controller API Reference Guide \u2014 Automation Controller API Guide v4.2.1 12. AWX API Reference Guide \u2014 Ansible AWX community documentation \u7a3c\u50cd\u4e2d\u306eAAP/AWX\u306eAPI\u30fb\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u3067 /api/v2/ \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u78ba\u8a8d\u3067\u304d\u308b\u3002","title":"API"},{"location":"Ansible/tower/#_8","text":"","title":"\u8a8d\u8a3c"},{"location":"Ansible/tower/#_9","text":"web\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u4f7f\u7528\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3067REST\u3092\u5b9f\u884c\u3059\u308b\u306b\u306fBasic\u8a8d\u8a3c\u3092\u4f7f\u7528\u3059\u308b\u3002 curl \u3067\u3042\u308c\u3070 -u \u30aa\u30d7\u30b7\u30e7\u30f3\u3002 curl -u $username:$password -sk https://192.168.0.27/api/v2/job_templates/","title":"\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9"},{"location":"Ansible/tower/#_10","text":"Tower\u306e\u30e6\u30fc\u30b6\u30fc\u30da\u30fc\u30b8\u3067\u3001\u5bfe\u8c61\u30e6\u30fc\u30b6\u30fc\u3092\u9078\u629e\u3001\u300c\u30c8\u30fc\u30af\u30f3\u300d\u62bc\u4e0b\u3057\u3066\u300c\uff0b\u300d\u62bc\u4e0b\u3067\u4f5c\u6210\u3067\u304d\u308b\u3002 \u6a29\u9650\u306fread/write\u306e\u307f\u3002 GUI\u3067\u4f5c\u3063\u305f\u30d1\u30fc\u30bd\u30ca\u30eb\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u3063\u305fREST\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b Authorization: Bearer {token-string} \u3092\u30d8\u30c3\u30c0\u306b\u8ffd\u52a0\u3059\u308c\u3070OK $ export tower_token = ........ $ curl -sk https://192.168.0.27/api/v2/job_templates/ -H \"Authorization: Bearer $tower_token \" 19.2. \u30d1\u30fc\u30bd\u30ca\u30eb\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3 (PAT) \u5411\u3051\u306e OAuth2 \u30c8\u30fc\u30af\u30f3\u30b7\u30b9\u30c6\u30e0\u306e\u4f7f\u7528","title":"\u30d1\u30fc\u30bd\u30ca\u30eb\u30c8\u30fc\u30af\u30f3"},{"location":"Ansible/tower/#ping","text":"$ curl -sk https://server/api/v2/ping/","title":"ping"},{"location":"Ansible/tower/#_11","text":"","title":"\u30b8\u30e7\u30d6"},{"location":"Ansible/tower/#_12","text":"$ curl -sk https://192.168.0.27/api/v2/jobs/?page_size =200 \u30bd\u30fc\u30c8\u3059\u308b\u306b\u306f order_by \u3092\u4f7f\u3046\u3002\u30ad\u30fc\u306f - \u3092\u5148\u982d\u306b\u3064\u3051\u308b\u3068\u9006\u9806\u3002 \u4ee5\u4e0b\u3067\u6700\u65b0\u306e\u30b8\u30e7\u30d6\u304c\u5148\u982d\u306b\u6765\u308b\u3002 $ curl -sk \"https://192.168.0.27/api/v2/jobs/?page_size=200&order_by=-created\" page_size \u306b\u6307\u5b9a\u3067\u304d\u308b\u306e\u306fMAX200\uff1f(\u30aa\u30fc\u30d0\u30fc\u6642\u306f\u7121\u8996\u3055\u308c\u3066200\u6271\u3044)","title":"\u4e00\u89a7"},{"location":"Ansible/tower/#_13","text":"curl -sk https://192.168.0.27/api/v2/jobs/{JOB_ID}","title":"\u8a73\u7d30"},{"location":"Ansible/tower/#_14","text":"curl -XDELETE -sk https://192.168.0.27/api/v2/jobs/{JOB_ID}","title":"\u524a\u9664"},{"location":"Ansible/tower/#_15","text":"","title":"\u30b8\u30e7\u30d6\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"},{"location":"Ansible/tower/#_16","text":"$ curl -sk https://192.168.0.27/api/v2/job_templates/?page_size =1000 | python -m json.tool","title":"\u4e00\u89a7"},{"location":"Ansible/tower/#_17","text":"$ curl -sk https://192.168.0.27/api/v2/job_templates/ { template-ID } /","title":"\u8a73\u7d30"},{"location":"Ansible/tower/#_18","text":"curl https://server/api/v2/job_templates/?search=Demo+Job+Template","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u691c\u7d22"},{"location":"Ansible/tower/#_19","text":"curl -XPost https://server/api/v2/job_templates/${TEMPLATE_ID}/launch/","title":"\u30b8\u30e7\u30d6\u306e\u8d77\u52d5"},{"location":"Ansible/tower/#_20","text":"\u30b8\u30e7\u30d6\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u306f\u5225","title":"\u30ef\u30fc\u30af\u30d5\u30b8\u30e7\u30d6\u30ed\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"},{"location":"Ansible/tower/#_21","text":"curl https://tower.example.org/api/v2/workflow_job_templates/","title":"\u4e00\u89a7"},{"location":"Ansible/tower/#_22","text":"","title":"\u30c1\u30fc\u30e0"},{"location":"Ansible/tower/#_23","text":"curl -XGET https://server/api/v2/teams/","title":"\u30c1\u30fc\u30e0\u4e00\u89a7"},{"location":"Ansible/tower/#category_slug","text":"\u300cSettings\u300d\u306b\u3042\u308b /api/v2/settings/ \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 curl -sk https://tower.example.org/api/v2/settings/ | python3 -m json.tool { \"count\": 20, \"next\": null, \"previous\": null, \"results\": [ { \"url\": \"/api/v2/settings/all/\", \"slug\": \"all\", \"name\": \"All\" }, { \"url\": \"/api/v2/settings/authentication/\", \"slug\": \"authentication\", \"name\": \"Authentication\" }, { \"url\": \"/api/v2/settings/azuread-oauth2/\", \"slug\": \"azuread-oauth2\", \"name\": \"Azure AD OAuth2\" }, { \"url\": \"/api/v2/settings/changed/\", \"slug\": \"changed\", \"name\": \"Changed\" }, { \"url\": \"/api/v2/settings/github/\", \"slug\": \"github\", \"name\": \"GitHub OAuth2\" }, { \"url\": \"/api/v2/settings/github-enterprise/\", \"slug\": \"github-enterprise\", \"name\": \"GitHub Enterprise OAuth2\" }, { \"url\": \"/api/v2/settings/github-enterprise-org/\", \"slug\": \"github-enterprise-org\", \"name\": \"GitHub Enterprise Organization OAuth2\" }, { \"url\": \"/api/v2/settings/github-enterprise-team/\", \"slug\": \"github-enterprise-team\", \"name\": \"GitHub Enterprise Team OAuth2\" }, { \"url\": \"/api/v2/settings/github-org/\", \"slug\": \"github-org\", \"name\": \"GitHub Organization OAuth2\" }, { \"url\": \"/api/v2/settings/github-team/\", \"slug\": \"github-team\", \"name\": \"GitHub Team OAuth2\" }, { \"url\": \"/api/v2/settings/google-oauth2/\", \"slug\": \"google-oauth2\", \"name\": \"Google OAuth2\" }, { \"url\": \"/api/v2/settings/jobs/\", \"slug\": \"jobs\", \"name\": \"Jobs\" }, { \"url\": \"/api/v2/settings/ldap/\", \"slug\": \"ldap\", \"name\": \"LDAP\" }, { \"url\": \"/api/v2/settings/logging/\", \"slug\": \"logging\", \"name\": \"Logging\" }, { \"url\": \"/api/v2/settings/named-url/\", \"slug\": \"named-url\", \"name\": \"Named URL\" }, { \"url\": \"/api/v2/settings/radius/\", \"slug\": \"radius\", \"name\": \"RADIUS\" }, { \"url\": \"/api/v2/settings/saml/\", \"slug\": \"saml\", \"name\": \"SAML\" }, { \"url\": \"/api/v2/settings/system/\", \"slug\": \"system\", \"name\": \"System\" }, { \"url\": \"/api/v2/settings/tacacsplus/\", \"slug\": \"tacacsplus\", \"name\": \"TACACS+\" }, { \"url\": \"/api/v2/settings/ui/\", \"slug\": \"ui\", \"name\": \"UI\" } ] }","title":"\u8a2d\u5b9a\u306ecategory_slug\u78ba\u8a8d"},{"location":"Ansible/tower/#_24","text":"category_slug\u306b system \u3092\u6307\u5b9a\u3002 \u30ad\u30fc\u4e00\u89a7\u306f\u4ee5\u4e0b\u306e\u901a\u308a $ curl -sk https://tower.example.org/api/v2/settings/system/ ... | python3 -m json.tool { \"ACTIVITY_STREAM_ENABLED\": true, \"ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC\": false, \"ORG_ADMINS_CAN_SEE_ALL_USERS\": true, \"MANAGE_ORGANIZATION_AUTH\": true, \"TOWER_URL_BASE\": \"https://127.0.0.1\", \"REMOTE_HOST_HEADERS\": [ \"REMOTE_ADDR\", \"REMOTE_HOST\" ], \"PROXY_IP_ALLOWED_LIST\": [], \"LICENSE\": { ... }, \"REDHAT_USERNAME\": \"\", \"REDHAT_PASSWORD\": \"\", \"SUBSCRIPTIONS_USERNAME\": \"\", \"SUBSCRIPTIONS_PASSWORD\": \"\", \"AUTOMATION_ANALYTICS_URL\": \"https://cloud.redhat.com/api/ingress/v1/upload\", \"INSTALL_UUID\": \"...\", \"DEFAULT_CONTROL_PLANE_QUEUE_NAME\": \"controlplane\", \"DEFAULT_EXECUTION_QUEUE_NAME\": \"default\", \"DEFAULT_EXECUTION_ENVIRONMENT\": null, \"CUSTOM_VENV_PATHS\": [], \"INSIGHTS_TRACKING_STATE\": false, \"AUTOMATION_ANALYTICS_LAST_GATHER\": null, \"AUTOMATION_ANALYTICS_LAST_ENTRIES\": \"\", \"AUTOMATION_ANALYTICS_GATHER_INTERVAL\": 14400, \"IS_K8S\": false }","title":"\u305d\u306e\u4ed6\u306e\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a"},{"location":"Ansible/variable/","text":"\u5909\u6570 Using Variables \u2014 Ansible Documentation Special Variables \u2014 Ansible Documentation Discovering variables: facts and magic variables \u2014 Ansible Documentation \u5b9a\u7fa9\u306e\u512a\u5148\u9806\u4f4d Understanding variable precedence Ansible \u5909\u6570\u306e\u512a\u5148\u9806\u4f4d\u3068\u66f8\u304d\u65b9\u3092\u307e\u3068\u3081\u3066\u307f\u305f - Qiita \u63a5\u7d9a\u8a2d\u5b9a SSH\u95a2\u9023\u8a2d\u5b9a \u540c\u4e00playbook\u3067\u3001play\u306b\u3088\u3063\u3066\u63a5\u7d9a\u7528\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u5909\u3048\u305f\u3044\u3068\u304d\u306a\u3069\u3002 ansible_user ansible_ssh_private_key_file \u305f\u3068\u3048\u3070\u3001\u6700\u521d\u306f\u7ba1\u7406\u7528\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u63a5\u7d9a\u3057\u3066\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\u306a\u3069\u884c\u3063\u3066\u3001\u6b21\u306eplay\u3067\u306f\u4f5c\u6210\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u3067\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3064\u3064\u30a2\u30d7\u30ea\u306e\u30c7\u30d7\u30ed\u30a4\u3092\u884c\u3046\u3001\u306a\u3069\u306a\u3069\u3002 \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u306f\u3001\u305d\u308c\u305e\u308c -u \u3068 --private-key \u3067\u6307\u5b9a\u53ef\u80fd\u3002 \u30ed\u30b0\u30a4\u30f3\u30d1\u30b9\u30ef\u30fc\u30c9 Connecting to hosts: behavioral inventory parameters \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u6a5f\u5668\u3084\u516c\u958b\u9375\u8a2d\u5b9a\u3055\u308c\u3066\u306a\u3044\u30b5\u30fc\u30d0\u30fcOS\u3078SSH\u63a5\u7d9a\u306e\u969b\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306f ansible_password \u3092\u4f7f\u3046\u3002 [ dev-server ] 192.168.0.211 ansible_user=developer ansible_password=deve1op! \u203b \u2191\u306fplaintext\u3067\u66f8\u3044\u3066\u308b\u306e\u3067\u3001vault\u3067\u6697\u53f7\u5316\u3057\u307e\u3057\u3087\u3046 become\u30d1\u30b9\u30ef\u30fc\u30c9 Become connection variables become: true \u3092\u4f7f\u3046\u5834\u5408\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u5fc5\u8981\u306a\u5834\u5408\u3001 -K (--ask-become-pass) \u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u8868\u793a\u3059\u308b\u304b\u3001 ansible_become_password \u3067\u6607\u683c\u7528\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u6307\u5b9a\u3059\u308b\u3002 --- - hosts : linux gather_facts : true become : true vars : ansible_become_password : this_is_become_password! tasks : - name : enable sudo with no password (on RHEL) ansible.builtin.copy : ... \u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30d7\u30e9\u30b0\u30a4\u30f3 \u5909\u6570\u306e\u5834\u5408 [all] local ansible_host = localhost ansible_connection=local play\u3067\u6307\u5b9a https://docs.ansible.com/ansible/latest/reference_appendices/playbooks_keywords.html --- - hosts : all connection : local tasks : - ... \u30de\u30b8\u30c3\u30af\u5909\u6570 Special Variables \u2014 Ansible Documentation omit \u7701\u7565\u3057\u305f\u3044\u30d1\u30e9\u30e1\u30bf\u306b\u30bb\u30c3\u30c8\u3059\u308b\u3068\u7121\u8996\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u3002 [Ansible] \u7701\u7565\u3057\u305f\u3044\u30d1\u30e9\u30e1\u30bf\u306b\u5909\u6570\u6307\u5b9a\u305b\u3056\u308b\u3092\u5f97\u306a\u3044\u5834\u5408\u306b\u4f7f\u3046\u5909\u6570omit\u3068default\u30d5\u30a3\u30eb\u30bf - zaki work log - name : create files by csv ansible.builtin.file : state : \"{{ item.type }}\" path : \"{{ item.path }}\" mode : \"{{ item.mode | default(omit, true) }}\" owner : \"{{ item.owner | default(omit, true) }}\" group : \"{{ item.group | default(omit, true) }}\" loop : \"{{ res_input.list }}\" role_path \u73fe\u5728\u5b9f\u884c\u4e2d\u306e\u30ed\u30fc\u30eb\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9\u3002 \u4f8b\u3048\u3070 /path/to/ansible/roles/sample/tasks/main.yml \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306e\u30ed\u30fc\u30eb\u306e\u4e2d\u3067 \"{{ role_path }}\" \u3092\u53c2\u7167\u3059\u308b\u3068\u3001 /path/to/ansible/roles/sample \u3092\u5f97\u3089\u308c\u308b\u3002 \u30ed\u30fc\u30eb\u306e\u4e2d\u3067\u53c2\u7167\u3067\u304d\u308b\u5909\u6570\u306a\u306e\u3067\u3001playbook\u3067\u53c2\u7167\u3057\u3066\u3082 undefined \u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002 \u30ed\u30fc\u30eb\u5185\u306etask\u304b\u3089 import_tasks \u3067\u8aad\u3093\u3060\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u306etask\u3067\u53c2\u7167\u3059\u308b role_path \u3067\u3042\u308c\u3070\u53c2\u7167\u53ef\u80fd\u3002 (\u3042\u304f\u307e\u3067\u547c\u3073\u51fa\u3057\u5143\u30ed\u30fc\u30eb\u57fa\u6e96\u306e\u30d1\u30b9\u306b\u306a\u308b) \u30ce\u30fc\u30c9\u306e\u30d5\u30a1\u30af\u30c8\u5909\u6570 gather_facts : true \u5168\u90e8\u53d6\u308b\u3068\u91cd\u3044\u3051\u3069\u3001 gather_subset \u3092\u6307\u5b9a\u3059\u308b\u3068\u30b5\u30d6\u30bb\u30c3\u30c8\u3060\u3051\u53d6\u308c\u308b\u3002 --- - hosts : all gather_facts : true gather_subset : - network tasks : - debug : msg : \"{{ ansible_facts }}\" \u3053\u308c\u3067 wc -l \u3059\u308b\u3068\u7d04375\u884c\u3002 gather_subset \u306e\u6307\u5b9a\u304c\u7121\u3044\u3068926\u884c\u3002 ansible all -m setup | wc -l \u3060\u3068916\u884c\u3002 ansible -i inventory all -m setup -a \"gather_subset=network\" | wc -l \u3060\u3068365\u884c\u3002 OS\u60c5\u5831\u7a0b\u5ea6\u3067\u3042\u308c\u3070 min \u3067\u53d6\u308c\u308b\u3002 \u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u6bce\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u306f network \u3082\u5fc5\u8981\u3063\u307d\u3044\u3002 \u74b0\u5883\u5909\u6570 gather_subset: min \u3067\u78ba\u8a8d\u3002 become \u306a\u3057\u306e\u5834\u5408\u3002 \"ansible_env\" : { \"DBUS_SESSION_BUS_ADDRESS\" : \"unix:path=/run/user/1001/bus\" , \"HOME\" : \"/home/ubuntu\" , \"LANG\" : \"C.UTF-8\" , \"LOGNAME\" : \"ubuntu\" , \"MOTD_SHOWN\" : \"pam\" , \"PATH\" : \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\" , \"PWD\" : \"/home/ubuntu\" , \"SHELL\" : \"/bin/bash\" , \"SHLVL\" : \"0\" , \"SSH_CLIENT\" : \"****\" , \"SSH_CONNECTION\" : \"****\" , \"SSH_TTY\" : \"/dev/pts/1\" , \"TERM\" : \"xterm-256color\" , \"USER\" : \"ubuntu\" , \"XDG_RUNTIME_DIR\" : \"/run/user/1001\" , \"XDG_SESSION_CLASS\" : \"user\" , \"XDG_SESSION_ID\" : \"29\" , \"XDG_SESSION_TYPE\" : \"tty\" , \"_\" : \"/bin/sh\" }, become \u3042\u308a\u306e\u5834\u5408\u3002 \"ansible_env\" : { \"HOME\" : \"/root\" , \"LANG\" : \"C.UTF-8\" , \"LOGNAME\" : \"root\" , \"MAIL\" : \"/var/mail/root\" , \"PATH\" : \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin\" , \"PWD\" : \"/home/ubuntu\" , \"SHELL\" : \"/bin/bash\" , \"SUDO_COMMAND\" : \"/bin/sh -c echo BECOME-SUCCESS-****** ; /usr/bin/python3 /home/ubuntu/.ansible/tmp/ansible-tmp-****/AnsiballZ_setup.py\" , \"SUDO_GID\" : \"1001\" , \"SUDO_UID\" : \"1001\" , \"SUDO_USER\" : \"ubuntu\" , \"TERM\" : \"xterm-256color\" , \"USER\" : \"root\" }, \u6607\u683c\u524d\u306e\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u306f SUDO_USER \u3068 PWD \u3092\u898b\u308b\u3057\u304b\u7121\u3044\u304b\u306a\uff1f","title":"\u5909\u6570"},{"location":"Ansible/variable/#_1","text":"Using Variables \u2014 Ansible Documentation Special Variables \u2014 Ansible Documentation Discovering variables: facts and magic variables \u2014 Ansible Documentation","title":"\u5909\u6570"},{"location":"Ansible/variable/#_2","text":"Understanding variable precedence Ansible \u5909\u6570\u306e\u512a\u5148\u9806\u4f4d\u3068\u66f8\u304d\u65b9\u3092\u307e\u3068\u3081\u3066\u307f\u305f - Qiita","title":"\u5b9a\u7fa9\u306e\u512a\u5148\u9806\u4f4d"},{"location":"Ansible/variable/#_3","text":"","title":"\u63a5\u7d9a\u8a2d\u5b9a"},{"location":"Ansible/variable/#ssh","text":"\u540c\u4e00playbook\u3067\u3001play\u306b\u3088\u3063\u3066\u63a5\u7d9a\u7528\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u5909\u3048\u305f\u3044\u3068\u304d\u306a\u3069\u3002 ansible_user ansible_ssh_private_key_file \u305f\u3068\u3048\u3070\u3001\u6700\u521d\u306f\u7ba1\u7406\u7528\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u63a5\u7d9a\u3057\u3066\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\u306a\u3069\u884c\u3063\u3066\u3001\u6b21\u306eplay\u3067\u306f\u4f5c\u6210\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u3067\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3064\u3064\u30a2\u30d7\u30ea\u306e\u30c7\u30d7\u30ed\u30a4\u3092\u884c\u3046\u3001\u306a\u3069\u306a\u3069\u3002 \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u306f\u3001\u305d\u308c\u305e\u308c -u \u3068 --private-key \u3067\u6307\u5b9a\u53ef\u80fd\u3002","title":"SSH\u95a2\u9023\u8a2d\u5b9a"},{"location":"Ansible/variable/#_4","text":"Connecting to hosts: behavioral inventory parameters \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u6a5f\u5668\u3084\u516c\u958b\u9375\u8a2d\u5b9a\u3055\u308c\u3066\u306a\u3044\u30b5\u30fc\u30d0\u30fcOS\u3078SSH\u63a5\u7d9a\u306e\u969b\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306f ansible_password \u3092\u4f7f\u3046\u3002 [ dev-server ] 192.168.0.211 ansible_user=developer ansible_password=deve1op! \u203b \u2191\u306fplaintext\u3067\u66f8\u3044\u3066\u308b\u306e\u3067\u3001vault\u3067\u6697\u53f7\u5316\u3057\u307e\u3057\u3087\u3046","title":"\u30ed\u30b0\u30a4\u30f3\u30d1\u30b9\u30ef\u30fc\u30c9"},{"location":"Ansible/variable/#become","text":"Become connection variables become: true \u3092\u4f7f\u3046\u5834\u5408\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u5fc5\u8981\u306a\u5834\u5408\u3001 -K (--ask-become-pass) \u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u8868\u793a\u3059\u308b\u304b\u3001 ansible_become_password \u3067\u6607\u683c\u7528\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u6307\u5b9a\u3059\u308b\u3002 --- - hosts : linux gather_facts : true become : true vars : ansible_become_password : this_is_become_password! tasks : - name : enable sudo with no password (on RHEL) ansible.builtin.copy : ...","title":"become\u30d1\u30b9\u30ef\u30fc\u30c9"},{"location":"Ansible/variable/#_5","text":"\u5909\u6570\u306e\u5834\u5408 [all] local ansible_host = localhost ansible_connection=local play\u3067\u6307\u5b9a https://docs.ansible.com/ansible/latest/reference_appendices/playbooks_keywords.html --- - hosts : all connection : local tasks : - ...","title":"\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30d7\u30e9\u30b0\u30a4\u30f3"},{"location":"Ansible/variable/#_6","text":"Special Variables \u2014 Ansible Documentation","title":"\u30de\u30b8\u30c3\u30af\u5909\u6570"},{"location":"Ansible/variable/#omit","text":"\u7701\u7565\u3057\u305f\u3044\u30d1\u30e9\u30e1\u30bf\u306b\u30bb\u30c3\u30c8\u3059\u308b\u3068\u7121\u8996\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u3002 [Ansible] \u7701\u7565\u3057\u305f\u3044\u30d1\u30e9\u30e1\u30bf\u306b\u5909\u6570\u6307\u5b9a\u305b\u3056\u308b\u3092\u5f97\u306a\u3044\u5834\u5408\u306b\u4f7f\u3046\u5909\u6570omit\u3068default\u30d5\u30a3\u30eb\u30bf - zaki work log - name : create files by csv ansible.builtin.file : state : \"{{ item.type }}\" path : \"{{ item.path }}\" mode : \"{{ item.mode | default(omit, true) }}\" owner : \"{{ item.owner | default(omit, true) }}\" group : \"{{ item.group | default(omit, true) }}\" loop : \"{{ res_input.list }}\"","title":"omit"},{"location":"Ansible/variable/#role_path","text":"\u73fe\u5728\u5b9f\u884c\u4e2d\u306e\u30ed\u30fc\u30eb\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9\u3002 \u4f8b\u3048\u3070 /path/to/ansible/roles/sample/tasks/main.yml \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306e\u30ed\u30fc\u30eb\u306e\u4e2d\u3067 \"{{ role_path }}\" \u3092\u53c2\u7167\u3059\u308b\u3068\u3001 /path/to/ansible/roles/sample \u3092\u5f97\u3089\u308c\u308b\u3002 \u30ed\u30fc\u30eb\u306e\u4e2d\u3067\u53c2\u7167\u3067\u304d\u308b\u5909\u6570\u306a\u306e\u3067\u3001playbook\u3067\u53c2\u7167\u3057\u3066\u3082 undefined \u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002 \u30ed\u30fc\u30eb\u5185\u306etask\u304b\u3089 import_tasks \u3067\u8aad\u3093\u3060\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u306etask\u3067\u53c2\u7167\u3059\u308b role_path \u3067\u3042\u308c\u3070\u53c2\u7167\u53ef\u80fd\u3002 (\u3042\u304f\u307e\u3067\u547c\u3073\u51fa\u3057\u5143\u30ed\u30fc\u30eb\u57fa\u6e96\u306e\u30d1\u30b9\u306b\u306a\u308b)","title":"role_path"},{"location":"Ansible/variable/#_7","text":"gather_facts : true \u5168\u90e8\u53d6\u308b\u3068\u91cd\u3044\u3051\u3069\u3001 gather_subset \u3092\u6307\u5b9a\u3059\u308b\u3068\u30b5\u30d6\u30bb\u30c3\u30c8\u3060\u3051\u53d6\u308c\u308b\u3002 --- - hosts : all gather_facts : true gather_subset : - network tasks : - debug : msg : \"{{ ansible_facts }}\" \u3053\u308c\u3067 wc -l \u3059\u308b\u3068\u7d04375\u884c\u3002 gather_subset \u306e\u6307\u5b9a\u304c\u7121\u3044\u3068926\u884c\u3002 ansible all -m setup | wc -l \u3060\u3068916\u884c\u3002 ansible -i inventory all -m setup -a \"gather_subset=network\" | wc -l \u3060\u3068365\u884c\u3002 OS\u60c5\u5831\u7a0b\u5ea6\u3067\u3042\u308c\u3070 min \u3067\u53d6\u308c\u308b\u3002 \u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u6bce\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u306f network \u3082\u5fc5\u8981\u3063\u307d\u3044\u3002","title":"\u30ce\u30fc\u30c9\u306e\u30d5\u30a1\u30af\u30c8\u5909\u6570"},{"location":"Ansible/variable/#_8","text":"gather_subset: min \u3067\u78ba\u8a8d\u3002 become \u306a\u3057\u306e\u5834\u5408\u3002 \"ansible_env\" : { \"DBUS_SESSION_BUS_ADDRESS\" : \"unix:path=/run/user/1001/bus\" , \"HOME\" : \"/home/ubuntu\" , \"LANG\" : \"C.UTF-8\" , \"LOGNAME\" : \"ubuntu\" , \"MOTD_SHOWN\" : \"pam\" , \"PATH\" : \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\" , \"PWD\" : \"/home/ubuntu\" , \"SHELL\" : \"/bin/bash\" , \"SHLVL\" : \"0\" , \"SSH_CLIENT\" : \"****\" , \"SSH_CONNECTION\" : \"****\" , \"SSH_TTY\" : \"/dev/pts/1\" , \"TERM\" : \"xterm-256color\" , \"USER\" : \"ubuntu\" , \"XDG_RUNTIME_DIR\" : \"/run/user/1001\" , \"XDG_SESSION_CLASS\" : \"user\" , \"XDG_SESSION_ID\" : \"29\" , \"XDG_SESSION_TYPE\" : \"tty\" , \"_\" : \"/bin/sh\" }, become \u3042\u308a\u306e\u5834\u5408\u3002 \"ansible_env\" : { \"HOME\" : \"/root\" , \"LANG\" : \"C.UTF-8\" , \"LOGNAME\" : \"root\" , \"MAIL\" : \"/var/mail/root\" , \"PATH\" : \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin\" , \"PWD\" : \"/home/ubuntu\" , \"SHELL\" : \"/bin/bash\" , \"SUDO_COMMAND\" : \"/bin/sh -c echo BECOME-SUCCESS-****** ; /usr/bin/python3 /home/ubuntu/.ansible/tmp/ansible-tmp-****/AnsiballZ_setup.py\" , \"SUDO_GID\" : \"1001\" , \"SUDO_UID\" : \"1001\" , \"SUDO_USER\" : \"ubuntu\" , \"TERM\" : \"xterm-256color\" , \"USER\" : \"root\" }, \u6607\u683c\u524d\u306e\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u306f SUDO_USER \u3068 PWD \u3092\u898b\u308b\u3057\u304b\u7121\u3044\u304b\u306a\uff1f","title":"\u74b0\u5883\u5909\u6570"},{"location":"Container/AKS/","text":"AKS FAQ Azure Kubernetes Service (AKS) \u306b\u3064\u3044\u3066\u3088\u304f\u5bc4\u305b\u3089\u308c\u308b\u8cea\u554f - Azure Kubernetes Service | Microsoft Learn \u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3059\u308b Azure Kubernetes Service (AKS) \u30af\u30e9\u30b9\u30bf\u30fc \u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a - Azure Kubernetes Service | Microsoft Learn # \u30ce\u30fc\u30c9\u3092\u78ba\u8a8d kubectl get node -o wide # \u7279\u6a29\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3057\u63a5\u7d9a kubectl debug node/aks-******** -it --image=mcr.microsoft.com/dotnet/runtime-deps:6.0 # \u7279\u6a29\u30b3\u30f3\u30c6\u30ca\u306e\u30b7\u30a7\u30eb\u3067chroot chroot /host \u3053\u308c\u3067\u30ce\u30fc\u30c9OS\u306e\u30eb\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002 \u7d42\u4e86\u5f8c\u306fCompleted\u306b\u306a\u3063\u3066\u3044\u308b\u7279\u6a29\u30b3\u30f3\u30c6\u30ca\u306ePod\u3092\u524a\u9664\u3059\u308b # \u7279\u6a29\u30b3\u30f3\u30c6\u30ca\u3092\u524a\u9664 kubectl delete pod node-debugger-aks-******** \u30ed\u30b0\u3068\u30a4\u30d9\u30f3\u30c8\u3092\u8a18\u9332\u3059\u308b \u76e3\u8996->\u5206\u6790\u60c5\u5831\u3067\u3001Container insights\u3092\u6709\u52b9\uff08\u53ce\u96c6\u30c7\u30fc\u30bf\u306b\u300c\u30ed\u30b0\u3068\u30a4\u30d9\u30f3\u30c8\u300d\u3092\u9078\u629e\uff09\u306b\u3059\u308b\u3002 \u3053\u308c\u3067Log Analytics\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u306e\u753b\u9762\u304b\u3089\u53ce\u96c6\u60c5\u5831\u3092\u691c\u7d22\u3067\u304d\u308b\u3002 \u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u62e1\u5f35 default\u306eAzure Disk\u306eStorage Class\u5b9a\u7fa9\u306e\u5185\u5bb9\u306f allowVolumeExpansion \u304c true \u306b\u306a\u3063\u3066\u304a\u308a\u3001\u62e1\u5f35\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3002 \u62e1\u5f35\u3059\u308b\u306b\u306fPVC\u306e\u5b9a\u7fa9\u3092\u5909\u66f4\u3059\u308b\u3002 \u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u306710Gi\u30b5\u30a4\u30ba\u306b\u62e1\u5f35\u3059\u308b\u3002 kubectl patch -n namespace pvc pvc-resource -p '{\"spec\":{\"resources\":{\"requests\":{\"storage\": \"10Gi\"}}}}' \u7e2e\u5c0f\u306f\u4e0d\u53ef","title":"AKS"},{"location":"Container/AKS/#aks","text":"","title":"AKS"},{"location":"Container/AKS/#faq","text":"Azure Kubernetes Service (AKS) \u306b\u3064\u3044\u3066\u3088\u304f\u5bc4\u305b\u3089\u308c\u308b\u8cea\u554f - Azure Kubernetes Service | Microsoft Learn","title":"FAQ"},{"location":"Container/AKS/#_1","text":"Azure Kubernetes Service (AKS) \u30af\u30e9\u30b9\u30bf\u30fc \u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a - Azure Kubernetes Service | Microsoft Learn # \u30ce\u30fc\u30c9\u3092\u78ba\u8a8d kubectl get node -o wide # \u7279\u6a29\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3057\u63a5\u7d9a kubectl debug node/aks-******** -it --image=mcr.microsoft.com/dotnet/runtime-deps:6.0 # \u7279\u6a29\u30b3\u30f3\u30c6\u30ca\u306e\u30b7\u30a7\u30eb\u3067chroot chroot /host \u3053\u308c\u3067\u30ce\u30fc\u30c9OS\u306e\u30eb\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002 \u7d42\u4e86\u5f8c\u306fCompleted\u306b\u306a\u3063\u3066\u3044\u308b\u7279\u6a29\u30b3\u30f3\u30c6\u30ca\u306ePod\u3092\u524a\u9664\u3059\u308b # \u7279\u6a29\u30b3\u30f3\u30c6\u30ca\u3092\u524a\u9664 kubectl delete pod node-debugger-aks-********","title":"\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3059\u308b"},{"location":"Container/AKS/#_2","text":"\u76e3\u8996->\u5206\u6790\u60c5\u5831\u3067\u3001Container insights\u3092\u6709\u52b9\uff08\u53ce\u96c6\u30c7\u30fc\u30bf\u306b\u300c\u30ed\u30b0\u3068\u30a4\u30d9\u30f3\u30c8\u300d\u3092\u9078\u629e\uff09\u306b\u3059\u308b\u3002 \u3053\u308c\u3067Log Analytics\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u306e\u753b\u9762\u304b\u3089\u53ce\u96c6\u60c5\u5831\u3092\u691c\u7d22\u3067\u304d\u308b\u3002","title":"\u30ed\u30b0\u3068\u30a4\u30d9\u30f3\u30c8\u3092\u8a18\u9332\u3059\u308b"},{"location":"Container/AKS/#_3","text":"default\u306eAzure Disk\u306eStorage Class\u5b9a\u7fa9\u306e\u5185\u5bb9\u306f allowVolumeExpansion \u304c true \u306b\u306a\u3063\u3066\u304a\u308a\u3001\u62e1\u5f35\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3002 \u62e1\u5f35\u3059\u308b\u306b\u306fPVC\u306e\u5b9a\u7fa9\u3092\u5909\u66f4\u3059\u308b\u3002 \u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u306710Gi\u30b5\u30a4\u30ba\u306b\u62e1\u5f35\u3059\u308b\u3002 kubectl patch -n namespace pvc pvc-resource -p '{\"spec\":{\"resources\":{\"requests\":{\"storage\": \"10Gi\"}}}}' \u7e2e\u5c0f\u306f\u4e0d\u53ef","title":"\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u62e1\u5f35"},{"location":"Container/build/","text":"\u30a4\u30e1\u30fc\u30b8\u30d3\u30eb\u30c9 \u30ed\u30b1\u30fc\u30eb\u306e\u8ffd\u52a0 Debian\u7cfb\u306e\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058\u3002 FROM guacamole/guacamole:1.4.0 USER 0 RUN apt-get update \\ && apt-get install -y locales \\ && sed -i -E 's/# (ja_JP.UTF-8)/\\1/' /etc/locale.gen \\ && locale-gen \\ && update-locale LANG = ja_JP.UTF-8 ENV LANG ja_JP.UTF-8 USER 1001 \u30d5\u30a1\u30a4\u30eb\u30b3\u30d4\u30fc(COPY) COPY script.py /usr/local/src CMD python /usr/local/src/script.py \u30d3\u30eb\u30c9\u3059\u308b\u30db\u30b9\u30c8\u306e\u30ab\u30ec\u30f3\u30c8\u306b\u3042\u308b script.py \u3092\u30b3\u30f3\u30c6\u30ca\u306e /usr/local/src/script.py \u3078\u30b3\u30d4\u30fc\u3059\u308b","title":"\u30a4\u30e1\u30fc\u30b8\u30d3\u30eb\u30c9"},{"location":"Container/build/#_1","text":"","title":"\u30a4\u30e1\u30fc\u30b8\u30d3\u30eb\u30c9"},{"location":"Container/build/#_2","text":"Debian\u7cfb\u306e\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058\u3002 FROM guacamole/guacamole:1.4.0 USER 0 RUN apt-get update \\ && apt-get install -y locales \\ && sed -i -E 's/# (ja_JP.UTF-8)/\\1/' /etc/locale.gen \\ && locale-gen \\ && update-locale LANG = ja_JP.UTF-8 ENV LANG ja_JP.UTF-8 USER 1001","title":"\u30ed\u30b1\u30fc\u30eb\u306e\u8ffd\u52a0"},{"location":"Container/build/#copy","text":"COPY script.py /usr/local/src CMD python /usr/local/src/script.py \u30d3\u30eb\u30c9\u3059\u308b\u30db\u30b9\u30c8\u306e\u30ab\u30ec\u30f3\u30c8\u306b\u3042\u308b script.py \u3092\u30b3\u30f3\u30c6\u30ca\u306e /usr/local/src/script.py \u3078\u30b3\u30d4\u30fc\u3059\u308b","title":"\u30d5\u30a1\u30a4\u30eb\u30b3\u30d4\u30fc(COPY)"},{"location":"Container/compose/","text":"Docker Compose command Overview of docker compose CLI | Docker Documentation \u8d77\u52d5 docker compose up \u3053\u306e\u5834\u5408\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u8d77\u52d5\u3059\u308b\u3002 \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u8d77\u52d5\u3059\u308b\u306b\u306f -d \u3092\u4ed8\u3051\u308b\u3002 docker compose up -d \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u6307\u5b9a \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u304c\u4f7f\u7528\u3055\u308c\u308b\u304c\u3001\u305d\u306e\u307e\u307e\u3060\u3068\u7570\u306a\u308b\u30b3\u30f3\u30c6\u30ca\u74b0\u5883\u3067\u3082\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u304c\u305f\u307e\u305f\u307e\u3067\u3082\u540c\u4e00\u3060\u3068\u7af6\u5408\u3057\u3066\u3057\u307e\u3046\u3002\u305d\u306e\u5834\u5408\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002 docker compose -p project-name up -d docker compose -p project-name ps \u505c\u6b62\u3068\u524a\u9664 docker compose down down \u3067\u30b3\u30f3\u30c6\u30ca\u306f\u524a\u9664\u3055\u308c\u308b\u304c\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u306f\u6b8b\u308b\u3002 \u30dc\u30ea\u30e5\u30fc\u30e0\u3082\u524a\u9664\u3059\u308b\u306b\u306f -v \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3002 docker compose down -v \u7279\u5b9a\u306e\u30b3\u30f3\u30c6\u30ca\u306e\u307f\u505c\u6b62\u30fb\u524a\u9664\u3059\u308b\u306b\u306f\u3001\u5f15\u6570\u306bCompose File\u3067\u6307\u5b9a\u3057\u3066\u3044\u308b\u540d\u79f0\u3092\u6307\u5b9a\u3059\u308b\u3002 \u305f\u3060\u3057 down \u3067\u306f\u3053\u306e\u6307\u5b9a\u306f\u3067\u304d\u306a\u3044\u3002 docker compose stop myapp docker compose rm myapp compose\u30d5\u30a1\u30a4\u30eb\u6307\u5b9a -f \u3067\u6307\u5b9a\u3059\u308b\u3002 docker compose -f compose-v1.2.3.yml up -d \u30b3\u30de\u30f3\u30c9\u8d77\u52d5 docker exec \u3068\u7570\u306a\u308a -it \u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u4e0d\u8981\u3002\u30a2\u30d7\u30ea\u540d\u3068\u30b3\u30de\u30f3\u30c9\u540d\u306e\u307f\u3067OK docker compose exec <app\u540d> bash \u30d5\u30a1\u30a4\u30eb\u30b3\u30d4\u30fc docker compose cp app:/path/to/file ./file Compose\u30d5\u30a1\u30a4\u30eb Compose file version 3 reference | Docker Documentation network_mode \"service:[service name]\" \u3068\u8a18\u8ff0\u3059\u308b\u3068\u3001\u5bfe\u8c61\u30b5\u30fc\u30d3\u30b9\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u3092\u4f7f\u7528\u3059\u308b\u3002 \u8a18\u8ff0\u4f8b services : app : image : myapp ports : - 8080:8080 networks : default : ipv4_address : 192.168.0.100 db : image : mysql network_mode : service:app \u4f9d\u5b58 \u5358\u7d14\u306a\u4f9d\u5b58\u8a2d\u5b9a depends_on\u3067\u4f9d\u5b58\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u8d77\u52d5\u30fb\u7d42\u4e86\u306e\u9806\u5e8f\u3092\u5236\u5fa1\u3067\u304d\u308b\u3002 services : db : image : postgres app : image : app depends_on : - db \u9806\u5e8f\u304c\u5236\u5fa1\u3067\u304d\u308b\u306e\u307f\u306a\u306e\u3067\u3001\u30b3\u30f3\u30c6\u30ca\u5185\u30d7\u30ed\u30bb\u30b9\u306e\u72b6\u614b\u307e\u3067\u306f\u611f\u77e5\u3057\u306a\u3044\u3002 \u30d5\u30a1\u30a4\u30eb\u306ebind\u30de\u30a6\u30f3\u30c8 services : server : image : \"rancher/k3s:v1.30.2-k3s2\" command : server : volumes : - ./registries.yaml:/etc/rancher/k3s/registries.yaml long syntax\u3060\u3068\u4ee5\u4e0b volumes : - type : bind source : ./registries.yaml target : /etc/rancher/k3s/registries.yaml \u30ea\u30bd\u30fc\u30b9\u5236\u9650 OS\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u4f7f\u3044\u3064\u304f\u3055\u306a\u3044\u3088\u3046\u306bCPU\u3068\u30e1\u30e2\u30ea\u3092\u5236\u9650 services : apps : image : ... command : ... deploy : resources : limits : cpus : '0.5' memory : 512m [Docker] \u30b3\u30f3\u30c6\u30ca\u3067\u52d5\u304b\u3059\u30d7\u30ed\u30bb\u30b9\u306eCPU\u4f7f\u7528\u7387\u3092--cpus\u3067\u3001\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u3092--memory\u3067\u5236\u9650\u3059\u308b - zaki work log \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u5236\u9650 \u30c7\u30d5\u30a9\u30eb\u30c8\u7121\u5236\u9650\u306e\u305f\u3081\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u4f7f\u3044\u5207\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u5236\u9650\u3059\u308b services : apps : image : ... command : ... logging : driver : json-file options : max-size : 10m max-file : 3 [Docker]\u30b3\u30f3\u30c6\u30ca\u5b9f\u884c\u6642\u306blog-opts\u3067\u30ed\u30b0\u30b5\u30a4\u30ba\u4e0a\u9650\u3068\u30ed\u30fc\u30c6\u30fc\u30c8\u6570\u3092\u8a2d\u5b9a\u3057\u3066\u30db\u30b9\u30c8\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u304c\u6ea2\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b - zaki work log","title":"Docker Compose"},{"location":"Container/compose/#docker-compose","text":"","title":"Docker Compose"},{"location":"Container/compose/#command","text":"Overview of docker compose CLI | Docker Documentation","title":"command"},{"location":"Container/compose/#_1","text":"docker compose up \u3053\u306e\u5834\u5408\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u8d77\u52d5\u3059\u308b\u3002 \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u8d77\u52d5\u3059\u308b\u306b\u306f -d \u3092\u4ed8\u3051\u308b\u3002 docker compose up -d","title":"\u8d77\u52d5"},{"location":"Container/compose/#_2","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u304c\u4f7f\u7528\u3055\u308c\u308b\u304c\u3001\u305d\u306e\u307e\u307e\u3060\u3068\u7570\u306a\u308b\u30b3\u30f3\u30c6\u30ca\u74b0\u5883\u3067\u3082\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u304c\u305f\u307e\u305f\u307e\u3067\u3082\u540c\u4e00\u3060\u3068\u7af6\u5408\u3057\u3066\u3057\u307e\u3046\u3002\u305d\u306e\u5834\u5408\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002 docker compose -p project-name up -d docker compose -p project-name ps","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u6307\u5b9a"},{"location":"Container/compose/#_3","text":"docker compose down down \u3067\u30b3\u30f3\u30c6\u30ca\u306f\u524a\u9664\u3055\u308c\u308b\u304c\u3001\u30dc\u30ea\u30e5\u30fc\u30e0\u306f\u6b8b\u308b\u3002 \u30dc\u30ea\u30e5\u30fc\u30e0\u3082\u524a\u9664\u3059\u308b\u306b\u306f -v \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3002 docker compose down -v \u7279\u5b9a\u306e\u30b3\u30f3\u30c6\u30ca\u306e\u307f\u505c\u6b62\u30fb\u524a\u9664\u3059\u308b\u306b\u306f\u3001\u5f15\u6570\u306bCompose File\u3067\u6307\u5b9a\u3057\u3066\u3044\u308b\u540d\u79f0\u3092\u6307\u5b9a\u3059\u308b\u3002 \u305f\u3060\u3057 down \u3067\u306f\u3053\u306e\u6307\u5b9a\u306f\u3067\u304d\u306a\u3044\u3002 docker compose stop myapp docker compose rm myapp","title":"\u505c\u6b62\u3068\u524a\u9664"},{"location":"Container/compose/#compose","text":"-f \u3067\u6307\u5b9a\u3059\u308b\u3002 docker compose -f compose-v1.2.3.yml up -d","title":"compose\u30d5\u30a1\u30a4\u30eb\u6307\u5b9a"},{"location":"Container/compose/#_4","text":"docker exec \u3068\u7570\u306a\u308a -it \u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u4e0d\u8981\u3002\u30a2\u30d7\u30ea\u540d\u3068\u30b3\u30de\u30f3\u30c9\u540d\u306e\u307f\u3067OK docker compose exec <app\u540d> bash","title":"\u30b3\u30de\u30f3\u30c9\u8d77\u52d5"},{"location":"Container/compose/#_5","text":"docker compose cp app:/path/to/file ./file","title":"\u30d5\u30a1\u30a4\u30eb\u30b3\u30d4\u30fc"},{"location":"Container/compose/#compose_1","text":"Compose file version 3 reference | Docker Documentation","title":"Compose\u30d5\u30a1\u30a4\u30eb"},{"location":"Container/compose/#network_mode","text":"\"service:[service name]\" \u3068\u8a18\u8ff0\u3059\u308b\u3068\u3001\u5bfe\u8c61\u30b5\u30fc\u30d3\u30b9\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u3092\u4f7f\u7528\u3059\u308b\u3002 \u8a18\u8ff0\u4f8b services : app : image : myapp ports : - 8080:8080 networks : default : ipv4_address : 192.168.0.100 db : image : mysql network_mode : service:app","title":"network_mode"},{"location":"Container/compose/#_6","text":"","title":"\u4f9d\u5b58"},{"location":"Container/compose/#_7","text":"depends_on\u3067\u4f9d\u5b58\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u8d77\u52d5\u30fb\u7d42\u4e86\u306e\u9806\u5e8f\u3092\u5236\u5fa1\u3067\u304d\u308b\u3002 services : db : image : postgres app : image : app depends_on : - db \u9806\u5e8f\u304c\u5236\u5fa1\u3067\u304d\u308b\u306e\u307f\u306a\u306e\u3067\u3001\u30b3\u30f3\u30c6\u30ca\u5185\u30d7\u30ed\u30bb\u30b9\u306e\u72b6\u614b\u307e\u3067\u306f\u611f\u77e5\u3057\u306a\u3044\u3002","title":"\u5358\u7d14\u306a\u4f9d\u5b58\u8a2d\u5b9a"},{"location":"Container/compose/#bind","text":"services : server : image : \"rancher/k3s:v1.30.2-k3s2\" command : server : volumes : - ./registries.yaml:/etc/rancher/k3s/registries.yaml long syntax\u3060\u3068\u4ee5\u4e0b volumes : - type : bind source : ./registries.yaml target : /etc/rancher/k3s/registries.yaml","title":"\u30d5\u30a1\u30a4\u30eb\u306ebind\u30de\u30a6\u30f3\u30c8"},{"location":"Container/compose/#_8","text":"OS\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u4f7f\u3044\u3064\u304f\u3055\u306a\u3044\u3088\u3046\u306bCPU\u3068\u30e1\u30e2\u30ea\u3092\u5236\u9650 services : apps : image : ... command : ... deploy : resources : limits : cpus : '0.5' memory : 512m [Docker] \u30b3\u30f3\u30c6\u30ca\u3067\u52d5\u304b\u3059\u30d7\u30ed\u30bb\u30b9\u306eCPU\u4f7f\u7528\u7387\u3092--cpus\u3067\u3001\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u3092--memory\u3067\u5236\u9650\u3059\u308b - zaki work log","title":"\u30ea\u30bd\u30fc\u30b9\u5236\u9650"},{"location":"Container/compose/#_9","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u7121\u5236\u9650\u306e\u305f\u3081\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u4f7f\u3044\u5207\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u5236\u9650\u3059\u308b services : apps : image : ... command : ... logging : driver : json-file options : max-size : 10m max-file : 3 [Docker]\u30b3\u30f3\u30c6\u30ca\u5b9f\u884c\u6642\u306blog-opts\u3067\u30ed\u30b0\u30b5\u30a4\u30ba\u4e0a\u9650\u3068\u30ed\u30fc\u30c6\u30fc\u30c8\u6570\u3092\u8a2d\u5b9a\u3057\u3066\u30db\u30b9\u30c8\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u304c\u6ea2\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b - zaki work log","title":"\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u5236\u9650"},{"location":"Container/docker/","text":"Docker docker\u30b3\u30de\u30f3\u30c9 docker container / image \u30b3\u30de\u30f3\u30c9\u65b0\u65e7\u6bd4\u8f03 - Qiita run -u | --user \u30e6\u30fc\u30b6\u30fcID\u3092\u6307\u5b9a\u3057\u3066\u5b9f\u884c\u3002 \u4f8b\u3048\u3070root\u6a29\u9650\u3067\u30b7\u30a7\u30eb\u8d77\u52d5\u3068\u304b\u3002 docker run --rm -it localhost:5000/my-image sh sh-5.1$ id uid=1000(1000) gid=0(root) groups=0(root) sh-5.1$ exit exit docker run --rm -it --user root localhost:5000/my-image sh sh-5.1# id uid=0(root) gid=0(root) groups=0(root) sh-5.1# -p | --publish local\u3067listen\u3059\u308b\u30dd\u30fc\u30c8 : \u30b3\u30f3\u30c6\u30ca\u306b\u63a5\u7d9a\u3059\u308b\u30dd\u30fc\u30c8 \u3092\u6307\u5b9a\u3059\u308b\u3002 -p 8081:80 \u3053\u308c\u3067\u30db\u30b9\u30c8\u4e0a\u306f 8081 \u3067Listen\u3057\u3066\u3001\u305d\u306e\u63a5\u7d9a\u3092\u30b3\u30f3\u30c6\u30ca\u306e80\u3078\u8ee2\u9001\u3059\u308b\u3002 \u30dc\u30ea\u30e5\u30fc\u30e0 (-v) \u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u5229\u7528 | Docker \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u30dc\u30ea\u30e5\u30fc\u30e0\u30de\u30a6\u30f3\u30c8 $ docker run --name httpd --rm -d -v webvolume:/var/tmp httpd webvolume \u30dc\u30ea\u30e5\u30fc\u30e0\u3092(\u7121\u3051\u308c\u3070\u81ea\u52d5\u4f5c\u6210\u3057\u3066) /var/tmp \u306b\u30de\u30a6\u30f3\u30c8\u3057\u3066\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u3002 \u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u30fb\u524a\u9664\u3057\u3066\u3082\u30dc\u30ea\u30e5\u30fc\u30e0\u306f\u6b8b\u308b\u306e\u3067\u3001\u3053\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u5225\u30b3\u30f3\u30c6\u30ca\u3067\u30de\u30a6\u30f3\u30c8\u3059\u308c\u3070\u30c7\u30fc\u30bf\u3092\u4fdd\u6301\u3067\u304d\u308b\u3002 \u30db\u30b9\u30c8\u306e\u30a2\u30c9\u30ec\u30b9(--add-host) host.docker.internal \u3092\u30db\u30b9\u30c8OS\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u8a2d\u5b9a\u3059\u308b\u306b\u306f host-gateway \u3092\u6307\u5b9a\u3059\u308b\u3002 docker run --add-host host.docker.internal:host-gateway --rm -it centos bash \u3053\u308c\u3067\u30b3\u30f3\u30c6\u30ca\u5185\u306e /etc/hosts \u306b host.docker.internal \u306e\u30a8\u30f3\u30c8\u30ea\u304c\u8ffd\u52a0\u3055\u308c\u3001\u30db\u30b9\u30c8OS\u3078\u306e\u30a2\u30c9\u30ec\u30b9\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u3002 ENTRYPOINT\u306e\u4e0a\u66f8\u304d(--entrypoint) CMD \u3067\u30b3\u30de\u30f3\u30c9\u6307\u5b9a\u3055\u308c\u305f\u30a4\u30e1\u30fc\u30b8\u3067\u3042\u308c\u3070 docker run -it image:tag sh \u306a\u3069\u3067\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30b7\u30a7\u30eb\u3092\u8d77\u52d5\u3067\u304d\u308b\u304c\u3001 ENTRYPOINT \u304c\u4f7f\u308f\u308c\u3066\u3044\u308b\u3068\u8d77\u52d5\u30b3\u30de\u30f3\u30c9\u306e\u4e0a\u66f8\u304d\u306f\u3067\u304d\u306a\u3044\u3002 \u305d\u306e\u5834\u5408\u306f --entrypoint \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u4e0a\u66f8\u304d\u3059\u308b\u3002 \u305f\u3060\u3057\u30a4\u30e1\u30fc\u30b8\u6307\u5b9a\u3088\u308a\u624b\u524d\u306b\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 docker run -it --entrypoint sh image:tag \u74b0\u5883\u5909\u6570(-e) \u30b3\u30f3\u30c6\u30ca\u74b0\u5883\u3078\u74b0\u5883\u5909\u6570\u3092\u6e21\u3059\u306b\u306f -e \u3092\u4f7f\u3046 docker run --rm -e APP_VAL=foobar image:tag build Dockerfile\u6307\u5b9a -f \u3067\u6307\u5b9a\u3059\u308b\u3002 docker build -f my-dockerfile . -t image:tag stats \u30ea\u30bd\u30fc\u30b9\u4f7f\u7528\u72b6\u6cc1\u3092\u78ba\u8a8d\u3002 CONTAINER ID NAME CPU % MEM USAGE / LIMIT MEM % NET I/O BLOCK I/O PIDS f5948afa8097 gitlab-ce-gitlab-runner-1 0.00% 10.82MiB / 7.752GiB 0.14% 2.59kB / 126B 885kB / 0B 9 31ba18fa3004 gitlab-ce-gitlab-ce-1 1.33% 3.169GiB / 7.752GiB 40.88% 31.5kB / 1.75MB 107MB / 2.07GB 252 inspect \u30b3\u30f3\u30c6\u30ca\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b docker inspect <container name or ID> format\u3067IP\u30a2\u30c9\u30ec\u30b9 docker run \u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u3067\u3042\u308c\u3070\u3053\u306e\u901a\u308a\u3002 $ docker inspect <container name or ID> --format '{{ .NetworkSettings.IPAddress }}' 172.17.0.2 \u30c7\u30d5\u30a9\u30eb\u30c8\u4ee5\u5916\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306f\u3053\u306e\u30d1\u30b9\u306e\u5024\u306f\u7a7a\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u6307\u5b9a\u3082\u5fc5\u8981\u3002 Compose\u4f7f\u7528\u6642\u3082\u3053\u306e\u30d1\u30bf\u30fc\u30f3\u3002 $ docker inspect <container name or ID> --format '{{ .NetworkSettings.Networks.<network name>.IPAddress }}' 172.18.0.2 Log\u306e\u30d1\u30b9 Logging Driver\u304cjson-file\u306e\u5834\u5408 docker inspect <container name or ID> --format '{{ .LogPath }}' /var/lib/docker/containers/.../...-json.log save $ docker save imagename:tag > imagename-tag.tar \u307e\u305f\u306f $ docker save imagename:tag -o imagename-tag.tar load $ docker load -i image.tar \u3042\u308b\u3044\u306f $ docker load < image.tar pull sha256\u30cf\u30c3\u30b7\u30e5\u5024\u6307\u5b9a $ docker pull httpd@sha256:f2179b693cfb49baa6e7500171deea7bef755338bf165b39aedacf2b4ae28455 volume \u30ea\u30b9\u30c8\u3059\u308b\u3002 $ docker volume ls \u53c2\u7167\u3055\u308c\u3066\u306a\u3044\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3002 \u30c0\u30f3\u30b0\u30ea\u30f3\u30b0 $ docker volume ls -f dangling = true image \u30b5\u30a4\u30ba\u9806\u306b\u30bd\u30fc\u30c8 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4ed8\u304d\u306etable\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u30b5\u30a4\u30ba\u3092\u307e\u305a\u51fa\u529b\u3057\u3001 sort \u3092 -h (--human-numeric-sort) \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u3051\u3066\u30bd\u30fc\u30c8\u3059\u308b\u3002 docker image ls --format \"table {{.Size}}\\t{{.Repository}}:{{.Tag}}\\t{{.ID}}\" | sort -h Docker image \u4e00\u89a7\u3092\u5bb9\u91cf\u9806\u3067\u30bd\u30fc\u30c8\u3059\u308b #Docker - Qiita prune \u4e0d\u8981\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u524a\u9664\u3059\u308b\u306b\u306f docker prune \u3092\u4f7f\u3046\u3002 \u30b3\u30f3\u30c6\u30ca\u306eprune $ docker container prune \u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u505c\u6b62\u3057\u3066\u3044\u308b\u5168\u30b3\u30f3\u30c6\u30ca\u304c\u524a\u9664\u3055\u308c\u308b\u3002 10\u65e5\u4ee5\u524d\u306b \u505c\u6b62\u3057\u3066\u3044\u308b \u4f5c\u6210\u3055\u308c\u3066\u73fe\u5728\u505c\u6b62\u4e2d\u306e\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u3001 $ docker container prune --filter \"until=240h\" Go duration strings \u3092\u4f7f\u3063\u3066\u671f\u9593\u3092\u6307\u5b9a\u3067\u304d\u308b\u3002 \u6307\u5b9a\u53ef\u80fd\u306a\u306e\u306f\u4ee5\u4e0b\u3001\u304b\u306a\uff1f Valid time units are \"ns\", \"us\" (or \"\u00b5s\"), \"ms\", \"s\", \"m\", \"h\" \u30a4\u30e1\u30fc\u30b8\u306eprune $ docker image prune \u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u3001\u30bf\u30b0\u304c\u8a2d\u5b9a\u3055\u308c\u305a\u306b <none> \u306b\u306a\u3063\u3066\u3044\u308b\u30a4\u30e1\u30fc\u30b8\u304c\u524a\u9664\u3055\u308c\u308b\u3002 <none> \u306e\u30a4\u30e1\u30fc\u30b8\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3060\u3051\u3067\u3042\u308c\u3070 docker image ls -f \"dangling=true\" \u3067\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3067\u304d\u308b\u3002 network ls Docker\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u30ea\u30b9\u30c8\u8868\u793a $ docker network ls NETWORK ID NAME DRIVER SCOPE 34ef60dd22b5 ansible-semaphore_default bridge local 69fdc4f1b801 bridge bridge local 5a51254c9202 compose-sample_default bridge local 0ee332b7e247 guacamole-network bridge local a3434bde2af6 host host local d2561ec39f0b kind bridge local 11eb1e17b151 metrics_default bridge local 75cd64743a98 minikube bridge local 550454724fbf none null local create Docker\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u4f5c\u6210 $ docker network create memoapp-network 308817de4a7fd68fdf811af09ac00eceb20a20ac7b522d1b89bc16db8130d288 \u5b9f\u884c\u30b5\u30f3\u30d7\u30eb \u30ed\u30fc\u30ab\u30eb\u306eweb\u30b3\u30f3\u30c6\u30f3\u30c4\u3092httpd\u306b\u6301\u305f\u305b\u308b docker run --name http_sample --rm -p 8081:80 -d -v $PWD:/usr/local/apache2/htdocs httpd:latest centos:stream8 quay\u306b\u3042\u308b\u30a4\u30e1\u30fc\u30b8 \u3092\u4f7f\u3046 docker run --name cent-stream --rm -it quay.io/centos/centos:stream8 bash \u30d3\u30eb\u30c9 \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af 30\u79d2\u5f8c\u306bhttpd\u304c\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3002 FROM httpd:2.4 COPY index.html /usr/local/apache2/htdocs/ RUN apt-get update; apt-get install curl HEALTHCHECK --interval = 5s --timeout = 5s --retries =15 CMD curl -f http://127.0.0.1 || exit 1 #CMD [\"httpd-foreground\"] CMD [ \"sh\" , \"-c\" , \"sleep 30; httpd-foreground\" ] \u8d77\u52d5\u51e6\u7406\u4e2d\u306f [zaki@node slowstart_httpd]$ docker run --rm -d -p 8080 :80 --name slowstart_httpd slowstart_httpd e5c366cb3bbab10284ab41bd3e23fbf24720c9c371c35a8137d78a3c138844c6 [zaki@node slowstart_httpd]$ docker container ls CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e5c366cb3bba slowstart_httpd \"sh -c 'sleep 30; ht\u2026\" 5 seconds ago Up 4 seconds (health: starting) 0.0.0.0:8080->80/tcp, :::8080->80/tcp slowstart_httpd \u8d77\u52d5\u5f8c\u306f [zaki@node slowstart_httpd]$ docker container ls CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e5c366cb3bba slowstart_httpd \"sh -c 'sleep 30; ht\u2026\" 32 seconds ago Up 31 seconds (healthy) 0.0.0.0:8080->80/tcp, :::8080->80/tcp slowstart_httpd \u8a2d\u5b9a insecure\u306a\u30ec\u30b8\u30b9\u30c8\u30ea\u8a2d\u5b9a Error response from daemon: Get \"https://registry.example.org/v2/\": tls: failed to verify certificate: x509: certificate relies on legacy Common Name field, use SANs instead \u30ed\u30fc\u30ab\u30eb\u306b\u7acb\u3066\u305f\u30ec\u30b8\u30b9\u30c8\u30ea\u3068\u304b\u3067\u3053\u3093\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408\u3002 /etc/docker/daemon.json \u306b\u3001TLS\u691c\u8a3c\u3092\u7121\u8996\u3057\u305f\u3044\u30b5\u30a4\u30c8\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8ffd\u52a0 { \"insecure-registries\" : [ \"gitlab-ce.example.org:25000\" , \"gitlab-ce.local:25000\" ] } DNS \u30b3\u30f3\u30c6\u30ca\u5185\u3067\u4f7f\u7528\u3059\u308bDNS\u8a2d\u5b9a\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u3001 --dns \u3092\u6307\u5b9a\u3059\u308b\u304b\u3001\u30db\u30b9\u30c8\u306e /etc/docker/daemon.json \u3067\u4e00\u5f8b\u6307\u5b9a\u3059\u308b\u3002 { \"dns\" : [ \"8.8.8.8\" , \"8.8.4.4\" ] } proxy\u8a2d\u5b9a Docker Engine\u306eproxy\u8a2d\u5b9a HTTP/HTTPS proxy systemd\u306e\u30e6\u30cb\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\u306b\u5909\u6570\u8a2d\u5b9a\u3059\u308b\u3002 $ sudo mkdir -p /etc/systemd/system/docker.service.d $ cat /etc/systemd/system/docker.service.d/http-proxy.conf [Service] Environment=\"HTTP_PROXY=http://proxy.example.com:8080\" Environment=\"HTTPS_PROXY=http://proxy.example.com:8080\" $ sudo systemctl daemon-reload $ sudo systemctl restart docker \u3053\u308c\u3067proxy\u74b0\u5883\u4e0b\u306b\u3042\u308b\u30db\u30b9\u30c8\u30ce\u30fc\u30c9\u4e0a\u3067 docker pull \u306a\u3069\u3067\u304d\u308b\u3002 \u30ea\u30e2\u30fc\u30c8\u304b\u3089\u306eTCP\u63a5\u7d9a /lib/systemd/system/docker.service --- /lib/systemd/system/_docker.service 2021-04-10 07:46:42.000000000 +0900 +++ /lib/systemd/system/docker.service 2021-08-10 09:39:32.451408694 +0900 @@ -10,7 +10,7 @@ # the default is not to use systemd for cgroups because the delegate issues still # exists and systemd currently does not support the cgroup feature set required # for containers run by docker -ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock +ExecStart=/usr/bin/dockerd -H fd:// -H tcp://0.0.0.0 --containerd=/run/containerd/containerd.sock ExecReload=/bin/kill -s HUP $MAINPID TimeoutSec=0 RestartSec=2 \u3053\u308c\u30672375/TCP\u3067Listen\u3059\u308b\u3002","title":"Docker"},{"location":"Container/docker/#docker","text":"","title":"Docker"},{"location":"Container/docker/#docker_1","text":"docker container / image \u30b3\u30de\u30f3\u30c9\u65b0\u65e7\u6bd4\u8f03 - Qiita","title":"docker\u30b3\u30de\u30f3\u30c9"},{"location":"Container/docker/#run","text":"","title":"run"},{"location":"Container/docker/#-u-user","text":"\u30e6\u30fc\u30b6\u30fcID\u3092\u6307\u5b9a\u3057\u3066\u5b9f\u884c\u3002 \u4f8b\u3048\u3070root\u6a29\u9650\u3067\u30b7\u30a7\u30eb\u8d77\u52d5\u3068\u304b\u3002 docker run --rm -it localhost:5000/my-image sh sh-5.1$ id uid=1000(1000) gid=0(root) groups=0(root) sh-5.1$ exit exit docker run --rm -it --user root localhost:5000/my-image sh sh-5.1# id uid=0(root) gid=0(root) groups=0(root) sh-5.1#","title":"-u | --user"},{"location":"Container/docker/#-p-publish","text":"local\u3067listen\u3059\u308b\u30dd\u30fc\u30c8 : \u30b3\u30f3\u30c6\u30ca\u306b\u63a5\u7d9a\u3059\u308b\u30dd\u30fc\u30c8 \u3092\u6307\u5b9a\u3059\u308b\u3002 -p 8081:80 \u3053\u308c\u3067\u30db\u30b9\u30c8\u4e0a\u306f 8081 \u3067Listen\u3057\u3066\u3001\u305d\u306e\u63a5\u7d9a\u3092\u30b3\u30f3\u30c6\u30ca\u306e80\u3078\u8ee2\u9001\u3059\u308b\u3002","title":"-p | --publish"},{"location":"Container/docker/#-v","text":"\u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u5229\u7528 | Docker \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u30dc\u30ea\u30e5\u30fc\u30e0\u30de\u30a6\u30f3\u30c8 $ docker run --name httpd --rm -d -v webvolume:/var/tmp httpd webvolume \u30dc\u30ea\u30e5\u30fc\u30e0\u3092(\u7121\u3051\u308c\u3070\u81ea\u52d5\u4f5c\u6210\u3057\u3066) /var/tmp \u306b\u30de\u30a6\u30f3\u30c8\u3057\u3066\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u3002 \u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u30fb\u524a\u9664\u3057\u3066\u3082\u30dc\u30ea\u30e5\u30fc\u30e0\u306f\u6b8b\u308b\u306e\u3067\u3001\u3053\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u5225\u30b3\u30f3\u30c6\u30ca\u3067\u30de\u30a6\u30f3\u30c8\u3059\u308c\u3070\u30c7\u30fc\u30bf\u3092\u4fdd\u6301\u3067\u304d\u308b\u3002","title":"\u30dc\u30ea\u30e5\u30fc\u30e0 (-v)"},{"location":"Container/docker/#-add-host","text":"host.docker.internal \u3092\u30db\u30b9\u30c8OS\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u8a2d\u5b9a\u3059\u308b\u306b\u306f host-gateway \u3092\u6307\u5b9a\u3059\u308b\u3002 docker run --add-host host.docker.internal:host-gateway --rm -it centos bash \u3053\u308c\u3067\u30b3\u30f3\u30c6\u30ca\u5185\u306e /etc/hosts \u306b host.docker.internal \u306e\u30a8\u30f3\u30c8\u30ea\u304c\u8ffd\u52a0\u3055\u308c\u3001\u30db\u30b9\u30c8OS\u3078\u306e\u30a2\u30c9\u30ec\u30b9\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u3002","title":"\u30db\u30b9\u30c8\u306e\u30a2\u30c9\u30ec\u30b9(--add-host)"},{"location":"Container/docker/#entrypoint-entrypoint","text":"CMD \u3067\u30b3\u30de\u30f3\u30c9\u6307\u5b9a\u3055\u308c\u305f\u30a4\u30e1\u30fc\u30b8\u3067\u3042\u308c\u3070 docker run -it image:tag sh \u306a\u3069\u3067\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30b7\u30a7\u30eb\u3092\u8d77\u52d5\u3067\u304d\u308b\u304c\u3001 ENTRYPOINT \u304c\u4f7f\u308f\u308c\u3066\u3044\u308b\u3068\u8d77\u52d5\u30b3\u30de\u30f3\u30c9\u306e\u4e0a\u66f8\u304d\u306f\u3067\u304d\u306a\u3044\u3002 \u305d\u306e\u5834\u5408\u306f --entrypoint \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u4e0a\u66f8\u304d\u3059\u308b\u3002 \u305f\u3060\u3057\u30a4\u30e1\u30fc\u30b8\u6307\u5b9a\u3088\u308a\u624b\u524d\u306b\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 docker run -it --entrypoint sh image:tag","title":"ENTRYPOINT\u306e\u4e0a\u66f8\u304d(--entrypoint)"},{"location":"Container/docker/#-e","text":"\u30b3\u30f3\u30c6\u30ca\u74b0\u5883\u3078\u74b0\u5883\u5909\u6570\u3092\u6e21\u3059\u306b\u306f -e \u3092\u4f7f\u3046 docker run --rm -e APP_VAL=foobar image:tag","title":"\u74b0\u5883\u5909\u6570(-e)"},{"location":"Container/docker/#build","text":"","title":"build"},{"location":"Container/docker/#dockerfile","text":"-f \u3067\u6307\u5b9a\u3059\u308b\u3002 docker build -f my-dockerfile . -t image:tag","title":"Dockerfile\u6307\u5b9a"},{"location":"Container/docker/#stats","text":"\u30ea\u30bd\u30fc\u30b9\u4f7f\u7528\u72b6\u6cc1\u3092\u78ba\u8a8d\u3002 CONTAINER ID NAME CPU % MEM USAGE / LIMIT MEM % NET I/O BLOCK I/O PIDS f5948afa8097 gitlab-ce-gitlab-runner-1 0.00% 10.82MiB / 7.752GiB 0.14% 2.59kB / 126B 885kB / 0B 9 31ba18fa3004 gitlab-ce-gitlab-ce-1 1.33% 3.169GiB / 7.752GiB 40.88% 31.5kB / 1.75MB 107MB / 2.07GB 252","title":"stats"},{"location":"Container/docker/#inspect","text":"\u30b3\u30f3\u30c6\u30ca\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b docker inspect <container name or ID>","title":"inspect"},{"location":"Container/docker/#formatip","text":"docker run \u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u3067\u3042\u308c\u3070\u3053\u306e\u901a\u308a\u3002 $ docker inspect <container name or ID> --format '{{ .NetworkSettings.IPAddress }}' 172.17.0.2 \u30c7\u30d5\u30a9\u30eb\u30c8\u4ee5\u5916\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306f\u3053\u306e\u30d1\u30b9\u306e\u5024\u306f\u7a7a\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u6307\u5b9a\u3082\u5fc5\u8981\u3002 Compose\u4f7f\u7528\u6642\u3082\u3053\u306e\u30d1\u30bf\u30fc\u30f3\u3002 $ docker inspect <container name or ID> --format '{{ .NetworkSettings.Networks.<network name>.IPAddress }}' 172.18.0.2","title":"format\u3067IP\u30a2\u30c9\u30ec\u30b9"},{"location":"Container/docker/#log","text":"Logging Driver\u304cjson-file\u306e\u5834\u5408 docker inspect <container name or ID> --format '{{ .LogPath }}' /var/lib/docker/containers/.../...-json.log","title":"Log\u306e\u30d1\u30b9"},{"location":"Container/docker/#save","text":"$ docker save imagename:tag > imagename-tag.tar \u307e\u305f\u306f $ docker save imagename:tag -o imagename-tag.tar","title":"save"},{"location":"Container/docker/#load","text":"$ docker load -i image.tar \u3042\u308b\u3044\u306f $ docker load < image.tar","title":"load"},{"location":"Container/docker/#pull","text":"sha256\u30cf\u30c3\u30b7\u30e5\u5024\u6307\u5b9a $ docker pull httpd@sha256:f2179b693cfb49baa6e7500171deea7bef755338bf165b39aedacf2b4ae28455","title":"pull"},{"location":"Container/docker/#volume","text":"\u30ea\u30b9\u30c8\u3059\u308b\u3002 $ docker volume ls \u53c2\u7167\u3055\u308c\u3066\u306a\u3044\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3002 \u30c0\u30f3\u30b0\u30ea\u30f3\u30b0 $ docker volume ls -f dangling = true","title":"volume"},{"location":"Container/docker/#image","text":"","title":"image"},{"location":"Container/docker/#_1","text":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4ed8\u304d\u306etable\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u30b5\u30a4\u30ba\u3092\u307e\u305a\u51fa\u529b\u3057\u3001 sort \u3092 -h (--human-numeric-sort) \u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u3051\u3066\u30bd\u30fc\u30c8\u3059\u308b\u3002 docker image ls --format \"table {{.Size}}\\t{{.Repository}}:{{.Tag}}\\t{{.ID}}\" | sort -h Docker image \u4e00\u89a7\u3092\u5bb9\u91cf\u9806\u3067\u30bd\u30fc\u30c8\u3059\u308b #Docker - Qiita","title":"\u30b5\u30a4\u30ba\u9806\u306b\u30bd\u30fc\u30c8"},{"location":"Container/docker/#prune","text":"\u4e0d\u8981\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u524a\u9664\u3059\u308b\u306b\u306f docker prune \u3092\u4f7f\u3046\u3002","title":"prune"},{"location":"Container/docker/#prune_1","text":"$ docker container prune \u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u505c\u6b62\u3057\u3066\u3044\u308b\u5168\u30b3\u30f3\u30c6\u30ca\u304c\u524a\u9664\u3055\u308c\u308b\u3002 10\u65e5\u4ee5\u524d\u306b \u505c\u6b62\u3057\u3066\u3044\u308b \u4f5c\u6210\u3055\u308c\u3066\u73fe\u5728\u505c\u6b62\u4e2d\u306e\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u306f\u3001 $ docker container prune --filter \"until=240h\" Go duration strings \u3092\u4f7f\u3063\u3066\u671f\u9593\u3092\u6307\u5b9a\u3067\u304d\u308b\u3002 \u6307\u5b9a\u53ef\u80fd\u306a\u306e\u306f\u4ee5\u4e0b\u3001\u304b\u306a\uff1f Valid time units are \"ns\", \"us\" (or \"\u00b5s\"), \"ms\", \"s\", \"m\", \"h\"","title":"\u30b3\u30f3\u30c6\u30ca\u306eprune"},{"location":"Container/docker/#prune_2","text":"$ docker image prune \u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u3001\u30bf\u30b0\u304c\u8a2d\u5b9a\u3055\u308c\u305a\u306b <none> \u306b\u306a\u3063\u3066\u3044\u308b\u30a4\u30e1\u30fc\u30b8\u304c\u524a\u9664\u3055\u308c\u308b\u3002 <none> \u306e\u30a4\u30e1\u30fc\u30b8\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3060\u3051\u3067\u3042\u308c\u3070 docker image ls -f \"dangling=true\" \u3067\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3067\u304d\u308b\u3002","title":"\u30a4\u30e1\u30fc\u30b8\u306eprune"},{"location":"Container/docker/#network","text":"","title":"network"},{"location":"Container/docker/#ls","text":"Docker\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u30ea\u30b9\u30c8\u8868\u793a $ docker network ls NETWORK ID NAME DRIVER SCOPE 34ef60dd22b5 ansible-semaphore_default bridge local 69fdc4f1b801 bridge bridge local 5a51254c9202 compose-sample_default bridge local 0ee332b7e247 guacamole-network bridge local a3434bde2af6 host host local d2561ec39f0b kind bridge local 11eb1e17b151 metrics_default bridge local 75cd64743a98 minikube bridge local 550454724fbf none null local","title":"ls"},{"location":"Container/docker/#create","text":"Docker\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u4f5c\u6210 $ docker network create memoapp-network 308817de4a7fd68fdf811af09ac00eceb20a20ac7b522d1b89bc16db8130d288","title":"create"},{"location":"Container/docker/#_2","text":"","title":"\u5b9f\u884c\u30b5\u30f3\u30d7\u30eb"},{"location":"Container/docker/#webhttpd","text":"docker run --name http_sample --rm -p 8081:80 -d -v $PWD:/usr/local/apache2/htdocs httpd:latest","title":"\u30ed\u30fc\u30ab\u30eb\u306eweb\u30b3\u30f3\u30c6\u30f3\u30c4\u3092httpd\u306b\u6301\u305f\u305b\u308b"},{"location":"Container/docker/#centosstream8","text":"quay\u306b\u3042\u308b\u30a4\u30e1\u30fc\u30b8 \u3092\u4f7f\u3046 docker run --name cent-stream --rm -it quay.io/centos/centos:stream8 bash","title":"centos:stream8"},{"location":"Container/docker/#_3","text":"","title":"\u30d3\u30eb\u30c9"},{"location":"Container/docker/#_4","text":"30\u79d2\u5f8c\u306bhttpd\u304c\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3002 FROM httpd:2.4 COPY index.html /usr/local/apache2/htdocs/ RUN apt-get update; apt-get install curl HEALTHCHECK --interval = 5s --timeout = 5s --retries =15 CMD curl -f http://127.0.0.1 || exit 1 #CMD [\"httpd-foreground\"] CMD [ \"sh\" , \"-c\" , \"sleep 30; httpd-foreground\" ] \u8d77\u52d5\u51e6\u7406\u4e2d\u306f [zaki@node slowstart_httpd]$ docker run --rm -d -p 8080 :80 --name slowstart_httpd slowstart_httpd e5c366cb3bbab10284ab41bd3e23fbf24720c9c371c35a8137d78a3c138844c6 [zaki@node slowstart_httpd]$ docker container ls CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e5c366cb3bba slowstart_httpd \"sh -c 'sleep 30; ht\u2026\" 5 seconds ago Up 4 seconds (health: starting) 0.0.0.0:8080->80/tcp, :::8080->80/tcp slowstart_httpd \u8d77\u52d5\u5f8c\u306f [zaki@node slowstart_httpd]$ docker container ls CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e5c366cb3bba slowstart_httpd \"sh -c 'sleep 30; ht\u2026\" 32 seconds ago Up 31 seconds (healthy) 0.0.0.0:8080->80/tcp, :::8080->80/tcp slowstart_httpd","title":"\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af"},{"location":"Container/docker/#_5","text":"","title":"\u8a2d\u5b9a"},{"location":"Container/docker/#insecure","text":"Error response from daemon: Get \"https://registry.example.org/v2/\": tls: failed to verify certificate: x509: certificate relies on legacy Common Name field, use SANs instead \u30ed\u30fc\u30ab\u30eb\u306b\u7acb\u3066\u305f\u30ec\u30b8\u30b9\u30c8\u30ea\u3068\u304b\u3067\u3053\u3093\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408\u3002 /etc/docker/daemon.json \u306b\u3001TLS\u691c\u8a3c\u3092\u7121\u8996\u3057\u305f\u3044\u30b5\u30a4\u30c8\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8ffd\u52a0 { \"insecure-registries\" : [ \"gitlab-ce.example.org:25000\" , \"gitlab-ce.local:25000\" ] }","title":"insecure\u306a\u30ec\u30b8\u30b9\u30c8\u30ea\u8a2d\u5b9a"},{"location":"Container/docker/#dns","text":"\u30b3\u30f3\u30c6\u30ca\u5185\u3067\u4f7f\u7528\u3059\u308bDNS\u8a2d\u5b9a\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u3001 --dns \u3092\u6307\u5b9a\u3059\u308b\u304b\u3001\u30db\u30b9\u30c8\u306e /etc/docker/daemon.json \u3067\u4e00\u5f8b\u6307\u5b9a\u3059\u308b\u3002 { \"dns\" : [ \"8.8.8.8\" , \"8.8.4.4\" ] }","title":"DNS"},{"location":"Container/docker/#proxy","text":"","title":"proxy\u8a2d\u5b9a"},{"location":"Container/docker/#docker-engineproxy","text":"HTTP/HTTPS proxy systemd\u306e\u30e6\u30cb\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\u306b\u5909\u6570\u8a2d\u5b9a\u3059\u308b\u3002 $ sudo mkdir -p /etc/systemd/system/docker.service.d $ cat /etc/systemd/system/docker.service.d/http-proxy.conf [Service] Environment=\"HTTP_PROXY=http://proxy.example.com:8080\" Environment=\"HTTPS_PROXY=http://proxy.example.com:8080\" $ sudo systemctl daemon-reload $ sudo systemctl restart docker \u3053\u308c\u3067proxy\u74b0\u5883\u4e0b\u306b\u3042\u308b\u30db\u30b9\u30c8\u30ce\u30fc\u30c9\u4e0a\u3067 docker pull \u306a\u3069\u3067\u304d\u308b\u3002","title":"Docker Engine\u306eproxy\u8a2d\u5b9a"},{"location":"Container/docker/#tcp","text":"/lib/systemd/system/docker.service --- /lib/systemd/system/_docker.service 2021-04-10 07:46:42.000000000 +0900 +++ /lib/systemd/system/docker.service 2021-08-10 09:39:32.451408694 +0900 @@ -10,7 +10,7 @@ # the default is not to use systemd for cgroups because the delegate issues still # exists and systemd currently does not support the cgroup feature set required # for containers run by docker -ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock +ExecStart=/usr/bin/dockerd -H fd:// -H tcp://0.0.0.0 --containerd=/run/containerd/containerd.sock ExecReload=/bin/kill -s HUP $MAINPID TimeoutSec=0 RestartSec=2 \u3053\u308c\u30672375/TCP\u3067Listen\u3059\u308b\u3002","title":"\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u306eTCP\u63a5\u7d9a"},{"location":"Container/helm/","text":"Helm \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Helm | Helm \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb OS\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u3067\u5bfe\u5fdc\u3057\u3066\u306a\u3051\u308c\u3070\u3001\u30d0\u30a4\u30ca\u30ea\u3092 /usr/local/bin/helm \u306b\u7f6e\u3051\u3070OK. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u30b9\u30af\u30ea\u30d7\u30c8\u3082\u3042\u308b\u3002 apt\u306f\u3042\u308b\u3051\u3069\u3001\u4eca\u306e\u3068\u3053yun/dnf\u306f\u306a\u3044\u3093\u3060\u3088\u306a\u3002 apt curl https://baltocdn.com/helm/signing.asc | gpg --dearmor | sudo tee /usr/share/keyrings/helm.gpg > /dev/null sudo apt-get install apt-transport-https --yes echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/helm.gpg] https://baltocdn.com/helm/stable/debian/ all main\" | sudo tee /etc/apt/sources.list.d/helm-stable-debian.list sudo apt-get update sudo apt-get install helm \u30b3\u30de\u30f3\u30c9 \u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7 $ helm repo list NAME URL prometheus-community https://prometheus-community.github.io/helm-charts rook-release https://charts.rook.io/release stable https://charts.helm.sh/stable grafana https://grafana.github.io/helm-charts elastic https://helm.elastic.co metallb https://metallb.github.io/metallb \u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0 $ helm repo add stable https://charts.helm.sh/stable \u3068\u304b $ helm repo add prometheus-community https://prometheus-community.github.io/helm-charts \u3068\u304b \u30ea\u30dd\u30b8\u30c8\u30ea\u524a\u9664 \u8ffd\u52a0\u3057\u305f\u3068\u304d\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u540d( helm repo list \u3067\u78ba\u8a8d\u53ef\u80fd)\u3092\u6307\u5b9a\u3057\u3066 remove \u3059\u308b\u3002 $ helm repo list NAME URL hashicorp https://helm.releases.hashicorp.com fluent https://fluent.github.io/helm-charts stable https://charts.helm.sh/stable elastic https://helm.elastic.co awx-operator https://ansible-community.github.io/awx-operator-helm/ gitlab https://charts.gitlab.io/ $ helm repo remove stable \"stable\" has been removed from your repositories \u30ed\u30fc\u30ab\u30eb\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u60c5\u5831\u3092\u66f4\u65b0 helm repo update \u7279\u5b9a\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u307f\u66f4\u65b0\u3059\u308b\u306b\u306f\u5f15\u6570\u3092\u8ffd\u52a0\u3059\u308b\u3002 helm repo update prometheus-community \u30c1\u30e3\u30fc\u30c8\u4e00\u89a7 \u767b\u9332\u6e08\u307f\u5168\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30c1\u30e3\u30fc\u30c8\u4e00\u89a7 $ helm search repo \u6307\u5b9a\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30c1\u30e3\u30fc\u30c8\u4e00\u89a7 $ helm search repo <repository-name> \u30c1\u30e3\u30fc\u30c8\u306e\u691c\u7d22 $ helm search repo prometheus NAME CHART VERSION APP VERSION DESCRIPTION prometheus-community/kube-prometheus-stack 16.12.1 0.48.1 kube-prometheus-stack collects Kubernetes manif... prometheus-community/prometheus 14.3.0 2.26.0 Prometheus is a monitoring system and time seri... prometheus-community/prometheus-adapter 2.14.2 v0.8.4 A Helm chart for k8s prometheus adapter prometheus-community/prometheus-blackbox-exporter 4.15.0 0.19.0 Prometheus Blackbox Exporter prometheus-community/prometheus-cloudwatch-expo... 0.16.0 0.10.0 A Helm chart for prometheus cloudwatch-exporter : : \u30c1\u30e3\u30fc\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u4e00\u89a7 \u30c1\u30e3\u30fc\u30c8\u691c\u7d22\u3067\u30c1\u30e3\u30fc\u30c8\u540d\u3092\u4ed8\u4e0e\u3057\u3064\u3064 -l \u3092\u8ffd\u52a0 $ helm search repo fluent/fluentd -l NAME CHART VERSION APP VERSION DESCRIPTION fluent/fluentd 0.3.9 v1.14.6 A Helm chart for Kubernetes fluent/fluentd 0.3.8 v1.12.4 A Helm chart for Kubernetes fluent/fluentd 0.3.7 v1.12.4 A Helm chart for Kubernetes fluent/fluentd 0.3.6 v1.12.4 A Helm chart for Kubernetes fluent/fluentd 0.3.5 v1.12.4 A Helm chart for Kubernetes \u30c1\u30e3\u30fc\u30c8\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 $ helm show values metallb/metallb # Default values for metallb. # This is a YAML-formatted file. # Declare variables to be passed into your templates. imagePullSecrets: [] nameOverride: \"\" fullnameOverride: \"\" : : \u3053\u308c\u3092\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\u3059\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30baYAML\u4f5c\u308c\u308b \u30c1\u30e3\u30fc\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb helm install my-app repo/chart -n namespace -f values.yaml helm install stable/mysql --generate-name --create-namespace -n mysql -f values.yaml \u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9 helm upgrade <release> <chart> [-n <namespace>] [-f values.yaml] \u672a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u3042\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308c\u3070\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u306b\u306f --install \u3092\u4ed8\u52a0 helm upgrade --install sample-logstash elastic/logstash -f values.yaml --create-namespace -n logging \u30c1\u30e3\u30fc\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u30c1\u30e3\u30fc\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f --version \u3092\u4f7f\u3046 helm install ... --version x.y.z \u30c1\u30e3\u30fc\u30c8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9(tgz\u5f62\u5f0f) helm pull fluent/fluent-bit --version 0.43.0 \u30c1\u30e3\u30fc\u30c8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u4f7f\u308f\u308c\u308b\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u751f\u6210 install \u306e\u4ee3\u308f\u308a\u306b template \u3092\u4f7f\u3046 helm template stable/mysql --generate-name --create-namespace -n mysql \u203b heml 3.14\u3060\u3068 --create-namespace \u304c\u52b9\u304b\u306a\u3044 \u30ea\u30ea\u30fc\u30b9\u4e00\u89a7 \u5b9f\u884c\u4e2d\u306e\u30ea\u30ea\u30fc\u30b9\u306e\u4e00\u89a7 $ helm list [ -n <namespace-name> ] \u30ea\u30ea\u30fc\u30b9\u306e\u524a\u9664 helm uninstall <char-name> [-n <namespace-name>] \u30ea\u30ea\u30fc\u30b9\u306e\u8a2d\u5b9a\u5024 \u30c1\u30e3\u30fc\u30c8\u304b\u3089\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3066\u3044\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u5024\u3092 helm get values \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 [zaki@fedora-node ~]$ helm ls -A NAME NAMESPACE REVISION UPDATED STATUS CHART APP VERSION grafana monitoring 1 2021-07-26 16:23:47.276215637 +0900 JST deployed grafana-6.14.1 8.0.5 prometheus monitoring 1 2021-07-26 14:24:12.737306448 +0900 JST deployed prometheus-14.4.1 2.26.0 [zaki@fedora-node ~]$ helm get values -n monitoring grafana USER-SUPPLIED VALUES: persistence: accessModes: - ReadWriteOnce enabled: true size: 1Gi type: pvc service: type: LoadBalancer \u30c1\u30e3\u30fc\u30c8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4f8b Fluent Bit fluent/helm-charts: Helm Charts for Fluentd and Fluent Bit \u30ea\u30dd\u30b8\u30c8\u30ea\u8ffd\u52a0 helm repo add fluent https://fluent.github.io/helm-charts \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb helm upgrade --install fluent-bit fluent/fluent-bit -n logging --create-namespace -f values.yaml \u74b0\u5883\u5909\u6570 Helm\u3067\u4f7f\u7528\u3059\u308b\u74b0\u5883\u7de8\u7d20\u306f helm env \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 $ helm env HELM_BIN=\"helm\" HELM_CACHE_HOME=\"/home/zaki/.cache/helm\" HELM_CONFIG_HOME=\"/home/zaki/.config/helm\" HELM_DATA_HOME=\"/home/zaki/.local/share/helm\" HELM_DEBUG=\"false\" HELM_KUBEAPISERVER=\"\" HELM_KUBEASGROUPS=\"\" HELM_KUBEASUSER=\"\" HELM_KUBECAFILE=\"\" HELM_KUBECONTEXT=\"\" HELM_KUBETOKEN=\"\" HELM_MAX_HISTORY=\"10\" HELM_NAMESPACE=\"default\" HELM_PLUGINS=\"/home/zaki/.local/share/helm/plugins\" HELM_REGISTRY_CONFIG=\"/home/zaki/.config/helm/registry.json\" HELM_REPOSITORY_CACHE=\"/home/zaki/.cache/helm/repository\" HELM_REPOSITORY_CONFIG=\"/home/zaki/.config/helm/repositories.yaml\" HELM_CONFIG_HOME \u3092\u8a2d\u5b9a\u3059\u308c\u3070\u3001 HELM_REGISTRY_CONFIG \u306a\u3069\u306f\u9023\u52d5\u3059\u308b\u3002 $ HELM_CONFIG_HOME = /var/tmp helm env | grep var HELM_CONFIG_HOME = \"/var/tmp\" HELM_REGISTRY_CONFIG = \"/var/tmp/registry.json\" HELM_REPOSITORY_CONFIG = \"/var/tmp/repositories.yaml\"","title":"Helm"},{"location":"Container/helm/#helm","text":"","title":"Helm"},{"location":"Container/helm/#_1","text":"Helm | Helm \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb OS\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u3067\u5bfe\u5fdc\u3057\u3066\u306a\u3051\u308c\u3070\u3001\u30d0\u30a4\u30ca\u30ea\u3092 /usr/local/bin/helm \u306b\u7f6e\u3051\u3070OK. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u30b9\u30af\u30ea\u30d7\u30c8\u3082\u3042\u308b\u3002 apt\u306f\u3042\u308b\u3051\u3069\u3001\u4eca\u306e\u3068\u3053yun/dnf\u306f\u306a\u3044\u3093\u3060\u3088\u306a\u3002","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Container/helm/#apt","text":"curl https://baltocdn.com/helm/signing.asc | gpg --dearmor | sudo tee /usr/share/keyrings/helm.gpg > /dev/null sudo apt-get install apt-transport-https --yes echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/helm.gpg] https://baltocdn.com/helm/stable/debian/ all main\" | sudo tee /etc/apt/sources.list.d/helm-stable-debian.list sudo apt-get update sudo apt-get install helm","title":"apt"},{"location":"Container/helm/#_2","text":"","title":"\u30b3\u30de\u30f3\u30c9"},{"location":"Container/helm/#_3","text":"$ helm repo list NAME URL prometheus-community https://prometheus-community.github.io/helm-charts rook-release https://charts.rook.io/release stable https://charts.helm.sh/stable grafana https://grafana.github.io/helm-charts elastic https://helm.elastic.co metallb https://metallb.github.io/metallb","title":"\u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7"},{"location":"Container/helm/#_4","text":"$ helm repo add stable https://charts.helm.sh/stable \u3068\u304b $ helm repo add prometheus-community https://prometheus-community.github.io/helm-charts \u3068\u304b","title":"\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0"},{"location":"Container/helm/#_5","text":"\u8ffd\u52a0\u3057\u305f\u3068\u304d\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u540d( helm repo list \u3067\u78ba\u8a8d\u53ef\u80fd)\u3092\u6307\u5b9a\u3057\u3066 remove \u3059\u308b\u3002 $ helm repo list NAME URL hashicorp https://helm.releases.hashicorp.com fluent https://fluent.github.io/helm-charts stable https://charts.helm.sh/stable elastic https://helm.elastic.co awx-operator https://ansible-community.github.io/awx-operator-helm/ gitlab https://charts.gitlab.io/ $ helm repo remove stable \"stable\" has been removed from your repositories","title":"\u30ea\u30dd\u30b8\u30c8\u30ea\u524a\u9664"},{"location":"Container/helm/#_6","text":"helm repo update \u7279\u5b9a\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u307f\u66f4\u65b0\u3059\u308b\u306b\u306f\u5f15\u6570\u3092\u8ffd\u52a0\u3059\u308b\u3002 helm repo update prometheus-community","title":"\u30ed\u30fc\u30ab\u30eb\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u60c5\u5831\u3092\u66f4\u65b0"},{"location":"Container/helm/#_7","text":"\u767b\u9332\u6e08\u307f\u5168\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30c1\u30e3\u30fc\u30c8\u4e00\u89a7 $ helm search repo \u6307\u5b9a\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30c1\u30e3\u30fc\u30c8\u4e00\u89a7 $ helm search repo <repository-name>","title":"\u30c1\u30e3\u30fc\u30c8\u4e00\u89a7"},{"location":"Container/helm/#_8","text":"$ helm search repo prometheus NAME CHART VERSION APP VERSION DESCRIPTION prometheus-community/kube-prometheus-stack 16.12.1 0.48.1 kube-prometheus-stack collects Kubernetes manif... prometheus-community/prometheus 14.3.0 2.26.0 Prometheus is a monitoring system and time seri... prometheus-community/prometheus-adapter 2.14.2 v0.8.4 A Helm chart for k8s prometheus adapter prometheus-community/prometheus-blackbox-exporter 4.15.0 0.19.0 Prometheus Blackbox Exporter prometheus-community/prometheus-cloudwatch-expo... 0.16.0 0.10.0 A Helm chart for prometheus cloudwatch-exporter : :","title":"\u30c1\u30e3\u30fc\u30c8\u306e\u691c\u7d22"},{"location":"Container/helm/#_9","text":"\u30c1\u30e3\u30fc\u30c8\u691c\u7d22\u3067\u30c1\u30e3\u30fc\u30c8\u540d\u3092\u4ed8\u4e0e\u3057\u3064\u3064 -l \u3092\u8ffd\u52a0 $ helm search repo fluent/fluentd -l NAME CHART VERSION APP VERSION DESCRIPTION fluent/fluentd 0.3.9 v1.14.6 A Helm chart for Kubernetes fluent/fluentd 0.3.8 v1.12.4 A Helm chart for Kubernetes fluent/fluentd 0.3.7 v1.12.4 A Helm chart for Kubernetes fluent/fluentd 0.3.6 v1.12.4 A Helm chart for Kubernetes fluent/fluentd 0.3.5 v1.12.4 A Helm chart for Kubernetes","title":"\u30c1\u30e3\u30fc\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u4e00\u89a7"},{"location":"Container/helm/#_10","text":"$ helm show values metallb/metallb # Default values for metallb. # This is a YAML-formatted file. # Declare variables to be passed into your templates. imagePullSecrets: [] nameOverride: \"\" fullnameOverride: \"\" : : \u3053\u308c\u3092\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\u3059\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30baYAML\u4f5c\u308c\u308b","title":"\u30c1\u30e3\u30fc\u30c8\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024"},{"location":"Container/helm/#_11","text":"helm install my-app repo/chart -n namespace -f values.yaml helm install stable/mysql --generate-name --create-namespace -n mysql -f values.yaml","title":"\u30c1\u30e3\u30fc\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Container/helm/#_12","text":"helm upgrade <release> <chart> [-n <namespace>] [-f values.yaml] \u672a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u3042\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308c\u3070\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u306b\u306f --install \u3092\u4ed8\u52a0 helm upgrade --install sample-logstash elastic/logstash -f values.yaml --create-namespace -n logging","title":"\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9"},{"location":"Container/helm/#_13","text":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u30c1\u30e3\u30fc\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f --version \u3092\u4f7f\u3046 helm install ... --version x.y.z","title":"\u30c1\u30e3\u30fc\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Container/helm/#tgz","text":"helm pull fluent/fluent-bit --version 0.43.0","title":"\u30c1\u30e3\u30fc\u30c8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9(tgz\u5f62\u5f0f)"},{"location":"Container/helm/#_14","text":"install \u306e\u4ee3\u308f\u308a\u306b template \u3092\u4f7f\u3046 helm template stable/mysql --generate-name --create-namespace -n mysql \u203b heml 3.14\u3060\u3068 --create-namespace \u304c\u52b9\u304b\u306a\u3044","title":"\u30c1\u30e3\u30fc\u30c8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u4f7f\u308f\u308c\u308b\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u751f\u6210"},{"location":"Container/helm/#_15","text":"\u5b9f\u884c\u4e2d\u306e\u30ea\u30ea\u30fc\u30b9\u306e\u4e00\u89a7 $ helm list [ -n <namespace-name> ]","title":"\u30ea\u30ea\u30fc\u30b9\u4e00\u89a7"},{"location":"Container/helm/#_16","text":"helm uninstall <char-name> [-n <namespace-name>]","title":"\u30ea\u30ea\u30fc\u30b9\u306e\u524a\u9664"},{"location":"Container/helm/#_17","text":"\u30c1\u30e3\u30fc\u30c8\u304b\u3089\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3066\u3044\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u5024\u3092 helm get values \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 [zaki@fedora-node ~]$ helm ls -A NAME NAMESPACE REVISION UPDATED STATUS CHART APP VERSION grafana monitoring 1 2021-07-26 16:23:47.276215637 +0900 JST deployed grafana-6.14.1 8.0.5 prometheus monitoring 1 2021-07-26 14:24:12.737306448 +0900 JST deployed prometheus-14.4.1 2.26.0 [zaki@fedora-node ~]$ helm get values -n monitoring grafana USER-SUPPLIED VALUES: persistence: accessModes: - ReadWriteOnce enabled: true size: 1Gi type: pvc service: type: LoadBalancer","title":"\u30ea\u30ea\u30fc\u30b9\u306e\u8a2d\u5b9a\u5024"},{"location":"Container/helm/#_18","text":"","title":"\u30c1\u30e3\u30fc\u30c8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4f8b"},{"location":"Container/helm/#fluent-bit","text":"fluent/helm-charts: Helm Charts for Fluentd and Fluent Bit \u30ea\u30dd\u30b8\u30c8\u30ea\u8ffd\u52a0 helm repo add fluent https://fluent.github.io/helm-charts \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb helm upgrade --install fluent-bit fluent/fluent-bit -n logging --create-namespace -f values.yaml","title":"Fluent Bit"},{"location":"Container/helm/#_19","text":"Helm\u3067\u4f7f\u7528\u3059\u308b\u74b0\u5883\u7de8\u7d20\u306f helm env \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 $ helm env HELM_BIN=\"helm\" HELM_CACHE_HOME=\"/home/zaki/.cache/helm\" HELM_CONFIG_HOME=\"/home/zaki/.config/helm\" HELM_DATA_HOME=\"/home/zaki/.local/share/helm\" HELM_DEBUG=\"false\" HELM_KUBEAPISERVER=\"\" HELM_KUBEASGROUPS=\"\" HELM_KUBEASUSER=\"\" HELM_KUBECAFILE=\"\" HELM_KUBECONTEXT=\"\" HELM_KUBETOKEN=\"\" HELM_MAX_HISTORY=\"10\" HELM_NAMESPACE=\"default\" HELM_PLUGINS=\"/home/zaki/.local/share/helm/plugins\" HELM_REGISTRY_CONFIG=\"/home/zaki/.config/helm/registry.json\" HELM_REPOSITORY_CACHE=\"/home/zaki/.cache/helm/repository\" HELM_REPOSITORY_CONFIG=\"/home/zaki/.config/helm/repositories.yaml\" HELM_CONFIG_HOME \u3092\u8a2d\u5b9a\u3059\u308c\u3070\u3001 HELM_REGISTRY_CONFIG \u306a\u3069\u306f\u9023\u52d5\u3059\u308b\u3002 $ HELM_CONFIG_HOME = /var/tmp helm env | grep var HELM_CONFIG_HOME = \"/var/tmp\" HELM_REGISTRY_CONFIG = \"/var/tmp/registry.json\" HELM_REPOSITORY_CONFIG = \"/var/tmp/repositories.yaml\"","title":"\u74b0\u5883\u5909\u6570"},{"location":"Container/install/","text":"Docker\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Docker Install Docker Engine | Docker Documentation \u5404\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u6bce\u306e\u30da\u30fc\u30b8\u53c2\u7167\u3002 Windows\u3082home\u542b\u3081\u3066OK Windows 10 Home\u3078\u306eDocker Desktop (ver 3.0.0) \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u4f55\u4e8b\u3082\u306a\u304f\u7c21\u5358\u306b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u305f (2020.12\u6642\u70b9) - Qiita Docker Compose v1: Install Docker Compose | Docker Documentation v2: Compose V2 | Docker Documentation docker\u30b0\u30eb\u30fc\u30d7\u3078\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\u3059\u308b\u30a2\u30ec(\u30b3\u30d4\u30da\u7528) $ sudo usermod -aG docker $USER Oracle Linux \u6a19\u6e96 OCI\u3067OL7.9\u306e\u5834\u5408\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3060\u3068\u3053\u308c\u304c\u30d2\u30c3\u30c8\u3059\u308b\u3002 [ opc@instance-20210801-1151 ~ ] $ yum info docker - engine.aarch64 \u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3 :langpacks, ulninfo \u5229\u7528\u53ef\u80fd\u306a\u30d1\u30c3\u30b1\u30fc\u30b8 \u540d\u524d : docker - engine \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30fc : aarch64 \u30d0\u30fc\u30b8\u30e7\u30f3 : 19.03.11 .ol \u30ea\u30ea\u30fc\u30b9 : 13. el7 \u5bb9\u91cf : 14 M \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc : ol7_oci_included / aarch64 \u8981\u7d04 : The open - source application container engine URL : https : // dockerproject.org \u30e9\u30a4\u30bb\u30f3\u30b9 : ASL 2.0 \u8aac\u660e : Docker is an open source project to build, ship and run any application as a : lightweight container. : : Docker containers are both hardware - agnostic and platform - agnostic. This means : they can run anywhere, from your laptop to the largest EC2 compute instance and : everything in between - and they don ' t require you to use a particular : language , framework or packaging system . That makes them great building blocks : for deploying and scaling web apps, databases, and backend services without : depending on a particular stack or provider. centos\u7248 \u4e92\u63db\u6027\u304c\u9ad8\u305d\u3046\u306aCentOS\u7248\u306e\u624b\u9806\u30fb\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u304a\u8a66\u3057\u306bnginx\u30b3\u30f3\u30c6\u30ca\u30c7\u30d7\u30ed\u30a4\u306f\u3067\u304d\u305f\u3002 Install Docker Engine on CentOS | Docker Documentation \u305f\u3060\u3057\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8( slirp4netns , fuse-overlayfs )\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u306b\u3001 ol7_developer \u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u6709\u52b9\u306b\u3057\u3066\u304a\u304f\u5fc5\u8981\u3042\u308a\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u7121\u52b9) $ sudo yum-config-manager --enable ol7_developer Oracle Linux 7 (aarch64) Development | Oracle, Software. Hardware. Complete. \u53e4\u3044Docker \u691c\u8a3c\u7528\u306b\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5165\u308c\u305f\u3044\u5834\u5408 Docker \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u6bce\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8\u306b\u3042\u308b\u3002 \u5404\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u6bce\u306b\u3001\u305d\u306e\u6642\u671f\u306eDocker\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u30a2\u30fc\u30ab\u30a4\u30d6\u3055\u308c\u3066\u3044\u308b\u3002 \u6642\u9593\u5dee\u304c\u3042\u308b\u3088\u3046\u306a(\u65b0\u3057\u3044Fedora\u306b\u53e4\u3044Docker\u3092\u5165\u308c\u308b\u3001\u307f\u305f\u3044\u306a)\u5834\u5408\u306f\u3001\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30d0\u30fc\u30b8\u30e7\u30f3\u5074\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u843d\u3068\u3057\u3066\u63a2\u3057\u3066\u307f\u308b\u3002 Ubuntu 20.04 LTS: Docker 19.03.10 - 20.10.24 Fedora 36: Docker 20.10.15 - 20.10.24 Docker Compose \u4f8b\u3048\u30701.29.2\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u304b\u3089\u76f4\u63a5\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001 /usr/local/bin/docker-compose \u3042\u305f\u308a\u306b\u914d\u7f6e\u3057\u5b9f\u884c\u6a29\u9650\u3092\u4ed8\u4e0e\u3059\u308b\u3002 https://github.com/docker/compose/releases/tag/1.29.2 \u30a8\u30e9\u30fc\u304c\u51fa\u305f\u5834\u5408 $ docker-compose version [21740] Error loading Python lib '/tmp/_MEIy05DAM/libpython3.7m.so.1.0': dlopen: libcrypt.so.1: cannot open shared object file: No such file or directory Fedora\u306e\u5834\u5408 $ sudo dnf search libxcrypt \u3053\u308c\u3067\u52d5\u304f [zaki@fedora40-dev docker-20]$ docker-compose version docker-compose version 1.29.2, build 5becea4c docker-py version: 5.0.0 CPython version: 3.7.10 OpenSSL version: OpenSSL 1.1.0l 10 Sep 2019","title":"Docker\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Container/install/#docker","text":"","title":"Docker\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Container/install/#docker_1","text":"Install Docker Engine | Docker Documentation \u5404\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u6bce\u306e\u30da\u30fc\u30b8\u53c2\u7167\u3002 Windows\u3082home\u542b\u3081\u3066OK Windows 10 Home\u3078\u306eDocker Desktop (ver 3.0.0) \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u4f55\u4e8b\u3082\u306a\u304f\u7c21\u5358\u306b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u305f (2020.12\u6642\u70b9) - Qiita","title":"Docker"},{"location":"Container/install/#docker-compose","text":"v1: Install Docker Compose | Docker Documentation v2: Compose V2 | Docker Documentation","title":"Docker Compose"},{"location":"Container/install/#docker_2","text":"$ sudo usermod -aG docker $USER","title":"docker\u30b0\u30eb\u30fc\u30d7\u3078\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\u3059\u308b\u30a2\u30ec(\u30b3\u30d4\u30da\u7528)"},{"location":"Container/install/#oracle-linux","text":"","title":"Oracle Linux"},{"location":"Container/install/#_1","text":"OCI\u3067OL7.9\u306e\u5834\u5408\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3060\u3068\u3053\u308c\u304c\u30d2\u30c3\u30c8\u3059\u308b\u3002 [ opc@instance-20210801-1151 ~ ] $ yum info docker - engine.aarch64 \u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3 :langpacks, ulninfo \u5229\u7528\u53ef\u80fd\u306a\u30d1\u30c3\u30b1\u30fc\u30b8 \u540d\u524d : docker - engine \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30fc : aarch64 \u30d0\u30fc\u30b8\u30e7\u30f3 : 19.03.11 .ol \u30ea\u30ea\u30fc\u30b9 : 13. el7 \u5bb9\u91cf : 14 M \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc : ol7_oci_included / aarch64 \u8981\u7d04 : The open - source application container engine URL : https : // dockerproject.org \u30e9\u30a4\u30bb\u30f3\u30b9 : ASL 2.0 \u8aac\u660e : Docker is an open source project to build, ship and run any application as a : lightweight container. : : Docker containers are both hardware - agnostic and platform - agnostic. This means : they can run anywhere, from your laptop to the largest EC2 compute instance and : everything in between - and they don ' t require you to use a particular : language , framework or packaging system . That makes them great building blocks : for deploying and scaling web apps, databases, and backend services without : depending on a particular stack or provider.","title":"\u6a19\u6e96"},{"location":"Container/install/#centos","text":"\u4e92\u63db\u6027\u304c\u9ad8\u305d\u3046\u306aCentOS\u7248\u306e\u624b\u9806\u30fb\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u304a\u8a66\u3057\u306bnginx\u30b3\u30f3\u30c6\u30ca\u30c7\u30d7\u30ed\u30a4\u306f\u3067\u304d\u305f\u3002 Install Docker Engine on CentOS | Docker Documentation \u305f\u3060\u3057\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8( slirp4netns , fuse-overlayfs )\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u306b\u3001 ol7_developer \u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u6709\u52b9\u306b\u3057\u3066\u304a\u304f\u5fc5\u8981\u3042\u308a\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u7121\u52b9) $ sudo yum-config-manager --enable ol7_developer Oracle Linux 7 (aarch64) Development | Oracle, Software. Hardware. Complete.","title":"centos\u7248"},{"location":"Container/install/#docker_3","text":"\u691c\u8a3c\u7528\u306b\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5165\u308c\u305f\u3044\u5834\u5408","title":"\u53e4\u3044Docker"},{"location":"Container/install/#docker_4","text":"\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u6bce\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8\u306b\u3042\u308b\u3002 \u5404\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u6bce\u306b\u3001\u305d\u306e\u6642\u671f\u306eDocker\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u30a2\u30fc\u30ab\u30a4\u30d6\u3055\u308c\u3066\u3044\u308b\u3002 \u6642\u9593\u5dee\u304c\u3042\u308b\u3088\u3046\u306a(\u65b0\u3057\u3044Fedora\u306b\u53e4\u3044Docker\u3092\u5165\u308c\u308b\u3001\u307f\u305f\u3044\u306a)\u5834\u5408\u306f\u3001\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30d0\u30fc\u30b8\u30e7\u30f3\u5074\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u843d\u3068\u3057\u3066\u63a2\u3057\u3066\u307f\u308b\u3002 Ubuntu 20.04 LTS: Docker 19.03.10 - 20.10.24 Fedora 36: Docker 20.10.15 - 20.10.24","title":"Docker"},{"location":"Container/install/#docker-compose_1","text":"\u4f8b\u3048\u30701.29.2\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u304b\u3089\u76f4\u63a5\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001 /usr/local/bin/docker-compose \u3042\u305f\u308a\u306b\u914d\u7f6e\u3057\u5b9f\u884c\u6a29\u9650\u3092\u4ed8\u4e0e\u3059\u308b\u3002 https://github.com/docker/compose/releases/tag/1.29.2 \u30a8\u30e9\u30fc\u304c\u51fa\u305f\u5834\u5408 $ docker-compose version [21740] Error loading Python lib '/tmp/_MEIy05DAM/libpython3.7m.so.1.0': dlopen: libcrypt.so.1: cannot open shared object file: No such file or directory Fedora\u306e\u5834\u5408 $ sudo dnf search libxcrypt \u3053\u308c\u3067\u52d5\u304f [zaki@fedora40-dev docker-20]$ docker-compose version docker-compose version 1.29.2, build 5becea4c docker-py version: 5.0.0 CPython version: 3.7.10 OpenSSL version: OpenSSL 1.1.0l 10 Sep 2019","title":"Docker Compose"},{"location":"Container/k3s/","text":"K3s docs K3s - Lightweight Kubernetes | K3s \u65e5\u672c\u8a9e\u7248 K3s\u30de\u30cb\u30e5\u30a2\u30eb \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u6e96\u5099 Raspberry Pi \u30c7\u30d5\u30a9\u30eb\u30c8\u72b6\u614b\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3088\u3046\u3068\u3057\u3066\u3082\u4e0b\u8a18\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u3066\u8d77\u52d5\u5931\u6557\u3059\u308b\u3002 [INFO] Failed to find memory cgroup, you may need to add \"cgroup_memory=1 cgroup_enable=memory\" to your linux cmdline (/boot/cmdline.txt on a Raspberry Pi) \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u3082\u540c\u3058\u3053\u3068\u304c\u66f8\u304b\u308c\u3066\u3044\u308b\u3002 https://docs.k3s.io/installation/requirements?os=pi /boot/cmdline.txt (\u4e2d\u8eab\u306b moved to /boot/firmware/cmdline.txt \u3068\u66f8\u304b\u308c\u3066\u3044\u308c\u3070\u305d\u3063\u3061)\u3092\u7de8\u96c6\u3057\u3066\u4ee5\u4e0b\u3092\u672b\u5c3e\u306b\u8ffd\u8a18\u3002 cgroup_memory=1 cgroup_enable=memory server(control plane) curl -sfL https://get.k3s.io | sh - agent(worker node) curl -sfL https://get.k3s.io | K3S_URL=https://server:6443 K3S_TOKEN=${token} sh - token\u306fserver\u306e /var/lib/rancher/k3s/server/agent-token \u306b\u3042\u308b\u3002 \u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a \u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408 curl -sfL https://get.k3s.io | INSTALL_K3S_VERSION=v1.26.9+k3s1 sh - \u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408 curl -sfL https://get.k3s.io | INSTALL_K3S_CHANNEL=latest sh - \u30c1\u30e3\u30f3\u30cd\u30eb\u306f\u30c7\u30d5\u30a9\u30eb\u30c8 stable \u30671\u500b\u524d\u306e\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3060\u3063\u305f\u308a\u3059\u308b\u3002 \u30c1\u30e3\u30f3\u30cd\u30eb\u4e00\u89a7 \u8d77\u52d5\u30d1\u30e9\u30e1\u30bf server | K3s agent | K3s Configuration Options | K3s Network Options | K3s \u30c7\u30d5\u30a9\u30eb\u30c8\u5024 \u9805\u76ee \u5024 Pod IPs 10.42.0.0/16 Service IPs 10.43.0.0/16 cluster dns 10.43.0.10 kubelet \u6700\u5927pod\u6570 IP\u30a2\u30c9\u30ec\u30b9\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3066\u3082\u4f7f\u3048\u308bpod\u6570\u306f\u9023\u52d5\u3057\u306a\u3044\u306e\u3067\u660e\u78ba\u306b\u6307\u5b9a\u3059\u308b\u3002 server --kubelet-arg=max-pods=200 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af IP\u30a2\u30c9\u30ec\u30b9 \u9805\u76ee \u5909\u66f4\u65b9\u6cd5 Pod IPs --cluster-cidr 0.0.0.0/16 Service IPs --service-cidr 0.0.0.0/16 curl -sfL https://get.k3s.io | sh -s - \\ --cluster-cidr \"172.28.0.0/16\" \\ --service-cidr \"172.29.0.0/16\" \\ --kube-controller-manager-arg=node-cidr-mask-size=24 \\ --kubelet-arg=max-pods=200 resolv.conf $ cat /etc/k3s.resolve.conf nameserver 8 .8.8.8 $ curl -sfL https://get.k3s.io | sh -s - --write-kubeconfig-mode 644 --resolv-conf /etc/k3s.resolv.conf \u30c7\u30d7\u30ed\u30a4\u5f8c\u306e\u30a2\u30c9\u30ec\u30b9\u5909\u66f4\u306f\u4e0d\u53ef You cannot change the CIDRs or add a new address family to an existing cluster. Cluster networking should be established when the cluster is initially started. https://github.com/k3s-io/k3s/issues/93#issuecomment-1551967292 systemd\u30e6\u30cb\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8f09\u306e\u30a2\u30c9\u30ec\u30b9\u6307\u5b9a\u90e8\u5206\u3092\u5909\u66f4\u3057\u3066\u3082\u3001\u30af\u30e9\u30b9\u30bf\u30fc\u306b\u306f\u53cd\u6620\u3055\u308c\u305a\u52d5\u4f5c\u304c\u4e0d\u5b89\u5b9a\u306b\u306a\u308b \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u7121\u52b9\u5316 \u57fa\u672c\u7684\u306b\u30c7\u30d5\u30a9\u30eb\u30c8on \u30ea\u30bd\u30fc\u30b9\u7bc0\u7d04\u306a\u3069\u4f7f\u7528\u3057\u306a\u3044\u3082\u306e\u306foff\u306b\u3067\u304d\u308b\u3002 Traefik Ingress Controller\u3068local storage\u3092\u30aa\u30d5\u306b\u3059\u308b\u5834\u5408\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u4ee5\u4e0b\u3002 curl -sfL https://get.k3s.io | sh -s - --disable traefik --disable local-storage \u69cb\u7bc9\u6e08\u307f\u306eK3s\u306b\u5bfe\u3057\u3066\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u7121\u52b9\u5316/\u6709\u52b9\u5316\u3057\u305f\u3044\u5834\u5408\u306f\u3001 /etc/systemd/system/k3s.service \u3078\u8d77\u52d5\u30d1\u30e9\u30e1\u30bf\u3092\u7de8\u96c6\u3057\u3001 systemctl daemon-reload \u3057\u3066 systemctl restart k3s \u3059\u308c\u3070OK (\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb /etc/rancher/k3s/config.yaml \u7ba1\u7406\u3067\u3042\u308c\u3070k3s\u30b5\u30fc\u30d3\u30b9\u306e\u518d\u8d77\u52d5\u306e\u307f) \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30e9\u30e1\u30bf\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u5316 /etc/rancher/k3s/config.yaml \u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u7fa9\u3059\u308b\u3002 --- write-kubeconfig-mode : \"0644\" cluster-cidr : \"172.28.0.0/16\" service-cidr : \"172.29.0.0/16\" kube-controller-manager-arg : - node-cidr-mask-size=24 kubelet-arg : - max-pods=200 - kube-reserved=cpu=100m,memory=100Mi - system-reserved=cpu=100m,memory=100Mi disable : - metrics-server \u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9 Manual Upgrades | K3s \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u6307\u5b9a\u3057\u305f\u74b0\u5883\u5909\u6570\u30fb\u30d1\u30e9\u30e1\u30bf\u3092\u6307\u5b9a\u3057\u3064\u3064\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8ffd\u52a0\u5b9f\u884c\u3059\u308c\u3070\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3067\u304d\u308b\u3002 curl -sfL https://get.k3s.io | INSTALL_K3S_VERSION=vX.Y.Z+k3s1 <EXISTING_K3S_ENV> sh -s - <EXISTING_K3S_ARGS> \u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u306eskip\u306f\u30b5\u30dd\u30fc\u30c8\u5916\u306a\u306e\u3067\u3001\u30ea\u30ea\u30fc\u30b9\u30c1\u30e3\u30f3\u30cd\u30eb\u6307\u5b9a\u3088\u308a\u3082\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u306e\u65b9\u304c\u3084\u308a\u3084\u3059\u3044\u3068\u601d\u3046\u3002 Ensure that your plan does not skip intermediate minor versions when upgrading. \u505c\u6b62 k3s\u30b5\u30fc\u30d3\u30b9\u81ea\u4f53\u306f systemctl \u3067\u505c\u6b62\u3067\u304dAPI\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306a\u3069\u306f\u505c\u6b62\u3055\u308c\u308b\u304c\u5b9f\u306f\u30b3\u30f3\u30c6\u30ca\u306f\u52d5\u4f5c\u3057\u305f\u307e\u307e\u3002 \u30b3\u30f3\u30c6\u30ca\u3082\u505c\u6b62\u3059\u308b\u306b\u306f k3s-killall.sh \u3092\u5b9f\u884c\u3059\u308b\u3002 Stopping K3s | K3s \u8a3c\u660e\u66f8 certificate | K3s \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30c7\u30d7\u30ed\u30a4\u6642\u8d77\u70b9\u30671\u5e74\u306e\u8a3c\u660e\u66f8\u304c\u4f5c\u6210\u3055\u308c\u308b\u300290\u65e5\u3092\u5207\u3063\u305f\u6642\u70b9\u3067\u30af\u30e9\u30b9\u30bf\u30fc\u3092\u518d\u8d77\u52d5\u3059\u308b\u3068\u305d\u306e\u65e5\u304b\u30891\u5e74\u306e\u671f\u9650\u306e\u65b0\u3057\u3044\u8a3c\u660e\u66f8\u306b\u30ed\u30fc\u30c6\u30fc\u30c8\u3055\u308c\u308b\u3002 \u5f37\u5236\u7684\u306b\u30ed\u30fc\u30c6\u30fc\u30c8\u3057\u305f\u3044\u5834\u5408\u306f k3s certificate rotate \u3092\u5b9f\u884c\u3057\u518d\u8d77\u52d5\u3059\u308b\u3002 \u671f\u9650\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u5834\u5408\u306f\u74b0\u5883\u5909\u6570 CATTLE_NEW_SIGNED_CERT_EXPIRATION_DAYS \u3092\u4f7f\u7528\u3059\u308b\u3002 [Kubernetes] K3s\u306b\u304a\u3051\u308b\u8a3c\u660e\u66f8\u306e\u671f\u9650\u306e\u5ef6\u9577\u3084\u8a2d\u5b9a\uff08\u5e73\u305f\u304f\u8a00\u3046\u3068\u5869\u6f2c\u3051\u904b\u7528\u3057\u305f\u3044\u5834\u5408\u306e\uff58\u5e74\u8a2d\u5b9a\uff09\u306b\u3064\u3044\u3066 - zaki work log LoadBalancer Service \u7279\u5b9a\u306e\u30ce\u30fc\u30c9\u306e\u307f\u3067listen\u3059\u308b\u306b\u306f \u30ce\u30fc\u30c9\u306b\u4ee5\u4e0b\u306e\u30e9\u30d9\u30eb\u3092\u4ed8\u4e0e\u3059\u308b\u3068allow-list mode\u306b\u306a\u308a\u3001\u3053\u306e\u30e9\u30d9\u30eb\u304c\u4ed8\u3044\u305f\u30ce\u30fc\u30c9\u306e\u307f\u3067listen\u3059\u308b\u3088\u3046\u306b\u306a\u308b svccontroller.k3s.cattle.io/enablelb=true \u30aa\u30d5\u30e9\u30a4\u30f3\u74b0\u5883 \u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ec\u30b8\u30b9\u30c8\u30ea\u8a2d\u5b9a Private Registry Configuration | K3s \u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ec\u30b8\u30b9\u30c8\u30ea\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u300c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 docker.io \u5411\u304d\u306b\u306a\u3063\u3066\u3044\u308b\u901a\u4fe1\u3092\u30ed\u30fc\u30ab\u30eb\u306b\u30d5\u30a9\u30ef\u30fc\u30c9\u3059\u308b\u300d\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u3002 \u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u306b\u305f\u3066\u305fGitLab\u306e\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u3092\u4f7f\u3046\u5834\u5408\u3067\u30d1\u30b9\u304c\u6df1\u304f\u306a\u308b\u5834\u5408\u3082 rewrite \u3092\u4f7f\u3063\u3066\u8abf\u6574\u53ef\u80fd\u3002(\u30a4\u30e1\u30fc\u30b8\u540d\u306f\u5909\u66f4\u3057\u306a\u3044) /etc/rancher/k3s/registries.yaml \u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3002 \u8a3c\u660e\u66f8\u306e\u691c\u8a3c\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u5834\u5408\u306f insecure_skip_verify \u3092\u8ffd\u52a0\u3059\u308b\u3002 mirrors : docker.io : endpoint : - \"https://gitlab.example.org:25000\" rewrite : \"^rancher/(.*)\" : \"zaki/images/$1\" configs : \"gitlab.example.org:25000\" : tls : insecure_skip_verify : true \u307e\u305f\u3001\u3053\u306e\u8a2d\u5b9a\u306f\u30ce\u30fc\u30c9\u6bce\u306b\u5fc5\u8981\u306a\u306e\u3067\u3001\u30de\u30eb\u30c1\u30ce\u30fc\u30c9\u69cb\u6210\u306e\u5834\u5408\u306f\u5168\u3066\u306e\u30ce\u30fc\u30c9\u306b\u8a2d\u5b9a\u3059\u308b\u3002 K3d (compose) k3s/docker-compose.yml at master \u00b7 k3s-io/k3s \u30ef\u30fc\u30ab\u30fc\u306e\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0 \u521d\u671f\u69cb\u7bc9\u6642\u3067\u3042\u308c\u3070 --scale \u3067\u6307\u5b9a\u3067\u304d\u308b $ docker compose up -d --scale agent =5 [+] Running 6/8 \u2838 Network k3s-compose_default Created 1.3s \u2839 Volume \"k3s-compose_k3s-server\" Created 1.2s \u2714 Container k3s-compose-server-1 Started 0.4s \u2714 Container k3s-compose-agent-5 Started 1.2s \u2714 Container k3s-compose-agent-2 Started 1.0s \u2714 Container k3s-compose-agent-3 Started 0.8s \u2714 Container k3s-compose-agent-1 Started 0.6s \u2714 Container k3s-compose-agent-4 Started 0.4s $ kubectl get node NAME STATUS ROLES AGE VERSION 4c1f8de42bfe Ready control-plane,master 20s v1.29.1+k3s2 2f5893c02aa3 Ready <none> 9s v1.29.1+k3s2 8239e04d52ef Ready <none> 19s v1.29.1+k3s2 9952de1bc166 Ready <none> 12s v1.29.1+k3s2 412b213f3d10 Ready <none> 12s v1.29.1+k3s2 b513c8231aad Ready <none> 11s v1.29.1+k3s2 Always Free\u306eOCI(A1.Flex 2cpu/12gb ram)\u306b\u30b7\u30f3\u30b0\u30eb\u30ce\u30fc\u30c9\u30af\u30e9\u30b9\u30bf\u4f5c\u308b \u6a19\u6e96\u306eE2.1.Micro\u306e\u5834\u5408\u2193 [Oracle Cloud] K3s\u3067Always Free\u67a0\u30ce\u30fc\u30c9\u306bKubernetes\u30af\u30e9\u30b9\u30bf\u4f5c\u6210\u3057\u3066\u30ed\u30fc\u30ab\u30eb\u304b\u3089kubectl\u30a2\u30af\u30bb\u30b9\u307e\u3067 - Qiita $ curl -sfL https://get.k3s.io | sh - \u305f\u307e\u305f\u307e\u4f5c\u6210\u3067\u304d\u305f2cpus/12GB RAM\u3067\u4f5c\u6210 [opc@instance-20210704-1554 ~]$ curl -sfL https://get.k3s.io | sh - : : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: k3s-selinux.noarch 0:0.3-0.el7 \u4f9d\u5b58\u6027\u95a2\u9023\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f: container-selinux.noarch 2:2.119.2-1.911c772.el7_8 \u5b8c\u4e86\u3057\u307e\u3057\u305f! [INFO] Creating /usr/local/bin/kubectl symlink to k3s [INFO] Creating /usr/local/bin/crictl symlink to k3s [INFO] Creating /usr/local/bin/ctr symlink to k3s [INFO] Creating killall script /usr/local/bin/k3s-killall.sh [INFO] Creating uninstall script /usr/local/bin/k3s-uninstall.sh [INFO] env: Creating environment file /etc/systemd/system/k3s.service.env [INFO] systemd: Creating service file /etc/systemd/system/k3s.service [INFO] systemd: Enabling k3s unit Created symlink from /etc/systemd/system/multi-user.target.wants/k3s.service to /etc/systemd/system/k3s.service. [INFO] systemd: Starting k3s kubeconfig [opc@instance-20210704-1554 ~]$ sudo cp /etc/rancher/k3s/k3s.yaml ~ [opc@instance-20210704-1554 ~]$ ll \u5408\u8a08 4 -rw-------. 1 root root 2961 7\u6708 23 02:30 k3s.yaml [opc@instance-20210704-1554 ~]$ sudo hhown opc:opc k3s.yaml \u624b\u5143\u306b\u30b3\u30d4\u30fc $ scp oci-ap-n1:k3s.yaml oci-ap-n1-k3s.yaml server \u306e\u30a2\u30c9\u30ec\u30b9\u3092\u30b0\u30ed\u30fc\u30d0\u30ebIP\u306b\u5909\u66f4\u3057\u3001 insecure-skip-tls-verify: true \u3092\u8ffd\u52a0\u3002 (\u203b\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3068\u304d\u306f kubectl \u306b --insecure-skip-tls-verify=true \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0) clusters : - cluster : certificate-authority-data : ... server : https://<host\u306egip>:6443 name : default contexts : - context : cluster : default user : default name : default insecure-skip-tls-verify : true \u7a74\u3042\u3051 [opc@instance-20210704-1554 ~]$ sudo firewall-cmd --add-port =6443 /tcp --permanent success [opc@instance-20210704-1554 ~]$ sudo firewall-cmd --reload success \u3042\u3068web\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u30016443/TCP\u3078\u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u3092\u8ffd\u52a0\u3002 deploy sample [zaki@cloud-dev kubeconfig]$ KUBECONFIG = oci-ap-n1-k3s.yaml kubectl apply -n sample -f ~/src/k8s-samples/sample-web/httpd-clusterip/sample-http.yaml deployment.apps/sample-http created service/sample-http created [zaki@cloud-dev kubeconfig]$ KUBECONFIG = oci-ap-n1-k3s.yaml kubectl get pod -n sample NAME READY STATUS RESTARTS AGE sample-http-6c94f59975-65p6w 0/1 ContainerCreating 0 9s sample-http-6c94f59975-clzhp 0/1 ContainerCreating 0 9s [zaki@cloud-dev kubeconfig]$ KUBECONFIG = oci-ap-n1-k3s.yaml kubectl get pod -n sample -o wide NAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATES sample-http-6c94f59975-65p6w 1/1 Running 0 87s 10.42.0.9 instance-20210704-1554 <none> <none> sample-http-6c94f59975-clzhp 1/1 Running 0 87s 10.42.0.10 instance-20210704-1554 <none> <none> \u30ce\u30fc\u30c9\u30b9\u30da\u30c3\u30af [zaki@cloud-dev kubeconfig]$ KUBECONFIG = oci-ap-n1-k3s.yaml kubectl describe node [...] Capacity: cpu: 2 ephemeral-storage: 40223552Ki hugepages-16Gi: 0 hugepages-2Mi: 0 hugepages-512Mi: 0 memory: 11125568Ki pods: 110 Allocatable: cpu: 2 ephemeral-storage: 39129471355 hugepages-16Gi: 0 hugepages-2Mi: 0 hugepages-512Mi: 0 memory: 11125568Ki pods: 110 \u304a\u3049\u3001CPU\u306f\u3068\u3082\u304b\u304f\u30e1\u30e2\u30ea\u304c\u6f64\u6ca2\u3060\u3002 reboot\u3057\u3066\u3082OK \u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb $ k3s-uninstall.sh","title":"K3s"},{"location":"Container/k3s/#k3s","text":"","title":"K3s"},{"location":"Container/k3s/#docs","text":"K3s - Lightweight Kubernetes | K3s \u65e5\u672c\u8a9e\u7248 K3s\u30de\u30cb\u30e5\u30a2\u30eb","title":"docs"},{"location":"Container/k3s/#_1","text":"","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Container/k3s/#_2","text":"","title":"\u6e96\u5099"},{"location":"Container/k3s/#raspberry-pi","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u72b6\u614b\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3088\u3046\u3068\u3057\u3066\u3082\u4e0b\u8a18\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u3066\u8d77\u52d5\u5931\u6557\u3059\u308b\u3002 [INFO] Failed to find memory cgroup, you may need to add \"cgroup_memory=1 cgroup_enable=memory\" to your linux cmdline (/boot/cmdline.txt on a Raspberry Pi) \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u3082\u540c\u3058\u3053\u3068\u304c\u66f8\u304b\u308c\u3066\u3044\u308b\u3002 https://docs.k3s.io/installation/requirements?os=pi /boot/cmdline.txt (\u4e2d\u8eab\u306b moved to /boot/firmware/cmdline.txt \u3068\u66f8\u304b\u308c\u3066\u3044\u308c\u3070\u305d\u3063\u3061)\u3092\u7de8\u96c6\u3057\u3066\u4ee5\u4e0b\u3092\u672b\u5c3e\u306b\u8ffd\u8a18\u3002 cgroup_memory=1 cgroup_enable=memory","title":"Raspberry Pi"},{"location":"Container/k3s/#servercontrol-plane","text":"curl -sfL https://get.k3s.io | sh -","title":"server(control plane)"},{"location":"Container/k3s/#agentworker-node","text":"curl -sfL https://get.k3s.io | K3S_URL=https://server:6443 K3S_TOKEN=${token} sh - token\u306fserver\u306e /var/lib/rancher/k3s/server/agent-token \u306b\u3042\u308b\u3002","title":"agent(worker node)"},{"location":"Container/k3s/#_3","text":"\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408 curl -sfL https://get.k3s.io | INSTALL_K3S_VERSION=v1.26.9+k3s1 sh - \u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408 curl -sfL https://get.k3s.io | INSTALL_K3S_CHANNEL=latest sh - \u30c1\u30e3\u30f3\u30cd\u30eb\u306f\u30c7\u30d5\u30a9\u30eb\u30c8 stable \u30671\u500b\u524d\u306e\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3060\u3063\u305f\u308a\u3059\u308b\u3002 \u30c1\u30e3\u30f3\u30cd\u30eb\u4e00\u89a7","title":"\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a"},{"location":"Container/k3s/#_4","text":"server | K3s agent | K3s Configuration Options | K3s Network Options | K3s","title":"\u8d77\u52d5\u30d1\u30e9\u30e1\u30bf"},{"location":"Container/k3s/#_5","text":"\u9805\u76ee \u5024 Pod IPs 10.42.0.0/16 Service IPs 10.43.0.0/16 cluster dns 10.43.0.10","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u5024"},{"location":"Container/k3s/#kubelet","text":"","title":"kubelet"},{"location":"Container/k3s/#pod","text":"IP\u30a2\u30c9\u30ec\u30b9\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3066\u3082\u4f7f\u3048\u308bpod\u6570\u306f\u9023\u52d5\u3057\u306a\u3044\u306e\u3067\u660e\u78ba\u306b\u6307\u5b9a\u3059\u308b\u3002 server --kubelet-arg=max-pods=200","title":"\u6700\u5927pod\u6570"},{"location":"Container/k3s/#_6","text":"","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af"},{"location":"Container/k3s/#ip","text":"\u9805\u76ee \u5909\u66f4\u65b9\u6cd5 Pod IPs --cluster-cidr 0.0.0.0/16 Service IPs --service-cidr 0.0.0.0/16 curl -sfL https://get.k3s.io | sh -s - \\ --cluster-cidr \"172.28.0.0/16\" \\ --service-cidr \"172.29.0.0/16\" \\ --kube-controller-manager-arg=node-cidr-mask-size=24 \\ --kubelet-arg=max-pods=200","title":"IP\u30a2\u30c9\u30ec\u30b9"},{"location":"Container/k3s/#resolvconf","text":"$ cat /etc/k3s.resolve.conf nameserver 8 .8.8.8 $ curl -sfL https://get.k3s.io | sh -s - --write-kubeconfig-mode 644 --resolv-conf /etc/k3s.resolv.conf","title":"resolv.conf"},{"location":"Container/k3s/#_7","text":"You cannot change the CIDRs or add a new address family to an existing cluster. Cluster networking should be established when the cluster is initially started. https://github.com/k3s-io/k3s/issues/93#issuecomment-1551967292 systemd\u30e6\u30cb\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8f09\u306e\u30a2\u30c9\u30ec\u30b9\u6307\u5b9a\u90e8\u5206\u3092\u5909\u66f4\u3057\u3066\u3082\u3001\u30af\u30e9\u30b9\u30bf\u30fc\u306b\u306f\u53cd\u6620\u3055\u308c\u305a\u52d5\u4f5c\u304c\u4e0d\u5b89\u5b9a\u306b\u306a\u308b","title":"\u30c7\u30d7\u30ed\u30a4\u5f8c\u306e\u30a2\u30c9\u30ec\u30b9\u5909\u66f4\u306f\u4e0d\u53ef"},{"location":"Container/k3s/#_8","text":"\u57fa\u672c\u7684\u306b\u30c7\u30d5\u30a9\u30eb\u30c8on \u30ea\u30bd\u30fc\u30b9\u7bc0\u7d04\u306a\u3069\u4f7f\u7528\u3057\u306a\u3044\u3082\u306e\u306foff\u306b\u3067\u304d\u308b\u3002 Traefik Ingress Controller\u3068local storage\u3092\u30aa\u30d5\u306b\u3059\u308b\u5834\u5408\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u4ee5\u4e0b\u3002 curl -sfL https://get.k3s.io | sh -s - --disable traefik --disable local-storage \u69cb\u7bc9\u6e08\u307f\u306eK3s\u306b\u5bfe\u3057\u3066\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u7121\u52b9\u5316/\u6709\u52b9\u5316\u3057\u305f\u3044\u5834\u5408\u306f\u3001 /etc/systemd/system/k3s.service \u3078\u8d77\u52d5\u30d1\u30e9\u30e1\u30bf\u3092\u7de8\u96c6\u3057\u3001 systemctl daemon-reload \u3057\u3066 systemctl restart k3s \u3059\u308c\u3070OK (\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb /etc/rancher/k3s/config.yaml \u7ba1\u7406\u3067\u3042\u308c\u3070k3s\u30b5\u30fc\u30d3\u30b9\u306e\u518d\u8d77\u52d5\u306e\u307f)","title":"\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u7121\u52b9\u5316"},{"location":"Container/k3s/#_9","text":"/etc/rancher/k3s/config.yaml \u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u7fa9\u3059\u308b\u3002 --- write-kubeconfig-mode : \"0644\" cluster-cidr : \"172.28.0.0/16\" service-cidr : \"172.29.0.0/16\" kube-controller-manager-arg : - node-cidr-mask-size=24 kubelet-arg : - max-pods=200 - kube-reserved=cpu=100m,memory=100Mi - system-reserved=cpu=100m,memory=100Mi disable : - metrics-server","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30e9\u30e1\u30bf\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u5316"},{"location":"Container/k3s/#_10","text":"Manual Upgrades | K3s \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u6307\u5b9a\u3057\u305f\u74b0\u5883\u5909\u6570\u30fb\u30d1\u30e9\u30e1\u30bf\u3092\u6307\u5b9a\u3057\u3064\u3064\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8ffd\u52a0\u5b9f\u884c\u3059\u308c\u3070\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3067\u304d\u308b\u3002 curl -sfL https://get.k3s.io | INSTALL_K3S_VERSION=vX.Y.Z+k3s1 <EXISTING_K3S_ENV> sh -s - <EXISTING_K3S_ARGS> \u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u306eskip\u306f\u30b5\u30dd\u30fc\u30c8\u5916\u306a\u306e\u3067\u3001\u30ea\u30ea\u30fc\u30b9\u30c1\u30e3\u30f3\u30cd\u30eb\u6307\u5b9a\u3088\u308a\u3082\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u306e\u65b9\u304c\u3084\u308a\u3084\u3059\u3044\u3068\u601d\u3046\u3002 Ensure that your plan does not skip intermediate minor versions when upgrading.","title":"\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9"},{"location":"Container/k3s/#_11","text":"k3s\u30b5\u30fc\u30d3\u30b9\u81ea\u4f53\u306f systemctl \u3067\u505c\u6b62\u3067\u304dAPI\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306a\u3069\u306f\u505c\u6b62\u3055\u308c\u308b\u304c\u5b9f\u306f\u30b3\u30f3\u30c6\u30ca\u306f\u52d5\u4f5c\u3057\u305f\u307e\u307e\u3002 \u30b3\u30f3\u30c6\u30ca\u3082\u505c\u6b62\u3059\u308b\u306b\u306f k3s-killall.sh \u3092\u5b9f\u884c\u3059\u308b\u3002 Stopping K3s | K3s","title":"\u505c\u6b62"},{"location":"Container/k3s/#_12","text":"certificate | K3s \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30c7\u30d7\u30ed\u30a4\u6642\u8d77\u70b9\u30671\u5e74\u306e\u8a3c\u660e\u66f8\u304c\u4f5c\u6210\u3055\u308c\u308b\u300290\u65e5\u3092\u5207\u3063\u305f\u6642\u70b9\u3067\u30af\u30e9\u30b9\u30bf\u30fc\u3092\u518d\u8d77\u52d5\u3059\u308b\u3068\u305d\u306e\u65e5\u304b\u30891\u5e74\u306e\u671f\u9650\u306e\u65b0\u3057\u3044\u8a3c\u660e\u66f8\u306b\u30ed\u30fc\u30c6\u30fc\u30c8\u3055\u308c\u308b\u3002 \u5f37\u5236\u7684\u306b\u30ed\u30fc\u30c6\u30fc\u30c8\u3057\u305f\u3044\u5834\u5408\u306f k3s certificate rotate \u3092\u5b9f\u884c\u3057\u518d\u8d77\u52d5\u3059\u308b\u3002 \u671f\u9650\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u5834\u5408\u306f\u74b0\u5883\u5909\u6570 CATTLE_NEW_SIGNED_CERT_EXPIRATION_DAYS \u3092\u4f7f\u7528\u3059\u308b\u3002 [Kubernetes] K3s\u306b\u304a\u3051\u308b\u8a3c\u660e\u66f8\u306e\u671f\u9650\u306e\u5ef6\u9577\u3084\u8a2d\u5b9a\uff08\u5e73\u305f\u304f\u8a00\u3046\u3068\u5869\u6f2c\u3051\u904b\u7528\u3057\u305f\u3044\u5834\u5408\u306e\uff58\u5e74\u8a2d\u5b9a\uff09\u306b\u3064\u3044\u3066 - zaki work log","title":"\u8a3c\u660e\u66f8"},{"location":"Container/k3s/#loadbalancer-service","text":"","title":"LoadBalancer Service"},{"location":"Container/k3s/#listen","text":"\u30ce\u30fc\u30c9\u306b\u4ee5\u4e0b\u306e\u30e9\u30d9\u30eb\u3092\u4ed8\u4e0e\u3059\u308b\u3068allow-list mode\u306b\u306a\u308a\u3001\u3053\u306e\u30e9\u30d9\u30eb\u304c\u4ed8\u3044\u305f\u30ce\u30fc\u30c9\u306e\u307f\u3067listen\u3059\u308b\u3088\u3046\u306b\u306a\u308b svccontroller.k3s.cattle.io/enablelb=true","title":"\u7279\u5b9a\u306e\u30ce\u30fc\u30c9\u306e\u307f\u3067listen\u3059\u308b\u306b\u306f"},{"location":"Container/k3s/#_13","text":"","title":"\u30aa\u30d5\u30e9\u30a4\u30f3\u74b0\u5883"},{"location":"Container/k3s/#_14","text":"Private Registry Configuration | K3s \u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ec\u30b8\u30b9\u30c8\u30ea\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u300c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 docker.io \u5411\u304d\u306b\u306a\u3063\u3066\u3044\u308b\u901a\u4fe1\u3092\u30ed\u30fc\u30ab\u30eb\u306b\u30d5\u30a9\u30ef\u30fc\u30c9\u3059\u308b\u300d\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u3002 \u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u306b\u305f\u3066\u305fGitLab\u306e\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u3092\u4f7f\u3046\u5834\u5408\u3067\u30d1\u30b9\u304c\u6df1\u304f\u306a\u308b\u5834\u5408\u3082 rewrite \u3092\u4f7f\u3063\u3066\u8abf\u6574\u53ef\u80fd\u3002(\u30a4\u30e1\u30fc\u30b8\u540d\u306f\u5909\u66f4\u3057\u306a\u3044) /etc/rancher/k3s/registries.yaml \u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3002 \u8a3c\u660e\u66f8\u306e\u691c\u8a3c\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u5834\u5408\u306f insecure_skip_verify \u3092\u8ffd\u52a0\u3059\u308b\u3002 mirrors : docker.io : endpoint : - \"https://gitlab.example.org:25000\" rewrite : \"^rancher/(.*)\" : \"zaki/images/$1\" configs : \"gitlab.example.org:25000\" : tls : insecure_skip_verify : true \u307e\u305f\u3001\u3053\u306e\u8a2d\u5b9a\u306f\u30ce\u30fc\u30c9\u6bce\u306b\u5fc5\u8981\u306a\u306e\u3067\u3001\u30de\u30eb\u30c1\u30ce\u30fc\u30c9\u69cb\u6210\u306e\u5834\u5408\u306f\u5168\u3066\u306e\u30ce\u30fc\u30c9\u306b\u8a2d\u5b9a\u3059\u308b\u3002","title":"\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ec\u30b8\u30b9\u30c8\u30ea\u8a2d\u5b9a"},{"location":"Container/k3s/#k3d-compose","text":"k3s/docker-compose.yml at master \u00b7 k3s-io/k3s","title":"K3d (compose)"},{"location":"Container/k3s/#_15","text":"\u521d\u671f\u69cb\u7bc9\u6642\u3067\u3042\u308c\u3070 --scale \u3067\u6307\u5b9a\u3067\u304d\u308b $ docker compose up -d --scale agent =5 [+] Running 6/8 \u2838 Network k3s-compose_default Created 1.3s \u2839 Volume \"k3s-compose_k3s-server\" Created 1.2s \u2714 Container k3s-compose-server-1 Started 0.4s \u2714 Container k3s-compose-agent-5 Started 1.2s \u2714 Container k3s-compose-agent-2 Started 1.0s \u2714 Container k3s-compose-agent-3 Started 0.8s \u2714 Container k3s-compose-agent-1 Started 0.6s \u2714 Container k3s-compose-agent-4 Started 0.4s $ kubectl get node NAME STATUS ROLES AGE VERSION 4c1f8de42bfe Ready control-plane,master 20s v1.29.1+k3s2 2f5893c02aa3 Ready <none> 9s v1.29.1+k3s2 8239e04d52ef Ready <none> 19s v1.29.1+k3s2 9952de1bc166 Ready <none> 12s v1.29.1+k3s2 412b213f3d10 Ready <none> 12s v1.29.1+k3s2 b513c8231aad Ready <none> 11s v1.29.1+k3s2","title":"\u30ef\u30fc\u30ab\u30fc\u306e\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0"},{"location":"Container/k3s/#always-freeocia1flex-2cpu12gb-ram","text":"\u6a19\u6e96\u306eE2.1.Micro\u306e\u5834\u5408\u2193 [Oracle Cloud] K3s\u3067Always Free\u67a0\u30ce\u30fc\u30c9\u306bKubernetes\u30af\u30e9\u30b9\u30bf\u4f5c\u6210\u3057\u3066\u30ed\u30fc\u30ab\u30eb\u304b\u3089kubectl\u30a2\u30af\u30bb\u30b9\u307e\u3067 - Qiita $ curl -sfL https://get.k3s.io | sh - \u305f\u307e\u305f\u307e\u4f5c\u6210\u3067\u304d\u305f2cpus/12GB RAM\u3067\u4f5c\u6210 [opc@instance-20210704-1554 ~]$ curl -sfL https://get.k3s.io | sh - : : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: k3s-selinux.noarch 0:0.3-0.el7 \u4f9d\u5b58\u6027\u95a2\u9023\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f: container-selinux.noarch 2:2.119.2-1.911c772.el7_8 \u5b8c\u4e86\u3057\u307e\u3057\u305f! [INFO] Creating /usr/local/bin/kubectl symlink to k3s [INFO] Creating /usr/local/bin/crictl symlink to k3s [INFO] Creating /usr/local/bin/ctr symlink to k3s [INFO] Creating killall script /usr/local/bin/k3s-killall.sh [INFO] Creating uninstall script /usr/local/bin/k3s-uninstall.sh [INFO] env: Creating environment file /etc/systemd/system/k3s.service.env [INFO] systemd: Creating service file /etc/systemd/system/k3s.service [INFO] systemd: Enabling k3s unit Created symlink from /etc/systemd/system/multi-user.target.wants/k3s.service to /etc/systemd/system/k3s.service. [INFO] systemd: Starting k3s","title":"Always Free\u306eOCI(A1.Flex 2cpu/12gb ram)\u306b\u30b7\u30f3\u30b0\u30eb\u30ce\u30fc\u30c9\u30af\u30e9\u30b9\u30bf\u4f5c\u308b"},{"location":"Container/k3s/#kubeconfig","text":"[opc@instance-20210704-1554 ~]$ sudo cp /etc/rancher/k3s/k3s.yaml ~ [opc@instance-20210704-1554 ~]$ ll \u5408\u8a08 4 -rw-------. 1 root root 2961 7\u6708 23 02:30 k3s.yaml [opc@instance-20210704-1554 ~]$ sudo hhown opc:opc k3s.yaml \u624b\u5143\u306b\u30b3\u30d4\u30fc $ scp oci-ap-n1:k3s.yaml oci-ap-n1-k3s.yaml server \u306e\u30a2\u30c9\u30ec\u30b9\u3092\u30b0\u30ed\u30fc\u30d0\u30ebIP\u306b\u5909\u66f4\u3057\u3001 insecure-skip-tls-verify: true \u3092\u8ffd\u52a0\u3002 (\u203b\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3068\u304d\u306f kubectl \u306b --insecure-skip-tls-verify=true \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0) clusters : - cluster : certificate-authority-data : ... server : https://<host\u306egip>:6443 name : default contexts : - context : cluster : default user : default name : default insecure-skip-tls-verify : true","title":"kubeconfig"},{"location":"Container/k3s/#_16","text":"[opc@instance-20210704-1554 ~]$ sudo firewall-cmd --add-port =6443 /tcp --permanent success [opc@instance-20210704-1554 ~]$ sudo firewall-cmd --reload success \u3042\u3068web\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u30016443/TCP\u3078\u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u3092\u8ffd\u52a0\u3002","title":"\u7a74\u3042\u3051"},{"location":"Container/k3s/#deploy-sample","text":"[zaki@cloud-dev kubeconfig]$ KUBECONFIG = oci-ap-n1-k3s.yaml kubectl apply -n sample -f ~/src/k8s-samples/sample-web/httpd-clusterip/sample-http.yaml deployment.apps/sample-http created service/sample-http created [zaki@cloud-dev kubeconfig]$ KUBECONFIG = oci-ap-n1-k3s.yaml kubectl get pod -n sample NAME READY STATUS RESTARTS AGE sample-http-6c94f59975-65p6w 0/1 ContainerCreating 0 9s sample-http-6c94f59975-clzhp 0/1 ContainerCreating 0 9s [zaki@cloud-dev kubeconfig]$ KUBECONFIG = oci-ap-n1-k3s.yaml kubectl get pod -n sample -o wide NAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATES sample-http-6c94f59975-65p6w 1/1 Running 0 87s 10.42.0.9 instance-20210704-1554 <none> <none> sample-http-6c94f59975-clzhp 1/1 Running 0 87s 10.42.0.10 instance-20210704-1554 <none> <none>","title":"deploy sample"},{"location":"Container/k3s/#_17","text":"[zaki@cloud-dev kubeconfig]$ KUBECONFIG = oci-ap-n1-k3s.yaml kubectl describe node [...] Capacity: cpu: 2 ephemeral-storage: 40223552Ki hugepages-16Gi: 0 hugepages-2Mi: 0 hugepages-512Mi: 0 memory: 11125568Ki pods: 110 Allocatable: cpu: 2 ephemeral-storage: 39129471355 hugepages-16Gi: 0 hugepages-2Mi: 0 hugepages-512Mi: 0 memory: 11125568Ki pods: 110 \u304a\u3049\u3001CPU\u306f\u3068\u3082\u304b\u304f\u30e1\u30e2\u30ea\u304c\u6f64\u6ca2\u3060\u3002 reboot\u3057\u3066\u3082OK","title":"\u30ce\u30fc\u30c9\u30b9\u30da\u30c3\u30af"},{"location":"Container/k3s/#_18","text":"$ k3s-uninstall.sh","title":"\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Container/kind/","text":"kind Docker\u3084Podman\u4e0a\u306bKubernetes\u306e\u30ce\u30fc\u30c9\u3068\u3057\u3066\u52d5\u304f\u30b3\u30f3\u30c6\u30ca\u3092\u30c7\u30d7\u30ed\u30a4 kind [Kubernetes / kind] kind\u3092\u4f7f\u3063\u3066Docker\u4e0a\u306b\u30af\u30e9\u30b9\u30bf\u3092\u9ad8\u901f\u4f5c\u6210\u3057\u3001MetalLB\u3082\u4f75\u7528\u3057\u3066\u30af\u30e9\u30b9\u30bf\u6a2a\u65ad\u3057\u305f\u901a\u4fe1\u304a\u8a66\u3057 - zaki work log \u30af\u30e9\u30b9\u30bf\u4f5c\u6210 \u57fa\u672c ( kind \u3068\u3044\u3046\u540d\u524d\u306e\u30af\u30e9\u30b9\u30bf\u3092\u4f5c\u6210\u3059\uff52) $ kind create cluster \u540d\u524d\u6307\u5b9a $ kind create cluster --name sample-cluster \u505c\u6b62 kind\u30af\u30e9\u30b9\u30bf\u306e\u505c\u6b62\u306f\u7121\u3044\u3002 \u30af\u30e9\u30b9\u30bf\u3092\u524a\u9664\u3059\u308b\u304b\u3001\u30ce\u30fc\u30c9\u3068\u3057\u3066\u52d5\u4f5c\u3057\u3066\u308b\u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u3059\u308b\u3002 \u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u3059\u308b\u306b\u306f docker stop \u3059\u308b\u304c\u3001\u505c\u6b62\u5bfe\u8c61\u30b3\u30f3\u30c6\u30ca\u306f kind get nodes \u3067\u53d6\u5f97\u3067\u304d\u308b\u3002 $ kind get nodes kind-control-plane \u5f15\u6570\u7121\u3057\u306e\u5834\u5408\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u4f5c\u6210\u3057\u305f\u30af\u30e9\u30b9\u30bf\u540d kind \u306e\u30ce\u30fc\u30c9\u306b\u306a\u308b\u3002 \u30af\u30e9\u30b9\u30bf\u540d\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f $ kind get nodes --name cluster-name \u3053\u306e\u7d50\u679c\u3092 docker stop \u306b\u6e21\u3059\u305f\u3081\u306b\u3001\u5168\u4f53\u3068\u3057\u3066\u306f\u3053\u3093\u306a\u611f\u3058\u3002 $ kind get nodes --name cluster-name | xargs docker stop \u30de\u30eb\u30c1\u30ce\u30fc\u30c9 \u30ce\u30fc\u30c9\u8a2d\u5b9a\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u3059\u308b\u3002 # three node (two workers) cluster config kind : Cluster apiVersion : kind.x-k8s.io/v1alpha4 nodes : - role : control-plane - role : worker - role : worker \u3067\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3066\u30af\u30e9\u30b9\u30bf\u4f5c\u6210\u3059\u308b\u3002 $ kind create cluster --config kind-config.yaml \u30af\u30e9\u30b9\u30bf\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u6307\u5b9a Releases \u00b7 kubernetes-sigs/kind \u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8\u306b\u5404\u7a2e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30b3\u30f3\u30c6\u30caID\u306e\u8a18\u8f09\u304c\u3042\u308b\u306e\u3067\u305d\u308c\u3092\u6307\u5b9a\u3059\u308b\u3002 v1.19\u306a\u3089\u3053\u3093\u306a\u611f\u3058\u3002 # three node (two workers) cluster config kind : Cluster apiVersion : kind.x-k8s.io/v1alpha4 nodes : - role : control-plane image : kindest/node:v1.19.11@sha256:07db187ae84b4b7de440a73886f008cf903fcf5764ba8106a9fd5243d6f32729 - role : worker image : kindest/node:v1.19.11@sha256:07db187ae84b4b7de440a73886f008cf903fcf5764ba8106a9fd5243d6f32729 - role : worker image : kindest/node:v1.19.11@sha256:07db187ae84b4b7de440a73886f008cf903fcf5764ba8106a9fd5243d6f32729","title":"kind"},{"location":"Container/kind/#kind","text":"Docker\u3084Podman\u4e0a\u306bKubernetes\u306e\u30ce\u30fc\u30c9\u3068\u3057\u3066\u52d5\u304f\u30b3\u30f3\u30c6\u30ca\u3092\u30c7\u30d7\u30ed\u30a4 kind [Kubernetes / kind] kind\u3092\u4f7f\u3063\u3066Docker\u4e0a\u306b\u30af\u30e9\u30b9\u30bf\u3092\u9ad8\u901f\u4f5c\u6210\u3057\u3001MetalLB\u3082\u4f75\u7528\u3057\u3066\u30af\u30e9\u30b9\u30bf\u6a2a\u65ad\u3057\u305f\u901a\u4fe1\u304a\u8a66\u3057 - zaki work log","title":"kind"},{"location":"Container/kind/#_1","text":"\u57fa\u672c ( kind \u3068\u3044\u3046\u540d\u524d\u306e\u30af\u30e9\u30b9\u30bf\u3092\u4f5c\u6210\u3059\uff52) $ kind create cluster \u540d\u524d\u6307\u5b9a $ kind create cluster --name sample-cluster","title":"\u30af\u30e9\u30b9\u30bf\u4f5c\u6210"},{"location":"Container/kind/#_2","text":"kind\u30af\u30e9\u30b9\u30bf\u306e\u505c\u6b62\u306f\u7121\u3044\u3002 \u30af\u30e9\u30b9\u30bf\u3092\u524a\u9664\u3059\u308b\u304b\u3001\u30ce\u30fc\u30c9\u3068\u3057\u3066\u52d5\u4f5c\u3057\u3066\u308b\u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u3059\u308b\u3002 \u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u3059\u308b\u306b\u306f docker stop \u3059\u308b\u304c\u3001\u505c\u6b62\u5bfe\u8c61\u30b3\u30f3\u30c6\u30ca\u306f kind get nodes \u3067\u53d6\u5f97\u3067\u304d\u308b\u3002 $ kind get nodes kind-control-plane \u5f15\u6570\u7121\u3057\u306e\u5834\u5408\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u4f5c\u6210\u3057\u305f\u30af\u30e9\u30b9\u30bf\u540d kind \u306e\u30ce\u30fc\u30c9\u306b\u306a\u308b\u3002 \u30af\u30e9\u30b9\u30bf\u540d\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f $ kind get nodes --name cluster-name \u3053\u306e\u7d50\u679c\u3092 docker stop \u306b\u6e21\u3059\u305f\u3081\u306b\u3001\u5168\u4f53\u3068\u3057\u3066\u306f\u3053\u3093\u306a\u611f\u3058\u3002 $ kind get nodes --name cluster-name | xargs docker stop","title":"\u505c\u6b62"},{"location":"Container/kind/#_3","text":"\u30ce\u30fc\u30c9\u8a2d\u5b9a\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u3059\u308b\u3002 # three node (two workers) cluster config kind : Cluster apiVersion : kind.x-k8s.io/v1alpha4 nodes : - role : control-plane - role : worker - role : worker \u3067\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3066\u30af\u30e9\u30b9\u30bf\u4f5c\u6210\u3059\u308b\u3002 $ kind create cluster --config kind-config.yaml","title":"\u30de\u30eb\u30c1\u30ce\u30fc\u30c9"},{"location":"Container/kind/#_4","text":"Releases \u00b7 kubernetes-sigs/kind \u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8\u306b\u5404\u7a2e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30b3\u30f3\u30c6\u30caID\u306e\u8a18\u8f09\u304c\u3042\u308b\u306e\u3067\u305d\u308c\u3092\u6307\u5b9a\u3059\u308b\u3002 v1.19\u306a\u3089\u3053\u3093\u306a\u611f\u3058\u3002 # three node (two workers) cluster config kind : Cluster apiVersion : kind.x-k8s.io/v1alpha4 nodes : - role : control-plane image : kindest/node:v1.19.11@sha256:07db187ae84b4b7de440a73886f008cf903fcf5764ba8106a9fd5243d6f32729 - role : worker image : kindest/node:v1.19.11@sha256:07db187ae84b4b7de440a73886f008cf903fcf5764ba8106a9fd5243d6f32729 - role : worker image : kindest/node:v1.19.11@sha256:07db187ae84b4b7de440a73886f008cf903fcf5764ba8106a9fd5243d6f32729","title":"\u30af\u30e9\u30b9\u30bf\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u6307\u5b9a"},{"location":"Container/kubectl/","text":"kubectl \u5206\u985e\u5909\u3048\u308b\u304b\u3082\u2026 \u30aa\u30d7\u30b7\u30e7\u30f3 kubeconfig\u30d5\u30a1\u30a4\u30eb\u6307\u5b9a \u74b0\u5883\u5909\u6570 KUBECONFIG \u304b\u3001\u30aa\u30d7\u30b7\u30e7\u30f3 --kubeconfig \u306b\u6307\u5b9a\u3059\u308b \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8 \u4e00\u89a7 kubectl config get-contexts \u5207\u308a\u66ff\u3048 kubectl config use-contexts <context-name> \u524a\u9664 zaki@cloud-dev2:~$ kubectl config get-contexts CURRENT NAME CLUSTER AUTHINFO NAMESPACE k3s-node k3s-node k3s-node k3s-oci-4c k3s-oci-4c k3s-oci-4c kind-ansible-cookbook kind-ansible-cookbook kind-ansible-cookbook kind-awx-sample kind-awx-sample kind-awx-sample * rasp5-01 rasp5-01 rasp5-01 zaki@cloud-dev2:~$ kubectl config delete-context rasp5-01 warning: this removed your active context, use \"kubectl config use-context\" to select a different one deleted context rasp5-01 from /home/zaki/.kube/config zaki@cloud-dev2:~$ kubectl config get-contexts CURRENT NAME CLUSTER AUTHINFO NAMESPACE k3s-node k3s-node k3s-node k3s-oci-4c k3s-oci-4c k3s-oci-4c kind-ansible-cookbook kind-ansible-cookbook kind-ansible-cookbook kind-awx-sample kind-awx-sample kind-awx-sample current\u524a\u9664\u6642\u306f\u8b66\u544a\u3055\u308c\u308b\u304c\u524a\u9664\u306f\u53ef\u80fd \u8a2d\u5b9a kubeconfig\u306e\u30de\u30fc\u30b8 $ KUBECONFIG = new-kubeconfig.yaml: $HOME /.kube/config kubectl config view --flatten > $HOME /.kube/tmp $ mv $HOME /.kube/tmp $HOME /.kube/config \u30bf\u30d6\u88dc\u5b8c source < ( kubectl completion bash ) complete -o default -F __start_kubectl kc [oc / kubectl] \u30b3\u30de\u30f3\u30c9\u3084\u5f15\u6570\u306e\u88dc\u5b8c\u8a2d\u5b9a \u3010completion\u3011 - zaki work log kind \u3084 helm \u3082\u540c\u3058\u8981\u9818\u3002 tab\u62bc\u4e0b\u3067 _get_comp_words_by_ref: command not found \u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3068\u304d\u306f\u3001 bash-completion \u304c\u7121\u3044\u306e\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u8ffd\u52a0\u3059\u308b\u3002 $ kubectl get -bash: _get_comp_words_by_ref: command not found create job \u65e2\u5b58CronJob\u304b\u3089\u5373\u6642\u5b9f\u884c\u306ejob\u3092\u4f5c\u6210 CronJob\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9\u3092\u3082\u3068\u306b\u3001\u5373\u6642\u5b9f\u884c\u3059\u308bJob\u30ea\u30bd\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b kubectl create job exec --from=cronjob/cronjob-resource -n namespace secret \u30d5\u30a1\u30a4\u30eb\u306esecret \u30ad\u30fc\u540d: \u30d5\u30a1\u30a4\u30eb\u5185\u5bb9\u306esecret\u4f5c\u308b $ cat sample.txt hello kubernetes! $ kubectl create secret generic sample-secret --from-file = lines = sample.txt secret/sample-secret created $ kubectl get secret sample-secret NAME TYPE DATA AGE sample-secret Opaque 1 6s $ kubectl get secret sample-secret -o yaml apiVersion: v1 data : lines : aGVsbG8Ka3ViZXJuZXRlcyEK kind : Secret metadata : creationTimestamp : \"2021-07-07T12:12:03Z\" name : sample-secret namespace : default resourceVersion : \"1041860\" uid : 9675c818-cb9b-4b7f-a29c-c60bf5a908aa type : Opaque $ kubectl get secret sample-secret -o jsonpath = '{.data.lines}' | base64 -d hello kubernetes! \u3053\u308c\u306fConfigMap\u3068\u540c\u3058 key=value\u306esecret $ kubectl create secret generic sample-secret --from-literal = username = zaki secret/sample-secret created \u3053\u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3067\u4ee5\u4e0b\u306esecret\u30ea\u30bd\u30fc\u30b9\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002 $ kubectl get secret sample-secret -o yaml apiVersion: v1 data : username : emFraQ== kind : Secret metadata : creationTimestamp : \"2022-03-24T02:57:06Z\" name : sample-secret namespace : default resourceVersion : \"298054\" uid : 35c9b58a-247d-4243-b292-193d811f140a type : Opaque TLS\u8a3c\u660e\u66f8\u306esecret \u4e8b\u524d\u306b server.crt \u3068 server.key \u306f\u751f\u6210\u3057\u3066\u304a\u304f\u3002 kubectl create secret tls host-secret -n kube-system \\ --cert=server.crt \\ --key=server.key \u4ee5\u4e0b\u306esecret\u30ea\u30bd\u30fc\u30b9\u304c\u4f5c\u6210\u3055\u308c\u308b apiVersion : v1 data : tls.crt : ... tls.key : ... kind : Secret metadata : creationTimestamp : \"2024-11-24T08:30:11Z\" name : host-secret namespace : kube-system resourceVersion : \"140527\" uid : e5399e4b-7d62-4c57-b97e-a9b2d65d1375 type : kubernetes.io/tls \u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u3067secret \u30de\u30cb\u30e5\u30d5\u30a7\u30b9\u30c8\u304b\u3089\u4f5c\u6210\u3059\u308b\u5834\u5408\u306f\u3001base64\u30a8\u30f3\u30b3\u30fc\u30c9\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u3002 $ cat secret-sample.yaml apiVersion: v1 data : username : emFraQ== kind : Secret metadata : name : sample-secret2 namespace : default type : Opaque $ kubectl apply -f secret-sample.yaml secret/sample-secret2 created $ kubectl get secret sample-secret2 -o yaml apiVersion: v1 data : username : emFraQ== kind : Secret metadata : annotations : kubectl.kubernetes.io/last-applied-configuration : | {\"apiVersion\":\"v1\",\"data\":{\"username\":\"emFraQ==\"},\"kind\":\"Secret\",\"metadata\":{\"annotations\":{},\"name\":\"sample-secret2\",\"namespace\":\"default\"},\"type\":\"Opaque\"} creationTimestamp : \"2022-03-24T03:01:32Z\" name : sample-secret2 namespace : default resourceVersion : \"298241\" uid : a1ae0bf1-3434-4f3d-88d3-a1bb33dee6ac type : Opaque patch \u5024\u306e\u66f4\u65b0 kubectl patch -n namespace pdb resource -p '{ \"spec\": { \"maxUnavailable\": 0 }}' \u30ad\u30fc\u3068\u5024\u306e\u8ffd\u52a0(\u8f9e\u66f8) \u5b9a\u7fa9\u304c\u5b58\u5728\u3057\u306a\u304b\u3063\u305f spec.init_container_image \u30ad\u30fc\u306b\u5024\u3092\u8ffd\u52a0\u3059\u308b\u3002 kubectl patch -n namespace awx awx-demo -p '{\"spec\":{\"init_container_image\":\"quay.io/ansible/awx-ee\"}}' --type merge --type merge \u304c\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002 $ kubectl patch -n namespace awx awx-demo -p '{\"spec\":{\"init_container_image\":\"quay.io/ansible/awx-ee\"}}' error: application/strategic-merge-patch+json is not supported by awx.ansible.com/v1beta1, Kind=AWX: the body of the request was in an unknown format - accepted media types include: application/json-patch+json, application/merge-patch+json, application/apply-patch+yaml run \u30ef\u30fc\u30af\u7528\u306epod\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b $ kubectl run work-pod --image = fedora --command -- tail -f /dev/null \u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u306b\u3059\u308b\u3068\u3053\u3093\u306a\u611f\u3058 kind : Pod apiVersion : v1 metadata : name : work-pod spec : containers : - name : work-pod image : fedora command : - tail - -f - /dev/null expose pod\u30d9\u30fc\u30b9\u3067service\u3092\u4f5c\u6210 $ kubectl expose pod <pod-name> --port 80 config [kubectl / oc]\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3084\u30af\u30e9\u30b9\u30bf\u60c5\u5831\u306e\u78ba\u8a8d (\u30b3\u30de\u30f3\u30c9\u30e1\u30e2) - zaki work log ~/.kube/config ( $KUBECONFIG )\u306e\u5185\u5bb9\u304b\u3089\u8a3c\u660e\u66f8\u306e\u30c7\u30fc\u30bf\u3092\u30de\u30b9\u30af\u3057\u305f\u60c5\u5831 $ kubectl config view \u73fe\u5728\u306e\u30af\u30e9\u30b9\u30bf\u60c5\u5831 $ kubectl cluster-info Kubernetes control plane is running at https://192.168.0.121:6443 CoreDNS is running at https://192.168.0.121:6443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy Metrics-server is running at https://192.168.0.121:6443/api/v1/namespaces/kube-system/services/https:metrics-server:/proxy To further debug and diagnose cluster problems, use 'kubectl cluster-info dump' . KUBECONFIG\u3067\u6301\u3063\u3066\u3044\u308b\u30af\u30e9\u30b9\u30bf\u4e00\u89a7 $ kubectl config get-clusters NAME cluster-c2daobwhbsg kind-multi-1.15 zks kind-kind kind-multicluster kubernetes local-k3s oci-k3s-le oci-k3s sample-cluster \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u60c5\u5831 $ kubectl config get-contexts CURRENT NAME CLUSTER AUTHINFO NAMESPACE context-c2daobwhbsg cluster-c2daobwhbsg user-c2daobwhbsg kind-kind kind-kind kind-kind kind-multi-1.15 kind-multi-1.15 kind-multi-1.15 kind-multicluster kind-multicluster kind-multicluster kubernetes-admin@kubernetes kubernetes kubernetes-admin kubernetes-admin@zks zks kubernetes-admin local-k3s local-k3s local-k3s oci-k3s oci-k3s oci-k3s * oci-k3s-le oci-k3s-le oci-k3s-le sample-cluster sample-cluster clusterUser_sample-rg_sample-cluster \u73fe\u5728\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8 $ kubectl config current-context oci-k3s-le \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u30bb\u30c3\u30c8\u3059\u308b $ kubectl config use-context k3d-k3s-default Switched to context \"k3d-k3s-default\". \u8907\u6570\u306ekubeconfig\u306e\u30de\u30fc\u30b8\u3059\u308b\u306b\u306f\u3001 : \u3067\u7e4b\u3052\u3066 view --merge --flatten \u3059\u308b\u3002 KUBECONFIG=~/.kube/config:kubeconfig-1.yaml:kubeconfig-2.yaml kubectl config view --merge --flatten > tmp.yaml mv tmp.yaml ~/.kube/config \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u540d\u306e\u5909\u66f4 $ kubectl config get-contexts CURRENT NAME CLUSTER AUTHINFO NAMESPACE * default default default kind-ansible-cookbook kind-ansible-cookbook kind-ansible-cookbook kind-awx-sample kind-awx-sample kind-awx-sample $ kubectl config rename-context default rasp5-01 Context \"default\" renamed to \"rasp5-01\". $ kubectl config get-contexts CURRENT NAME CLUSTER AUTHINFO NAMESPACE kind-ansible-cookbook kind-ansible-cookbook kind-ansible-cookbook kind-awx-sample kind-awx-sample kind-awx-sample * rasp5-01 default default delete \u6307\u5b9anamespace\u306e\u6307\u5b9atype\u3092\u5168\u90e8\u6d88\u3059 $ kubectl delete pvc -n zzz --all wait \u30ea\u30bd\u30fc\u30b9\u304c\u6307\u5b9a\u306e\u6761\u4ef6\u306b\u306a\u308b\u307e\u3067\u5f85\u3064\u3002 pod\u304crunning\u306b\u306a\u308b\u307e\u3067\u5f85\u3064\u306b\u306f\u4ee5\u4e0b\u3002 kubectl wait --for=jsonpath='{.status.phase}'=Running pod/***** get \u5168\u3066\u306e\u30ea\u30bd\u30fc\u30b9 kubectl get all \u3060\u3068\u5168\u30ea\u30bd\u30fc\u30b9\u304c\u5bfe\u8c61\u3067\u306f\u306a\u3044\u304c\u3001\u672c\u5f53\u306b\u3059\u3079\u3066\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u4ee5\u4e0b kubectl get \"$(kubectl api-resources --namespaced=true --verbs=list -o name | tr \"\\n\" \",\" | sed -e 's/,$//')\" plugin\u3092\u4f7f\u3063\u3066\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u306b\u3057\u3066\u304a\u304f\u3068\u4fbf\u5229\u3002 \u203b root\u3067\u5b9f\u884c cat <<'EOL' > /usr/local/bin/kubectl-get_all # !/usr/bin/env bash set -e -o pipefail; [[ -n \"$DEBUG\" ]] && set -x exec kubectl get \"$(kubectl api-resources --namespaced=true --verbs=list --output=name | tr \"\\n\" \",\" | sed -e 's/,$//')\" \"$@\" EOL chmod +x /usr/local/bin/kubectl-get_all \u5b9f\u884c kubectl get-all -n awx event\u3067\u4f5c\u6210\u6642\u30bd\u30fc\u30c8 kubectl get event --sort-by='.metadata.creationTimestamp' \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af $ kubectl get --raw = '/readyz' ok \u3042\u308b\u3044\u306f $ kubectl get --raw = '/readyz?verbose' [+]ping ok [+]log ok [+]etcd ok [+]etcd-readiness ok [+]informer-sync ok [+]poststarthook/start-kube-apiserver-admission-initializer ok [+]poststarthook/generic-apiserver-start-informers ok [+]poststarthook/priority-and-fairness-config-consumer ok [+]poststarthook/priority-and-fairness-filter ok [+]poststarthook/storage-object-count-tracker-hook ok [+]poststarthook/start-apiextensions-informers ok [+]poststarthook/start-apiextensions-controllers ok [+]poststarthook/crd-informer-synced ok [+]poststarthook/start-service-ip-repair-controllers ok [+]poststarthook/rbac/bootstrap-roles ok [+]poststarthook/scheduling/bootstrap-system-priority-classes ok [+]poststarthook/priority-and-fairness-config-producer ok [+]poststarthook/start-system-namespaces-controller ok [+]poststarthook/bootstrap-controller ok [+]poststarthook/start-cluster-authentication-info-controller ok [+]poststarthook/start-kube-apiserver-identity-lease-controller ok [+]poststarthook/start-deprecated-kube-apiserver-identity-lease-garbage-collector ok [+]poststarthook/start-kube-apiserver-identity-lease-garbage-collector ok [+]poststarthook/start-legacy-token-tracking-controller ok [+]poststarthook/aggregator-reload-proxy-client-cert ok [+]poststarthook/start-kube-aggregator-informers ok [+]poststarthook/apiservice-registration-controller ok [+]poststarthook/apiservice-status-available-controller ok [+]poststarthook/kube-apiserver-autoregistration ok [+]autoregister-completion ok [+]poststarthook/apiservice-openapi-controller ok [+]poststarthook/apiservice-openapiv3-controller ok [+]poststarthook/apiservice-discovery-controller ok [+]shutdown ok readyz check passed pod \u30a4\u30e1\u30fc\u30b8\u4e00\u89a7 kubectl get pod -n awx -o jsonpath=\"{..image}\" | sed 's/ /\\n/g' | sort | uniq \u3053\u308c\u3067\u3082\u3044\u3044\u304b\u306a\uff1f kubectl get pod -n awx -o yaml | grep image: | sort | uniq pod\u306b\u7d10\u3065\u3051\u308b\u306b\u306f $ kubectl get pod -n awx -o custom-columns = NAMESPACE:.metadata.namespace,NAME:.metadata.name,IMAGE:.spec.containers [ * ] .image NAMESPACE NAME IMAGE awx awx-migration-24.6.1-dh8l8 quay.io/ansible/awx:24.6.1 awx awx-operator-controller-manager-745b55d94b-trdrs gcr.io/kubebuilder/kube-rbac-proxy:v0.15.0,quay.io/ansible/awx-operator:2.19.1 awx awx-postgres-15-0 quay.io/sclorg/postgresql-15-c9s:latest awx awx-task-dc97f74f7-fmbbn docker.io/redis:7,quay.io/ansible/awx:24.6.1,quay.io/ansible/awx-ee:24.6.1,quay.io/ansible/awx:24.6.1 awx awx-web-769f8f749f-s4qkz docker.io/redis:7,quay.io/ansible/awx:24.6.1,quay.io/ansible/awx:24.6.1 pod\u3068\u30b3\u30f3\u30c6\u30ca\u540d zaki@cloud-dev2:~$ kubectl get pod -n awx -o custom-columns = NAMESPACE:.metadata.namespace,NAME:.metadata.name,IMAGE:.spec.containers [ * ] .name NAMESPACE NAME IMAGE awx awx-migration-24.6.1-dh8l8 migration-job awx awx-operator-controller-manager-745b55d94b-trdrs kube-rbac-proxy,awx-manager awx awx-postgres-15-0 postgres awx awx-task-dc97f74f7-fmbbn redis,awx-task,awx-ee,awx-rsyslog awx awx-web-769f8f749f-s4qkz redis,awx-web,awx-rsyslog rolebindings / clusterrolebindings \u7d10\u4ed8\u3044\u3066\u308bServiceAccount\u3092\u78ba\u8a8d\u3059\u308b kubectl get rolebindings,clusterrolebindings -A -o custom-columns='KIND:kind,NAMESPACE:metadata.namespace,NAME:metadata.name,SERVICE_ACCOUNTS:subjects[?(@.kind==\"ServiceAccount\")].name' | grep <SERVICE_ACCOUNT_NAME> rollout restart pod\u306e\u518d\u4f5c\u6210 (delete pod\u3067\u3082\u540c\u3058) kubectl rollout restart deployment <resource-name> label \u30ea\u30bd\u30fc\u30b9\u306e\u30e9\u30d9\u30eb\u3092\u8ffd\u52a0/\u5909\u66f4/\u524a\u9664\u3059\u308b \u8ffd\u52a0 $ kubectl label pod rsync-pod app = rsync pod/rsync-pod labeled $ kubectl get pod --show-labels NAME READY STATUS RESTARTS AGE LABELS rsync-pod 1/1 Running 3 28d app=rsync sockserv-db66b7df7-rtcv9 1/1 Running 1 17d app=sockserv,pod-template-hash=db66b7df7 \u66f4\u306b\u8ffd\u52a0 $ kubectl label pod rsync-pod state = normal pod/rsync-pod labeled $ kubectl get pod -l app = rsync --show-labels NAME READY STATUS RESTARTS AGE LABELS rsync-pod 1/1 Running 3 28d app=rsync,state=normal \u8907\u6570\u307e\u3068\u3081\u3066\u3082\u53ef $ kubectl label node k3s-node1 label1 = foo label2 = bar label3 = baz node/k3s-node1 labeled \u66f4\u65b0 \u65e2\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002 $ kubectl label pod rsync-pod state = error error: 'state' already has a value (normal), and --overwrite is false \u304c\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u3042\u308b\u901a\u308a --overwrite \u3092\u8ffd\u52a0\u3059\u308c\u3070\u4e0a\u66f8\u304d\u3067\u304d\u308b\u3002 kubectl label pod rsync-pod state=error --overwrite pod/rsync-pod labeled kubectl get pod -l app=rsync --show-labels NAME READY STATUS RESTARTS AGE LABELS rsync-pod 1/1 Running 3 28d app=rsync,state=error \u524a\u9664 \u30e9\u30d9\u30eb\u306e\u30ad\u30fc\u306b - \u3092\u4ed8\u4e0e\u3057\u305f\u3082\u306e\u3092\u30bb\u30c3\u30c8\u3059\u308c\u3070\u524a\u9664\u3055\u308c\u308b\u3002 kubectl label pod rsync-pod state- drain \u5927\u62b5\u306fDaemonSet\u306epod\u304c\u52d5\u3044\u3066\u3044\u308b\u306e\u3067 --ignore-daemonsets \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u3002 kubectl drain k3s-node2 --force --ignore-daemonsets \u30ce\u30fc\u30c9\u3092\u5b8c\u5168\u306b\u30af\u30e9\u30b9\u30bf\u304b\u3089\u9664\u5916\u3059\u308b\u306b\u306f\u3055\u3089\u306b kubectl delete node <node-name> \u3059\u308b\u3002 KUBECONFIG \u8a3c\u660e\u66f8\u691c\u8a3c\u7121\u8996 https://kubernetes.io/docs/reference/config-api/kubeconfig.v1/#Cluster apiVersion : v1 clusters : - cluster : # certificate-authority-data: LS0tL... server : https://my-cluster.example.org:6443 insecure-skip-tls-verify : true name : my-cluster # snip... insecure-skip-tls-verify: true \u3092\u4f7f\u7528\u3059\u308b\u3002 \u305f\u3060\u3057\u305d\u306e\u6642 certificate-authority-data \u306f\u672a\u5b9a\u7fa9\u306b\u3057\u3066\u304a\u304f\u3002 Kubernetes:Why does the 'insecure-skip-tls-verify' in kubeconfig not work? - Stack Overflow","title":"kubectl"},{"location":"Container/kubectl/#kubectl","text":"\u5206\u985e\u5909\u3048\u308b\u304b\u3082\u2026","title":"kubectl"},{"location":"Container/kubectl/#_1","text":"","title":"\u30aa\u30d7\u30b7\u30e7\u30f3"},{"location":"Container/kubectl/#kubeconfig","text":"\u74b0\u5883\u5909\u6570 KUBECONFIG \u304b\u3001\u30aa\u30d7\u30b7\u30e7\u30f3 --kubeconfig \u306b\u6307\u5b9a\u3059\u308b","title":"kubeconfig\u30d5\u30a1\u30a4\u30eb\u6307\u5b9a"},{"location":"Container/kubectl/#_2","text":"","title":"\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8"},{"location":"Container/kubectl/#_3","text":"kubectl config get-contexts","title":"\u4e00\u89a7"},{"location":"Container/kubectl/#_4","text":"kubectl config use-contexts <context-name>","title":"\u5207\u308a\u66ff\u3048"},{"location":"Container/kubectl/#_5","text":"zaki@cloud-dev2:~$ kubectl config get-contexts CURRENT NAME CLUSTER AUTHINFO NAMESPACE k3s-node k3s-node k3s-node k3s-oci-4c k3s-oci-4c k3s-oci-4c kind-ansible-cookbook kind-ansible-cookbook kind-ansible-cookbook kind-awx-sample kind-awx-sample kind-awx-sample * rasp5-01 rasp5-01 rasp5-01 zaki@cloud-dev2:~$ kubectl config delete-context rasp5-01 warning: this removed your active context, use \"kubectl config use-context\" to select a different one deleted context rasp5-01 from /home/zaki/.kube/config zaki@cloud-dev2:~$ kubectl config get-contexts CURRENT NAME CLUSTER AUTHINFO NAMESPACE k3s-node k3s-node k3s-node k3s-oci-4c k3s-oci-4c k3s-oci-4c kind-ansible-cookbook kind-ansible-cookbook kind-ansible-cookbook kind-awx-sample kind-awx-sample kind-awx-sample current\u524a\u9664\u6642\u306f\u8b66\u544a\u3055\u308c\u308b\u304c\u524a\u9664\u306f\u53ef\u80fd","title":"\u524a\u9664"},{"location":"Container/kubectl/#_6","text":"","title":"\u8a2d\u5b9a"},{"location":"Container/kubectl/#kubeconfig_1","text":"$ KUBECONFIG = new-kubeconfig.yaml: $HOME /.kube/config kubectl config view --flatten > $HOME /.kube/tmp $ mv $HOME /.kube/tmp $HOME /.kube/config","title":"kubeconfig\u306e\u30de\u30fc\u30b8"},{"location":"Container/kubectl/#_7","text":"source < ( kubectl completion bash ) complete -o default -F __start_kubectl kc [oc / kubectl] \u30b3\u30de\u30f3\u30c9\u3084\u5f15\u6570\u306e\u88dc\u5b8c\u8a2d\u5b9a \u3010completion\u3011 - zaki work log kind \u3084 helm \u3082\u540c\u3058\u8981\u9818\u3002 tab\u62bc\u4e0b\u3067 _get_comp_words_by_ref: command not found \u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3068\u304d\u306f\u3001 bash-completion \u304c\u7121\u3044\u306e\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u8ffd\u52a0\u3059\u308b\u3002 $ kubectl get -bash: _get_comp_words_by_ref: command not found","title":"\u30bf\u30d6\u88dc\u5b8c"},{"location":"Container/kubectl/#create","text":"","title":"create"},{"location":"Container/kubectl/#job","text":"","title":"job"},{"location":"Container/kubectl/#cronjobjob","text":"CronJob\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9\u3092\u3082\u3068\u306b\u3001\u5373\u6642\u5b9f\u884c\u3059\u308bJob\u30ea\u30bd\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b kubectl create job exec --from=cronjob/cronjob-resource -n namespace","title":"\u65e2\u5b58CronJob\u304b\u3089\u5373\u6642\u5b9f\u884c\u306ejob\u3092\u4f5c\u6210"},{"location":"Container/kubectl/#secret","text":"","title":"secret"},{"location":"Container/kubectl/#secret_1","text":"\u30ad\u30fc\u540d: \u30d5\u30a1\u30a4\u30eb\u5185\u5bb9\u306esecret\u4f5c\u308b $ cat sample.txt hello kubernetes! $ kubectl create secret generic sample-secret --from-file = lines = sample.txt secret/sample-secret created $ kubectl get secret sample-secret NAME TYPE DATA AGE sample-secret Opaque 1 6s $ kubectl get secret sample-secret -o yaml apiVersion: v1 data : lines : aGVsbG8Ka3ViZXJuZXRlcyEK kind : Secret metadata : creationTimestamp : \"2021-07-07T12:12:03Z\" name : sample-secret namespace : default resourceVersion : \"1041860\" uid : 9675c818-cb9b-4b7f-a29c-c60bf5a908aa type : Opaque $ kubectl get secret sample-secret -o jsonpath = '{.data.lines}' | base64 -d hello kubernetes! \u3053\u308c\u306fConfigMap\u3068\u540c\u3058","title":"\u30d5\u30a1\u30a4\u30eb\u306esecret"},{"location":"Container/kubectl/#keyvaluesecret","text":"$ kubectl create secret generic sample-secret --from-literal = username = zaki secret/sample-secret created \u3053\u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3067\u4ee5\u4e0b\u306esecret\u30ea\u30bd\u30fc\u30b9\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002 $ kubectl get secret sample-secret -o yaml apiVersion: v1 data : username : emFraQ== kind : Secret metadata : creationTimestamp : \"2022-03-24T02:57:06Z\" name : sample-secret namespace : default resourceVersion : \"298054\" uid : 35c9b58a-247d-4243-b292-193d811f140a type : Opaque","title":"key=value\u306esecret"},{"location":"Container/kubectl/#tlssecret","text":"\u4e8b\u524d\u306b server.crt \u3068 server.key \u306f\u751f\u6210\u3057\u3066\u304a\u304f\u3002 kubectl create secret tls host-secret -n kube-system \\ --cert=server.crt \\ --key=server.key \u4ee5\u4e0b\u306esecret\u30ea\u30bd\u30fc\u30b9\u304c\u4f5c\u6210\u3055\u308c\u308b apiVersion : v1 data : tls.crt : ... tls.key : ... kind : Secret metadata : creationTimestamp : \"2024-11-24T08:30:11Z\" name : host-secret namespace : kube-system resourceVersion : \"140527\" uid : e5399e4b-7d62-4c57-b97e-a9b2d65d1375 type : kubernetes.io/tls","title":"TLS\u8a3c\u660e\u66f8\u306esecret"},{"location":"Container/kubectl/#secret_2","text":"\u30de\u30cb\u30e5\u30d5\u30a7\u30b9\u30c8\u304b\u3089\u4f5c\u6210\u3059\u308b\u5834\u5408\u306f\u3001base64\u30a8\u30f3\u30b3\u30fc\u30c9\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u3002 $ cat secret-sample.yaml apiVersion: v1 data : username : emFraQ== kind : Secret metadata : name : sample-secret2 namespace : default type : Opaque $ kubectl apply -f secret-sample.yaml secret/sample-secret2 created $ kubectl get secret sample-secret2 -o yaml apiVersion: v1 data : username : emFraQ== kind : Secret metadata : annotations : kubectl.kubernetes.io/last-applied-configuration : | {\"apiVersion\":\"v1\",\"data\":{\"username\":\"emFraQ==\"},\"kind\":\"Secret\",\"metadata\":{\"annotations\":{},\"name\":\"sample-secret2\",\"namespace\":\"default\"},\"type\":\"Opaque\"} creationTimestamp : \"2022-03-24T03:01:32Z\" name : sample-secret2 namespace : default resourceVersion : \"298241\" uid : a1ae0bf1-3434-4f3d-88d3-a1bb33dee6ac type : Opaque","title":"\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u3067secret"},{"location":"Container/kubectl/#patch","text":"","title":"patch"},{"location":"Container/kubectl/#_8","text":"kubectl patch -n namespace pdb resource -p '{ \"spec\": { \"maxUnavailable\": 0 }}'","title":"\u5024\u306e\u66f4\u65b0"},{"location":"Container/kubectl/#_9","text":"\u5b9a\u7fa9\u304c\u5b58\u5728\u3057\u306a\u304b\u3063\u305f spec.init_container_image \u30ad\u30fc\u306b\u5024\u3092\u8ffd\u52a0\u3059\u308b\u3002 kubectl patch -n namespace awx awx-demo -p '{\"spec\":{\"init_container_image\":\"quay.io/ansible/awx-ee\"}}' --type merge --type merge \u304c\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002 $ kubectl patch -n namespace awx awx-demo -p '{\"spec\":{\"init_container_image\":\"quay.io/ansible/awx-ee\"}}' error: application/strategic-merge-patch+json is not supported by awx.ansible.com/v1beta1, Kind=AWX: the body of the request was in an unknown format - accepted media types include: application/json-patch+json, application/merge-patch+json, application/apply-patch+yaml","title":"\u30ad\u30fc\u3068\u5024\u306e\u8ffd\u52a0(\u8f9e\u66f8)"},{"location":"Container/kubectl/#run","text":"","title":"run"},{"location":"Container/kubectl/#pod","text":"$ kubectl run work-pod --image = fedora --command -- tail -f /dev/null \u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u306b\u3059\u308b\u3068\u3053\u3093\u306a\u611f\u3058 kind : Pod apiVersion : v1 metadata : name : work-pod spec : containers : - name : work-pod image : fedora command : - tail - -f - /dev/null","title":"\u30ef\u30fc\u30af\u7528\u306epod\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b"},{"location":"Container/kubectl/#expose","text":"","title":"expose"},{"location":"Container/kubectl/#podservice","text":"$ kubectl expose pod <pod-name> --port 80","title":"pod\u30d9\u30fc\u30b9\u3067service\u3092\u4f5c\u6210"},{"location":"Container/kubectl/#config","text":"[kubectl / oc]\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3084\u30af\u30e9\u30b9\u30bf\u60c5\u5831\u306e\u78ba\u8a8d (\u30b3\u30de\u30f3\u30c9\u30e1\u30e2) - zaki work log ~/.kube/config ( $KUBECONFIG )\u306e\u5185\u5bb9\u304b\u3089\u8a3c\u660e\u66f8\u306e\u30c7\u30fc\u30bf\u3092\u30de\u30b9\u30af\u3057\u305f\u60c5\u5831 $ kubectl config view \u73fe\u5728\u306e\u30af\u30e9\u30b9\u30bf\u60c5\u5831 $ kubectl cluster-info Kubernetes control plane is running at https://192.168.0.121:6443 CoreDNS is running at https://192.168.0.121:6443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy Metrics-server is running at https://192.168.0.121:6443/api/v1/namespaces/kube-system/services/https:metrics-server:/proxy To further debug and diagnose cluster problems, use 'kubectl cluster-info dump' . KUBECONFIG\u3067\u6301\u3063\u3066\u3044\u308b\u30af\u30e9\u30b9\u30bf\u4e00\u89a7 $ kubectl config get-clusters NAME cluster-c2daobwhbsg kind-multi-1.15 zks kind-kind kind-multicluster kubernetes local-k3s oci-k3s-le oci-k3s sample-cluster \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u60c5\u5831 $ kubectl config get-contexts CURRENT NAME CLUSTER AUTHINFO NAMESPACE context-c2daobwhbsg cluster-c2daobwhbsg user-c2daobwhbsg kind-kind kind-kind kind-kind kind-multi-1.15 kind-multi-1.15 kind-multi-1.15 kind-multicluster kind-multicluster kind-multicluster kubernetes-admin@kubernetes kubernetes kubernetes-admin kubernetes-admin@zks zks kubernetes-admin local-k3s local-k3s local-k3s oci-k3s oci-k3s oci-k3s * oci-k3s-le oci-k3s-le oci-k3s-le sample-cluster sample-cluster clusterUser_sample-rg_sample-cluster \u73fe\u5728\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8 $ kubectl config current-context oci-k3s-le \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u30bb\u30c3\u30c8\u3059\u308b $ kubectl config use-context k3d-k3s-default Switched to context \"k3d-k3s-default\". \u8907\u6570\u306ekubeconfig\u306e\u30de\u30fc\u30b8\u3059\u308b\u306b\u306f\u3001 : \u3067\u7e4b\u3052\u3066 view --merge --flatten \u3059\u308b\u3002 KUBECONFIG=~/.kube/config:kubeconfig-1.yaml:kubeconfig-2.yaml kubectl config view --merge --flatten > tmp.yaml mv tmp.yaml ~/.kube/config \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u540d\u306e\u5909\u66f4 $ kubectl config get-contexts CURRENT NAME CLUSTER AUTHINFO NAMESPACE * default default default kind-ansible-cookbook kind-ansible-cookbook kind-ansible-cookbook kind-awx-sample kind-awx-sample kind-awx-sample $ kubectl config rename-context default rasp5-01 Context \"default\" renamed to \"rasp5-01\". $ kubectl config get-contexts CURRENT NAME CLUSTER AUTHINFO NAMESPACE kind-ansible-cookbook kind-ansible-cookbook kind-ansible-cookbook kind-awx-sample kind-awx-sample kind-awx-sample * rasp5-01 default default","title":"config"},{"location":"Container/kubectl/#delete","text":"","title":"delete"},{"location":"Container/kubectl/#namespacetype","text":"$ kubectl delete pvc -n zzz --all","title":"\u6307\u5b9anamespace\u306e\u6307\u5b9atype\u3092\u5168\u90e8\u6d88\u3059"},{"location":"Container/kubectl/#wait","text":"\u30ea\u30bd\u30fc\u30b9\u304c\u6307\u5b9a\u306e\u6761\u4ef6\u306b\u306a\u308b\u307e\u3067\u5f85\u3064\u3002 pod\u304crunning\u306b\u306a\u308b\u307e\u3067\u5f85\u3064\u306b\u306f\u4ee5\u4e0b\u3002 kubectl wait --for=jsonpath='{.status.phase}'=Running pod/*****","title":"wait"},{"location":"Container/kubectl/#get","text":"","title":"get"},{"location":"Container/kubectl/#_10","text":"kubectl get all \u3060\u3068\u5168\u30ea\u30bd\u30fc\u30b9\u304c\u5bfe\u8c61\u3067\u306f\u306a\u3044\u304c\u3001\u672c\u5f53\u306b\u3059\u3079\u3066\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u4ee5\u4e0b kubectl get \"$(kubectl api-resources --namespaced=true --verbs=list -o name | tr \"\\n\" \",\" | sed -e 's/,$//')\" plugin\u3092\u4f7f\u3063\u3066\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u306b\u3057\u3066\u304a\u304f\u3068\u4fbf\u5229\u3002 \u203b root\u3067\u5b9f\u884c cat <<'EOL' > /usr/local/bin/kubectl-get_all # !/usr/bin/env bash set -e -o pipefail; [[ -n \"$DEBUG\" ]] && set -x exec kubectl get \"$(kubectl api-resources --namespaced=true --verbs=list --output=name | tr \"\\n\" \",\" | sed -e 's/,$//')\" \"$@\" EOL chmod +x /usr/local/bin/kubectl-get_all \u5b9f\u884c kubectl get-all -n awx","title":"\u5168\u3066\u306e\u30ea\u30bd\u30fc\u30b9"},{"location":"Container/kubectl/#event","text":"kubectl get event --sort-by='.metadata.creationTimestamp'","title":"event\u3067\u4f5c\u6210\u6642\u30bd\u30fc\u30c8"},{"location":"Container/kubectl/#_11","text":"$ kubectl get --raw = '/readyz' ok \u3042\u308b\u3044\u306f $ kubectl get --raw = '/readyz?verbose' [+]ping ok [+]log ok [+]etcd ok [+]etcd-readiness ok [+]informer-sync ok [+]poststarthook/start-kube-apiserver-admission-initializer ok [+]poststarthook/generic-apiserver-start-informers ok [+]poststarthook/priority-and-fairness-config-consumer ok [+]poststarthook/priority-and-fairness-filter ok [+]poststarthook/storage-object-count-tracker-hook ok [+]poststarthook/start-apiextensions-informers ok [+]poststarthook/start-apiextensions-controllers ok [+]poststarthook/crd-informer-synced ok [+]poststarthook/start-service-ip-repair-controllers ok [+]poststarthook/rbac/bootstrap-roles ok [+]poststarthook/scheduling/bootstrap-system-priority-classes ok [+]poststarthook/priority-and-fairness-config-producer ok [+]poststarthook/start-system-namespaces-controller ok [+]poststarthook/bootstrap-controller ok [+]poststarthook/start-cluster-authentication-info-controller ok [+]poststarthook/start-kube-apiserver-identity-lease-controller ok [+]poststarthook/start-deprecated-kube-apiserver-identity-lease-garbage-collector ok [+]poststarthook/start-kube-apiserver-identity-lease-garbage-collector ok [+]poststarthook/start-legacy-token-tracking-controller ok [+]poststarthook/aggregator-reload-proxy-client-cert ok [+]poststarthook/start-kube-aggregator-informers ok [+]poststarthook/apiservice-registration-controller ok [+]poststarthook/apiservice-status-available-controller ok [+]poststarthook/kube-apiserver-autoregistration ok [+]autoregister-completion ok [+]poststarthook/apiservice-openapi-controller ok [+]poststarthook/apiservice-openapiv3-controller ok [+]poststarthook/apiservice-discovery-controller ok [+]shutdown ok readyz check passed","title":"\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af"},{"location":"Container/kubectl/#pod_1","text":"","title":"pod"},{"location":"Container/kubectl/#_12","text":"kubectl get pod -n awx -o jsonpath=\"{..image}\" | sed 's/ /\\n/g' | sort | uniq \u3053\u308c\u3067\u3082\u3044\u3044\u304b\u306a\uff1f kubectl get pod -n awx -o yaml | grep image: | sort | uniq pod\u306b\u7d10\u3065\u3051\u308b\u306b\u306f $ kubectl get pod -n awx -o custom-columns = NAMESPACE:.metadata.namespace,NAME:.metadata.name,IMAGE:.spec.containers [ * ] .image NAMESPACE NAME IMAGE awx awx-migration-24.6.1-dh8l8 quay.io/ansible/awx:24.6.1 awx awx-operator-controller-manager-745b55d94b-trdrs gcr.io/kubebuilder/kube-rbac-proxy:v0.15.0,quay.io/ansible/awx-operator:2.19.1 awx awx-postgres-15-0 quay.io/sclorg/postgresql-15-c9s:latest awx awx-task-dc97f74f7-fmbbn docker.io/redis:7,quay.io/ansible/awx:24.6.1,quay.io/ansible/awx-ee:24.6.1,quay.io/ansible/awx:24.6.1 awx awx-web-769f8f749f-s4qkz docker.io/redis:7,quay.io/ansible/awx:24.6.1,quay.io/ansible/awx:24.6.1","title":"\u30a4\u30e1\u30fc\u30b8\u4e00\u89a7"},{"location":"Container/kubectl/#pod_2","text":"zaki@cloud-dev2:~$ kubectl get pod -n awx -o custom-columns = NAMESPACE:.metadata.namespace,NAME:.metadata.name,IMAGE:.spec.containers [ * ] .name NAMESPACE NAME IMAGE awx awx-migration-24.6.1-dh8l8 migration-job awx awx-operator-controller-manager-745b55d94b-trdrs kube-rbac-proxy,awx-manager awx awx-postgres-15-0 postgres awx awx-task-dc97f74f7-fmbbn redis,awx-task,awx-ee,awx-rsyslog awx awx-web-769f8f749f-s4qkz redis,awx-web,awx-rsyslog","title":"pod\u3068\u30b3\u30f3\u30c6\u30ca\u540d"},{"location":"Container/kubectl/#rolebindings-clusterrolebindings","text":"\u7d10\u4ed8\u3044\u3066\u308bServiceAccount\u3092\u78ba\u8a8d\u3059\u308b kubectl get rolebindings,clusterrolebindings -A -o custom-columns='KIND:kind,NAMESPACE:metadata.namespace,NAME:metadata.name,SERVICE_ACCOUNTS:subjects[?(@.kind==\"ServiceAccount\")].name' | grep <SERVICE_ACCOUNT_NAME>","title":"rolebindings / clusterrolebindings"},{"location":"Container/kubectl/#rollout","text":"","title":"rollout"},{"location":"Container/kubectl/#restart","text":"pod\u306e\u518d\u4f5c\u6210 (delete pod\u3067\u3082\u540c\u3058) kubectl rollout restart deployment <resource-name>","title":"restart"},{"location":"Container/kubectl/#label","text":"\u30ea\u30bd\u30fc\u30b9\u306e\u30e9\u30d9\u30eb\u3092\u8ffd\u52a0/\u5909\u66f4/\u524a\u9664\u3059\u308b","title":"label"},{"location":"Container/kubectl/#_13","text":"$ kubectl label pod rsync-pod app = rsync pod/rsync-pod labeled $ kubectl get pod --show-labels NAME READY STATUS RESTARTS AGE LABELS rsync-pod 1/1 Running 3 28d app=rsync sockserv-db66b7df7-rtcv9 1/1 Running 1 17d app=sockserv,pod-template-hash=db66b7df7 \u66f4\u306b\u8ffd\u52a0 $ kubectl label pod rsync-pod state = normal pod/rsync-pod labeled $ kubectl get pod -l app = rsync --show-labels NAME READY STATUS RESTARTS AGE LABELS rsync-pod 1/1 Running 3 28d app=rsync,state=normal \u8907\u6570\u307e\u3068\u3081\u3066\u3082\u53ef $ kubectl label node k3s-node1 label1 = foo label2 = bar label3 = baz node/k3s-node1 labeled","title":"\u8ffd\u52a0"},{"location":"Container/kubectl/#_14","text":"\u65e2\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002 $ kubectl label pod rsync-pod state = error error: 'state' already has a value (normal), and --overwrite is false \u304c\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u3042\u308b\u901a\u308a --overwrite \u3092\u8ffd\u52a0\u3059\u308c\u3070\u4e0a\u66f8\u304d\u3067\u304d\u308b\u3002 kubectl label pod rsync-pod state=error --overwrite pod/rsync-pod labeled kubectl get pod -l app=rsync --show-labels NAME READY STATUS RESTARTS AGE LABELS rsync-pod 1/1 Running 3 28d app=rsync,state=error","title":"\u66f4\u65b0"},{"location":"Container/kubectl/#_15","text":"\u30e9\u30d9\u30eb\u306e\u30ad\u30fc\u306b - \u3092\u4ed8\u4e0e\u3057\u305f\u3082\u306e\u3092\u30bb\u30c3\u30c8\u3059\u308c\u3070\u524a\u9664\u3055\u308c\u308b\u3002 kubectl label pod rsync-pod state-","title":"\u524a\u9664"},{"location":"Container/kubectl/#drain","text":"\u5927\u62b5\u306fDaemonSet\u306epod\u304c\u52d5\u3044\u3066\u3044\u308b\u306e\u3067 --ignore-daemonsets \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u3002 kubectl drain k3s-node2 --force --ignore-daemonsets \u30ce\u30fc\u30c9\u3092\u5b8c\u5168\u306b\u30af\u30e9\u30b9\u30bf\u304b\u3089\u9664\u5916\u3059\u308b\u306b\u306f\u3055\u3089\u306b kubectl delete node <node-name> \u3059\u308b\u3002","title":"drain"},{"location":"Container/kubectl/#kubeconfig_2","text":"","title":"KUBECONFIG"},{"location":"Container/kubectl/#_16","text":"https://kubernetes.io/docs/reference/config-api/kubeconfig.v1/#Cluster apiVersion : v1 clusters : - cluster : # certificate-authority-data: LS0tL... server : https://my-cluster.example.org:6443 insecure-skip-tls-verify : true name : my-cluster # snip... insecure-skip-tls-verify: true \u3092\u4f7f\u7528\u3059\u308b\u3002 \u305f\u3060\u3057\u305d\u306e\u6642 certificate-authority-data \u306f\u672a\u5b9a\u7fa9\u306b\u3057\u3066\u304a\u304f\u3002 Kubernetes:Why does the 'insecure-skip-tls-verify' in kubeconfig not work? - Stack Overflow","title":"\u8a3c\u660e\u66f8\u691c\u8a3c\u7121\u8996"},{"location":"Container/kubernetes/","text":"Kubernetes docs Init\u30b3\u30f3\u30c6\u30ca | Kubernetes Taint\u3068Toleration | Kubernetes \u8a2d\u5b9a\u95a2\u9023 Set Kubelet Parameters Via A Configuration File | Kubernetes kube-controller-manager | Kubernetes \u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0 | Kubernetes \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af Kubernetes API health endpoints | Kubernetes API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066 /readyz \u3068 /livez \u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3002 $ curl -k 'https://192.168.0.131:6443/readyz' ok K3s\u3060\u3068\u8a8d\u8a3c\u304c\u5fc5\u8981 $ curl -k -H \"Authorization: Bearer $TOKEN \" 'https://192.168.0.75:6443/livez?verbose' [+]ping ok [+]log ok [+]etcd ok [+]poststarthook/start-kube-apiserver-admission-initializer ok [+]poststarthook/generic-apiserver-start-informers ok [+]poststarthook/priority-and-fairness-config-consumer ok [+]poststarthook/priority-and-fairness-filter ok [+]poststarthook/storage-object-count-tracker-hook ok [+]poststarthook/start-apiextensions-informers ok [+]poststarthook/start-apiextensions-controllers ok [+]poststarthook/crd-informer-synced ok [+]poststarthook/start-service-ip-repair-controllers ok [+]poststarthook/rbac/bootstrap-roles ok [+]poststarthook/scheduling/bootstrap-system-priority-classes ok [+]poststarthook/priority-and-fairness-config-producer ok [+]poststarthook/start-system-namespaces-controller ok [+]poststarthook/bootstrap-controller ok [+]poststarthook/start-cluster-authentication-info-controller ok [+]poststarthook/start-kube-apiserver-identity-lease-controller ok [+]poststarthook/start-deprecated-kube-apiserver-identity-lease-garbage-collector ok [+]poststarthook/start-kube-apiserver-identity-lease-garbage-collector ok [+]poststarthook/start-legacy-token-tracking-controller ok [+]poststarthook/aggregator-reload-proxy-client-cert ok [+]poststarthook/start-kube-aggregator-informers ok [+]poststarthook/apiservice-registration-controller ok [+]poststarthook/apiservice-status-available-controller ok [+]poststarthook/kube-apiserver-autoregistration ok [+]autoregister-completion ok [+]poststarthook/apiservice-openapi-controller ok [+]poststarthook/apiservice-openapiv3-controller ok [+]poststarthook/apiservice-discovery-controller ok livez check passed token\u306fsecret\u30ea\u30bd\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u3066\u53d6\u5f97\u3059\u308b\u3002 [Kubernetes] \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30afAPI\u3092\u8a66\u3059 (bearer token\u8a8d\u8a3c\u4ed8\u304d) - zaki work log k8s\u30ea\u30bd\u30fc\u30b9 pod CrashLoopBackOff describe \u307e\u305f\u306f event \u3067 Failed to pull image \"quay.io/ansible/awx-operator:0.16.1-12-g768bc2f\": rpc error: code = NotFound desc = failed to pull and unpack image \"quay.io/ansible/awx-operator:0.16.1-12-g768bc2f\": failed to resolve reference \"quay.io/ansible/awx-operator:0.16.1-12-g768bc2f\": quay.io/ansible/awx-operator:0.16.1-12-g768bc2f: not found \u3084\u3001 Error: ImagePullBackOff \u306e\u5834\u5408\u306f\u3001\u30a4\u30e1\u30fc\u30b8\u304c\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u7121\u3044\u3002\u6307\u5b9a\u304c\u5408\u3063\u3066\u308b\u304b\u78ba\u8a8d\u3002 pod\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3082 ErrImagePull \u306b\u306a\u308b\u3002 logs \u3067 standard_init_linux.go:228: exec user process caused: exec format error \u306e\u5834\u5408\u3001\u30a4\u30e1\u30fc\u30b8\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u5b9f\u884c\u74b0\u5883\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u304c\u5408\u3063\u3066\u306a\u3044\u3002 \u30a4\u30e1\u30fc\u30b8\u306famd64\u3060\u3051\u3069\u5b9f\u884c\u74b0\u5883\u304carm64\u306a\u3069\u3002 cronjob Job/Pod\u306e\u81ea\u52d5\u524a\u9664 CronJob\u30ea\u30bd\u30fc\u30b9\u306e .spec.successfulJobsHistoryLimit \u3068 .spec.failedJobsHistoryLimit \u306e\u5024\u3067\u6210\u529f\u3068\u5931\u6557\u305d\u308c\u305e\u308c\u306e\u4fdd\u6301\u6570\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u3002 \u8d85\u904e\u5206\u306f\u81ea\u52d5\u3067\u524a\u9664\u3055\u308c\u308b\u3002 https://kubernetes.io/ja/docs/tasks/job/automated-tasks-with-cron-jobs/#job-history-limit service FQCN (A/AAAA\u30ec\u30b3\u30fc\u30c9) pod\u304b\u3089\u306f <service-name>.<namespace-name>.svc.cluster.local \u3067\u540d\u524d\u89e3\u6c7a\u3067\u304d\u308b\u3002 \u30b9\u30c8\u30ec\u30fc\u30b8 PV\u62e1\u5f35 Resizing Persistent Volumes using Kubernetes | Kubernetes \u6d88\u3048\u306a\u3044namespace kubectl delete ns hoge \u304c\u5fdc\u7b54\u7121\u304f\u306a\u308astatus\u304cTerminating\u306e\u307e\u307e\u306b\u306a\u3063\u305f\u5834\u5408\u306e\u5bfe\u51e6\u3002 kubectl get ns hoge -o json > deletens.json namespace\u5b9a\u7fa9\u306e\u4e2d\u304b\u3089\u3001 spec.finalizers[\"kubernetes\"] \u306e\u5b9a\u7fa9\u3092\u898b\u3064\u3051\u3001\u4e2d\u8eab\u3092\u7a7a\u306b\u3059\u308b\u3002 \"spec\" : { \"finalizers\" : [] }, \u6700\u5f8c\u306b\u7de8\u96c6\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u30d1\u30e9\u30e1\u30bf\u306b\u3001\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c kubectl replace --raw \"/api/v1/namespaces/hoge/finalize\" -f deletens.json \u3053\u308c\u3067\u524a\u9664\u3067\u304d\u308b\u306f\u305a\u3002 namespace\u306e\u5b9a\u7fa9\u304c\u7c21\u5358\u306a\u5834\u5408\u306f\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067\u3082\u884c\u3051\u308b\u3002 kubectl get ns ${namespace} -o json | grep -v -- '\"kubernetes\"' | kubectl replace --raw \"/api/v1/namespaces/${namespace}/finalize\" -f - \u203b kubectl get ns hoge -o json | grep -2 -- '\"kubernetes\"' \u3092\u5b9f\u884c\u3057\u3066\u30011\u304b\u6240\u3057\u304b\u30d2\u30c3\u30c8\u3057\u306a\u3044\u5834\u5408 Init\u30b3\u30f3\u30c6\u30ca Init\u30b3\u30f3\u30c6\u30ca | Kubernetes Init\u30b3\u30f3\u30c6\u30ca\u306e\u30c7\u30d0\u30c3\u30b0 | Kubernetes RBAC Authorization | Kubernetes verbs request HTTP create POST get GET / HEAD list GET / HEAD \u4e00\u89a7\u306e\u53c2\u7167 watch GET / HEAD \u5909\u66f4\u306e\u76e3\u8996 update PUT patch PATCH delete DELETE deletecollection DELETE get vs. list in Kubernetes RBAC - Stack Overflow \u30ea\u30bd\u30fc\u30b9\u5358\u4f4d\u3067\u64cd\u4f5c\u306b\u5fc5\u8981\u306averbs\u306f kubectl api-resources -o wide \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 crictl pod\u4e00\u89a7 crictl pods crictl pods --namespace <NAMESPACE> --name <POD_NAME> \u30b3\u30f3\u30c6\u30ca\u4e00\u89a7 crictl ps crictl ps --name <CONTAINER_NAME> --name \u306f\u6b63\u898f\u8868\u73fe\u53ef\u80fd crictl ps --name 'awx-.*' REST namespace\u4e00\u89a7 curl https://k8s.example.org:6443/api/v1/namespaces NamespaceList \u304c\u8fd4\u308b\u3002","title":"Kubernetes"},{"location":"Container/kubernetes/#kubernetes","text":"","title":"Kubernetes"},{"location":"Container/kubernetes/#docs","text":"Init\u30b3\u30f3\u30c6\u30ca | Kubernetes Taint\u3068Toleration | Kubernetes \u8a2d\u5b9a\u95a2\u9023 Set Kubelet Parameters Via A Configuration File | Kubernetes kube-controller-manager | Kubernetes \u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0 | Kubernetes","title":"docs"},{"location":"Container/kubernetes/#_1","text":"Kubernetes API health endpoints | Kubernetes API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066 /readyz \u3068 /livez \u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3002 $ curl -k 'https://192.168.0.131:6443/readyz' ok K3s\u3060\u3068\u8a8d\u8a3c\u304c\u5fc5\u8981 $ curl -k -H \"Authorization: Bearer $TOKEN \" 'https://192.168.0.75:6443/livez?verbose' [+]ping ok [+]log ok [+]etcd ok [+]poststarthook/start-kube-apiserver-admission-initializer ok [+]poststarthook/generic-apiserver-start-informers ok [+]poststarthook/priority-and-fairness-config-consumer ok [+]poststarthook/priority-and-fairness-filter ok [+]poststarthook/storage-object-count-tracker-hook ok [+]poststarthook/start-apiextensions-informers ok [+]poststarthook/start-apiextensions-controllers ok [+]poststarthook/crd-informer-synced ok [+]poststarthook/start-service-ip-repair-controllers ok [+]poststarthook/rbac/bootstrap-roles ok [+]poststarthook/scheduling/bootstrap-system-priority-classes ok [+]poststarthook/priority-and-fairness-config-producer ok [+]poststarthook/start-system-namespaces-controller ok [+]poststarthook/bootstrap-controller ok [+]poststarthook/start-cluster-authentication-info-controller ok [+]poststarthook/start-kube-apiserver-identity-lease-controller ok [+]poststarthook/start-deprecated-kube-apiserver-identity-lease-garbage-collector ok [+]poststarthook/start-kube-apiserver-identity-lease-garbage-collector ok [+]poststarthook/start-legacy-token-tracking-controller ok [+]poststarthook/aggregator-reload-proxy-client-cert ok [+]poststarthook/start-kube-aggregator-informers ok [+]poststarthook/apiservice-registration-controller ok [+]poststarthook/apiservice-status-available-controller ok [+]poststarthook/kube-apiserver-autoregistration ok [+]autoregister-completion ok [+]poststarthook/apiservice-openapi-controller ok [+]poststarthook/apiservice-openapiv3-controller ok [+]poststarthook/apiservice-discovery-controller ok livez check passed token\u306fsecret\u30ea\u30bd\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u3066\u53d6\u5f97\u3059\u308b\u3002 [Kubernetes] \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30afAPI\u3092\u8a66\u3059 (bearer token\u8a8d\u8a3c\u4ed8\u304d) - zaki work log","title":"\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af"},{"location":"Container/kubernetes/#k8s","text":"","title":"k8s\u30ea\u30bd\u30fc\u30b9"},{"location":"Container/kubernetes/#pod","text":"","title":"pod"},{"location":"Container/kubernetes/#crashloopbackoff","text":"describe \u307e\u305f\u306f event \u3067 Failed to pull image \"quay.io/ansible/awx-operator:0.16.1-12-g768bc2f\": rpc error: code = NotFound desc = failed to pull and unpack image \"quay.io/ansible/awx-operator:0.16.1-12-g768bc2f\": failed to resolve reference \"quay.io/ansible/awx-operator:0.16.1-12-g768bc2f\": quay.io/ansible/awx-operator:0.16.1-12-g768bc2f: not found \u3084\u3001 Error: ImagePullBackOff \u306e\u5834\u5408\u306f\u3001\u30a4\u30e1\u30fc\u30b8\u304c\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u7121\u3044\u3002\u6307\u5b9a\u304c\u5408\u3063\u3066\u308b\u304b\u78ba\u8a8d\u3002 pod\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3082 ErrImagePull \u306b\u306a\u308b\u3002 logs \u3067 standard_init_linux.go:228: exec user process caused: exec format error \u306e\u5834\u5408\u3001\u30a4\u30e1\u30fc\u30b8\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u5b9f\u884c\u74b0\u5883\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u304c\u5408\u3063\u3066\u306a\u3044\u3002 \u30a4\u30e1\u30fc\u30b8\u306famd64\u3060\u3051\u3069\u5b9f\u884c\u74b0\u5883\u304carm64\u306a\u3069\u3002","title":"CrashLoopBackOff"},{"location":"Container/kubernetes/#cronjob","text":"","title":"cronjob"},{"location":"Container/kubernetes/#jobpod","text":"CronJob\u30ea\u30bd\u30fc\u30b9\u306e .spec.successfulJobsHistoryLimit \u3068 .spec.failedJobsHistoryLimit \u306e\u5024\u3067\u6210\u529f\u3068\u5931\u6557\u305d\u308c\u305e\u308c\u306e\u4fdd\u6301\u6570\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u3002 \u8d85\u904e\u5206\u306f\u81ea\u52d5\u3067\u524a\u9664\u3055\u308c\u308b\u3002 https://kubernetes.io/ja/docs/tasks/job/automated-tasks-with-cron-jobs/#job-history-limit","title":"Job/Pod\u306e\u81ea\u52d5\u524a\u9664"},{"location":"Container/kubernetes/#service","text":"","title":"service"},{"location":"Container/kubernetes/#fqcn-aaaaa","text":"pod\u304b\u3089\u306f <service-name>.<namespace-name>.svc.cluster.local \u3067\u540d\u524d\u89e3\u6c7a\u3067\u304d\u308b\u3002","title":"FQCN (A/AAAA\u30ec\u30b3\u30fc\u30c9)"},{"location":"Container/kubernetes/#_2","text":"","title":"\u30b9\u30c8\u30ec\u30fc\u30b8"},{"location":"Container/kubernetes/#pv","text":"Resizing Persistent Volumes using Kubernetes | Kubernetes","title":"PV\u62e1\u5f35"},{"location":"Container/kubernetes/#namespace","text":"kubectl delete ns hoge \u304c\u5fdc\u7b54\u7121\u304f\u306a\u308astatus\u304cTerminating\u306e\u307e\u307e\u306b\u306a\u3063\u305f\u5834\u5408\u306e\u5bfe\u51e6\u3002 kubectl get ns hoge -o json > deletens.json namespace\u5b9a\u7fa9\u306e\u4e2d\u304b\u3089\u3001 spec.finalizers[\"kubernetes\"] \u306e\u5b9a\u7fa9\u3092\u898b\u3064\u3051\u3001\u4e2d\u8eab\u3092\u7a7a\u306b\u3059\u308b\u3002 \"spec\" : { \"finalizers\" : [] }, \u6700\u5f8c\u306b\u7de8\u96c6\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u30d1\u30e9\u30e1\u30bf\u306b\u3001\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c kubectl replace --raw \"/api/v1/namespaces/hoge/finalize\" -f deletens.json \u3053\u308c\u3067\u524a\u9664\u3067\u304d\u308b\u306f\u305a\u3002 namespace\u306e\u5b9a\u7fa9\u304c\u7c21\u5358\u306a\u5834\u5408\u306f\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067\u3082\u884c\u3051\u308b\u3002 kubectl get ns ${namespace} -o json | grep -v -- '\"kubernetes\"' | kubectl replace --raw \"/api/v1/namespaces/${namespace}/finalize\" -f - \u203b kubectl get ns hoge -o json | grep -2 -- '\"kubernetes\"' \u3092\u5b9f\u884c\u3057\u3066\u30011\u304b\u6240\u3057\u304b\u30d2\u30c3\u30c8\u3057\u306a\u3044\u5834\u5408","title":"\u6d88\u3048\u306a\u3044namespace"},{"location":"Container/kubernetes/#init","text":"Init\u30b3\u30f3\u30c6\u30ca | Kubernetes Init\u30b3\u30f3\u30c6\u30ca\u306e\u30c7\u30d0\u30c3\u30b0 | Kubernetes","title":"Init\u30b3\u30f3\u30c6\u30ca"},{"location":"Container/kubernetes/#rbac","text":"Authorization | Kubernetes","title":"RBAC"},{"location":"Container/kubernetes/#verbs","text":"request HTTP create POST get GET / HEAD list GET / HEAD \u4e00\u89a7\u306e\u53c2\u7167 watch GET / HEAD \u5909\u66f4\u306e\u76e3\u8996 update PUT patch PATCH delete DELETE deletecollection DELETE get vs. list in Kubernetes RBAC - Stack Overflow \u30ea\u30bd\u30fc\u30b9\u5358\u4f4d\u3067\u64cd\u4f5c\u306b\u5fc5\u8981\u306averbs\u306f kubectl api-resources -o wide \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002","title":"verbs"},{"location":"Container/kubernetes/#crictl","text":"","title":"crictl"},{"location":"Container/kubernetes/#pod_1","text":"crictl pods crictl pods --namespace <NAMESPACE> --name <POD_NAME>","title":"pod\u4e00\u89a7"},{"location":"Container/kubernetes/#_3","text":"crictl ps crictl ps --name <CONTAINER_NAME> --name \u306f\u6b63\u898f\u8868\u73fe\u53ef\u80fd crictl ps --name 'awx-.*'","title":"\u30b3\u30f3\u30c6\u30ca\u4e00\u89a7"},{"location":"Container/kubernetes/#rest","text":"","title":"REST"},{"location":"Container/kubernetes/#namespace_1","text":"curl https://k8s.example.org:6443/api/v1/namespaces NamespaceList \u304c\u8fd4\u308b\u3002","title":"namespace\u4e00\u89a7"},{"location":"Container/minikube/","text":"minikube \u69d8\u3005\u306a\u74b0\u5883\u306bk8s\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306fDocker\u3067k8s in docker\u74b0\u5883\u3002 \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7 \u7ba1\u7406\u7528\u30b3\u30de\u30f3\u30c9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002 minikube start | minikube Linux/macOS/Windows\u7528\u305d\u308c\u305e\u308c\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u74b0\u5883\u306b\u5408\u308f\u305b\u305f\u30d0\u30a4\u30ca\u30ea\u3084\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u624b\u3057\u3066\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3002 \u4f8b\u3048\u3070Linux\u7528\u30d0\u30a4\u30ca\u30ea\u3092\u76f4\u63a5\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306a\u3089\u4ee5\u4e0b\u306e\u901a\u308a\u3002 curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 sudo install minikube-linux-amd64 /usr/local/bin/minikube curl -L https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 -o /path/to/minikube \u3057\u3066 chmod 755 \u3067\u3082\u826f\u3055\u305d\u3046\u3060\u3051\u3069\u3002 \u30af\u30e9\u30b9\u30bf\u4f5c\u6210 minikube start \u8d77\u52d5\u306b\u6210\u529f\u3059\u308b\u3068 $HOME/.kube/config \u3082\u66f4\u65b0(\u65e2\u5b58\u8a2d\u5b9a\u304c\u3042\u308b\u5834\u5408\u306f\u30de\u30fc\u30b8)\u3055\u308c\u308b\u3002 \u30de\u30eb\u30c1\u30ce\u30fc\u30c9(\u30ce\u30fc\u30c93)\u306e\u5834\u5408 minikube start -n 3 $ kubectl get node NAME STATUS ROLES AGE VERSION minikube Ready control-plane 89m v1.27.4 minikube-m02 Ready <none> 89m v1.27.4 minikube-m03 Ready <none> 88m v1.27.4 \u30af\u30e9\u30b9\u30bf\u306e\u72b6\u614b $ minikube status minikube type: Control Plane host: Running kubelet: Running apiserver: Running kubeconfig: Configured minikube-m02 type: Worker host: Running kubelet: Running minikube-m03 type: Worker host: Running kubelet: Running \u30af\u30e9\u30b9\u30bf\u306e\u505c\u6b62 $ minikube stop \u3053\u308c\u3067status\u306fstop\u306b\u306a\u308b\u3002\u30b3\u30f3\u30c6\u30ca\u306e\u72b6\u614b\u306fExited\u306b\u306a\u3063\u3066\u304a\u308a\u3001API\u30b5\u30fc\u30d0\u30fc\u4e0d\u5728\u306e\u72b6\u614b\u306a\u306e\u3067 kubectl \u30b3\u30de\u30f3\u30c9\u306f\u4e0d\u901a\u306b\u306a\u308b\u3002 start \u3067\u4e00\u5fdc\u8d77\u52d5\u3059\u308b\u304cworker\u306f\u518d\u4f5c\u6210\u3055\u308c\u308b\u3063\u307d\u3044\uff1f \u4e00\u6642\u505c\u6b62\u3068\u518d\u958b\u306f pause \u3068 unpause \u30b3\u30de\u30f3\u30c9\u304c\u3042\u308b\u3002","title":"minikube"},{"location":"Container/minikube/#minikube","text":"\u69d8\u3005\u306a\u74b0\u5883\u306bk8s\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306fDocker\u3067k8s in docker\u74b0\u5883\u3002","title":"minikube"},{"location":"Container/minikube/#_1","text":"\u7ba1\u7406\u7528\u30b3\u30de\u30f3\u30c9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002 minikube start | minikube Linux/macOS/Windows\u7528\u305d\u308c\u305e\u308c\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u74b0\u5883\u306b\u5408\u308f\u305b\u305f\u30d0\u30a4\u30ca\u30ea\u3084\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u624b\u3057\u3066\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3002 \u4f8b\u3048\u3070Linux\u7528\u30d0\u30a4\u30ca\u30ea\u3092\u76f4\u63a5\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306a\u3089\u4ee5\u4e0b\u306e\u901a\u308a\u3002 curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 sudo install minikube-linux-amd64 /usr/local/bin/minikube curl -L https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 -o /path/to/minikube \u3057\u3066 chmod 755 \u3067\u3082\u826f\u3055\u305d\u3046\u3060\u3051\u3069\u3002","title":"\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7"},{"location":"Container/minikube/#_2","text":"minikube start \u8d77\u52d5\u306b\u6210\u529f\u3059\u308b\u3068 $HOME/.kube/config \u3082\u66f4\u65b0(\u65e2\u5b58\u8a2d\u5b9a\u304c\u3042\u308b\u5834\u5408\u306f\u30de\u30fc\u30b8)\u3055\u308c\u308b\u3002 \u30de\u30eb\u30c1\u30ce\u30fc\u30c9(\u30ce\u30fc\u30c93)\u306e\u5834\u5408 minikube start -n 3 $ kubectl get node NAME STATUS ROLES AGE VERSION minikube Ready control-plane 89m v1.27.4 minikube-m02 Ready <none> 89m v1.27.4 minikube-m03 Ready <none> 88m v1.27.4","title":"\u30af\u30e9\u30b9\u30bf\u4f5c\u6210"},{"location":"Container/minikube/#_3","text":"$ minikube status minikube type: Control Plane host: Running kubelet: Running apiserver: Running kubeconfig: Configured minikube-m02 type: Worker host: Running kubelet: Running minikube-m03 type: Worker host: Running kubelet: Running","title":"\u30af\u30e9\u30b9\u30bf\u306e\u72b6\u614b"},{"location":"Container/minikube/#_4","text":"$ minikube stop \u3053\u308c\u3067status\u306fstop\u306b\u306a\u308b\u3002\u30b3\u30f3\u30c6\u30ca\u306e\u72b6\u614b\u306fExited\u306b\u306a\u3063\u3066\u304a\u308a\u3001API\u30b5\u30fc\u30d0\u30fc\u4e0d\u5728\u306e\u72b6\u614b\u306a\u306e\u3067 kubectl \u30b3\u30de\u30f3\u30c9\u306f\u4e0d\u901a\u306b\u306a\u308b\u3002 start \u3067\u4e00\u5fdc\u8d77\u52d5\u3059\u308b\u304cworker\u306f\u518d\u4f5c\u6210\u3055\u308c\u308b\u3063\u307d\u3044\uff1f \u4e00\u6642\u505c\u6b62\u3068\u518d\u958b\u306f pause \u3068 unpause \u30b3\u30de\u30f3\u30c9\u304c\u3042\u308b\u3002","title":"\u30af\u30e9\u30b9\u30bf\u306e\u505c\u6b62"},{"location":"Container/podman/","text":"Podman docs podman/troubleshooting.md at main \u00b7 containers/podman podman\u30b3\u30de\u30f3\u30c9 save \u8907\u6570\u30a4\u30e1\u30fc\u30b8\u306etar\u4fdd\u5b58 podman image save -o output.tar -m image1:tag image2:tag -m \u304c\u7121\u3044\u3068\u6700\u521d\u306e\u30a4\u30e1\u30fc\u30b8\u306e\u307f\u306b\u306a\u308b\u3002 push \u30ed\u30fc\u30ab\u30eb\u306e\u30a4\u30e1\u30fc\u30b8\u3092push podman push localhost/image:tag docker://remote.example.org/image:tag push\u5148\u3092\u7b2c2\u5f15\u6570\u3067\u6307\u5b9a\u3067\u304d\u308b\u306e\u3067tag(FQDN)\u306e\u8ffd\u52a0\u3092\u884c\u3063\u3066\u304a\u304f\u5fc5\u8981\u306f\u306a\u3044\u3002 volume permission denied \u3060\u3044\u305f\u3044SELinux\u5468\u308a\u3002 Z \u3092\u3064\u3051\u308c\u3070OK podman run -d --name serv1 -p 8080:80 -v ./serv1:/usr/local/apache2/htdocs/:Z httpd:2.4 service OS\u8d77\u52d5\u6642\u306b\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u3059\u308b\u306b\u306f podman-restart.service \u3092\u4f7f\u7528\u3059\u308b(\u30c7\u30d5\u30a9\u30eb\u30c8\u7121\u52b9) systemctl enable --now podman-restart.service \u3053\u308c\u3067root\u30e6\u30fc\u30b6\u30fc\u306e\u30b3\u30f3\u30c6\u30ca\u306f --restart=always \u304c\u6709\u52b9(OS\u8d77\u52d5\u6642\u306b\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5)\u306b\u306a\u308b\u3002","title":"Podman"},{"location":"Container/podman/#podman","text":"","title":"Podman"},{"location":"Container/podman/#docs","text":"podman/troubleshooting.md at main \u00b7 containers/podman","title":"docs"},{"location":"Container/podman/#podman_1","text":"","title":"podman\u30b3\u30de\u30f3\u30c9"},{"location":"Container/podman/#save","text":"\u8907\u6570\u30a4\u30e1\u30fc\u30b8\u306etar\u4fdd\u5b58 podman image save -o output.tar -m image1:tag image2:tag -m \u304c\u7121\u3044\u3068\u6700\u521d\u306e\u30a4\u30e1\u30fc\u30b8\u306e\u307f\u306b\u306a\u308b\u3002","title":"save"},{"location":"Container/podman/#push","text":"\u30ed\u30fc\u30ab\u30eb\u306e\u30a4\u30e1\u30fc\u30b8\u3092push podman push localhost/image:tag docker://remote.example.org/image:tag push\u5148\u3092\u7b2c2\u5f15\u6570\u3067\u6307\u5b9a\u3067\u304d\u308b\u306e\u3067tag(FQDN)\u306e\u8ffd\u52a0\u3092\u884c\u3063\u3066\u304a\u304f\u5fc5\u8981\u306f\u306a\u3044\u3002","title":"push"},{"location":"Container/podman/#volume","text":"","title":"volume"},{"location":"Container/podman/#permission-denied","text":"\u3060\u3044\u305f\u3044SELinux\u5468\u308a\u3002 Z \u3092\u3064\u3051\u308c\u3070OK podman run -d --name serv1 -p 8080:80 -v ./serv1:/usr/local/apache2/htdocs/:Z httpd:2.4","title":"permission denied"},{"location":"Container/podman/#service","text":"","title":"service"},{"location":"Container/podman/#os","text":"podman-restart.service \u3092\u4f7f\u7528\u3059\u308b(\u30c7\u30d5\u30a9\u30eb\u30c8\u7121\u52b9) systemctl enable --now podman-restart.service \u3053\u308c\u3067root\u30e6\u30fc\u30b6\u30fc\u306e\u30b3\u30f3\u30c6\u30ca\u306f --restart=always \u304c\u6709\u52b9(OS\u8d77\u52d5\u6642\u306b\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5)\u306b\u306a\u308b\u3002","title":"OS\u8d77\u52d5\u6642\u306b\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u3059\u308b\u306b\u306f"},{"location":"Container/registry/","text":"Registry API \u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7(\u30a4\u30e1\u30fc\u30b8\u4e00\u89a7) curl https://registry.example.org/v2/_catalog \u30a4\u30e1\u30fc\u30b8\u306e\u30bf\u30b0\u4e00\u89a7 \u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7\u3067\u30d2\u30c3\u30c8\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u3092\u30d1\u30b9\u306b\u542b\u3081\u308b curl https://registry.example.org/v2/<repository-name>/tags/list SaaS GitHub Container Registry \u624b\u9806\u306f\u4ee5\u4e0b\u3002 \u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u306e\u5229\u7528 - GitHub Docs \u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u3001\u500b\u4eba\u7528\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002 \u500b\u4eba\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u7528\u3059\u308b - GitHub Docs Personal Access Tokens (Classic) \u3067[Generate new token]\u62bc\u4e0b\u3001Select scopes\u306e write:packages \u306b\u30c1\u30a7\u30c3\u30af\u3057\u3066[Generate token]\u62bc\u4e0b\u3059\u308c\u3070\u30c8\u30fc\u30af\u30f3\u304c\u751f\u6210\u3055\u308c\u308b\u3002 GitHub\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u3001\u5165\u624b\u3057\u305f\u30c8\u30fc\u30af\u30f3\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u3057\u3066\u3001 $ docker login ghcr.io \u3059\u308c\u3070\u8a8d\u8a3c\u3067\u304d\u308b\u3002 \u3042\u3068\u306f ghcr.io/zaki-lknr/squid:5.0.4-alpine-3.13 \u3068\u304b\u306e\u540d\u524d\u306e\u30bf\u30b0\u3092\u3064\u3051\u308c\u3070 push \u3082\u3067\u304d\u308b\u3002 push\u3055\u308c\u305f\u30a4\u30e1\u30fc\u30b8\u306f\u3001GitHub\u306eweb\u753b\u9762\u306e\u300cPackages\u300d\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306fprivate\u8a2d\u5b9a\u3002 ECR (Elastic Container Registry) \u8a8d\u8a3c\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\u306f aws CLI\u3092\u4f7f\u7528\u3002 aws ecr get-login-password \u3092\u5b9f\u884c\u3059\u308b\u3068\u30ec\u30b8\u30b9\u30c8\u30ea\u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002 $ aws ecr get-login-password --region ap-northeast-1 eyJwYXls ...... \u30ed\u30b0\u30a4\u30f3\u6642\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u306f AWS \u56fa\u5b9a\u306e\u305f\u3081\u3001\u30ec\u30b8\u30b9\u30c8\u30ea\u30ed\u30b0\u30a4\u30f3\u7528\u306e\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 $ podman login <registry URL> -u AWS -p $( aws ecr get-login-password ) \u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ec\u30b8\u30b9\u30c8\u30ea\u306e\u8a8d\u8a3c - Amazon ECR ACR \u30dd\u30fc\u30bf\u30eb\u304b\u3089\u306e\u5834\u5408\u306f\u3001\u30ec\u30b8\u30b9\u30c8\u30ea\u30e1\u30cb\u30e5\u30fc\u306e\u300c\u30c8\u30fc\u30af\u30f3\u300d\u304b\u3089\u3001\u300c\u8ffd\u52a0\u300d\u3067\u30c8\u30fc\u30af\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002\u30b9\u30b3\u30fc\u30d7\u30de\u30c3\u30d7\u306b\u6a29\u9650\u3092\u5165\u529b\u3002 \u4f5c\u6210\u3057\u305f\u30c8\u30fc\u30af\u30f3\u306e\u300c\u8a73\u7d30\u300d\u304b\u3089\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u751f\u6210\u3067\u304d\u308b\u3002 \u751f\u6210\u3055\u308c\u308b\u306e\u306fj docker login \u3067\u6307\u5b9a\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u304a\u3088\u3073Docker\u30b3\u30de\u30f3\u30c9\u5217\u5168\u4f53( docker login -u ... -p ... )\u3082\u5f97\u3089\u308c\u308b\u3002(\u30e6\u30fc\u30b6\u30fc\u540d\u306f\u30c8\u30fc\u30af\u30f3\u540d\u306b\u306a\u308b)","title":"Registry"},{"location":"Container/registry/#registry","text":"","title":"Registry"},{"location":"Container/registry/#api","text":"","title":"API"},{"location":"Container/registry/#_1","text":"curl https://registry.example.org/v2/_catalog","title":"\u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7(\u30a4\u30e1\u30fc\u30b8\u4e00\u89a7)"},{"location":"Container/registry/#_2","text":"\u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7\u3067\u30d2\u30c3\u30c8\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u3092\u30d1\u30b9\u306b\u542b\u3081\u308b curl https://registry.example.org/v2/<repository-name>/tags/list","title":"\u30a4\u30e1\u30fc\u30b8\u306e\u30bf\u30b0\u4e00\u89a7"},{"location":"Container/registry/#saas","text":"","title":"SaaS"},{"location":"Container/registry/#github-container-registry","text":"\u624b\u9806\u306f\u4ee5\u4e0b\u3002 \u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u306e\u5229\u7528 - GitHub Docs \u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u3001\u500b\u4eba\u7528\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002 \u500b\u4eba\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u7528\u3059\u308b - GitHub Docs Personal Access Tokens (Classic) \u3067[Generate new token]\u62bc\u4e0b\u3001Select scopes\u306e write:packages \u306b\u30c1\u30a7\u30c3\u30af\u3057\u3066[Generate token]\u62bc\u4e0b\u3059\u308c\u3070\u30c8\u30fc\u30af\u30f3\u304c\u751f\u6210\u3055\u308c\u308b\u3002 GitHub\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u3001\u5165\u624b\u3057\u305f\u30c8\u30fc\u30af\u30f3\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u3057\u3066\u3001 $ docker login ghcr.io \u3059\u308c\u3070\u8a8d\u8a3c\u3067\u304d\u308b\u3002 \u3042\u3068\u306f ghcr.io/zaki-lknr/squid:5.0.4-alpine-3.13 \u3068\u304b\u306e\u540d\u524d\u306e\u30bf\u30b0\u3092\u3064\u3051\u308c\u3070 push \u3082\u3067\u304d\u308b\u3002 push\u3055\u308c\u305f\u30a4\u30e1\u30fc\u30b8\u306f\u3001GitHub\u306eweb\u753b\u9762\u306e\u300cPackages\u300d\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306fprivate\u8a2d\u5b9a\u3002","title":"GitHub Container Registry"},{"location":"Container/registry/#ecr-elastic-container-registry","text":"\u8a8d\u8a3c\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\u306f aws CLI\u3092\u4f7f\u7528\u3002 aws ecr get-login-password \u3092\u5b9f\u884c\u3059\u308b\u3068\u30ec\u30b8\u30b9\u30c8\u30ea\u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002 $ aws ecr get-login-password --region ap-northeast-1 eyJwYXls ...... \u30ed\u30b0\u30a4\u30f3\u6642\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u306f AWS \u56fa\u5b9a\u306e\u305f\u3081\u3001\u30ec\u30b8\u30b9\u30c8\u30ea\u30ed\u30b0\u30a4\u30f3\u7528\u306e\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 $ podman login <registry URL> -u AWS -p $( aws ecr get-login-password ) \u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ec\u30b8\u30b9\u30c8\u30ea\u306e\u8a8d\u8a3c - Amazon ECR","title":"ECR (Elastic Container Registry)"},{"location":"Container/registry/#acr","text":"\u30dd\u30fc\u30bf\u30eb\u304b\u3089\u306e\u5834\u5408\u306f\u3001\u30ec\u30b8\u30b9\u30c8\u30ea\u30e1\u30cb\u30e5\u30fc\u306e\u300c\u30c8\u30fc\u30af\u30f3\u300d\u304b\u3089\u3001\u300c\u8ffd\u52a0\u300d\u3067\u30c8\u30fc\u30af\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002\u30b9\u30b3\u30fc\u30d7\u30de\u30c3\u30d7\u306b\u6a29\u9650\u3092\u5165\u529b\u3002 \u4f5c\u6210\u3057\u305f\u30c8\u30fc\u30af\u30f3\u306e\u300c\u8a73\u7d30\u300d\u304b\u3089\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u751f\u6210\u3067\u304d\u308b\u3002 \u751f\u6210\u3055\u308c\u308b\u306e\u306fj docker login \u3067\u6307\u5b9a\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u304a\u3088\u3073Docker\u30b3\u30de\u30f3\u30c9\u5217\u5168\u4f53( docker login -u ... -p ... )\u3082\u5f97\u3089\u308c\u308b\u3002(\u30e6\u30fc\u30b6\u30fc\u540d\u306f\u30c8\u30fc\u30af\u30f3\u540d\u306b\u306a\u308b)","title":"ACR"},{"location":"Container/skopeo/","text":"skopeo containers/skopeo: Work with remote images registries - retrieving information, images, signing content copy \u30ed\u30fc\u30ab\u30eb\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u30ea\u30e2\u30fc\u30c8\u3078push skopeo copy docker://localhost/image:tag docker://remote.example.org/image:tag \u30ea\u30e2\u30fc\u30c8\u9593\u30b3\u30d4\u30fc\u3082\u540c\u69d8\u306b\u53ef\u3002 skopeo copy docker://docker.io/alpine:3.19.3 docker://remote.example.org/mirror-images/alpine:3.19.3","title":"skopeo"},{"location":"Container/skopeo/#skopeo","text":"containers/skopeo: Work with remote images registries - retrieving information, images, signing content","title":"skopeo"},{"location":"Container/skopeo/#copy","text":"\u30ed\u30fc\u30ab\u30eb\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u30ea\u30e2\u30fc\u30c8\u3078push skopeo copy docker://localhost/image:tag docker://remote.example.org/image:tag \u30ea\u30e2\u30fc\u30c8\u9593\u30b3\u30d4\u30fc\u3082\u540c\u69d8\u306b\u53ef\u3002 skopeo copy docker://docker.io/alpine:3.19.3 docker://remote.example.org/mirror-images/alpine:3.19.3","title":"copy"},{"location":"Git/","text":"Git\u57fa\u672c\u64cd\u4f5c gist \u304b\u3089\u5f15\u3063\u8d8a\u3057\u3002 git clone branch\u3092\u6307\u5b9a $ git clone -b <branch-name> <repository-URL> tag\u306e\u5834\u5408\u3082\u540c\u3058\u3088\u3046\u306b $ git clone -b <tag-name> <repository> \u51fa\u529b\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6307\u5b9a -l <dirname> \u3092\u4ed8\u3051\u308b $ git clone -b <branch-name> <repository-URL> -l app-src-work \u5b9f\u306f -l \u306f\u7121\u304f\u3066\u3082\u3088\u3044\u3002 $ git clone <repository-url> <local-path> \u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u6210 \u30ea\u30dd\u30b8\u30c8\u30ea\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u3063\u3066\u305d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0a\u3067 git init \u3057\u3066 README.md \u3092initial commit\u3059\u308b\u3002 $ git init $ echo \"# this is hogehgoe repository\" >> README.md $ git add README.md $ git commit -m \"first commit\" \u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u6210 ssh $ cd /opt/repos $ git init --bare sample.git \u3053\u308c\u3067 /opt/repos/sample.git \u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u51fa\u6765\u308b\u3002 $ cd ${ workdir } $ git clone ssh://localhost/opt/repos/sample.git \u3053\u308c\u3067\u30ef\u30fc\u30af\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bclone\u3067\u304d\u308b\u3002 \u3053\u306e\u5834\u5408\u5bfe\u8c61\u306e\u66f8\u304d\u8fbc\u307f\u6a29\u9650\u306f\u5fc5\u8981\u3002 \u3053\u306e git init --bare <path> \u306f git clone \u3057\u305f\u30af\u30ed\u30fc\u30f3\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u3082\u6709\u52b9\u3002 commit \u307e\u305a\u5bfe\u8c61\u3092add $ git add path/file commit $ git commit \u3053\u308c\u5b9f\u884c\u3059\u308b\u3068\u30a8\u30c7\u30a3\u30bf\u304c\u8d77\u52d5\u3059\u308b\u3002 \u5148\u982d # \u306b\u306a\u3063\u3066\u308b\u884c\u306f\u5168\u3066\u7121\u8996\u3055\u308c\u308b\u306e\u3067\u3001\u4efb\u610f\u306e\u4f4d\u7f6e\u306b\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u3092\u5165\u529b\u3059\u308b option\u3067\u30b3\u30df\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u4ed8\u304dcommit $ git commit -m \"commit messages\" amend $ git commit --amend \u76f4\u524d\u306e\u30b3\u30df\u30c3\u30c8\u306b\u5185\u5bb9\u3092\u3042\u3068\u304b\u3089\u8ffd\u52a0\u3067\u304d\u308b\u3002 \u30b3\u30df\u30c3\u30c8\u6f0f\u308c\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u3063\u305f\u5834\u5408\u306a\u3069\u306b1\u30b3\u30df\u30c3\u30c8\u306b\u307e\u3068\u3081\u3089\u308c\u308b\u3002 $ git commit --amend --no-edit --no-edit \u3092\u4ed8\u4e0e\u3059\u308c\u3070\u3001\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u306f\u524d\u3068\u540c\u3058\u3082\u306e\u3092\u4f7f\u7528\u3067\u304d\u308b\u3002 \u30de\u30fc\u30b8 hogehoge\u30d6\u30e9\u30f3\u30c1\u3092\u30de\u30fc\u30b8\u3059\u308b $ git merge hogehoge \u30de\u30fc\u30b8\u30b3\u30df\u30c3\u30c8\u3092\u4f5c\u308b (--no-ff) $ git merge features/add_worker_node --no-ff rebase\u3067\u30de\u30fc\u30b8 \u4f5c\u696d\u30d6\u30e9\u30f3\u30c1\u3092master\u306bmerge\u3059\u308b\u524d\u306b\u3001master\u306e\u5909\u66f4\u70b9\u3092\u4f5c\u696d\u30d6\u30e9\u30f3\u30c1\u3067rebase\u3067\u53d6\u308a\u8fbc\u3093\u3067\u304a\u304f\u3001\u304c\u57fa\u672c\u306e\u4f7f\u7528\u6cd5\u3063\u307d\u3044\u3002 \u3088\u304f\u5206\u304b\u308b\uff01git rebase\u3068merge\u306e\u9055\u3044\u3068\u4f7f\u3044\u5206\u3051 | WWW\u30af\u30ea\u30a8\u30a4\u30bf\u30fc\u30ba 3\u5206\u3067\u7406\u89e3\u3067\u304d\u308b\uff01git-rebase\u3068merge\u3068\u306e\u9055\u3044\u307e\u3068\u3081 | CodeCampus 7. rebase\u3067\u30de\u30fc\u30b8\u3059\u308b\uff5c\u30b5\u30eb\u5148\u751f\u306eGit\u5165\u9580\u3010\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u7ba1\u7406\u30c4\u30fc\u30ebBacklog\u3011 merge \u306f\u300c\u4ed6\u30d6\u30e9\u30f3\u30c1\u306e\u5185\u5bb9\u3092\u53d6\u308a\u8fbc\u3080\u300d\u3067\u3001 rebase \u306f\u300c\u4ed6\u30d6\u30e9\u30f3\u30c1\u306e\u5185\u5bb9\u3092\u9069\u7528\u6e08\u307f\u3060\u3063\u305f\u3053\u3068\u306b\u3059\u308b\u300d\u304b\u306a\uff1f \u30ea\u30e2\u30fc\u30c8\u30d6\u30e9\u30f3\u30c1\u304b\u3089\u6700\u65b0\u3092\u53d6\u5f97 $ git fetch origin \u6307\u5b9a\u30d6\u30e9\u30f3\u30c1\u306e\u5185\u5bb9\u3092 rebase \u3067\u73fe\u5728\u306e\u30d6\u30e9\u30f3\u30c1\u3078\u53d6\u308a\u8fbc\u307f $ git rebase origin/hogehoge \u5909\u66f4\u304c\u30ed\u30fc\u30ab\u30eb\u306b\u6b8b\u3063\u3066\u308b\u5834\u5408\u306f $ git rebase origin/hogehoge error: cannot rebase: You have unstaged changes. error: Please commit or stash them. \u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\u3001\u9000\u907f\u3057\u3066rebase\u3059\u308b $ git stash save $ git rebase origin/hogehoge $ git stash pop origin/main\u304b\u3089\u53d6\u308a\u8fbc\u3080\u3068\u304d\u306b pull \u3059\u308b\u3068merge\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001rebase\u3057\u305f\u3044\u5834\u5408\u306f fetch \u3059\u308b\u3002(\u305f\u3076\u3093) conflict\u3057\u305f\u5834\u5408 \u4fee\u6b63\u3059\u308b\u5834\u5408\u306f\u666e\u901a\u306b \u4fee\u6b63\u3059\u308b add \u3057\u3066 commit \u3059\u308b(\u666e\u901a) (\u300c\u4fee\u6b63\u3059\u308b\u300d\u3092\u3082\u3046\u5c11\u3057\u8a73\u3057\u304f\u3042\u3068\u3067\u66f8\u3053\u3046) merge\u3092\u3084\u3081\u308b\u5834\u5408(\u672a\u4fee\u6b63) $ git merge --abort \u30de\u30fc\u30b8\u524d\u306e\u72b6\u614b\u306b\u623b\u308b\u3002 rebase\u306e\u30b3\u30f3\u30d5\u30ea\u30af\u30c8\u6642\u306e\u53d6\u308a\u6d88\u3057\u306f\u4ee5\u4e0b\u3002 git rebase --abort rebase\u306e\u30b3\u30f3\u30d5\u30ea\u30af\u30c8 git rebase main \u3057\u305f\u3089\u3053\u306e\u30a8\u30e9\u30fc Auto-merging <filename> CONFLICT (content): Merge conflict in <filename> error: could not apply e91cdab... <commit message> hint: Resolve all conflicts manually, mark them as resolved with hint: \"git add/rm <conflicted_files>\", then run \"git rebase --continue\". hint: You can instead skip this commit: run \"git rebase --skip\". hint: To abort and get back to the state before \"git rebase\", run \"git rebase --abort\". hint: Disable this message with \"git config advice.mergeConflict false\" Could not apply e91cdab... <commit message> git-prompt \u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u8868\u793a\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002 (feature/branch *+|REBASE 1/1) \u30b3\u30f3\u30d5\u30ea\u30af\u30c8\u7b87\u6240\u306e\u4fee\u6b63\u3068\u4fee\u6b63\u5f8c\u306e add \u306f merge \u306e\u6642\u3068\u540c\u69d8\u3002 add \u3057\u305f\u72b6\u614b\u306e status $ git st interactive rebase in progress; onto a4650f8 Last command done (1 command done): pick e91cdab add: 24\u6642\u9593\u4ee5\u5185\u306e\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u6570\u306e\u8868\u793a #59 No commands remaining. You are currently rebasing branch 'feature/count-24' on 'a4650f8'. (all conflicts fixed: run \"git rebase --continue\") Changes to be committed: (use \"git restore --staged <file>...\" to unstage) modified: swarm.js \u3053\u3053\u3067 rebase \u3092\u7d9a\u3051\u308b\u305f\u3081\u306b\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u51fa\u3066\u308b\u901a\u308a git rebase --continue \u3092\u5b9f\u884c\u3059\u308b\u3068\u30a8\u30c7\u30a3\u30bf\u304c\u8d77\u52d5\u3059\u308b\u306e\u3067\u30b3\u30df\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u7de8\u96c6\u3059\u308c\u3070rebase\u304c\u5b8c\u4e86\u3059\u308b\u3002 stash pop\u5f8c\u306econflict \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a git merge --abort \u306f\u52b9\u304b\u306a\u3044\u3002 \u72b6\u614b\u3068\u3057\u3066\u306f\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u306b\u306a\u3063\u3066\u3044\u308b\u3002 Unmerged paths: (use \"git restore --staged <file>...\" to unstage) (use \"git add <file>...\" to mark resolution) both modified: filename \u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u3042\u308b\u901a\u308a\u3001\u30b3\u30f3\u30d5\u30ea\u30af\u30c8\u3092\u89e3\u6c7a\u3057\u305f\u306e\u3067\u3042\u308c\u3070 git add \u3092\u3001\u5909\u66f4\u3092\u7834\u68c4\u3057\u305f\u3044\u5834\u5408\u306f git restore --staged \u3067 add \u3092\u53d6\u308a\u6d88\u3057\u3001\u3055\u3089\u306b git restore \u3059\u308c\u3070\u5909\u66f4\u524d\u306e\u72b6\u614b\u306b\u623b\u308b\u3002 add (\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0) \u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u306b\u8ffd\u52a0 $ git add <path> \u30d1\u30b9\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6307\u5b9a\u306e\u5834\u5408\u306f\u518d\u5e30\u7684\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u8ffd\u52a0\u3055\u308c\u308b \u884c\u5358\u4f4d\u306eadd $ git add -p \u5b9f\u884c\u3059\u308b\u3068add\u5bfe\u8c61\u306e\u7bc4\u56f2\u304cdiff\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u5909\u66f4\u5358\u4f4d\u3054\u3068\u306b y \u3067\u8ffd\u52a0\u30fb n \u3067\u30b9\u30eb\u30fc\u3067\u304d\u308b\u3002 \u7bc4\u56f2\u304c\u5927\u304d\u304f\u3066\u7d30\u5206\u5316\u3057\u305f\u3044\u5834\u5408\u306f s \u62bc\u4e0b\u3002 \u305d\u308c\u4ee5\u4e0a\u306b\u5909\u66f4\u5358\u4f4d\u3092\u7d30\u304b\u304f\u5206\u5272\u3059\u308b\u5834\u5408\u306f e \u3067\u30a8\u30c7\u30a3\u30bf\u304c\u8d77\u52d5\u3059\u308b\u306e\u3067\u3001 - \u306e\u524a\u9664\u884c\u3092\u5bfe\u8c61\u5916\u306b\u3059\u308b\u306b\u306f\u30b9\u30da\u30fc\u30b9\u306b\u5909\u66f4 + \u306e\u8ffd\u52a0\u884c\u3092\u5bfe\u8c61\u5916\u306b\u3059\u308b\u306b\u306f\u884c\u524a\u9664 \u3059\u308b\u3002 To remove '-' lines, make them ' ' lines (context). To remove '+' lines, delete them. Lines starting with # will be removed. If the patch applies cleanly, the edited hunk will immediately be marked for staging. If it does not apply cleanly, you will be given an opportunity to \u8ffd\u52a0\u306e\u53d6\u308a\u6d88\u3057 $ git restore --staged <path> \u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d $ git status \u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u306b\u8ffd\u52a0\u3055\u308c\u305f\u5dee\u5206\u3092\u78ba\u8a8d $ git diff --cached [file] \u30d6\u30e9\u30f3\u30c1\u64cd\u4f5c \u4eca\u3044\u308b\u30d6\u30e9\u30f3\u30c1\u3069\u3053\uff1f $ git branch dev/calico devel features/cni_use_calico features/delete_node features/divide_playbook features/divide_roles features/separate_cni_firewalld_configure features/separate_parameters features/wait_new_node * master \u4eca\u3044\u308b\u30d6\u30e9\u30f3\u30c1\u306b\u30de\u30fc\u30b8\u6e08\u307f(\u672a\u30de\u30fc\u30b8)\u306e\u30d6\u30e9\u30f3\u30c1\u306f\uff1f $ git branch * devel init_container_description $ git branch --merged * devel \u3053\u306e\u7d50\u679c\u306f\u3001\u73fe\u5728\u306e\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u306e devel \u30d6\u30e9\u30f3\u30c1\u306b init_container_description \u306f\u30de\u30fc\u30b8\u3055\u308c\u3066\u306a\u3044\u72b6\u614b\u3092\u793a\u3059\u3002 (\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u306f\u30de\u30fc\u30b8\u6e08\u307f\u3067\u672a\u3060pull\u3055\u308c\u3066\u306a\u3044\u5834\u5408\u3092\u542b\u3080) \u672a\u30de\u30fc\u30b8\u306f --no-merged \u3092\u4ed8\u4e0e\u3002 \u3042\u304f\u307e\u3067\u300c\u30ab\u30ec\u30f3\u30c8\u306e\u30d6\u30e9\u30f3\u30c1\u306b\u30de\u30fc\u30b8\u3055\u308c\u3066\u308b\u304b\uff1f\u300d\u3092\u30ea\u30b9\u30c8\u3059\u308b\u3002 \u5404\u30d6\u30e9\u30f3\u30c1\u306e\u76f4\u8fd1\u306e\u30b3\u30df\u30c3\u30c8\u4e00\u89a7 git branch -v \u30d6\u30e9\u30f3\u30c1\u4f5c\u6210 $ git branch features/divide_playbook \u30d6\u30e9\u30f3\u30c1\u5207\u308a\u66ff\u3048 $ git checkout features/divide_playbook Git 2.23\u4ee5\u964d\u306f $ git switch features/divide_playbook \u30d6\u30e9\u30f3\u30c1\u4f5c\u6210\uff06\u5207\u308a\u66ff\u3048 $ git checkout -b features/divide_playbook Git 2.23\u4ee5\u964d\u306f $ git switch -c features/divide_playbook \u30d6\u30e9\u30f3\u30c1\u9593\u306e\u5dee\u5206 \u30d6\u30e9\u30f3\u30c1\u540d\u3092\u5f15\u6570\u306b\u5b9f\u884c\u3059\u308c\u3070OK git diff <branch1-name> <branch2-name> \u30ed\u30fc\u30ab\u30eb\u30d6\u30e9\u30f3\u30c1\u306e\u524a\u9664 $ git branch --delete features/swapoff features/replace-yum-config-manager \u2191\u8907\u6570\u6307\u5b9a\u3057\u305f\u5834\u5408 \u30ed\u30fc\u30ab\u30eb\u30d6\u30e9\u30f3\u30c1\u306e\u5f37\u5236\u524a\u9664 \u672a\u30de\u30fc\u30b8\u306e\u30b3\u30df\u30c3\u30c8\u304c\u3042\u3063\u305f\u308a\u3059\u308b\u3068\u524a\u9664\u3067\u304d\u306a\u3044\u3051\u3069\u3001 -D \u3067\u5f37\u5236\u7684\u306b\u524a\u9664\u3067\u304d\u308b $ git branch features/foobar -D \u30ed\u30fc\u30ab\u30eb\u30d6\u30e9\u30f3\u30c1\u540d\u306e\u5909\u66f4 # \u73fe\u5728\u306e\u30d6\u30e9\u30f3\u30c1\u540d\u3092\u5909\u66f4 $ git branch -m <new-branch-name> # \u6307\u5b9a\u30d6\u30e9\u30f3\u30c1\u3092\u5909\u66f4 $ git branch -m <current-branch-name> <new-branch-name> # \u5f37\u5236\u5909\u66f4 ( GitHub\u306equick setup\u306e\u8868\u793a\u3060\u3068\u3053\u308c ) $ git branch -M main # --help\u3092\u898b\u308b\u9650\u308a ` --move --force ` \u3063\u307d\u3044 \u4f5c\u6210\u6e08\u307f\u30ea\u30dd\u30b8\u30c8\u30ea\u306e master \u3092 main \u306b\u5909\u66f4\u3059\u308b\u306e\u3082\u3053\u308c\u3002 git branch -m master main \u30d6\u30e9\u30f3\u30c1\u3092push # \u540c\u3058\u30d6\u30e9\u30f3\u30c1\u540d\u3067push $ git push origin <local-branch-name> # \u7570\u306a\u308b\u30d6\u30e9\u30f3\u30c1\u540d\u3067push $ git push origin <local-branch-name>:<remote-branch-name> # \u8907\u6570\u30d6\u30e9\u30f3\u30c1\u307e\u3068\u3081\u3066push $ git push origin <branch-name-1> <branch-name-2> \u30ea\u30e2\u30fc\u30c8\u306e\u30d6\u30e9\u30f3\u30c1\u4e00\u89a7 $ git branch -r \u30ea\u30e2\u30fc\u30c8\u30d6\u30e9\u30f3\u30c1\u3092fetch $ git fetch origin <remote-branch> \u30ea\u30e2\u30fc\u30c8\u306e\u30d6\u30e9\u30f3\u30c1\u3092\u30ed\u30fc\u30ab\u30eb\u306e\u8ffd\u8de1\u30d6\u30e9\u30f3\u30c1\u306b\u53d6\u308a\u8fbc\u3080\u3002 \u3053\u308c\u3067\u30ed\u30fc\u30ab\u30eb\u30d6\u30e9\u30f3\u30c1\u306b merge \u3084 rebase \u51fa\u6765\u308b\u3002 \u30ea\u30e2\u30fc\u30c8\u30d6\u30e9\u30f3\u30c1\u3092\u524a\u9664 $ git push origin :<remote-branch-name> git remote -r \u3067\u51fa\u529b\u3055\u308c\u308b\u306e\u306b\u3059\u3067\u306b\u30ea\u30e2\u30fc\u30c8\u306b\u306f\u7121\u3044\u5834\u5408\u306f git fetch --prune \u3067\u53c2\u7167\u306e\u306a\u3044\u30d6\u30e9\u30f3\u30c1\u306f\u6d88\u3048\u308b $ git push origin :<remote-branch-name> error: failed to push some refs to 'github.com:******' # \u6d88\u305b\u306a\u3044 $ git fetch --prune stash \u4e00\u89a7 stash\u306b\u9000\u907f\u3057\u3066\u3044\u308b\u5185\u5bb9\u306e\u4e00\u89a7 git stash list \u9000\u907f \u73fe\u5728\u306e\u672a\u30b3\u30df\u30c3\u30c8\u306e\u5909\u66f4\u3092stash\u3078\u9000\u907f git stash save \u540d\u524d\u4ed8\u304d\u306e\u9000\u907f git stash save comment list \u5b9f\u884c\u6642\u306b\u30b3\u30e1\u30f3\u30c8\u304c\u8868\u793a\u3055\u308c\u308b\u3002 \u9000\u907f\u30c7\u30fc\u30bf\u3092\u3082\u3068\u306b\u623b\u3059 git stash pop \u9000\u907f\u30c7\u30fc\u30bf\u306e\u8a73\u7d30 git stash show stash@{0} -p \u3053\u308c\u3067diff\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3067\u304d\u308b\u3002 -p \u7121\u3057\u306e\u5834\u5408\u306f\u30b5\u30de\u30ea\u306e\u307f\u3002 \u9000\u907f\u3057\u305f\u30c7\u30fc\u30bf\u3068\u306ediff git diff stash@{0} \u9000\u907f\u30c7\u30fc\u30bf\u306e\u524a\u9664 \u30ef\u30fc\u30af\u3092\u9000\u907f\u3057\u3066\u305f\u3051\u3069\u4e0d\u8981\u306b\u306a\u3063\u305f\u3068\u304b\u3002 git stash drop [stash] git stash drop stash@{0} tag\u64cd\u4f5c \u30bf\u30b0\u64cd\u4f5c\u306f\u57fa\u672c\u7684\u306b\u30d6\u30e9\u30f3\u30c1\u3068\u540c\u3058\u3002 tag\u3092\u4f5c\u6210 \u6700\u65b0\u30b3\u30df\u30c3\u30c8\u3078tag\u3092\u4f5c\u6210 git tag -a tag-name -m 'coment' tag\u3092push\u3059\u308b \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306ftag\u306fpush\u3055\u308c\u306a\u3044 $ git push --tags tag\u3092clone\u3059\u308b \u6307\u5b9atag\u3092clone\u3059\u308b\u306e\u306f\u30d6\u30e9\u30f3\u30c1\u3068\u540c\u3058 $ git clone -b <tag-name> <repository> tag\u4e00\u89a7 $ git tag -l \u306f\u4ed8\u3051\u3066\u3082\u7121\u304f\u3066\u3082tag\u540d\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\u3002 $ git tag -n -n \u3092\u4ed8\u3051\u308b\u3068\u30bf\u30b0\u306e\u30b3\u30e1\u30f3\u30c8\u3082\u4e00\u7dd2\u306b\u8868\u793a\u3055\u308c\u308b\u3002 \u6307\u5b9atag\u306b\u30d6\u30e9\u30f3\u30c1\u5207\u308a\u66ff\u3048 (tag\u3092\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8) $ git checkout <tag-name> switch\u306e\u5834\u5408\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u5fc5\u8981\uff1f $ git switch --detach <tag-name> \u79fb\u52d5 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u65b0\u898f\u4f5c\u6210\u3057\u305d\u3053\u3078\u65e2\u5b58\u30d5\u30a1\u30a4\u30eb\u3092\u79fb\u52d5 $ mkdir dir $ git add dir $ git mv managed.file dir/ \u524a\u9664 \u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664 $ git rm /path/to/file \u5b9f\u30d5\u30a1\u30a4\u30eb\u3082\u6d88\u3048\u308b \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664 $ git rm -r /path/to/directory \u5b9f\u30d5\u30a1\u30a4\u30eb\u3082\u6d88\u3048\u308b \u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u304b\u3089\u5916\u3059\u306e\u307f $ git rm --cached /path/to/file Git\u4e0a\u306f\u524a\u9664\u3055\u308c\u308b\u304c\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u306f\u6b8b\u308b\u3002 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5834\u5408\u306f -r \u3082\u3064\u3051\u308b\u3002 git rm \u76f4\u5f8c\u306f\u3001 git status \u3067\u524a\u9664\u3057\u305f\u3082\u306e\u304c deleted \u3068\u8868\u793a\u3055\u308c\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u72b6\u614b\u306a\u306e\u3067\u3001 commit \u3059\u308c\u3070\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u53cd\u6620\u3055\u308c\u308b\u3002 Untracked\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3059\u308b -n \u3067\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d $ git clean -n [ path/to ] -f \u3067\u524a\u9664\u3059\u308b\u3002 $ git clean -f [ path/to ] \u30b3\u30df\u30c3\u30c8\u30ed\u30b0 \u30ed\u30b0\u3092\u898b\u308b $ git log k8s\u306e\u30af\u30bb\u3067 logs \u3063\u3066\u5165\u308c\u308b\u3068\u6012\u3089\u308c\u308b 1\u884c\u306e\u30b7\u30f3\u30d7\u30eb\u306a\u30ed\u30b0\u3067\u51fa\u529b $ git log --oneline \u30de\u30fc\u30b8/\u30d6\u30e9\u30f3\u30c1\u306a\u3069\u306e\u30c4\u30ea\u30fc\u3082\u8868\u793a $ git log --oneline --graph \u5225\u30d6\u30e9\u30f3\u30c1\u306e\u30ed\u30b0 $ git log <branch-name> \u30de\u30fc\u30b8\u5143\u306e\u30d6\u30e9\u30f3\u30c1\u306e\u30b3\u30df\u30c3\u30c8\u306f\u975e\u8868\u793a $ git log --first-parent \u30b3\u30df\u30c3\u30c8\u6642\u306e\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u3092\u8868\u793a pull \u306e\u3088\u3046\u306b\u5909\u66f4\u91cf\u306a\u3069\u3092\u8868\u793a $ git log --stat : : commit 8331291c45b99411ee14076cc0e73dddfeafa153 ( HEAD -> main, origin/main, origin/HEAD ) Author: zaki-lknr <zaki.hmkc+github@gmail.com> Date: Wed Sep 15 16 :44:39 2021 +0900 add: ansible/directives: when\u3067\u30ea\u30b9\u30c8 docs/Ansible/directives.md | 24 ++++++++++++++++++++++++ 1 file changed, 24 insertions ( + ) status \u306e\u3068\u304d\u306e\u3088\u3046\u306b\u5909\u66f4\u7a2e\u5225\u306e\u8868\u793a $ git log --name-status : : commit 8331291c45b99411ee14076cc0e73dddfeafa153 ( HEAD -> main, origin/main, origin/HEAD ) Author: zaki-lknr <zaki.hmkc+github@gmail.com> Date: Wed Sep 15 16 :44:39 2021 +0900 add: ansible/directives: when\u3067\u30ea\u30b9\u30c8 M docs/Ansible/directives.md --oneline \u3068\u306e\u4f75\u7528\u3082\u53ef \u5dee\u5206 \u76f4\u524d\u306e\u30b3\u30df\u30c3\u30c8\u306e\u5dee\u5206 git diff HEAD^ \u672a\u30b3\u30df\u30c3\u30c8\u304c\u3042\u308c\u3070\u305d\u308c\u3082\u542b\u3081\u3066\u8868\u793a\u3055\u308c\u308b( git diff \u306e\u7d50\u679c\u3068\u30df\u30c3\u30af\u30b9\u3055\u308c\u308b) \u672a\u30b3\u30df\u30c3\u30c8\u3092\u9664\u304f\u306b\u306f git diff HEAD^ HEAD \u30d6\u30e9\u30f3\u30c1\u9593\u306e\u5dee\u5206 \u30d6\u30e9\u30f3\u30c1\u540d\u3092\u5f15\u6570\u306b\u5b9f\u884c\u3059\u308c\u3070OK git diff <branch1-name> <branch2-name> \u6307\u5b9a\u30b3\u30df\u30c3\u30c8\u306e\u5909\u66f4\u70b9 \u30b3\u30df\u30c3\u30c8A\u3068\u30b3\u30df\u30c3\u30c8B\u306e\u5dee\u5206\u306f git diff A B \u3067\u898b\u308c\u308b\u304c\u3001\u300c\u30b3\u30df\u30c3\u30c8A\u306b\u3088\u308b\u5909\u66f4\u70b9\u300d\u306f\u30b3\u30df\u30c3\u30c8A\u306eSHA1\u5024\u3060\u3051\u3067 ^ \u3092\u4ed8\u4e0e\u3059\u308b git diff A\u306eID^ A\u306eID whitespace\u7121\u8996 $ git diff -w - w , -- ignore - all - space Ignore whitespace when comparing lines . This ignores differences even if one line has whitespace where the other line has none . \u3053\u306e\u884c\u3092\u30b3\u30df\u30c3\u30c8\u3057\u305f\u306e\u306f\u8ab0 (git blame) \u3053\u308c\u3067\u884c\u3054\u3068\u306e\u6700\u7d42\u30b3\u30df\u30c3\u30c8\u306eID\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3001\u30b3\u30df\u30c3\u30c8\u65e5\u6642\u304c\u51fa\u529b\u3055\u308c\u308b git blame <filename> git blame\u3067\u7279\u5b9a\u30b3\u30df\u30c3\u30c8\u3092\u9664\u304f \u4f8b\u3048\u3070\u904e\u53bb\u306b\u300c\u30d5\u30a1\u30a4\u30eb\u306e\u6539\u884c\u30b3\u30fc\u30c9\u3092\u5909\u66f4\u300d\u3068\u3044\u3046\u30b3\u30df\u30c3\u30c8\u304c\u3042\u308b\u3068\u3001\u5168\u3066\u306e\u884c\u3067\u5909\u66f4\u304c\u767a\u751f\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u305f\u3081\u3001 git blame \u3092\u4f7f\u3063\u3066\u3082\u305d\u308c\u4ee5\u524d\u306e\u30b3\u30df\u30c3\u30c8\u3092\u78ba\u8a8d\u3067\u304d\u306a\u3044\u3002 \u3053\u3046\u3044\u3046\u6642\u306f\u7279\u5b9a\u306e\u30b3\u30df\u30c3\u30c8\u3092\u9664\u304f --ignore-rev \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u9664\u5916\u3057\u305f\u3044\u30b3\u30df\u30c3\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3002 git blame --ignore-rev <\u9664\u5916\u3057\u305f\u3044\u30b3\u30df\u30c3\u30c8ID> <filename> \u9664\u5916\u5bfe\u8c61\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u3001\u305d\u306e\u5206\u6307\u5b9a\u3059\u308c\u3070OK \u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb \u30ab\u30ec\u30f3\u30c8\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u5225\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u8ffd\u52a0 \u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b bsky-client \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u5225\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30bd\u30fc\u30b9\u3092\u53d6\u5f97\u3059\u308b\u3002 git submodule add https://github.com/zaki-lknr/bsky-client.git bsky-client \u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u66f4\u65b0\u3059\u308b \u5bfe\u8c61\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067 git pull \u3092\u5b9f\u884c\u3059\u308b\u3002 \u89aa\u30ea\u30dd\u30b8\u30c8\u30ea\u3067 git diff \u3059\u308c\u3070\u66f4\u65b0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002 $ git diff diff --git a/bsky-client b/bsky-client index ae590a7..2a0550c 160000 --- a/bsky-client +++ b/bsky-client @@ -1 +1 @@ -Subproject commit ae590a7142b82f0cb77d4fd7b970c6ab3a9dc8fa +Subproject commit 2a0550cfc11ca1d06f13596f2eb087cc75dcdf9b \u524d\u306e\u72b6\u614b\u306b\u623b\u3059 \u6307\u5b9a\u30b3\u30df\u30c3\u30c8\u306e\u72b6\u614b\u306b\u623b\u3059 git reset --hard '\u5bfe\u8c61\u306e\u30b3\u30df\u30c3\u30c8ID' reset --hard \u306f \u30b3\u30df\u30c3\u30c8\u306e\u53d6\u308a\u6d88\u3057 \u306b\u3082\u4f7f\u7528\u3059\u308b \u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u60c5\u5831 git ls-remote \u30ea\u30dd\u30b8\u30c8\u30eaURL \u3067clone\u3057\u3066\u3044\u306a\u304f\u3066\u3082\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u60c5\u5831\u3092\u53c2\u7167\u3067\u304d\u308b git ls-remote https://github.com/zaki-lknr/swarm-sgbt.git \u305d\u306e\u4ed6 HEAD \u6982\u7565(\u8a9e\u5f0a\u3042\u308b\u304b\u3082) HEAD \u306f\u6700\u65b0(\u30ab\u30ec\u30f3\u30c8) HEAD~ 1\u500b\u524d HEAD~1 \u540c\u4e0a(1\u306f\u7701\u7565\u53ef\u80fd) HEAD~2 2\u500b\u524d git log \u3057\u305f\u6642\u306e\u3001 ec33978 (HEAD -> main) add: docker: \u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u30ea\u30f3\u30af\u8ffd\u52a0 bd9aa93 add: ansible/config: ansible.cfg\u30b5\u30f3\u30d7\u30eb bc5eb56 add: git/configure: git-prompt\u8a2d\u5b9a\u5f8c\u306ePS1\u74b0\u5883\u5909\u6570 : \u306b\u5bfe\u3057\u3066\u3001 ec33978 \u304c HEAD bd9aa93 \u304c HEAD~ bc5eb56 \u304c HEAD~2 ^ \u3068 ~ \u306f\u57fa\u672c\u306f\u540c\u3058\u3002 HEAD \u306e\u4e00\u3064\u524d\u306a\u3089 HEAD^ \u307e\u305f\u306f HEAD~ \u30012\u3064\u524d\u306a\u3089 HEAD^^ \u307e\u305f\u306f HEAD~2 \u306b\u306a\u308b\u3002 \u305f\u3060\u3057\u53b3\u5bc6\u306b\u306f\u9055\u3046\u3082\u306e\u3067\u3001 ^ \u306f\u30d6\u30e9\u30f3\u30c1\u306e\u30de\u30fc\u30b8\u3067\u89aa\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306b\u4f7f\u7528\u3059\u308b\u3002 \u30b3\u30df\u30c3\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3068\u304d\u306b\u3001 (\u30c1\u30eb\u30c0)\u3068^(\u30ad\u30e3\u30ec\u30c3\u30c8)\u3092\u4f7f\u3063\u3066\u3042\u308b\u30b3\u30df\u30c3\u30c8\u304b\u3089\u306e\u76f8\u5bfe\u4f4d\u7f6e\u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u6642\u306b\u3001\u3088\u304f\u4f7f\u308f\u308c\u308b\u306e\u304cHEAD\u3067\u3059\u3002 (\u30c1\u30eb\u30c0)\u3092\u5f8c\u308d\u306b\u4ed8\u3051\u52a0\u3048\u308b\u3053\u3068\u3067\u4f55\u4e16\u4ee3\u524d\u306e\u89aa\u304b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002^(\u30ad\u30e3\u30ec\u30c3\u30c8)\u306f\u3001\u30d6\u30e9\u30f3\u30c1\u306e\u30de\u30fc\u30b8\u3067\u89aa\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306b\u3001\u4f55\u756a\u76ee\u306e\u89aa\u304b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30d6\u30e9\u30f3\u30c1\u306e\u5207\u308a\u66ff\u3048\uff5c\u30b5\u30eb\u5148\u751f\u306eGit\u5165\u9580\u3010\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u7ba1\u7406\u30c4\u30fc\u30ebBacklog\u3011 \u30c8\u30ec\u30fc\u30b9\u30ed\u30b0\u51fa\u529b GIT_TRACE \u306a\u3069\u6709\u52b9\u306b\u3059\u308b\u3068\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u308b\u3002 GIT_TRACE=true git push GIT_TRACE_CURL=true git clone https://github.com/zaki-lknr/r2tokimeki.git \u8907\u6570\u6307\u5b9a\u3082\u53ef\u80fd GIT_TRACE=true GIT_TRACE_PACKET=true git clone https://github.com/zaki-lknr/r2tokimeki.git ssh\u306e\u30c7\u30d0\u30c3\u30b0\u30ed\u30b0\u3092\u51fa\u3057\u305f\u3044\u5834\u5408\u306f GIT_SSH_COMMAND=\"ssh -v\" \u3092\u4f7f\u3046\u3002 Git - \u74b0\u5883\u5909\u6570 .gitignore \u7a7a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u7dad\u6301\u3059\u308b\u305f\u3081\u306e\u3001 .gitkeep \u3068 .gitignore \u306e\u4f7f\u3044\u5206\u3051 - Qiita","title":"Git\u57fa\u672c\u64cd\u4f5c"},{"location":"Git/#git","text":"gist \u304b\u3089\u5f15\u3063\u8d8a\u3057\u3002","title":"Git\u57fa\u672c\u64cd\u4f5c"},{"location":"Git/#git-clone","text":"","title":"git clone"},{"location":"Git/#branch","text":"$ git clone -b <branch-name> <repository-URL> tag\u306e\u5834\u5408\u3082\u540c\u3058\u3088\u3046\u306b $ git clone -b <tag-name> <repository>","title":"branch\u3092\u6307\u5b9a"},{"location":"Git/#_1","text":"-l <dirname> \u3092\u4ed8\u3051\u308b $ git clone -b <branch-name> <repository-URL> -l app-src-work \u5b9f\u306f -l \u306f\u7121\u304f\u3066\u3082\u3088\u3044\u3002 $ git clone <repository-url> <local-path>","title":"\u51fa\u529b\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6307\u5b9a"},{"location":"Git/#_2","text":"\u30ea\u30dd\u30b8\u30c8\u30ea\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u3063\u3066\u305d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0a\u3067 git init \u3057\u3066 README.md \u3092initial commit\u3059\u308b\u3002 $ git init $ echo \"# this is hogehgoe repository\" >> README.md $ git add README.md $ git commit -m \"first commit\"","title":"\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u6210"},{"location":"Git/#_3","text":"","title":"\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u6210"},{"location":"Git/#ssh","text":"$ cd /opt/repos $ git init --bare sample.git \u3053\u308c\u3067 /opt/repos/sample.git \u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u51fa\u6765\u308b\u3002 $ cd ${ workdir } $ git clone ssh://localhost/opt/repos/sample.git \u3053\u308c\u3067\u30ef\u30fc\u30af\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bclone\u3067\u304d\u308b\u3002 \u3053\u306e\u5834\u5408\u5bfe\u8c61\u306e\u66f8\u304d\u8fbc\u307f\u6a29\u9650\u306f\u5fc5\u8981\u3002 \u3053\u306e git init --bare <path> \u306f git clone \u3057\u305f\u30af\u30ed\u30fc\u30f3\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u3082\u6709\u52b9\u3002","title":"ssh"},{"location":"Git/#commit","text":"","title":"commit"},{"location":"Git/#add","text":"$ git add path/file","title":"\u307e\u305a\u5bfe\u8c61\u3092add"},{"location":"Git/#commit_1","text":"$ git commit \u3053\u308c\u5b9f\u884c\u3059\u308b\u3068\u30a8\u30c7\u30a3\u30bf\u304c\u8d77\u52d5\u3059\u308b\u3002 \u5148\u982d # \u306b\u306a\u3063\u3066\u308b\u884c\u306f\u5168\u3066\u7121\u8996\u3055\u308c\u308b\u306e\u3067\u3001\u4efb\u610f\u306e\u4f4d\u7f6e\u306b\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u3092\u5165\u529b\u3059\u308b","title":"commit"},{"location":"Git/#optioncommit","text":"$ git commit -m \"commit messages\"","title":"option\u3067\u30b3\u30df\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u4ed8\u304dcommit"},{"location":"Git/#amend","text":"$ git commit --amend \u76f4\u524d\u306e\u30b3\u30df\u30c3\u30c8\u306b\u5185\u5bb9\u3092\u3042\u3068\u304b\u3089\u8ffd\u52a0\u3067\u304d\u308b\u3002 \u30b3\u30df\u30c3\u30c8\u6f0f\u308c\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u3063\u305f\u5834\u5408\u306a\u3069\u306b1\u30b3\u30df\u30c3\u30c8\u306b\u307e\u3068\u3081\u3089\u308c\u308b\u3002 $ git commit --amend --no-edit --no-edit \u3092\u4ed8\u4e0e\u3059\u308c\u3070\u3001\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u306f\u524d\u3068\u540c\u3058\u3082\u306e\u3092\u4f7f\u7528\u3067\u304d\u308b\u3002","title":"amend"},{"location":"Git/#_4","text":"","title":"\u30de\u30fc\u30b8"},{"location":"Git/#hogehoge","text":"$ git merge hogehoge","title":"hogehoge\u30d6\u30e9\u30f3\u30c1\u3092\u30de\u30fc\u30b8\u3059\u308b"},{"location":"Git/#-no-ff","text":"$ git merge features/add_worker_node --no-ff","title":"\u30de\u30fc\u30b8\u30b3\u30df\u30c3\u30c8\u3092\u4f5c\u308b (--no-ff)"},{"location":"Git/#rebase","text":"\u4f5c\u696d\u30d6\u30e9\u30f3\u30c1\u3092master\u306bmerge\u3059\u308b\u524d\u306b\u3001master\u306e\u5909\u66f4\u70b9\u3092\u4f5c\u696d\u30d6\u30e9\u30f3\u30c1\u3067rebase\u3067\u53d6\u308a\u8fbc\u3093\u3067\u304a\u304f\u3001\u304c\u57fa\u672c\u306e\u4f7f\u7528\u6cd5\u3063\u307d\u3044\u3002 \u3088\u304f\u5206\u304b\u308b\uff01git rebase\u3068merge\u306e\u9055\u3044\u3068\u4f7f\u3044\u5206\u3051 | WWW\u30af\u30ea\u30a8\u30a4\u30bf\u30fc\u30ba 3\u5206\u3067\u7406\u89e3\u3067\u304d\u308b\uff01git-rebase\u3068merge\u3068\u306e\u9055\u3044\u307e\u3068\u3081 | CodeCampus 7. rebase\u3067\u30de\u30fc\u30b8\u3059\u308b\uff5c\u30b5\u30eb\u5148\u751f\u306eGit\u5165\u9580\u3010\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u7ba1\u7406\u30c4\u30fc\u30ebBacklog\u3011 merge \u306f\u300c\u4ed6\u30d6\u30e9\u30f3\u30c1\u306e\u5185\u5bb9\u3092\u53d6\u308a\u8fbc\u3080\u300d\u3067\u3001 rebase \u306f\u300c\u4ed6\u30d6\u30e9\u30f3\u30c1\u306e\u5185\u5bb9\u3092\u9069\u7528\u6e08\u307f\u3060\u3063\u305f\u3053\u3068\u306b\u3059\u308b\u300d\u304b\u306a\uff1f \u30ea\u30e2\u30fc\u30c8\u30d6\u30e9\u30f3\u30c1\u304b\u3089\u6700\u65b0\u3092\u53d6\u5f97 $ git fetch origin \u6307\u5b9a\u30d6\u30e9\u30f3\u30c1\u306e\u5185\u5bb9\u3092 rebase \u3067\u73fe\u5728\u306e\u30d6\u30e9\u30f3\u30c1\u3078\u53d6\u308a\u8fbc\u307f $ git rebase origin/hogehoge \u5909\u66f4\u304c\u30ed\u30fc\u30ab\u30eb\u306b\u6b8b\u3063\u3066\u308b\u5834\u5408\u306f $ git rebase origin/hogehoge error: cannot rebase: You have unstaged changes. error: Please commit or stash them. \u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\u3001\u9000\u907f\u3057\u3066rebase\u3059\u308b $ git stash save $ git rebase origin/hogehoge $ git stash pop origin/main\u304b\u3089\u53d6\u308a\u8fbc\u3080\u3068\u304d\u306b pull \u3059\u308b\u3068merge\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001rebase\u3057\u305f\u3044\u5834\u5408\u306f fetch \u3059\u308b\u3002(\u305f\u3076\u3093)","title":"rebase\u3067\u30de\u30fc\u30b8"},{"location":"Git/#conflict","text":"","title":"conflict\u3057\u305f\u5834\u5408"},{"location":"Git/#_5","text":"\u4fee\u6b63\u3059\u308b add \u3057\u3066 commit \u3059\u308b(\u666e\u901a) (\u300c\u4fee\u6b63\u3059\u308b\u300d\u3092\u3082\u3046\u5c11\u3057\u8a73\u3057\u304f\u3042\u3068\u3067\u66f8\u3053\u3046)","title":"\u4fee\u6b63\u3059\u308b\u5834\u5408\u306f\u666e\u901a\u306b"},{"location":"Git/#merge","text":"$ git merge --abort \u30de\u30fc\u30b8\u524d\u306e\u72b6\u614b\u306b\u623b\u308b\u3002 rebase\u306e\u30b3\u30f3\u30d5\u30ea\u30af\u30c8\u6642\u306e\u53d6\u308a\u6d88\u3057\u306f\u4ee5\u4e0b\u3002 git rebase --abort","title":"merge\u3092\u3084\u3081\u308b\u5834\u5408(\u672a\u4fee\u6b63)"},{"location":"Git/#rebase_1","text":"git rebase main \u3057\u305f\u3089\u3053\u306e\u30a8\u30e9\u30fc Auto-merging <filename> CONFLICT (content): Merge conflict in <filename> error: could not apply e91cdab... <commit message> hint: Resolve all conflicts manually, mark them as resolved with hint: \"git add/rm <conflicted_files>\", then run \"git rebase --continue\". hint: You can instead skip this commit: run \"git rebase --skip\". hint: To abort and get back to the state before \"git rebase\", run \"git rebase --abort\". hint: Disable this message with \"git config advice.mergeConflict false\" Could not apply e91cdab... <commit message> git-prompt \u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u8868\u793a\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002 (feature/branch *+|REBASE 1/1) \u30b3\u30f3\u30d5\u30ea\u30af\u30c8\u7b87\u6240\u306e\u4fee\u6b63\u3068\u4fee\u6b63\u5f8c\u306e add \u306f merge \u306e\u6642\u3068\u540c\u69d8\u3002 add \u3057\u305f\u72b6\u614b\u306e status $ git st interactive rebase in progress; onto a4650f8 Last command done (1 command done): pick e91cdab add: 24\u6642\u9593\u4ee5\u5185\u306e\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u6570\u306e\u8868\u793a #59 No commands remaining. You are currently rebasing branch 'feature/count-24' on 'a4650f8'. (all conflicts fixed: run \"git rebase --continue\") Changes to be committed: (use \"git restore --staged <file>...\" to unstage) modified: swarm.js \u3053\u3053\u3067 rebase \u3092\u7d9a\u3051\u308b\u305f\u3081\u306b\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u51fa\u3066\u308b\u901a\u308a git rebase --continue \u3092\u5b9f\u884c\u3059\u308b\u3068\u30a8\u30c7\u30a3\u30bf\u304c\u8d77\u52d5\u3059\u308b\u306e\u3067\u30b3\u30df\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u7de8\u96c6\u3059\u308c\u3070rebase\u304c\u5b8c\u4e86\u3059\u308b\u3002","title":"rebase\u306e\u30b3\u30f3\u30d5\u30ea\u30af\u30c8"},{"location":"Git/#stash-popconflict","text":"\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a git merge --abort \u306f\u52b9\u304b\u306a\u3044\u3002 \u72b6\u614b\u3068\u3057\u3066\u306f\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u306b\u306a\u3063\u3066\u3044\u308b\u3002 Unmerged paths: (use \"git restore --staged <file>...\" to unstage) (use \"git add <file>...\" to mark resolution) both modified: filename \u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u3042\u308b\u901a\u308a\u3001\u30b3\u30f3\u30d5\u30ea\u30af\u30c8\u3092\u89e3\u6c7a\u3057\u305f\u306e\u3067\u3042\u308c\u3070 git add \u3092\u3001\u5909\u66f4\u3092\u7834\u68c4\u3057\u305f\u3044\u5834\u5408\u306f git restore --staged \u3067 add \u3092\u53d6\u308a\u6d88\u3057\u3001\u3055\u3089\u306b git restore \u3059\u308c\u3070\u5909\u66f4\u524d\u306e\u72b6\u614b\u306b\u623b\u308b\u3002","title":"stash pop\u5f8c\u306econflict"},{"location":"Git/#add_1","text":"","title":"add (\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0)"},{"location":"Git/#_6","text":"$ git add <path> \u30d1\u30b9\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6307\u5b9a\u306e\u5834\u5408\u306f\u518d\u5e30\u7684\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u8ffd\u52a0\u3055\u308c\u308b","title":"\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u306b\u8ffd\u52a0"},{"location":"Git/#add_2","text":"$ git add -p \u5b9f\u884c\u3059\u308b\u3068add\u5bfe\u8c61\u306e\u7bc4\u56f2\u304cdiff\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u5909\u66f4\u5358\u4f4d\u3054\u3068\u306b y \u3067\u8ffd\u52a0\u30fb n \u3067\u30b9\u30eb\u30fc\u3067\u304d\u308b\u3002 \u7bc4\u56f2\u304c\u5927\u304d\u304f\u3066\u7d30\u5206\u5316\u3057\u305f\u3044\u5834\u5408\u306f s \u62bc\u4e0b\u3002 \u305d\u308c\u4ee5\u4e0a\u306b\u5909\u66f4\u5358\u4f4d\u3092\u7d30\u304b\u304f\u5206\u5272\u3059\u308b\u5834\u5408\u306f e \u3067\u30a8\u30c7\u30a3\u30bf\u304c\u8d77\u52d5\u3059\u308b\u306e\u3067\u3001 - \u306e\u524a\u9664\u884c\u3092\u5bfe\u8c61\u5916\u306b\u3059\u308b\u306b\u306f\u30b9\u30da\u30fc\u30b9\u306b\u5909\u66f4 + \u306e\u8ffd\u52a0\u884c\u3092\u5bfe\u8c61\u5916\u306b\u3059\u308b\u306b\u306f\u884c\u524a\u9664 \u3059\u308b\u3002 To remove '-' lines, make them ' ' lines (context). To remove '+' lines, delete them. Lines starting with # will be removed. If the patch applies cleanly, the edited hunk will immediately be marked for staging. If it does not apply cleanly, you will be given an opportunity to","title":"\u884c\u5358\u4f4d\u306eadd"},{"location":"Git/#_7","text":"$ git restore --staged <path>","title":"\u8ffd\u52a0\u306e\u53d6\u308a\u6d88\u3057"},{"location":"Git/#_8","text":"$ git status","title":"\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d"},{"location":"Git/#_9","text":"$ git diff --cached [file]","title":"\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u306b\u8ffd\u52a0\u3055\u308c\u305f\u5dee\u5206\u3092\u78ba\u8a8d"},{"location":"Git/#_10","text":"","title":"\u30d6\u30e9\u30f3\u30c1\u64cd\u4f5c"},{"location":"Git/#_11","text":"$ git branch dev/calico devel features/cni_use_calico features/delete_node features/divide_playbook features/divide_roles features/separate_cni_firewalld_configure features/separate_parameters features/wait_new_node * master","title":"\u4eca\u3044\u308b\u30d6\u30e9\u30f3\u30c1\u3069\u3053\uff1f"},{"location":"Git/#_12","text":"$ git branch * devel init_container_description $ git branch --merged * devel \u3053\u306e\u7d50\u679c\u306f\u3001\u73fe\u5728\u306e\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u306e devel \u30d6\u30e9\u30f3\u30c1\u306b init_container_description \u306f\u30de\u30fc\u30b8\u3055\u308c\u3066\u306a\u3044\u72b6\u614b\u3092\u793a\u3059\u3002 (\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u306f\u30de\u30fc\u30b8\u6e08\u307f\u3067\u672a\u3060pull\u3055\u308c\u3066\u306a\u3044\u5834\u5408\u3092\u542b\u3080) \u672a\u30de\u30fc\u30b8\u306f --no-merged \u3092\u4ed8\u4e0e\u3002 \u3042\u304f\u307e\u3067\u300c\u30ab\u30ec\u30f3\u30c8\u306e\u30d6\u30e9\u30f3\u30c1\u306b\u30de\u30fc\u30b8\u3055\u308c\u3066\u308b\u304b\uff1f\u300d\u3092\u30ea\u30b9\u30c8\u3059\u308b\u3002","title":"\u4eca\u3044\u308b\u30d6\u30e9\u30f3\u30c1\u306b\u30de\u30fc\u30b8\u6e08\u307f(\u672a\u30de\u30fc\u30b8)\u306e\u30d6\u30e9\u30f3\u30c1\u306f\uff1f"},{"location":"Git/#_13","text":"git branch -v","title":"\u5404\u30d6\u30e9\u30f3\u30c1\u306e\u76f4\u8fd1\u306e\u30b3\u30df\u30c3\u30c8\u4e00\u89a7"},{"location":"Git/#_14","text":"$ git branch features/divide_playbook","title":"\u30d6\u30e9\u30f3\u30c1\u4f5c\u6210"},{"location":"Git/#_15","text":"$ git checkout features/divide_playbook Git 2.23\u4ee5\u964d\u306f $ git switch features/divide_playbook","title":"\u30d6\u30e9\u30f3\u30c1\u5207\u308a\u66ff\u3048"},{"location":"Git/#_16","text":"$ git checkout -b features/divide_playbook Git 2.23\u4ee5\u964d\u306f $ git switch -c features/divide_playbook","title":"\u30d6\u30e9\u30f3\u30c1\u4f5c\u6210\uff06\u5207\u308a\u66ff\u3048"},{"location":"Git/#_17","text":"\u30d6\u30e9\u30f3\u30c1\u540d\u3092\u5f15\u6570\u306b\u5b9f\u884c\u3059\u308c\u3070OK git diff <branch1-name> <branch2-name>","title":"\u30d6\u30e9\u30f3\u30c1\u9593\u306e\u5dee\u5206"},{"location":"Git/#_18","text":"$ git branch --delete features/swapoff features/replace-yum-config-manager \u2191\u8907\u6570\u6307\u5b9a\u3057\u305f\u5834\u5408","title":"\u30ed\u30fc\u30ab\u30eb\u30d6\u30e9\u30f3\u30c1\u306e\u524a\u9664"},{"location":"Git/#_19","text":"\u672a\u30de\u30fc\u30b8\u306e\u30b3\u30df\u30c3\u30c8\u304c\u3042\u3063\u305f\u308a\u3059\u308b\u3068\u524a\u9664\u3067\u304d\u306a\u3044\u3051\u3069\u3001 -D \u3067\u5f37\u5236\u7684\u306b\u524a\u9664\u3067\u304d\u308b $ git branch features/foobar -D","title":"\u30ed\u30fc\u30ab\u30eb\u30d6\u30e9\u30f3\u30c1\u306e\u5f37\u5236\u524a\u9664"},{"location":"Git/#_20","text":"# \u73fe\u5728\u306e\u30d6\u30e9\u30f3\u30c1\u540d\u3092\u5909\u66f4 $ git branch -m <new-branch-name> # \u6307\u5b9a\u30d6\u30e9\u30f3\u30c1\u3092\u5909\u66f4 $ git branch -m <current-branch-name> <new-branch-name> # \u5f37\u5236\u5909\u66f4 ( GitHub\u306equick setup\u306e\u8868\u793a\u3060\u3068\u3053\u308c ) $ git branch -M main # --help\u3092\u898b\u308b\u9650\u308a ` --move --force ` \u3063\u307d\u3044 \u4f5c\u6210\u6e08\u307f\u30ea\u30dd\u30b8\u30c8\u30ea\u306e master \u3092 main \u306b\u5909\u66f4\u3059\u308b\u306e\u3082\u3053\u308c\u3002 git branch -m master main","title":"\u30ed\u30fc\u30ab\u30eb\u30d6\u30e9\u30f3\u30c1\u540d\u306e\u5909\u66f4"},{"location":"Git/#push","text":"# \u540c\u3058\u30d6\u30e9\u30f3\u30c1\u540d\u3067push $ git push origin <local-branch-name> # \u7570\u306a\u308b\u30d6\u30e9\u30f3\u30c1\u540d\u3067push $ git push origin <local-branch-name>:<remote-branch-name> # \u8907\u6570\u30d6\u30e9\u30f3\u30c1\u307e\u3068\u3081\u3066push $ git push origin <branch-name-1> <branch-name-2>","title":"\u30d6\u30e9\u30f3\u30c1\u3092push"},{"location":"Git/#_21","text":"$ git branch -r","title":"\u30ea\u30e2\u30fc\u30c8\u306e\u30d6\u30e9\u30f3\u30c1\u4e00\u89a7"},{"location":"Git/#fetch","text":"$ git fetch origin <remote-branch> \u30ea\u30e2\u30fc\u30c8\u306e\u30d6\u30e9\u30f3\u30c1\u3092\u30ed\u30fc\u30ab\u30eb\u306e\u8ffd\u8de1\u30d6\u30e9\u30f3\u30c1\u306b\u53d6\u308a\u8fbc\u3080\u3002 \u3053\u308c\u3067\u30ed\u30fc\u30ab\u30eb\u30d6\u30e9\u30f3\u30c1\u306b merge \u3084 rebase \u51fa\u6765\u308b\u3002","title":"\u30ea\u30e2\u30fc\u30c8\u30d6\u30e9\u30f3\u30c1\u3092fetch"},{"location":"Git/#_22","text":"$ git push origin :<remote-branch-name> git remote -r \u3067\u51fa\u529b\u3055\u308c\u308b\u306e\u306b\u3059\u3067\u306b\u30ea\u30e2\u30fc\u30c8\u306b\u306f\u7121\u3044\u5834\u5408\u306f git fetch --prune \u3067\u53c2\u7167\u306e\u306a\u3044\u30d6\u30e9\u30f3\u30c1\u306f\u6d88\u3048\u308b $ git push origin :<remote-branch-name> error: failed to push some refs to 'github.com:******' # \u6d88\u305b\u306a\u3044 $ git fetch --prune","title":"\u30ea\u30e2\u30fc\u30c8\u30d6\u30e9\u30f3\u30c1\u3092\u524a\u9664"},{"location":"Git/#stash","text":"","title":"stash"},{"location":"Git/#_23","text":"stash\u306b\u9000\u907f\u3057\u3066\u3044\u308b\u5185\u5bb9\u306e\u4e00\u89a7 git stash list","title":"\u4e00\u89a7"},{"location":"Git/#_24","text":"\u73fe\u5728\u306e\u672a\u30b3\u30df\u30c3\u30c8\u306e\u5909\u66f4\u3092stash\u3078\u9000\u907f git stash save","title":"\u9000\u907f"},{"location":"Git/#_25","text":"git stash save comment list \u5b9f\u884c\u6642\u306b\u30b3\u30e1\u30f3\u30c8\u304c\u8868\u793a\u3055\u308c\u308b\u3002","title":"\u540d\u524d\u4ed8\u304d\u306e\u9000\u907f"},{"location":"Git/#_26","text":"git stash pop","title":"\u9000\u907f\u30c7\u30fc\u30bf\u3092\u3082\u3068\u306b\u623b\u3059"},{"location":"Git/#_27","text":"git stash show stash@{0} -p \u3053\u308c\u3067diff\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3067\u304d\u308b\u3002 -p \u7121\u3057\u306e\u5834\u5408\u306f\u30b5\u30de\u30ea\u306e\u307f\u3002","title":"\u9000\u907f\u30c7\u30fc\u30bf\u306e\u8a73\u7d30"},{"location":"Git/#diff","text":"git diff stash@{0}","title":"\u9000\u907f\u3057\u305f\u30c7\u30fc\u30bf\u3068\u306ediff"},{"location":"Git/#_28","text":"\u30ef\u30fc\u30af\u3092\u9000\u907f\u3057\u3066\u305f\u3051\u3069\u4e0d\u8981\u306b\u306a\u3063\u305f\u3068\u304b\u3002 git stash drop [stash] git stash drop stash@{0}","title":"\u9000\u907f\u30c7\u30fc\u30bf\u306e\u524a\u9664"},{"location":"Git/#tag","text":"\u30bf\u30b0\u64cd\u4f5c\u306f\u57fa\u672c\u7684\u306b\u30d6\u30e9\u30f3\u30c1\u3068\u540c\u3058\u3002","title":"tag\u64cd\u4f5c"},{"location":"Git/#tag_1","text":"\u6700\u65b0\u30b3\u30df\u30c3\u30c8\u3078tag\u3092\u4f5c\u6210 git tag -a tag-name -m 'coment'","title":"tag\u3092\u4f5c\u6210"},{"location":"Git/#tagpush","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306ftag\u306fpush\u3055\u308c\u306a\u3044 $ git push --tags","title":"tag\u3092push\u3059\u308b"},{"location":"Git/#tagclone","text":"\u6307\u5b9atag\u3092clone\u3059\u308b\u306e\u306f\u30d6\u30e9\u30f3\u30c1\u3068\u540c\u3058 $ git clone -b <tag-name> <repository>","title":"tag\u3092clone\u3059\u308b"},{"location":"Git/#tag_2","text":"$ git tag -l \u306f\u4ed8\u3051\u3066\u3082\u7121\u304f\u3066\u3082tag\u540d\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u308b\u3002 $ git tag -n -n \u3092\u4ed8\u3051\u308b\u3068\u30bf\u30b0\u306e\u30b3\u30e1\u30f3\u30c8\u3082\u4e00\u7dd2\u306b\u8868\u793a\u3055\u308c\u308b\u3002","title":"tag\u4e00\u89a7"},{"location":"Git/#tag-tag","text":"$ git checkout <tag-name> switch\u306e\u5834\u5408\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u5fc5\u8981\uff1f $ git switch --detach <tag-name>","title":"\u6307\u5b9atag\u306b\u30d6\u30e9\u30f3\u30c1\u5207\u308a\u66ff\u3048 (tag\u3092\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8)"},{"location":"Git/#_29","text":"","title":"\u79fb\u52d5"},{"location":"Git/#_30","text":"$ mkdir dir $ git add dir $ git mv managed.file dir/","title":"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u65b0\u898f\u4f5c\u6210\u3057\u305d\u3053\u3078\u65e2\u5b58\u30d5\u30a1\u30a4\u30eb\u3092\u79fb\u52d5"},{"location":"Git/#_31","text":"","title":"\u524a\u9664"},{"location":"Git/#_32","text":"$ git rm /path/to/file \u5b9f\u30d5\u30a1\u30a4\u30eb\u3082\u6d88\u3048\u308b","title":"\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664"},{"location":"Git/#_33","text":"$ git rm -r /path/to/directory \u5b9f\u30d5\u30a1\u30a4\u30eb\u3082\u6d88\u3048\u308b","title":"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u524a\u9664"},{"location":"Git/#_34","text":"$ git rm --cached /path/to/file Git\u4e0a\u306f\u524a\u9664\u3055\u308c\u308b\u304c\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u306f\u6b8b\u308b\u3002 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5834\u5408\u306f -r \u3082\u3064\u3051\u308b\u3002 git rm \u76f4\u5f8c\u306f\u3001 git status \u3067\u524a\u9664\u3057\u305f\u3082\u306e\u304c deleted \u3068\u8868\u793a\u3055\u308c\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u72b6\u614b\u306a\u306e\u3067\u3001 commit \u3059\u308c\u3070\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u53cd\u6620\u3055\u308c\u308b\u3002","title":"\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u304b\u3089\u5916\u3059\u306e\u307f"},{"location":"Git/#untracked","text":"-n \u3067\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d $ git clean -n [ path/to ] -f \u3067\u524a\u9664\u3059\u308b\u3002 $ git clean -f [ path/to ]","title":"Untracked\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3059\u308b"},{"location":"Git/#_35","text":"","title":"\u30b3\u30df\u30c3\u30c8\u30ed\u30b0"},{"location":"Git/#_36","text":"$ git log k8s\u306e\u30af\u30bb\u3067 logs \u3063\u3066\u5165\u308c\u308b\u3068\u6012\u3089\u308c\u308b","title":"\u30ed\u30b0\u3092\u898b\u308b"},{"location":"Git/#1","text":"$ git log --oneline","title":"1\u884c\u306e\u30b7\u30f3\u30d7\u30eb\u306a\u30ed\u30b0\u3067\u51fa\u529b"},{"location":"Git/#_37","text":"$ git log --oneline --graph","title":"\u30de\u30fc\u30b8/\u30d6\u30e9\u30f3\u30c1\u306a\u3069\u306e\u30c4\u30ea\u30fc\u3082\u8868\u793a"},{"location":"Git/#_38","text":"$ git log <branch-name>","title":"\u5225\u30d6\u30e9\u30f3\u30c1\u306e\u30ed\u30b0"},{"location":"Git/#_39","text":"$ git log --first-parent","title":"\u30de\u30fc\u30b8\u5143\u306e\u30d6\u30e9\u30f3\u30c1\u306e\u30b3\u30df\u30c3\u30c8\u306f\u975e\u8868\u793a"},{"location":"Git/#_40","text":"pull \u306e\u3088\u3046\u306b\u5909\u66f4\u91cf\u306a\u3069\u3092\u8868\u793a $ git log --stat : : commit 8331291c45b99411ee14076cc0e73dddfeafa153 ( HEAD -> main, origin/main, origin/HEAD ) Author: zaki-lknr <zaki.hmkc+github@gmail.com> Date: Wed Sep 15 16 :44:39 2021 +0900 add: ansible/directives: when\u3067\u30ea\u30b9\u30c8 docs/Ansible/directives.md | 24 ++++++++++++++++++++++++ 1 file changed, 24 insertions ( + ) status \u306e\u3068\u304d\u306e\u3088\u3046\u306b\u5909\u66f4\u7a2e\u5225\u306e\u8868\u793a $ git log --name-status : : commit 8331291c45b99411ee14076cc0e73dddfeafa153 ( HEAD -> main, origin/main, origin/HEAD ) Author: zaki-lknr <zaki.hmkc+github@gmail.com> Date: Wed Sep 15 16 :44:39 2021 +0900 add: ansible/directives: when\u3067\u30ea\u30b9\u30c8 M docs/Ansible/directives.md --oneline \u3068\u306e\u4f75\u7528\u3082\u53ef","title":"\u30b3\u30df\u30c3\u30c8\u6642\u306e\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u3092\u8868\u793a"},{"location":"Git/#_41","text":"","title":"\u5dee\u5206"},{"location":"Git/#_42","text":"git diff HEAD^ \u672a\u30b3\u30df\u30c3\u30c8\u304c\u3042\u308c\u3070\u305d\u308c\u3082\u542b\u3081\u3066\u8868\u793a\u3055\u308c\u308b( git diff \u306e\u7d50\u679c\u3068\u30df\u30c3\u30af\u30b9\u3055\u308c\u308b) \u672a\u30b3\u30df\u30c3\u30c8\u3092\u9664\u304f\u306b\u306f git diff HEAD^ HEAD","title":"\u76f4\u524d\u306e\u30b3\u30df\u30c3\u30c8\u306e\u5dee\u5206"},{"location":"Git/#_43","text":"\u30d6\u30e9\u30f3\u30c1\u540d\u3092\u5f15\u6570\u306b\u5b9f\u884c\u3059\u308c\u3070OK git diff <branch1-name> <branch2-name>","title":"\u30d6\u30e9\u30f3\u30c1\u9593\u306e\u5dee\u5206"},{"location":"Git/#_44","text":"\u30b3\u30df\u30c3\u30c8A\u3068\u30b3\u30df\u30c3\u30c8B\u306e\u5dee\u5206\u306f git diff A B \u3067\u898b\u308c\u308b\u304c\u3001\u300c\u30b3\u30df\u30c3\u30c8A\u306b\u3088\u308b\u5909\u66f4\u70b9\u300d\u306f\u30b3\u30df\u30c3\u30c8A\u306eSHA1\u5024\u3060\u3051\u3067 ^ \u3092\u4ed8\u4e0e\u3059\u308b git diff A\u306eID^ A\u306eID","title":"\u6307\u5b9a\u30b3\u30df\u30c3\u30c8\u306e\u5909\u66f4\u70b9"},{"location":"Git/#whitespace","text":"$ git diff -w - w , -- ignore - all - space Ignore whitespace when comparing lines . This ignores differences even if one line has whitespace where the other line has none .","title":"whitespace\u7121\u8996"},{"location":"Git/#git-blame","text":"\u3053\u308c\u3067\u884c\u3054\u3068\u306e\u6700\u7d42\u30b3\u30df\u30c3\u30c8\u306eID\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3001\u30b3\u30df\u30c3\u30c8\u65e5\u6642\u304c\u51fa\u529b\u3055\u308c\u308b git blame <filename>","title":"\u3053\u306e\u884c\u3092\u30b3\u30df\u30c3\u30c8\u3057\u305f\u306e\u306f\u8ab0 (git blame)"},{"location":"Git/#git-blame_1","text":"\u4f8b\u3048\u3070\u904e\u53bb\u306b\u300c\u30d5\u30a1\u30a4\u30eb\u306e\u6539\u884c\u30b3\u30fc\u30c9\u3092\u5909\u66f4\u300d\u3068\u3044\u3046\u30b3\u30df\u30c3\u30c8\u304c\u3042\u308b\u3068\u3001\u5168\u3066\u306e\u884c\u3067\u5909\u66f4\u304c\u767a\u751f\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u305f\u3081\u3001 git blame \u3092\u4f7f\u3063\u3066\u3082\u305d\u308c\u4ee5\u524d\u306e\u30b3\u30df\u30c3\u30c8\u3092\u78ba\u8a8d\u3067\u304d\u306a\u3044\u3002 \u3053\u3046\u3044\u3046\u6642\u306f\u7279\u5b9a\u306e\u30b3\u30df\u30c3\u30c8\u3092\u9664\u304f --ignore-rev \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u9664\u5916\u3057\u305f\u3044\u30b3\u30df\u30c3\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3002 git blame --ignore-rev <\u9664\u5916\u3057\u305f\u3044\u30b3\u30df\u30c3\u30c8ID> <filename> \u9664\u5916\u5bfe\u8c61\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u3001\u305d\u306e\u5206\u6307\u5b9a\u3059\u308c\u3070OK","title":"git blame\u3067\u7279\u5b9a\u30b3\u30df\u30c3\u30c8\u3092\u9664\u304f"},{"location":"Git/#_45","text":"","title":"\u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb"},{"location":"Git/#_46","text":"\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b bsky-client \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u5225\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30bd\u30fc\u30b9\u3092\u53d6\u5f97\u3059\u308b\u3002 git submodule add https://github.com/zaki-lknr/bsky-client.git bsky-client","title":"\u30ab\u30ec\u30f3\u30c8\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u5225\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u8ffd\u52a0"},{"location":"Git/#_47","text":"\u5bfe\u8c61\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067 git pull \u3092\u5b9f\u884c\u3059\u308b\u3002 \u89aa\u30ea\u30dd\u30b8\u30c8\u30ea\u3067 git diff \u3059\u308c\u3070\u66f4\u65b0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002 $ git diff diff --git a/bsky-client b/bsky-client index ae590a7..2a0550c 160000 --- a/bsky-client +++ b/bsky-client @@ -1 +1 @@ -Subproject commit ae590a7142b82f0cb77d4fd7b970c6ab3a9dc8fa +Subproject commit 2a0550cfc11ca1d06f13596f2eb087cc75dcdf9b","title":"\u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u66f4\u65b0\u3059\u308b"},{"location":"Git/#_48","text":"","title":"\u524d\u306e\u72b6\u614b\u306b\u623b\u3059"},{"location":"Git/#_49","text":"git reset --hard '\u5bfe\u8c61\u306e\u30b3\u30df\u30c3\u30c8ID' reset --hard \u306f \u30b3\u30df\u30c3\u30c8\u306e\u53d6\u308a\u6d88\u3057 \u306b\u3082\u4f7f\u7528\u3059\u308b","title":"\u6307\u5b9a\u30b3\u30df\u30c3\u30c8\u306e\u72b6\u614b\u306b\u623b\u3059"},{"location":"Git/#_50","text":"git ls-remote \u30ea\u30dd\u30b8\u30c8\u30eaURL \u3067clone\u3057\u3066\u3044\u306a\u304f\u3066\u3082\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u60c5\u5831\u3092\u53c2\u7167\u3067\u304d\u308b git ls-remote https://github.com/zaki-lknr/swarm-sgbt.git","title":"\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u60c5\u5831"},{"location":"Git/#_51","text":"","title":"\u305d\u306e\u4ed6"},{"location":"Git/#head","text":"\u6982\u7565(\u8a9e\u5f0a\u3042\u308b\u304b\u3082) HEAD \u306f\u6700\u65b0(\u30ab\u30ec\u30f3\u30c8) HEAD~ 1\u500b\u524d HEAD~1 \u540c\u4e0a(1\u306f\u7701\u7565\u53ef\u80fd) HEAD~2 2\u500b\u524d git log \u3057\u305f\u6642\u306e\u3001 ec33978 (HEAD -> main) add: docker: \u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u30ea\u30f3\u30af\u8ffd\u52a0 bd9aa93 add: ansible/config: ansible.cfg\u30b5\u30f3\u30d7\u30eb bc5eb56 add: git/configure: git-prompt\u8a2d\u5b9a\u5f8c\u306ePS1\u74b0\u5883\u5909\u6570 : \u306b\u5bfe\u3057\u3066\u3001 ec33978 \u304c HEAD bd9aa93 \u304c HEAD~ bc5eb56 \u304c HEAD~2 ^ \u3068 ~ \u306f\u57fa\u672c\u306f\u540c\u3058\u3002 HEAD \u306e\u4e00\u3064\u524d\u306a\u3089 HEAD^ \u307e\u305f\u306f HEAD~ \u30012\u3064\u524d\u306a\u3089 HEAD^^ \u307e\u305f\u306f HEAD~2 \u306b\u306a\u308b\u3002 \u305f\u3060\u3057\u53b3\u5bc6\u306b\u306f\u9055\u3046\u3082\u306e\u3067\u3001 ^ \u306f\u30d6\u30e9\u30f3\u30c1\u306e\u30de\u30fc\u30b8\u3067\u89aa\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306b\u4f7f\u7528\u3059\u308b\u3002 \u30b3\u30df\u30c3\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3068\u304d\u306b\u3001 (\u30c1\u30eb\u30c0)\u3068^(\u30ad\u30e3\u30ec\u30c3\u30c8)\u3092\u4f7f\u3063\u3066\u3042\u308b\u30b3\u30df\u30c3\u30c8\u304b\u3089\u306e\u76f8\u5bfe\u4f4d\u7f6e\u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u6642\u306b\u3001\u3088\u304f\u4f7f\u308f\u308c\u308b\u306e\u304cHEAD\u3067\u3059\u3002 (\u30c1\u30eb\u30c0)\u3092\u5f8c\u308d\u306b\u4ed8\u3051\u52a0\u3048\u308b\u3053\u3068\u3067\u4f55\u4e16\u4ee3\u524d\u306e\u89aa\u304b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002^(\u30ad\u30e3\u30ec\u30c3\u30c8)\u306f\u3001\u30d6\u30e9\u30f3\u30c1\u306e\u30de\u30fc\u30b8\u3067\u89aa\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306b\u3001\u4f55\u756a\u76ee\u306e\u89aa\u304b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30d6\u30e9\u30f3\u30c1\u306e\u5207\u308a\u66ff\u3048\uff5c\u30b5\u30eb\u5148\u751f\u306eGit\u5165\u9580\u3010\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u7ba1\u7406\u30c4\u30fc\u30ebBacklog\u3011","title":"HEAD"},{"location":"Git/#_52","text":"GIT_TRACE \u306a\u3069\u6709\u52b9\u306b\u3059\u308b\u3068\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u308b\u3002 GIT_TRACE=true git push GIT_TRACE_CURL=true git clone https://github.com/zaki-lknr/r2tokimeki.git \u8907\u6570\u6307\u5b9a\u3082\u53ef\u80fd GIT_TRACE=true GIT_TRACE_PACKET=true git clone https://github.com/zaki-lknr/r2tokimeki.git ssh\u306e\u30c7\u30d0\u30c3\u30b0\u30ed\u30b0\u3092\u51fa\u3057\u305f\u3044\u5834\u5408\u306f GIT_SSH_COMMAND=\"ssh -v\" \u3092\u4f7f\u3046\u3002 Git - \u74b0\u5883\u5909\u6570","title":"\u30c8\u30ec\u30fc\u30b9\u30ed\u30b0\u51fa\u529b"},{"location":"Git/#gitignore","text":"\u7a7a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u7dad\u6301\u3059\u308b\u305f\u3081\u306e\u3001 .gitkeep \u3068 .gitignore \u306e\u4f7f\u3044\u5206\u3051 - Qiita","title":".gitignore"},{"location":"Git/codecommit/","text":"CodeCommit IAM\u30e6\u30fc\u30b6\u30fc\u306e\u8a8d\u8a3c\u60c5\u5831 IAM\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210 Setup for HTTPS users using Git credentials - AWS CodeCommit IAM\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210 \u30aa\u30d7\u30b7\u30e7\u30f3:AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u306e\u30e6\u30fc\u30b6\u30fc\u30a2\u30af\u30bb\u30b9\u3092\u63d0\u4f9b\u306f\u7121\u3057 \u8a31\u53ef\u306e\u30aa\u30d7\u30b7\u30e7\u30f3 \u300c\u30dd\u30ea\u30b7\u30fc\u3092\u76f4\u63a5\u30a2\u30bf\u30c3\u30c1\u3059\u308b\u300d\u3092\u9078\u629e\u3057\u3001\u300c\u8a31\u53ef\u30dd\u30ea\u30b7\u30fc\u300d\u304b\u3089\u300cAWSCodeCommitPowerUser\u300d\u3092\u9078\u629e(\u5229\u7528\u5f62\u614b\u306b\u5408\u308f\u305b\u3066FullAccess/ReadOnly\u306b\u5909\u66f4) HTTPS\u8a8d\u8a3c\u60c5\u5831\u4f5c\u6210 IAM\u306e\u30da\u30fc\u30b8\u306e\u300cAWS CodeCommit \u306e HTTPS Git \u8a8d\u8a3c\u60c5\u5831\u300d\u3067\u300c\u8a8d\u8a3c\u60c5\u5831\u3092\u751f\u6210\u300d\u62bc\u4e0b\u3002 \u8868\u793a\u3055\u308c\u308b\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3067CodeCommit\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3078\u8a8d\u8a3c\u3067\u304d\u308b\u3002 \u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u8a8d\u8a3c\u60c5\u5831\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304a\u304f\u3068\u826f\u3044\u3002(CSV\u5f62\u5f0f) SSH\u306e\u8a8d\u8a3c\u3068\u63a5\u7d9a\u8a2d\u5b9a Linux\u3001macOS\u3001\u307e\u305f\u306f Unix \u3067\u306e AWS CodeCommit \u30ea\u30dd\u30b8\u30c8\u30ea\u3078\u306e SSH \u63a5\u7d9a\u306e\u8a2d\u5b9a\u624b\u9806 - AWS CodeCommit SSH\u30ad\u30fc\u30da\u30a2\u3092\u4f5c\u6210\u3057\u516c\u958b\u9375\u3092IAM\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u300cAWS CodeCommit \u306e SSH \u516c\u958b\u30ad\u30fc\u300d\u3078\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3002 \u300cSSH\u30ad\u30fcID\u300d\u3092SSH\u30a2\u30af\u30bb\u30b9\u6642\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u3057\u3066 $HOME/.ssh/config \u306b\u63a5\u7d9a\u8a2d\u5b9a\u3092\u884c\u3046\u3002 Host git-codecommit.*.amazonaws.com User APK...... IdentityFile ~/.ssh/...... \u30d6\u30e9\u30f3\u30c1\u306e\u524a\u9664 \u30e1\u30cb\u30e5\u30fc\u306e[\u30ea\u30dd\u30b8\u30c8\u30ea]->[\u30d6\u30e9\u30f3\u30c1]\u3067\u3001\u5bfe\u8c61\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u300c\u30d6\u30e9\u30f3\u30c1\u306e\u524a\u9664\u300d","title":"CodeCommit"},{"location":"Git/codecommit/#codecommit","text":"","title":"CodeCommit"},{"location":"Git/codecommit/#iam","text":"","title":"IAM\u30e6\u30fc\u30b6\u30fc\u306e\u8a8d\u8a3c\u60c5\u5831"},{"location":"Git/codecommit/#iam_1","text":"Setup for HTTPS users using Git credentials - AWS CodeCommit IAM\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210 \u30aa\u30d7\u30b7\u30e7\u30f3:AWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u306e\u30e6\u30fc\u30b6\u30fc\u30a2\u30af\u30bb\u30b9\u3092\u63d0\u4f9b\u306f\u7121\u3057 \u8a31\u53ef\u306e\u30aa\u30d7\u30b7\u30e7\u30f3 \u300c\u30dd\u30ea\u30b7\u30fc\u3092\u76f4\u63a5\u30a2\u30bf\u30c3\u30c1\u3059\u308b\u300d\u3092\u9078\u629e\u3057\u3001\u300c\u8a31\u53ef\u30dd\u30ea\u30b7\u30fc\u300d\u304b\u3089\u300cAWSCodeCommitPowerUser\u300d\u3092\u9078\u629e(\u5229\u7528\u5f62\u614b\u306b\u5408\u308f\u305b\u3066FullAccess/ReadOnly\u306b\u5909\u66f4)","title":"IAM\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210"},{"location":"Git/codecommit/#https","text":"IAM\u306e\u30da\u30fc\u30b8\u306e\u300cAWS CodeCommit \u306e HTTPS Git \u8a8d\u8a3c\u60c5\u5831\u300d\u3067\u300c\u8a8d\u8a3c\u60c5\u5831\u3092\u751f\u6210\u300d\u62bc\u4e0b\u3002 \u8868\u793a\u3055\u308c\u308b\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3067CodeCommit\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3078\u8a8d\u8a3c\u3067\u304d\u308b\u3002 \u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u8a8d\u8a3c\u60c5\u5831\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304a\u304f\u3068\u826f\u3044\u3002(CSV\u5f62\u5f0f)","title":"HTTPS\u8a8d\u8a3c\u60c5\u5831\u4f5c\u6210"},{"location":"Git/codecommit/#ssh","text":"Linux\u3001macOS\u3001\u307e\u305f\u306f Unix \u3067\u306e AWS CodeCommit \u30ea\u30dd\u30b8\u30c8\u30ea\u3078\u306e SSH \u63a5\u7d9a\u306e\u8a2d\u5b9a\u624b\u9806 - AWS CodeCommit SSH\u30ad\u30fc\u30da\u30a2\u3092\u4f5c\u6210\u3057\u516c\u958b\u9375\u3092IAM\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u300cAWS CodeCommit \u306e SSH \u516c\u958b\u30ad\u30fc\u300d\u3078\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3002 \u300cSSH\u30ad\u30fcID\u300d\u3092SSH\u30a2\u30af\u30bb\u30b9\u6642\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u3057\u3066 $HOME/.ssh/config \u306b\u63a5\u7d9a\u8a2d\u5b9a\u3092\u884c\u3046\u3002 Host git-codecommit.*.amazonaws.com User APK...... IdentityFile ~/.ssh/......","title":"SSH\u306e\u8a8d\u8a3c\u3068\u63a5\u7d9a\u8a2d\u5b9a"},{"location":"Git/codecommit/#_1","text":"\u30e1\u30cb\u30e5\u30fc\u306e[\u30ea\u30dd\u30b8\u30c8\u30ea]->[\u30d6\u30e9\u30f3\u30c1]\u3067\u3001\u5bfe\u8c61\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u300c\u30d6\u30e9\u30f3\u30c1\u306e\u524a\u9664\u300d","title":"\u30d6\u30e9\u30f3\u30c1\u306e\u524a\u9664"},{"location":"Git/configure/","text":"Git\u8a2d\u5b9a \u30e6\u30fc\u30b6\u30fc\u540d\u30fb\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u8a2d\u5b9a git config --global user.name zaki git config --global user.email zaki.hmkc@... \u5171\u7528\u30a2\u30ab\u30a6\u30f3\u30c8\u306a\u3069\u3067$HOME\u306b\u8a18\u9332\u3057\u305f\u304f\u306a\u3044\u5834\u5408 --local \u3092\u4f7f\u3048\u3070\u3001 $HOME/.gitconfig \u3067\u306a\u304f\u3001\u73fe\u5728\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\u306b\u8a18\u9332\u3055\u308c\u308b\u3002 git config --local user.name zaki git config --local user.email zaki.hmkc@... \u74b0\u5883\u5909\u6570\u3092\u4f7f\u3046\u5834\u5408 \u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001 user.name \u3068 user.email \u3092\u4e0a\u66f8\u304d\u3067\u304d\u308b\u3002 \u5171\u7528\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u8ab0\u304b\u304c $HOME/.gitconfig \u3092\u8a2d\u5b9a\u3057\u3066\u3057\u307e\u3044\u3001\u81ea\u5206\u306e\u30ef\u30fc\u30af\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e .gitconfig \u306e\u8a2d\u5b9a\u5fd8\u308c\u3067\u306e\u4e8b\u6545\u9632\u6b62\u7684\u306b\u306f\u3053\u3061\u3089\u304c\u826f\u3044\u304b\u3082\u3002 export GIT_AUTHOR_NAME export GIT_AUTHOR_EMAIL export GIT_COMMITTER_NAME export GIT_COMMITTER_EMAIL \u73fe\u5728\u306e\u8a2d\u5b9a\u78ba\u8a8d \u73fe\u5728\u9069\u7528\u3055\u308c\u308b\u8a2d\u5b9a\u5168\u3066 $ git config -l \u30bb\u30af\u30b7\u30e7\u30f3\u3054\u3068\u306e\u8a2d\u5b9a\u5185\u5bb9 $ git config --system -l $ git config --global -l $ git config --local -l Git+SSH .ssh/config \u9375\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058\u3002 Host gitlab-ce.example.org IdentityFile ~/.ssh/id_rsa_git Host github.com IdentityFile ~/.ssh/id_rsa_git clone\u306e\u30d1\u30b9\u304c git@github.com/... \u3068\u30e6\u30fc\u30b6\u30fc\u540d\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001 User git \u306f\u4e0d\u8981 Backlog\u3082\u540c\u69d8\u306bclone\u7528\u6587\u5b57\u5217\u30b3\u30d4\u30fc\u306b\u30e6\u30fc\u30b6\u30fc\u540d\u542b\u3093\u3067\u3044\u308b\u306e\u3067\u4ee5\u4e0b\u3067OK Host <space>.git.backlog.com IdentityFile ~/.ssh/id_rsa_git \u5171\u7528\u30a2\u30ab\u30a6\u30f3\u30c8\u306a\u3069\u3067$HOME/.ssh/config\u4ee5\u5916\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408 \u4ee5\u4e0b\u8a2d\u5b9a\u3002 export GIT_SSH_COMMAND = \"ssh -F /path/to/myconf/ssh/config\" \u63a5\u7d9a\u4e0d\u8abf\u6642\u306a\u3069\u306bSSH\u306e\u30ed\u30b0\u3092\u78ba\u8a8d\u3059\u308b -vvv \u306e\u3088\u3046\u306b\u6570\u3092\u5897\u3084\u305b\u3070\u30ed\u30b0\u91cf\u306f\u5897\u3048\u308b\u3002 \u8981\u306f\u5185\u90e8\u3067\u4f7f\u7528\u3059\u308b ssh \u30b3\u30de\u30f3\u30c9\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3057\u3064\u3064verbose\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3002 GIT_SSH_COMMAND=\"ssh -v\" git push \u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea \u73fe\u5728\u306e\u8a2d\u5b9a $ git remote -v \u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8a2d\u5b9a GitHub\u3068\u304b\u3067README\u7121\u3057\u3067\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u308b\u3068\u30b3\u30de\u30f3\u30c9\u304c\u8868\u793a\u3055\u308c\u308b\u30a2\u30ec $ git remote add origin <URI of Repository> \u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u5909\u66f4 origin\u3092GitHub\u304b\u3089\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8GitLab\u306b\u5909\u66f4\u3001\u3068\u304b\u3002 $ git remote set-url origin https://my-gitlab.example.org/user/repository.git HTTPS -> SSH\u3082\u3053\u308c $ git remote set-url origin git@github.com:zaki-lknr/ansible-sample.git \u5225\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u5225\u540d\u3067\u8ffd\u52a0 $ git remote add hoge <other repository> gitconfig \u30b3\u30de\u30f3\u30c9\u306ealias git st \u3067 git status \u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058 [user] email = ... name = ... [alias] st = status git prompt curl -L https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh -o .git-prompt.sh chmod 755 .git-prompt.sh .bashrc\u3078\u4ee5\u4e0b\u8ffd\u52a0 [ -f ~/.git-prompt.sh ] && source ~/.git-prompt.sh \u3053\u306e\u72b6\u614b\u3067\u3001 PS1 \u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b\u3002 \u8a2d\u5b9a\u4f8b # prompt PS1 = '[\\u@\\h \\W$(__git_ps1 \" (%s)\")]\\$ ' \u65e2\u5b58\u306e PS1 \u8a2d\u5b9a\u306b\u8ffd\u52a0\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3053\u3093\u306a\u611f\u3058\u304c\u826f\u3044\u304b\u3082\u3002 if [ -f ~/.git-prompt.sh ] ; then source ~/.git-prompt.sh PS1 = '\\[\\e[31m\\]$(__git_ps1 \"(%s) \")\\[\\e[0m\\]'\" $PS1 \" export GIT_PS1_SHOWDIRTYSTATE = true export GIT_PS1_SHOWUNTRACKEDFILES = true export GIT_PS1_SHOWSTASHSTATE = true export GIT_PS1_SHOWUPSTREAM = auto fi \u8a18\u53f7 \u8a18\u53f7 \u610f\u5473 = , < , > upstream\u3068\u5dee\u5206\u306a\u3057( = )\u3088\u308a\u9045\u308c\u3066\u308b( < )\u9032\u3093\u3067\u308b( > ) * unstage (\u5909\u66f4\u3042\u308b\u3051\u3069\u672aadd) + uncommit (add\u6e08\u307f\u672acommit) % untrack $ stashed","title":"Git\u8a2d\u5b9a"},{"location":"Git/configure/#git","text":"","title":"Git\u8a2d\u5b9a"},{"location":"Git/configure/#_1","text":"git config --global user.name zaki git config --global user.email zaki.hmkc@...","title":"\u30e6\u30fc\u30b6\u30fc\u540d\u30fb\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u8a2d\u5b9a"},{"location":"Git/configure/#home","text":"--local \u3092\u4f7f\u3048\u3070\u3001 $HOME/.gitconfig \u3067\u306a\u304f\u3001\u73fe\u5728\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\u306b\u8a18\u9332\u3055\u308c\u308b\u3002 git config --local user.name zaki git config --local user.email zaki.hmkc@...","title":"\u5171\u7528\u30a2\u30ab\u30a6\u30f3\u30c8\u306a\u3069\u3067$HOME\u306b\u8a18\u9332\u3057\u305f\u304f\u306a\u3044\u5834\u5408"},{"location":"Git/configure/#_2","text":"\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001 user.name \u3068 user.email \u3092\u4e0a\u66f8\u304d\u3067\u304d\u308b\u3002 \u5171\u7528\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u8ab0\u304b\u304c $HOME/.gitconfig \u3092\u8a2d\u5b9a\u3057\u3066\u3057\u307e\u3044\u3001\u81ea\u5206\u306e\u30ef\u30fc\u30af\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e .gitconfig \u306e\u8a2d\u5b9a\u5fd8\u308c\u3067\u306e\u4e8b\u6545\u9632\u6b62\u7684\u306b\u306f\u3053\u3061\u3089\u304c\u826f\u3044\u304b\u3082\u3002 export GIT_AUTHOR_NAME export GIT_AUTHOR_EMAIL export GIT_COMMITTER_NAME export GIT_COMMITTER_EMAIL","title":"\u74b0\u5883\u5909\u6570\u3092\u4f7f\u3046\u5834\u5408"},{"location":"Git/configure/#_3","text":"","title":"\u73fe\u5728\u306e\u8a2d\u5b9a\u78ba\u8a8d"},{"location":"Git/configure/#_4","text":"$ git config -l","title":"\u73fe\u5728\u9069\u7528\u3055\u308c\u308b\u8a2d\u5b9a\u5168\u3066"},{"location":"Git/configure/#_5","text":"$ git config --system -l $ git config --global -l $ git config --local -l","title":"\u30bb\u30af\u30b7\u30e7\u30f3\u3054\u3068\u306e\u8a2d\u5b9a\u5185\u5bb9"},{"location":"Git/configure/#gitssh","text":"","title":"Git+SSH"},{"location":"Git/configure/#sshconfig","text":"\u9375\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058\u3002 Host gitlab-ce.example.org IdentityFile ~/.ssh/id_rsa_git Host github.com IdentityFile ~/.ssh/id_rsa_git clone\u306e\u30d1\u30b9\u304c git@github.com/... \u3068\u30e6\u30fc\u30b6\u30fc\u540d\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001 User git \u306f\u4e0d\u8981 Backlog\u3082\u540c\u69d8\u306bclone\u7528\u6587\u5b57\u5217\u30b3\u30d4\u30fc\u306b\u30e6\u30fc\u30b6\u30fc\u540d\u542b\u3093\u3067\u3044\u308b\u306e\u3067\u4ee5\u4e0b\u3067OK Host <space>.git.backlog.com IdentityFile ~/.ssh/id_rsa_git","title":".ssh/config"},{"location":"Git/configure/#homesshconfig","text":"\u4ee5\u4e0b\u8a2d\u5b9a\u3002 export GIT_SSH_COMMAND = \"ssh -F /path/to/myconf/ssh/config\"","title":"\u5171\u7528\u30a2\u30ab\u30a6\u30f3\u30c8\u306a\u3069\u3067$HOME/.ssh/config\u4ee5\u5916\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408"},{"location":"Git/configure/#ssh","text":"-vvv \u306e\u3088\u3046\u306b\u6570\u3092\u5897\u3084\u305b\u3070\u30ed\u30b0\u91cf\u306f\u5897\u3048\u308b\u3002 \u8981\u306f\u5185\u90e8\u3067\u4f7f\u7528\u3059\u308b ssh \u30b3\u30de\u30f3\u30c9\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3057\u3064\u3064verbose\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3002 GIT_SSH_COMMAND=\"ssh -v\" git push","title":"\u63a5\u7d9a\u4e0d\u8abf\u6642\u306a\u3069\u306bSSH\u306e\u30ed\u30b0\u3092\u78ba\u8a8d\u3059\u308b"},{"location":"Git/configure/#_6","text":"","title":"\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea"},{"location":"Git/configure/#_7","text":"$ git remote -v","title":"\u73fe\u5728\u306e\u8a2d\u5b9a"},{"location":"Git/configure/#_8","text":"GitHub\u3068\u304b\u3067README\u7121\u3057\u3067\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u308b\u3068\u30b3\u30de\u30f3\u30c9\u304c\u8868\u793a\u3055\u308c\u308b\u30a2\u30ec $ git remote add origin <URI of Repository>","title":"\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8a2d\u5b9a"},{"location":"Git/configure/#_9","text":"origin\u3092GitHub\u304b\u3089\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8GitLab\u306b\u5909\u66f4\u3001\u3068\u304b\u3002 $ git remote set-url origin https://my-gitlab.example.org/user/repository.git HTTPS -> SSH\u3082\u3053\u308c $ git remote set-url origin git@github.com:zaki-lknr/ansible-sample.git","title":"\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u5909\u66f4"},{"location":"Git/configure/#_10","text":"$ git remote add hoge <other repository>","title":"\u5225\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u5225\u540d\u3067\u8ffd\u52a0"},{"location":"Git/configure/#gitconfig","text":"","title":"gitconfig"},{"location":"Git/configure/#alias","text":"git st \u3067 git status \u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058 [user] email = ... name = ... [alias] st = status","title":"\u30b3\u30de\u30f3\u30c9\u306ealias"},{"location":"Git/configure/#git-prompt","text":"curl -L https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh -o .git-prompt.sh chmod 755 .git-prompt.sh .bashrc\u3078\u4ee5\u4e0b\u8ffd\u52a0 [ -f ~/.git-prompt.sh ] && source ~/.git-prompt.sh \u3053\u306e\u72b6\u614b\u3067\u3001 PS1 \u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b\u3002 \u8a2d\u5b9a\u4f8b # prompt PS1 = '[\\u@\\h \\W$(__git_ps1 \" (%s)\")]\\$ ' \u65e2\u5b58\u306e PS1 \u8a2d\u5b9a\u306b\u8ffd\u52a0\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3053\u3093\u306a\u611f\u3058\u304c\u826f\u3044\u304b\u3082\u3002 if [ -f ~/.git-prompt.sh ] ; then source ~/.git-prompt.sh PS1 = '\\[\\e[31m\\]$(__git_ps1 \"(%s) \")\\[\\e[0m\\]'\" $PS1 \" export GIT_PS1_SHOWDIRTYSTATE = true export GIT_PS1_SHOWUNTRACKEDFILES = true export GIT_PS1_SHOWSTASHSTATE = true export GIT_PS1_SHOWUPSTREAM = auto fi","title":"git prompt"},{"location":"Git/configure/#_11","text":"\u8a18\u53f7 \u610f\u5473 = , < , > upstream\u3068\u5dee\u5206\u306a\u3057( = )\u3088\u308a\u9045\u308c\u3066\u308b( < )\u9032\u3093\u3067\u308b( > ) * unstage (\u5909\u66f4\u3042\u308b\u3051\u3069\u672aadd) + uncommit (add\u6e08\u307f\u672acommit) % untrack $ stashed","title":"\u8a18\u53f7"},{"location":"Git/github/","text":"GitHub \u30ea\u30dd\u30b8\u30c8\u30ea \u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u306e\u5909\u66f4 \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u300cSettings\u300d->\u300cDefault branch\u300d\u3067\u5bfe\u8c61\u3092\u9078\u629e\u3059\u308b\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u3092\u5909\u66f4\u3059\u308b - GitHub Docs \u30e9\u30a4\u30bb\u30f3\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u8ffd\u52a0 \u30ea\u30dd\u30b8\u30c8\u30ea\u3078\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u8ffd\u52a0 - GitHub Docs \u300c\u65b0\u898f\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u300d\u3067\u30d5\u30a1\u30a4\u30eb\u540d LICENSE \u3092\u8ffd\u52a0\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u9078\u629e\u3059\u308b\u30dc\u30bf\u30f3\u304c\u8868\u793a\u3055\u308c\u308b\u3002 \u30d6\u30e9\u30f3\u30c1 \u30d6\u30e9\u30f3\u30c1\u4f5c\u6210 \u30ea\u30dd\u30b8\u30c8\u30ea\u5185\u3067\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u304a\u3088\u3073\u524a\u9664\u3059\u308b - GitHub Docs GitHub\u4e0a\u3067\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u300cView all branches\u300d\u753b\u9762\u3067\u300cNew branch\u300d\u62bc\u4e0b\u3059\u308b\u3002 \u3042\u308b\u3044\u306f\u30d6\u30e9\u30f3\u30c1\u9078\u629e\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u3067\u4f5c\u6210\u3057\u305f\u3044\u30d6\u30e9\u30f3\u30c1\u540d\u3092\u5165\u529b\u3057\u3066Create\u3092\u62bc\u4e0b\u3002 \u8a2d\u5b9a 2\u8981\u7d20\u8a8d\u8a3c\u3092\u8a2d\u5b9a 2 \u8981\u7d20\u8a8d\u8a3c\u3092\u8a2d\u5b9a\u3059\u308b - GitHub Docs git clone\u306e\u8a8d\u8a3c HTTPS GitHub\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u306f\u8a8d\u8a3c\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u500b\u4eba\u7528\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002 \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u8a8d\u8a3c\u3059\u308b HTTPS URL \u3092\u4f7f\u3063\u3066\u30af\u30ed\u30fc\u30f3\u3092\u4f5c\u6210\u3059\u308b \u30c8\u30fc\u30af\u30f3\u306e\u4f5c\u6210\u306f\u3001 \u500b\u4eba\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u7528\u3059\u308b - GitHub Docs \u3092\u53c2\u7167\u3002 Settings -> Developer settings -> Personal access tokens -> Tokens(classic)\u3067\u3001\u300cGenerate new token (classic)\u300d\u62bc\u4e0b\u3057\u3001Scope\u306e repo \u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u4f5c\u6210\u3057\u305f\u30c8\u30fc\u30af\u30f3\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002 \u30e6\u30fc\u30b6\u30fc\u540d\u306fGitHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3092\u4f7f\u7528\u3059\u308b\u3002 \u66f8\u5f0f \u81ea\u52d5\u30ea\u30f3\u30af \u81ea\u52d5\u30ea\u30f3\u30af\u3055\u308c\u305f\u53c2\u7167\u3068 URL - GitHub Docs PR issue\u3068\u306e\u95a2\u9023\u4ed8\u3051 Pull Request\u3092Issue\u306b\u30ea\u30f3\u30af\u3059\u308b - GitHub Docs \u30de\u30fc\u30b8\u3067\u81ea\u52d5\u30af\u30ed\u30fc\u30ba\u3059\u308b\u30ad\u30fc\u30ef\u30fc\u30c9 close closes closed fix fixes fixed resolve resolves resolved \u30ec\u30d3\u30e5\u30fc \u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u63d0\u6848\u3055\u308c\u305f\u5909\u66f4\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b - GitHub Docs \u5fc5\u9808\u30ec\u30d3\u30e5\u30fc\u3067\u306e\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u627f\u8a8d - GitHub Docs \u30b3\u30e1\u30f3\u30c8\u5165\u529b\u306e\u3042\u3068\u306b[Submit review]\u3092\u5fd8\u308c\u306a\u3044\u3053\u3068\u3002 Request changes / \u8ffd\u52a0\u4fee\u6b63\u3057\u3066\u307b\u3057\u3044\u5834\u5408 Approve / \u554f\u984c\u306a\u3044\u5834\u5408 Comment / \u305d\u306e\u4ed6 Approve \u306e\u6642\u70b9\u3067\u300cPR\u306e\u30de\u30fc\u30b8\u300d\u3092\u884c\u3046\u306e\u3067\u306f\u306a\u304f\u3001\u300cPR\u3092\u30de\u30fc\u30b8\u3057\u3066\u3082\u3044\u3044\u3088\u300d\u3068\u3044\u3046\u72b6\u614b\u306b\u79fb\u884c\u3059\u308b\u3002 (\u30de\u30fc\u30b8\u306f\u5225\u9014\u30de\u30fc\u30b8\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b) suggested change \u305d\u306e\u5834\u3067\u4fee\u6b63\u30b3\u30df\u30c3\u30c8\u3092\u9001\u308b\u306b\u306f\u3001\u5bfe\u8c61\u884c\u3092\u9078\u629e\u3057\u3066\u300cCommit suggestion\u300d\u62bc\u4e0b\u3001\u30c6\u30ad\u30b9\u30c8\u30d5\u30a3\u30fc\u30eb\u30c9\u306b suggestion \u3068\u3044\u3046\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u304c\u5165\u308b\u306e\u3067\u3001\u305d\u306e\u5185\u5bb9\u3092\u6b63\u3057\u3044\u3082\u306e\u306b\u4fee\u6b63\u3059\u308b \u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3078\u306e\u30b3\u30e1\u30f3\u30c8 - GitHub Docs \u4fee\u6b63\u3092\u53d6\u308a\u8fbc\u3080\u5074\u306f\u300cCommit Suggestion\u300d\u62bc\u4e0b\u3057\u3066\u30b3\u30df\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u53cd\u6620\u3059\u308b\u3002 \u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u306e\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3092\u53d6\u308a\u8fbc\u3080 - GitHub Docs PR\u30de\u30fc\u30b8\u6642\u306e\u30d6\u30e9\u30f3\u30c1\u81ea\u52d5\u524a\u9664 \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\u304b\u3089\u3002 \u30d6\u30e9\u30f3\u30c1\u306e\u81ea\u52d5\u7684\u524a\u9664\u3092\u7ba1\u7406\u3059\u308b - GitHub Docs PR\u4f5c\u6210\u5f8c\u306b\u30b3\u30df\u30c3\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408 PR\u304copen\u306e\u307e\u307e\u30ea\u30b8\u30a7\u30af\u30c8\u3068\u304b\u3055\u308c\u3066\u306a\u3044\u306a\u3089\u3001\u8ffd\u3044push\u3059\u308c\u3070\u81ea\u52d5\u7684\u306b\u53cd\u6620\u3055\u308c\u308b\u3002 Release \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30ea\u30ea\u30fc\u30b9\u3092\u7ba1\u7406\u3059\u308b - GitHub Docs web\u3067tag\u4f5c\u6210\u3068release\u4f5c\u6210 \u307e\u305a\u30ea\u30ea\u30fc\u30b9\u4e00\u89a7\u30da\u30fc\u30b8\u3078\u9077\u79fb\u3001[Draft a new release]\u62bc\u4e0b\u3057\u3001[Choose a tag]\u304b\u3089[Find or create a new tag]\u306b\u4f5c\u6210\u3059\u308b\u30bf\u30b0\u540d\u3092\u5165\u529b\u3057\u3066Create\u3059\u308b\u3002 [Generate release notes]\u62bc\u4e0b\u3059\u308b\u3068\u3001\u305d\u308c\u3063\u307d\u3044\u60c5\u5831\u304c\u81ea\u52d5\u5165\u529b\u3055\u308c\u308b\u306e\u3067\u305d\u308c\u3092\u7de8\u96c6\u3002 \u4e0b\u90e8\u306e\"Attach binaries by dropping them here or selecting them\"\u306bzip\u306a\u3069\u306e\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070\u6dfb\u4ed8\u3059\u308b\u3002 \u3042\u3068\u306f[Publish release]\u3059\u308c\u3070tag\u3068release\u304c\u4f5c\u6210\u3055\u308c\u516c\u958b\u3055\u308c\u308b\u3002 API \u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u3092\u53d6\u5f97\u3059\u308b https://api.github.com/repos/{owner}/{repo} \u3092 GET \u3059\u308b\u3068\u3001\u5bfe\u8c61\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002 JSON\u5f62\u5f0f\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u3046\u3061\u3001 default_branch \u30ad\u30fc\u306e\u5024\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u304c\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b\u3002 $ curl https://api.github.com/repos/netbox-community/ansible_modules { \"id\": 204365310, \"node_id\": \"MDEwOlJlcG9zaXRvcnkyMDQzNjUzMTA=\", \"name\": \"ansible_modules\", \"full_name\": \"netbox-community/ansible_modules\", \"private\": false, : : \"visibility\": \"public\", \"forks\": 123, \"open_issues\": 46, \"watchers\": 200, \"default_branch\": \"devel\", : : } diff \u30b3\u30df\u30c3\u30c8\u3092\u6bd4\u8f03\u3059\u308b - GitHub Docs \u30b3\u30df\u30c3\u30c8\u3092\u6bd4\u8f03\u3059\u308b\u306b\u306f\u3001 <\u30ea\u30dd\u30b8\u30c8\u30eaURL>/compare/SHA\u30b3\u30fc\u30c9A..SHA\u30b3\u30fc\u30c9B \u3092\u958b\u304f\u3002 \u4f8b\uff1a Comparing 3474..faf3 \u00b7 zaki-lknr/docs \u540c\u3058\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u3066 ^ \u3084 ~n \u3082\u6307\u5b9a\u3067\u304d\u308b\u3002 https://github.com/zaki-lknr/docs/compare/faf3~2..faf3 https://github.com/zaki-lknr/docs/compare/faf3%5E%5E..faf3 GitHub Actions \u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u624b\u52d5\u5b9f\u884c https://docs.github.com/ja/actions/managing-workflow-runs-and-deployments/managing-workflow-runs/manually-running-a-workflow \u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3068\u30b8\u30e7\u30d6\u306e\u518d\u5b9f\u884c \u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u5b9f\u884c\u7d50\u679c\u4e00\u89a7\u304b\u3089\u6307\u5b9a\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u958b\u304d\u3001\u753b\u9762\u53f3\u4e0a\u306e\u300cRe-run all jobs\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\uff4b","title":"GitHub"},{"location":"Git/github/#github","text":"","title":"GitHub"},{"location":"Git/github/#_1","text":"","title":"\u30ea\u30dd\u30b8\u30c8\u30ea"},{"location":"Git/github/#_2","text":"\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u300cSettings\u300d->\u300cDefault branch\u300d\u3067\u5bfe\u8c61\u3092\u9078\u629e\u3059\u308b\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u3092\u5909\u66f4\u3059\u308b - GitHub Docs","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u306e\u5909\u66f4"},{"location":"Git/github/#_3","text":"\u30ea\u30dd\u30b8\u30c8\u30ea\u3078\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u8ffd\u52a0 - GitHub Docs \u300c\u65b0\u898f\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u300d\u3067\u30d5\u30a1\u30a4\u30eb\u540d LICENSE \u3092\u8ffd\u52a0\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u9078\u629e\u3059\u308b\u30dc\u30bf\u30f3\u304c\u8868\u793a\u3055\u308c\u308b\u3002","title":"\u30e9\u30a4\u30bb\u30f3\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u8ffd\u52a0"},{"location":"Git/github/#_4","text":"","title":"\u30d6\u30e9\u30f3\u30c1"},{"location":"Git/github/#_5","text":"\u30ea\u30dd\u30b8\u30c8\u30ea\u5185\u3067\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u304a\u3088\u3073\u524a\u9664\u3059\u308b - GitHub Docs GitHub\u4e0a\u3067\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u300cView all branches\u300d\u753b\u9762\u3067\u300cNew branch\u300d\u62bc\u4e0b\u3059\u308b\u3002 \u3042\u308b\u3044\u306f\u30d6\u30e9\u30f3\u30c1\u9078\u629e\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u3067\u4f5c\u6210\u3057\u305f\u3044\u30d6\u30e9\u30f3\u30c1\u540d\u3092\u5165\u529b\u3057\u3066Create\u3092\u62bc\u4e0b\u3002","title":"\u30d6\u30e9\u30f3\u30c1\u4f5c\u6210"},{"location":"Git/github/#_6","text":"","title":"\u8a2d\u5b9a"},{"location":"Git/github/#2","text":"2 \u8981\u7d20\u8a8d\u8a3c\u3092\u8a2d\u5b9a\u3059\u308b - GitHub Docs","title":"2\u8981\u7d20\u8a8d\u8a3c\u3092\u8a2d\u5b9a"},{"location":"Git/github/#git-clone","text":"","title":"git clone\u306e\u8a8d\u8a3c"},{"location":"Git/github/#https","text":"GitHub\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u306f\u8a8d\u8a3c\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u500b\u4eba\u7528\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002 \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u8a8d\u8a3c\u3059\u308b HTTPS URL \u3092\u4f7f\u3063\u3066\u30af\u30ed\u30fc\u30f3\u3092\u4f5c\u6210\u3059\u308b \u30c8\u30fc\u30af\u30f3\u306e\u4f5c\u6210\u306f\u3001 \u500b\u4eba\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u7528\u3059\u308b - GitHub Docs \u3092\u53c2\u7167\u3002 Settings -> Developer settings -> Personal access tokens -> Tokens(classic)\u3067\u3001\u300cGenerate new token (classic)\u300d\u62bc\u4e0b\u3057\u3001Scope\u306e repo \u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u4f5c\u6210\u3057\u305f\u30c8\u30fc\u30af\u30f3\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002 \u30e6\u30fc\u30b6\u30fc\u540d\u306fGitHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3092\u4f7f\u7528\u3059\u308b\u3002","title":"HTTPS"},{"location":"Git/github/#_7","text":"","title":"\u66f8\u5f0f"},{"location":"Git/github/#_8","text":"\u81ea\u52d5\u30ea\u30f3\u30af\u3055\u308c\u305f\u53c2\u7167\u3068 URL - GitHub Docs","title":"\u81ea\u52d5\u30ea\u30f3\u30af"},{"location":"Git/github/#pr","text":"","title":"PR"},{"location":"Git/github/#issue","text":"Pull Request\u3092Issue\u306b\u30ea\u30f3\u30af\u3059\u308b - GitHub Docs","title":"issue\u3068\u306e\u95a2\u9023\u4ed8\u3051"},{"location":"Git/github/#_9","text":"close closes closed fix fixes fixed resolve resolves resolved","title":"\u30de\u30fc\u30b8\u3067\u81ea\u52d5\u30af\u30ed\u30fc\u30ba\u3059\u308b\u30ad\u30fc\u30ef\u30fc\u30c9"},{"location":"Git/github/#_10","text":"\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u63d0\u6848\u3055\u308c\u305f\u5909\u66f4\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b - GitHub Docs \u5fc5\u9808\u30ec\u30d3\u30e5\u30fc\u3067\u306e\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u627f\u8a8d - GitHub Docs \u30b3\u30e1\u30f3\u30c8\u5165\u529b\u306e\u3042\u3068\u306b[Submit review]\u3092\u5fd8\u308c\u306a\u3044\u3053\u3068\u3002 Request changes / \u8ffd\u52a0\u4fee\u6b63\u3057\u3066\u307b\u3057\u3044\u5834\u5408 Approve / \u554f\u984c\u306a\u3044\u5834\u5408 Comment / \u305d\u306e\u4ed6 Approve \u306e\u6642\u70b9\u3067\u300cPR\u306e\u30de\u30fc\u30b8\u300d\u3092\u884c\u3046\u306e\u3067\u306f\u306a\u304f\u3001\u300cPR\u3092\u30de\u30fc\u30b8\u3057\u3066\u3082\u3044\u3044\u3088\u300d\u3068\u3044\u3046\u72b6\u614b\u306b\u79fb\u884c\u3059\u308b\u3002 (\u30de\u30fc\u30b8\u306f\u5225\u9014\u30de\u30fc\u30b8\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b)","title":"\u30ec\u30d3\u30e5\u30fc"},{"location":"Git/github/#suggested-change","text":"\u305d\u306e\u5834\u3067\u4fee\u6b63\u30b3\u30df\u30c3\u30c8\u3092\u9001\u308b\u306b\u306f\u3001\u5bfe\u8c61\u884c\u3092\u9078\u629e\u3057\u3066\u300cCommit suggestion\u300d\u62bc\u4e0b\u3001\u30c6\u30ad\u30b9\u30c8\u30d5\u30a3\u30fc\u30eb\u30c9\u306b suggestion \u3068\u3044\u3046\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u304c\u5165\u308b\u306e\u3067\u3001\u305d\u306e\u5185\u5bb9\u3092\u6b63\u3057\u3044\u3082\u306e\u306b\u4fee\u6b63\u3059\u308b \u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3078\u306e\u30b3\u30e1\u30f3\u30c8 - GitHub Docs \u4fee\u6b63\u3092\u53d6\u308a\u8fbc\u3080\u5074\u306f\u300cCommit Suggestion\u300d\u62bc\u4e0b\u3057\u3066\u30b3\u30df\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u53cd\u6620\u3059\u308b\u3002 \u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u306e\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3092\u53d6\u308a\u8fbc\u3080 - GitHub Docs","title":"suggested change"},{"location":"Git/github/#pr_1","text":"\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\u304b\u3089\u3002 \u30d6\u30e9\u30f3\u30c1\u306e\u81ea\u52d5\u7684\u524a\u9664\u3092\u7ba1\u7406\u3059\u308b - GitHub Docs","title":"PR\u30de\u30fc\u30b8\u6642\u306e\u30d6\u30e9\u30f3\u30c1\u81ea\u52d5\u524a\u9664"},{"location":"Git/github/#pr_2","text":"PR\u304copen\u306e\u307e\u307e\u30ea\u30b8\u30a7\u30af\u30c8\u3068\u304b\u3055\u308c\u3066\u306a\u3044\u306a\u3089\u3001\u8ffd\u3044push\u3059\u308c\u3070\u81ea\u52d5\u7684\u306b\u53cd\u6620\u3055\u308c\u308b\u3002","title":"PR\u4f5c\u6210\u5f8c\u306b\u30b3\u30df\u30c3\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408"},{"location":"Git/github/#release","text":"\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30ea\u30ea\u30fc\u30b9\u3092\u7ba1\u7406\u3059\u308b - GitHub Docs","title":"Release"},{"location":"Git/github/#webtagrelease","text":"\u307e\u305a\u30ea\u30ea\u30fc\u30b9\u4e00\u89a7\u30da\u30fc\u30b8\u3078\u9077\u79fb\u3001[Draft a new release]\u62bc\u4e0b\u3057\u3001[Choose a tag]\u304b\u3089[Find or create a new tag]\u306b\u4f5c\u6210\u3059\u308b\u30bf\u30b0\u540d\u3092\u5165\u529b\u3057\u3066Create\u3059\u308b\u3002 [Generate release notes]\u62bc\u4e0b\u3059\u308b\u3068\u3001\u305d\u308c\u3063\u307d\u3044\u60c5\u5831\u304c\u81ea\u52d5\u5165\u529b\u3055\u308c\u308b\u306e\u3067\u305d\u308c\u3092\u7de8\u96c6\u3002 \u4e0b\u90e8\u306e\"Attach binaries by dropping them here or selecting them\"\u306bzip\u306a\u3069\u306e\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070\u6dfb\u4ed8\u3059\u308b\u3002 \u3042\u3068\u306f[Publish release]\u3059\u308c\u3070tag\u3068release\u304c\u4f5c\u6210\u3055\u308c\u516c\u958b\u3055\u308c\u308b\u3002","title":"web\u3067tag\u4f5c\u6210\u3068release\u4f5c\u6210"},{"location":"Git/github/#api","text":"","title":"API"},{"location":"Git/github/#_11","text":"https://api.github.com/repos/{owner}/{repo} \u3092 GET \u3059\u308b\u3068\u3001\u5bfe\u8c61\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002 JSON\u5f62\u5f0f\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u3046\u3061\u3001 default_branch \u30ad\u30fc\u306e\u5024\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u304c\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b\u3002 $ curl https://api.github.com/repos/netbox-community/ansible_modules { \"id\": 204365310, \"node_id\": \"MDEwOlJlcG9zaXRvcnkyMDQzNjUzMTA=\", \"name\": \"ansible_modules\", \"full_name\": \"netbox-community/ansible_modules\", \"private\": false, : : \"visibility\": \"public\", \"forks\": 123, \"open_issues\": 46, \"watchers\": 200, \"default_branch\": \"devel\", : : }","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u3092\u53d6\u5f97\u3059\u308b"},{"location":"Git/github/#diff","text":"\u30b3\u30df\u30c3\u30c8\u3092\u6bd4\u8f03\u3059\u308b - GitHub Docs \u30b3\u30df\u30c3\u30c8\u3092\u6bd4\u8f03\u3059\u308b\u306b\u306f\u3001 <\u30ea\u30dd\u30b8\u30c8\u30eaURL>/compare/SHA\u30b3\u30fc\u30c9A..SHA\u30b3\u30fc\u30c9B \u3092\u958b\u304f\u3002 \u4f8b\uff1a Comparing 3474..faf3 \u00b7 zaki-lknr/docs \u540c\u3058\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u3066 ^ \u3084 ~n \u3082\u6307\u5b9a\u3067\u304d\u308b\u3002 https://github.com/zaki-lknr/docs/compare/faf3~2..faf3 https://github.com/zaki-lknr/docs/compare/faf3%5E%5E..faf3","title":"diff"},{"location":"Git/github/#github-actions","text":"","title":"GitHub Actions"},{"location":"Git/github/#_12","text":"https://docs.github.com/ja/actions/managing-workflow-runs-and-deployments/managing-workflow-runs/manually-running-a-workflow","title":"\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u624b\u52d5\u5b9f\u884c"},{"location":"Git/github/#_13","text":"\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u5b9f\u884c\u7d50\u679c\u4e00\u89a7\u304b\u3089\u6307\u5b9a\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u958b\u304d\u3001\u753b\u9762\u53f3\u4e0a\u306e\u300cRe-run all jobs\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\uff4b","title":"\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3068\u30b8\u30e7\u30d6\u306e\u518d\u5b9f\u884c"},{"location":"Git/gitlab/","text":"GitLab \u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u60c5\u5831 Upgrading GitLab | GitLab","title":"GitLab"},{"location":"Git/gitlab/#gitlab","text":"","title":"GitLab"},{"location":"Git/gitlab/#_1","text":"Upgrading GitLab | GitLab","title":"\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u60c5\u5831"},{"location":"Git/trouble/","text":"\u3084\u3089\u304b\u3057\u305f\u3068\u304d \u30e6\u30fc\u30b6\u30fc\u8a2d\u5b9a\u524d\u306bcommit\u3057\u305f \u30e1\u30c3\u30bb\u30fc\u30b8\u51fa\u308b\u306e\u3067\u305d\u306e\u901a\u308a\u3059\u308c\u3070\u3044\u3044 $ git config --global user.name \"Your Name\" $ git config --global user.email you@example.com $ git commit --amend --reset-author \u203b \u3053\u308c\u306f\u6700\u521d\u306e1\u56de\u306e\u307f( --amend \u306b\u3088\u308b\u76f4\u524d\u306e\u30b3\u30df\u30c3\u30c8\u306e\u307f\u4fee\u6b63) \u8907\u6570\u306ecommit\u304c\u3042\u308b\u5834\u5408\u306f\u4e00\u62ec\u5909\u66f4\u3082\u53ef\u80fd\u3002 \u203b \u6761\u4ef6\u8a2d\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001(fork\u306a\u3069\u3057\u3066\u304d\u305f)\u4ed6\u30e6\u30fc\u30b6\u30fc\u306e\u30b3\u30df\u30c3\u30c8\u3082\u66f8\u304d\u63db\u3048\u308b\u306e\u3067\u6ce8\u610f Git\u306eCommit\u30e6\u30fc\u30b6\u3092\u4fee\u6b63\u3059\u308b\u65b9\u6cd5 - Qiita \u30d6\u30e9\u30f3\u30c1\u306b\u79fb\u52d5\u3059\u308b\u524d\u306b\u7de8\u96c6\u3057\u3066\u3057\u307e\u3063\u305f(\u672a\u30b3\u30df\u30c3\u30c8\u72b6\u614b) stash save \u3067\u5909\u66f4\u3092\u9000\u907f -> \u30d6\u30e9\u30f3\u30c1\u306b\u79fb\u52d5 -> stash pop \u3067\u9000\u907f\u3057\u305f\u5909\u66f4\u70b9\u3092\u53d6\u308a\u51fa\u3059 $ git stash save $ git checkout <branch-name> $ git stash pop \u30d6\u30e9\u30f3\u30c1\u4f5c\u6210\u305b\u305a\u306bcommit\u3057\u307e\u304f\u3063\u3066\u305f \u305d\u306e\u6642\u70b9\u3067\u65b0\u3057\u3044\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3057\u3001main\u306forigin/main\u3067\u4e0a\u66f8\u304d\u3059\u308b\u3002 git switch -c new-branch git switch main git reset origin/main --hard git switch new-branch --amend\u3092\u5fd8\u308c\u3066commit \u672a\u30b3\u30df\u30c3\u30c8\u306e\u5909\u66f4\u3067\u306a\u304f\u3001\u30b3\u30df\u30c3\u30c8\u6e08\u307fA\u3068B\u3092\u307e\u3068\u3081\u308b\u306b\u306f git rebase \u3092\u4f7f\u3046 \u76f4\u524d\u306e\u30b3\u30df\u30c3\u30c8\u4e8c\u3064\u3067\u3042\u308c\u3070 git rebase -i HEAD^^ \u3067\u30a8\u30c7\u30a3\u30bf\u304c\u8d77\u52d5\u3059\u308b\u306e\u30672\u884c\u76ee(\u76f4\u8fd1\u306e\u65b0\u3057\u3044\u65b9)\u306e\u30b3\u30df\u30c3\u30c8\u3092 pick \u304b\u3089 squash \u306b\u5909\u66f4\u3057\u3066\u4fdd\u5b58\u3001\u30b3\u30df\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u7de8\u96c6\u306e\u30a8\u30c7\u30a3\u30bf\u306b\u306a\u308b\u306e\u3067\u5185\u5bb9\u3092\u7de8\u96c6\u3057\u3066\u7d42\u4e86\u3059\u308b\u3002 \u904e\u53bb\u306e\u30b3\u30df\u30c3\u30c8\u306b\u5bfe\u3059\u308b\u6253\u3061\u6d88\u3057\u30b3\u30df\u30c3\u30c8 \u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u4e0a\u306f\u300c\u904e\u53bb\u30b3\u30df\u30c3\u30c8\u300d\u300c\u6253\u3061\u6d88\u3057\u30b3\u30df\u30c3\u30c8\u300d\u304c\u6b8b\u308b\u3082\u306e\u3002 (\u203b \u30b3\u30df\u30c3\u30c8\u3057\u305f\u3053\u3068\u305d\u306e\u3082\u306e\u3092\u53d6\u308a\u6d88\u3057\u305f\u3044\u5834\u5408\u306f git reset \u3092\u4f7f\u3046) $ git revert <\u53d6\u308a\u6d88\u3057\u305f\u3044\u30b3\u30df\u30c3\u30c8ID> \u7bc4\u56f2\u6307\u5b9a\u3082\u53ef\u80fd $ git revert HEAD~5..HEAD~3 \u5bfe\u8c61\u30b3\u30df\u30c3\u30c8\u5f8c\u306b\u5909\u66f4\u304c\u3042\u3063\u305f\u308a\u3059\u308b\u3068\u30b3\u30f3\u30d5\u30ea\u30af\u30c8\u306b\u306a\u308b\u306e\u3067\u3001\u624b\u52d5\u3067\u4fee\u6b63\u3057\u3001 add , commit \u3059\u308b\u3002 \u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u306e\u5909\u66f4 \u76f4\u8fd1\u306e\u30b3\u30df\u30c3\u30c8\u306e\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u5909\u66f4 $ git commit --amend 2\u3064\u4ee5\u4e0a\u524d\u306e\u30b3\u30df\u30c3\u30c8\u306e\u30b3\u30df\u30c3\u30c8\u30fb\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u3092\u5909\u66f4 3\u3064\u524d\u306e\u5834\u5408\u306f $ git rebase -i HEAD~3 \u3053\u308c\u3067\u30a8\u30c7\u30a3\u30bf\u304c\u8d77\u52d5\u3057\u3066\u3069\u306e\u30b3\u30df\u30c3\u30c8\u3092\u5909\u66f4\u3059\u308b\u304b\u306e\u9078\u629e\u306b\u306a\u308b\u306e\u3067\u3001\u5bfe\u8c61\u306e\u884c\u982d\u306e pick \u3092 edit \u306b\u5909\u66f4\u3057\u3066 :wq \u3059\u308b\u3002 \u3053\u306e\u72b6\u614b\u3067\u4fee\u6b63\u304c\u5fc5\u8981\u306a\u30b3\u30fc\u30c9\u3092\u66f4\u65b0\u3059\u308b\u3002 \u66f4\u65b0\u304c\u7d42\u308f\u3063\u305f\u3089\u3001 $ git commit --amend \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001 edit \u5bfe\u8c61\u306e\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u306b\u5bfe\u3057\u3066\u306e\u518d\u30b3\u30df\u30c3\u30c8\u3068\u306a\u308b\u306e\u3067\u3001\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u3092\u4fee\u6b63\u3059\u308b\u3002 \u4fee\u6b63\u3057\u305f\u3089 $ git rebase --continue \u5bfe\u8c61\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u6b21\u306e\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u3092 git commit --amend \u3057\u3066 git rebase --continue \u3092\u4ef6\u6570\u5206\u7e70\u308a\u8fd4\u3057\u3002 \u6700\u5f8c\u306e rebase --continue \u3092\u5b9f\u884c\u3059\u308b\u3068\u5b8c\u4e86\u3059\u308b\u3002 \u30b3\u30df\u30c3\u30c8\u306e\u53d6\u308a\u6d88\u3057 \u9593\u9055\u3048\u3066\u30b3\u30df\u30c3\u30c8\u3057\u305f\u6642\u70b9\u3067\u300c\u3042\u300d\u3068\u601d\u3063\u305f\u3089 git reset --soft HEAD^ git commit \u3059\u308b\u524d\u3001 git add \u3057\u305f\u5f8c\u306e\u72b6\u614b\u306b\u623b\u3059 git reset --mixed HEAD^ git add \u3059\u308b\u524d\u3001\u7de8\u96c6\u6e08\u307f\u306e\u72b6\u614b\u306b\u623b\u3059 git reset --hard HEAD^ \u7de8\u96c6\u524d\u3001\u76f4\u524d\u306e git commit \u5b8c\u4e86\u6642\u70b9\u306b\u623b\u3059 (\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u3092\u9593\u9055\u3048\u305f\u3068\u304b\u30b3\u30df\u30c3\u30c8\u3092\u9593\u9055\u3048\u305f\u3060\u3051\u3067\u7de8\u96c6\u5185\u5bb9\u306f\u6b63\u3057\u3044\u5834\u5408\u306f\u3053\u308c\u3084\u308b\u3068\u4e8b\u6545\u308b) --amend\u306e\u53d6\u308a\u6d88\u3057 git commit --amend \u76f4\u5f8c\u3067\u3042\u308c\u3070 git reset --soft HEAD@{1} \u3067\u5143\u306b\u623b\u308b\u3002 \u3069\u3053\u306b\u623b\u308b\u304b\u306f git reflog \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 reset\u306e\u53d6\u308a\u6d88\u3057 $ git reflog \u3053\u308c\u3067reset\u3092\u542b\u3080git\u306e\u64cd\u4f5c\u5c65\u6b74\u304c\u8868\u793a\u3055\u308c\u308b\u3002 \u300c\u3053\u306e\u30b3\u30df\u30c3\u30c8\u306e\u72b6\u614b\u306b\u623b\u3057\u305f\u3044\u300d\u306eHEAD\u756a\u53f7\u3092\u63a2\u3057\u3066 $ git reset --mixed HEAD@ {8} \u306a\u3069\u5b9f\u884c\u3059\u308b\u3002 --mixed \u3084 --soft \u306b\u3064\u3044\u3066\u306f\u3001\u6700\u521d\u306breset\u3057\u305f\u3068\u304d\u3068\u540c\u3058\u306e\u3092\u6307\u5b9a\u3059\u308c\u3070\u3088\u3044\u304b\u306a\uff1f (\u672a\u78ba\u8a8d) $ git reflog de41fb8 ( HEAD -> linux ) HEAD@ {0} : reset: moving to HEAD@ {7} 7379519 HEAD@ {1} : reset: moving to HEAD@ {5} de41fb8 ( HEAD -> linux ) HEAD@ {2} : reset: moving to HEAD@ {5} de41fb8 ( HEAD -> linux ) HEAD@ {3} : reset: moving to HEAD@ {4} 22364c9 HEAD@ {4} : reset: moving to HEAD^ de41fb8 ( HEAD -> linux ) HEAD@ {5} : reset: moving to HEAD^ 7379519 HEAD@ {6} : reset: moving to HEAD 7379519 HEAD@ {7} : .... de41fb8 ( HEAD -> linux ) HEAD@ {8} : .... \u3053\u308c\u3067 HEAD@{8} \u306b reset \u3059\u308c\u3070\u3001 de41fb8 \u3092\u30b3\u30df\u30c3\u30c8\u3057\u305f\u72b6\u614b\u306b\u306a\u308b\u3002 \u53d6\u308a\u6d88\u3057 \u30ed\u30fc\u30ab\u30eb\u306e\u5909\u66f4(\u672aadd\u3001\u672acommit)\u3092\u7834\u68c4 $ git checkout /path/to/file \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u524a\u9664\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u5fa9\u65e7\u3057\u305f\u3044\u5834\u5408\u3082\u3001\u524a\u9664\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308c\u3070OK \u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306a\u3044Git\u3067\u3042\u308c\u3070\u3001\u3053\u308c\u304b\u3089\u306f restore \u3092\u4f7f\u304a\u3046\u3002 $ git restore /path/to/file add\u306e\u53d6\u308a\u6d88\u3057 $ git reset HEAD <path> \u307e\u305f\u306f $ git restore --staged <path> \u305f\u3060\u3057\u3001 git init \u76f4\u5f8c\u306e\u5834\u5408\u306f\u3053\u306e\u64cd\u4f5c\u306f\u4e0d\u53ef\u3002 git rm --cached \u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u304b\u3089\u5916\u3059\u64cd\u4f5c\u3092\u884c\u3046\u3002 $ git rm --cached <filename> $ git rm --cached -r <dirname> mv\u306e\u53d6\u308a\u6d88\u3057 $ git mv foo bar \u3057\u305f\u72b6\u614b\u3067\u3001\u7121\u304b\u3063\u305f\u3053\u3068\u306b\u3059\u308b\u306b\u306f $ git reset HEAD foo $ git reset HEAD bar \u306e\u4e21\u65b9\u3092\u5b9f\u884c\u3059\u308b\u3002 \u203b git mv \u306b\u3088\u3063\u3066\u3001 bar \u304c\u4f5c\u6210\u3055\u308c\u3001 foo \u306f\u524a\u9664\u5bfe\u8c61\u306b\u306a\u3063\u3066\u308b\u306e\u3067\u3001\u305d\u308c\u305e\u308c reset HEAD \u3067\u5143\u306b\u623b\u3059( bar \u306f\u524a\u9664\u3057\u3066 foo \u306e delete \u3092\u30ad\u30e3\u30f3\u30bb\u30eb) memo $ git reset --hard HEAD /path/to/file fatal: Cannot do hard reset with paths. merge\u306e\u53d6\u308a\u6d88\u3057(conflict) merge\u3057\u3088\u3046\u3068\u3057\u305f\u3089conflict\u3057\u3066\u3057\u307e\u3044\u3001\u7af6\u5408\u3092\u89e3\u6d88\u3059\u308b\u3088\u308a\u30de\u30fc\u30b8\u5143\u3092\u6539\u4fee\u3057\u3066\u30de\u30fc\u30b8\u3057\u306a\u304a\u3057\u305f\u307b\u3046\u304c\u65e9\u3044\u3088\u3046\u306a\u5834\u5408\u3002 \u30de\u30fc\u30b8\u3092\u53d6\u308a\u6d88\u3059\u306b\u306f $ git merge --abort rebase\u306e\u53d6\u308a\u6d88\u3057(conflict) merge \u3068\u540c\u69d8\u306b --abort \u3067\u5143\u306b\u623b\u305b\u308b\u3002 $ git rebase --abort \u30a8\u30e9\u30fc push\u3067cannot lock ref \u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306b feature \u304c\u5b58\u5728\u3059\u308b\u72b6\u614b\u3067 feature/foobar \u3092 push \u3057\u3088\u3046\u3068\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc ! [remote rejected] feature / foobar -> feature / foobar (cannot lock ref ' refs / heads / feature / foobar ' : ' refs / heads / feature ' exists; cannot create ' refs / heads / feature / foobar ' ) error : failed to push some refs to ' github.com : ... ' \u30ea\u30e2\u30fc\u30c8\u30d6\u30e9\u30f3\u30c1\u306e\u524a\u9664\u3068\u30ed\u30fc\u30ab\u30eb\u306e origin/feature \u3092\u524a\u9664\u3059\u308c\u3070OK pull\u3067Need to specify how to reconcile divergent branches $ git pull hint: You have divergent branches and need to specify how to reconcile them. hint: You can do so by running one of the following commands sometime before hint: your next pull: hint: hint: git config pull.rebase false # merge hint: git config pull.rebase true # rebase hint: git config pull.ff only # fast-forward only hint: hint: You can replace \"git config\" with \"git config --global\" to set a default hint: preference for all repositories. You can also pass --rebase, --no-rebase, hint: or --ff-only on the command line to override the configured default per hint: invocation. fatal: Need to specify how to reconcile divergent branches. push\u6e08\u307f\u306e\u30b3\u30df\u30c3\u30c8\u3068rebase\u3057\u3066\u8ffd\u52a0\u3055\u308c\u305f\u30b3\u30df\u30c3\u30c8\u3067\u60c5\u5831\u304c\u98df\u3044\u9055\u3063\u3066\u308b\u5834\u5408\u306a\u3069\u3067\u767a\u751f\u3002 git pull --rebase \u3059\u308c\u3070\u53d6\u308a\u8fbc\u3081\u308b\u3002","title":"\u3084\u3089\u304b\u3057\u305f\u3068\u304d"},{"location":"Git/trouble/#_1","text":"","title":"\u3084\u3089\u304b\u3057\u305f\u3068\u304d"},{"location":"Git/trouble/#commit","text":"\u30e1\u30c3\u30bb\u30fc\u30b8\u51fa\u308b\u306e\u3067\u305d\u306e\u901a\u308a\u3059\u308c\u3070\u3044\u3044 $ git config --global user.name \"Your Name\" $ git config --global user.email you@example.com $ git commit --amend --reset-author \u203b \u3053\u308c\u306f\u6700\u521d\u306e1\u56de\u306e\u307f( --amend \u306b\u3088\u308b\u76f4\u524d\u306e\u30b3\u30df\u30c3\u30c8\u306e\u307f\u4fee\u6b63) \u8907\u6570\u306ecommit\u304c\u3042\u308b\u5834\u5408\u306f\u4e00\u62ec\u5909\u66f4\u3082\u53ef\u80fd\u3002 \u203b \u6761\u4ef6\u8a2d\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001(fork\u306a\u3069\u3057\u3066\u304d\u305f)\u4ed6\u30e6\u30fc\u30b6\u30fc\u306e\u30b3\u30df\u30c3\u30c8\u3082\u66f8\u304d\u63db\u3048\u308b\u306e\u3067\u6ce8\u610f Git\u306eCommit\u30e6\u30fc\u30b6\u3092\u4fee\u6b63\u3059\u308b\u65b9\u6cd5 - Qiita","title":"\u30e6\u30fc\u30b6\u30fc\u8a2d\u5b9a\u524d\u306bcommit\u3057\u305f"},{"location":"Git/trouble/#_2","text":"stash save \u3067\u5909\u66f4\u3092\u9000\u907f -> \u30d6\u30e9\u30f3\u30c1\u306b\u79fb\u52d5 -> stash pop \u3067\u9000\u907f\u3057\u305f\u5909\u66f4\u70b9\u3092\u53d6\u308a\u51fa\u3059 $ git stash save $ git checkout <branch-name> $ git stash pop","title":"\u30d6\u30e9\u30f3\u30c1\u306b\u79fb\u52d5\u3059\u308b\u524d\u306b\u7de8\u96c6\u3057\u3066\u3057\u307e\u3063\u305f(\u672a\u30b3\u30df\u30c3\u30c8\u72b6\u614b)"},{"location":"Git/trouble/#commit_1","text":"\u305d\u306e\u6642\u70b9\u3067\u65b0\u3057\u3044\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3057\u3001main\u306forigin/main\u3067\u4e0a\u66f8\u304d\u3059\u308b\u3002 git switch -c new-branch git switch main git reset origin/main --hard git switch new-branch","title":"\u30d6\u30e9\u30f3\u30c1\u4f5c\u6210\u305b\u305a\u306bcommit\u3057\u307e\u304f\u3063\u3066\u305f"},{"location":"Git/trouble/#-amendcommit","text":"\u672a\u30b3\u30df\u30c3\u30c8\u306e\u5909\u66f4\u3067\u306a\u304f\u3001\u30b3\u30df\u30c3\u30c8\u6e08\u307fA\u3068B\u3092\u307e\u3068\u3081\u308b\u306b\u306f git rebase \u3092\u4f7f\u3046 \u76f4\u524d\u306e\u30b3\u30df\u30c3\u30c8\u4e8c\u3064\u3067\u3042\u308c\u3070 git rebase -i HEAD^^ \u3067\u30a8\u30c7\u30a3\u30bf\u304c\u8d77\u52d5\u3059\u308b\u306e\u30672\u884c\u76ee(\u76f4\u8fd1\u306e\u65b0\u3057\u3044\u65b9)\u306e\u30b3\u30df\u30c3\u30c8\u3092 pick \u304b\u3089 squash \u306b\u5909\u66f4\u3057\u3066\u4fdd\u5b58\u3001\u30b3\u30df\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u7de8\u96c6\u306e\u30a8\u30c7\u30a3\u30bf\u306b\u306a\u308b\u306e\u3067\u5185\u5bb9\u3092\u7de8\u96c6\u3057\u3066\u7d42\u4e86\u3059\u308b\u3002","title":"--amend\u3092\u5fd8\u308c\u3066commit"},{"location":"Git/trouble/#_3","text":"\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u4e0a\u306f\u300c\u904e\u53bb\u30b3\u30df\u30c3\u30c8\u300d\u300c\u6253\u3061\u6d88\u3057\u30b3\u30df\u30c3\u30c8\u300d\u304c\u6b8b\u308b\u3082\u306e\u3002 (\u203b \u30b3\u30df\u30c3\u30c8\u3057\u305f\u3053\u3068\u305d\u306e\u3082\u306e\u3092\u53d6\u308a\u6d88\u3057\u305f\u3044\u5834\u5408\u306f git reset \u3092\u4f7f\u3046) $ git revert <\u53d6\u308a\u6d88\u3057\u305f\u3044\u30b3\u30df\u30c3\u30c8ID> \u7bc4\u56f2\u6307\u5b9a\u3082\u53ef\u80fd $ git revert HEAD~5..HEAD~3 \u5bfe\u8c61\u30b3\u30df\u30c3\u30c8\u5f8c\u306b\u5909\u66f4\u304c\u3042\u3063\u305f\u308a\u3059\u308b\u3068\u30b3\u30f3\u30d5\u30ea\u30af\u30c8\u306b\u306a\u308b\u306e\u3067\u3001\u624b\u52d5\u3067\u4fee\u6b63\u3057\u3001 add , commit \u3059\u308b\u3002","title":"\u904e\u53bb\u306e\u30b3\u30df\u30c3\u30c8\u306b\u5bfe\u3059\u308b\u6253\u3061\u6d88\u3057\u30b3\u30df\u30c3\u30c8"},{"location":"Git/trouble/#_4","text":"","title":"\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u306e\u5909\u66f4"},{"location":"Git/trouble/#_5","text":"$ git commit --amend","title":"\u76f4\u8fd1\u306e\u30b3\u30df\u30c3\u30c8\u306e\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u5909\u66f4"},{"location":"Git/trouble/#2","text":"3\u3064\u524d\u306e\u5834\u5408\u306f $ git rebase -i HEAD~3 \u3053\u308c\u3067\u30a8\u30c7\u30a3\u30bf\u304c\u8d77\u52d5\u3057\u3066\u3069\u306e\u30b3\u30df\u30c3\u30c8\u3092\u5909\u66f4\u3059\u308b\u304b\u306e\u9078\u629e\u306b\u306a\u308b\u306e\u3067\u3001\u5bfe\u8c61\u306e\u884c\u982d\u306e pick \u3092 edit \u306b\u5909\u66f4\u3057\u3066 :wq \u3059\u308b\u3002 \u3053\u306e\u72b6\u614b\u3067\u4fee\u6b63\u304c\u5fc5\u8981\u306a\u30b3\u30fc\u30c9\u3092\u66f4\u65b0\u3059\u308b\u3002 \u66f4\u65b0\u304c\u7d42\u308f\u3063\u305f\u3089\u3001 $ git commit --amend \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001 edit \u5bfe\u8c61\u306e\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u306b\u5bfe\u3057\u3066\u306e\u518d\u30b3\u30df\u30c3\u30c8\u3068\u306a\u308b\u306e\u3067\u3001\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u3092\u4fee\u6b63\u3059\u308b\u3002 \u4fee\u6b63\u3057\u305f\u3089 $ git rebase --continue \u5bfe\u8c61\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u6b21\u306e\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u3092 git commit --amend \u3057\u3066 git rebase --continue \u3092\u4ef6\u6570\u5206\u7e70\u308a\u8fd4\u3057\u3002 \u6700\u5f8c\u306e rebase --continue \u3092\u5b9f\u884c\u3059\u308b\u3068\u5b8c\u4e86\u3059\u308b\u3002","title":"2\u3064\u4ee5\u4e0a\u524d\u306e\u30b3\u30df\u30c3\u30c8\u306e\u30b3\u30df\u30c3\u30c8\u30fb\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u3092\u5909\u66f4"},{"location":"Git/trouble/#_6","text":"\u9593\u9055\u3048\u3066\u30b3\u30df\u30c3\u30c8\u3057\u305f\u6642\u70b9\u3067\u300c\u3042\u300d\u3068\u601d\u3063\u305f\u3089","title":"\u30b3\u30df\u30c3\u30c8\u306e\u53d6\u308a\u6d88\u3057"},{"location":"Git/trouble/#git-reset-soft-head","text":"git commit \u3059\u308b\u524d\u3001 git add \u3057\u305f\u5f8c\u306e\u72b6\u614b\u306b\u623b\u3059","title":"git reset --soft HEAD^"},{"location":"Git/trouble/#git-reset-mixed-head","text":"git add \u3059\u308b\u524d\u3001\u7de8\u96c6\u6e08\u307f\u306e\u72b6\u614b\u306b\u623b\u3059","title":"git reset --mixed HEAD^"},{"location":"Git/trouble/#git-reset-hard-head","text":"\u7de8\u96c6\u524d\u3001\u76f4\u524d\u306e git commit \u5b8c\u4e86\u6642\u70b9\u306b\u623b\u3059 (\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u3092\u9593\u9055\u3048\u305f\u3068\u304b\u30b3\u30df\u30c3\u30c8\u3092\u9593\u9055\u3048\u305f\u3060\u3051\u3067\u7de8\u96c6\u5185\u5bb9\u306f\u6b63\u3057\u3044\u5834\u5408\u306f\u3053\u308c\u3084\u308b\u3068\u4e8b\u6545\u308b)","title":"git reset --hard HEAD^"},{"location":"Git/trouble/#-amend","text":"git commit --amend \u76f4\u5f8c\u3067\u3042\u308c\u3070 git reset --soft HEAD@{1} \u3067\u5143\u306b\u623b\u308b\u3002 \u3069\u3053\u306b\u623b\u308b\u304b\u306f git reflog \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002","title":"--amend\u306e\u53d6\u308a\u6d88\u3057"},{"location":"Git/trouble/#reset","text":"$ git reflog \u3053\u308c\u3067reset\u3092\u542b\u3080git\u306e\u64cd\u4f5c\u5c65\u6b74\u304c\u8868\u793a\u3055\u308c\u308b\u3002 \u300c\u3053\u306e\u30b3\u30df\u30c3\u30c8\u306e\u72b6\u614b\u306b\u623b\u3057\u305f\u3044\u300d\u306eHEAD\u756a\u53f7\u3092\u63a2\u3057\u3066 $ git reset --mixed HEAD@ {8} \u306a\u3069\u5b9f\u884c\u3059\u308b\u3002 --mixed \u3084 --soft \u306b\u3064\u3044\u3066\u306f\u3001\u6700\u521d\u306breset\u3057\u305f\u3068\u304d\u3068\u540c\u3058\u306e\u3092\u6307\u5b9a\u3059\u308c\u3070\u3088\u3044\u304b\u306a\uff1f (\u672a\u78ba\u8a8d) $ git reflog de41fb8 ( HEAD -> linux ) HEAD@ {0} : reset: moving to HEAD@ {7} 7379519 HEAD@ {1} : reset: moving to HEAD@ {5} de41fb8 ( HEAD -> linux ) HEAD@ {2} : reset: moving to HEAD@ {5} de41fb8 ( HEAD -> linux ) HEAD@ {3} : reset: moving to HEAD@ {4} 22364c9 HEAD@ {4} : reset: moving to HEAD^ de41fb8 ( HEAD -> linux ) HEAD@ {5} : reset: moving to HEAD^ 7379519 HEAD@ {6} : reset: moving to HEAD 7379519 HEAD@ {7} : .... de41fb8 ( HEAD -> linux ) HEAD@ {8} : .... \u3053\u308c\u3067 HEAD@{8} \u306b reset \u3059\u308c\u3070\u3001 de41fb8 \u3092\u30b3\u30df\u30c3\u30c8\u3057\u305f\u72b6\u614b\u306b\u306a\u308b\u3002","title":"reset\u306e\u53d6\u308a\u6d88\u3057"},{"location":"Git/trouble/#_7","text":"","title":"\u53d6\u308a\u6d88\u3057"},{"location":"Git/trouble/#addcommit","text":"$ git checkout /path/to/file \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u524a\u9664\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u5fa9\u65e7\u3057\u305f\u3044\u5834\u5408\u3082\u3001\u524a\u9664\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308c\u3070OK \u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306a\u3044Git\u3067\u3042\u308c\u3070\u3001\u3053\u308c\u304b\u3089\u306f restore \u3092\u4f7f\u304a\u3046\u3002 $ git restore /path/to/file","title":"\u30ed\u30fc\u30ab\u30eb\u306e\u5909\u66f4(\u672aadd\u3001\u672acommit)\u3092\u7834\u68c4"},{"location":"Git/trouble/#add","text":"$ git reset HEAD <path> \u307e\u305f\u306f $ git restore --staged <path> \u305f\u3060\u3057\u3001 git init \u76f4\u5f8c\u306e\u5834\u5408\u306f\u3053\u306e\u64cd\u4f5c\u306f\u4e0d\u53ef\u3002 git rm --cached \u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u304b\u3089\u5916\u3059\u64cd\u4f5c\u3092\u884c\u3046\u3002 $ git rm --cached <filename> $ git rm --cached -r <dirname>","title":"add\u306e\u53d6\u308a\u6d88\u3057"},{"location":"Git/trouble/#mv","text":"$ git mv foo bar \u3057\u305f\u72b6\u614b\u3067\u3001\u7121\u304b\u3063\u305f\u3053\u3068\u306b\u3059\u308b\u306b\u306f $ git reset HEAD foo $ git reset HEAD bar \u306e\u4e21\u65b9\u3092\u5b9f\u884c\u3059\u308b\u3002 \u203b git mv \u306b\u3088\u3063\u3066\u3001 bar \u304c\u4f5c\u6210\u3055\u308c\u3001 foo \u306f\u524a\u9664\u5bfe\u8c61\u306b\u306a\u3063\u3066\u308b\u306e\u3067\u3001\u305d\u308c\u305e\u308c reset HEAD \u3067\u5143\u306b\u623b\u3059( bar \u306f\u524a\u9664\u3057\u3066 foo \u306e delete \u3092\u30ad\u30e3\u30f3\u30bb\u30eb) memo $ git reset --hard HEAD /path/to/file fatal: Cannot do hard reset with paths.","title":"mv\u306e\u53d6\u308a\u6d88\u3057"},{"location":"Git/trouble/#mergeconflict","text":"merge\u3057\u3088\u3046\u3068\u3057\u305f\u3089conflict\u3057\u3066\u3057\u307e\u3044\u3001\u7af6\u5408\u3092\u89e3\u6d88\u3059\u308b\u3088\u308a\u30de\u30fc\u30b8\u5143\u3092\u6539\u4fee\u3057\u3066\u30de\u30fc\u30b8\u3057\u306a\u304a\u3057\u305f\u307b\u3046\u304c\u65e9\u3044\u3088\u3046\u306a\u5834\u5408\u3002 \u30de\u30fc\u30b8\u3092\u53d6\u308a\u6d88\u3059\u306b\u306f $ git merge --abort","title":"merge\u306e\u53d6\u308a\u6d88\u3057(conflict)"},{"location":"Git/trouble/#rebaseconflict","text":"merge \u3068\u540c\u69d8\u306b --abort \u3067\u5143\u306b\u623b\u305b\u308b\u3002 $ git rebase --abort","title":"rebase\u306e\u53d6\u308a\u6d88\u3057(conflict)"},{"location":"Git/trouble/#_8","text":"","title":"\u30a8\u30e9\u30fc"},{"location":"Git/trouble/#pushcannot-lock-ref","text":"\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306b feature \u304c\u5b58\u5728\u3059\u308b\u72b6\u614b\u3067 feature/foobar \u3092 push \u3057\u3088\u3046\u3068\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc ! [remote rejected] feature / foobar -> feature / foobar (cannot lock ref ' refs / heads / feature / foobar ' : ' refs / heads / feature ' exists; cannot create ' refs / heads / feature / foobar ' ) error : failed to push some refs to ' github.com : ... ' \u30ea\u30e2\u30fc\u30c8\u30d6\u30e9\u30f3\u30c1\u306e\u524a\u9664\u3068\u30ed\u30fc\u30ab\u30eb\u306e origin/feature \u3092\u524a\u9664\u3059\u308c\u3070OK","title":"push\u3067cannot lock ref"},{"location":"Git/trouble/#pullneed-to-specify-how-to-reconcile-divergent-branches","text":"$ git pull hint: You have divergent branches and need to specify how to reconcile them. hint: You can do so by running one of the following commands sometime before hint: your next pull: hint: hint: git config pull.rebase false # merge hint: git config pull.rebase true # rebase hint: git config pull.ff only # fast-forward only hint: hint: You can replace \"git config\" with \"git config --global\" to set a default hint: preference for all repositories. You can also pass --rebase, --no-rebase, hint: or --ff-only on the command line to override the configured default per hint: invocation. fatal: Need to specify how to reconcile divergent branches. push\u6e08\u307f\u306e\u30b3\u30df\u30c3\u30c8\u3068rebase\u3057\u3066\u8ffd\u52a0\u3055\u308c\u305f\u30b3\u30df\u30c3\u30c8\u3067\u60c5\u5831\u304c\u98df\u3044\u9055\u3063\u3066\u308b\u5834\u5408\u306a\u3069\u3067\u767a\u751f\u3002 git pull --rebase \u3059\u308c\u3070\u53d6\u308a\u8fbc\u3081\u308b\u3002","title":"pull\u3067Need to specify how to reconcile divergent branches"},{"location":"Linux/","text":"Linux \u3044\u308d\u3044\u308d\u30e1\u30e2 Rufus - \u8d77\u52d5\u53ef\u80fd\u306aUSB\u30c9\u30e9\u30a4\u30d6\u3092\u7c21\u5358\u306b\u4f5c\u6210\u3067\u304d\u307e\u3059 Rufus\u4f7f\u7528 Windows\u3067Ubuntu\u306eUSB\u30d6\u30fc\u30c8\u30e1\u30c7\u30a3\u30a2\u3092\u4f5c\u6210\u3059\u308b\u624b\u9806 | \u673a\u4e0a\u306e\u81ea\u8ad6 Universal USB Installer Linux Ubuntu\u306e\u30d6\u30fc\u30bf\u30d6\u30ebUSB\u30c9\u30e9\u30a4\u30d6\u3092\u4f5c\u6210\u3059\u308b\u624b\u9806 | \u4ffa\u306e\u958b\u767a\u7814\u7a76\u6240 sudo \u30d1\u30b9\u30ef\u30fc\u30c9\u4e0d\u8981\u306b\u3059\u308b\u96d1\u306a\u8a2d\u5b9a # cat /etc/sudoers.d/nopass %wheel ALL = (ALL) NOPASSWD : ALL Debian\u7cfb\u306f\u30b0\u30eb\u30fc\u30d7\u540d\u306f wheel \u3067\u306a\u304f sudo \u306b\u306a\u308b\u3002 %sudo ALL = (ALL) NOPASSWD : ALL \u30b3\u30de\u30f3\u30c9\u3067\u30d1\u30b9\u4e0d\u8981\u8a2d\u5b9a rhel\u7cfb cat << __EOL__ > / etc / sudoers.d / nopass %wheel ALL = (ALL) NOPASSWD : ALL __EOL__ debian\u7cfb cat << __EOL__ > / etc / sudoers.d / nopass %sudo ALL = (ALL) NOPASSWD : ALL __EOL__ \u74b0\u5883\u5909\u6570 \u8a2d\u5b9a export PATH=$PATH:~/bin \u524a\u9664 \u74b0\u5883\u5909\u6570 EDITOR \u3092\u524a\u9664\u3059\u308b\u306b\u306f export -n EDITOR \u30b7\u30a7\u30eb\u5909\u6570\u306b\u6b8b\u308b\u306e\u3067 echo $EDITOR \u306e\u51fa\u529b\u306f\u5909\u5316\u3057\u306a\u3044\u304c\u74b0\u5883\u5909\u6570\u3068\u3057\u3066\u306f\u6d88\u3048\u308b\u3002 \u30a8\u30e9\u30fc\u756a\u53f7 \u4ed8\u9332B Solaris/Linux ERRNO \u30c6\u30fc\u30d6\u30eb No code \u6982\u8981 1 EPERM Operation not permitted / not super-user 2 ENOENT No such file or directory 5 EIO I/O error 6 ENXIO No such device or address \u30b7\u30f3\u30b0\u30eb\u30e6\u30fc\u30b6\u30fc\u30e2\u30fc\u30c9 ubuntu GRUB\u30e1\u30cb\u30e5\u30fc\u753b\u9762\u3067 e \u3057\u3001 setparams 'Ubuntu' recordfail load_video gfxmode $linux_gfx_mode [...] linux /vmlinuz-... root=/dev/... ... \u306e linux \u3067\u59cb\u307e\u308b\u884c\u306e\u672b\u5c3e\u306b single \u3092\u8ffd\u8a18\u3057\u3066 Ctrl-x \u3067\u8d77\u52d5\u3059\u308b\u3002 \u30eb\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092mount\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u306f single \u3067\u306a\u304f break \u3092\u8ffd\u8a18\u3002 GRUB \u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u30fc\u304c\u58ca\u308c\u3066grub rescue\u30e2\u30fc\u30c9\u306b\u306a\u3063\u305f\u5834\u5408\u3002 \u307e\u305a ls \u3067/boot\u304c\u3042\u308b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u63a2\u3059\u3002 grub rescue> ls (hd0) (hd0,gpt3) (hd0,gpt2) (hd0,gpt1) grub rescue> ls (hd0,gpt1) (hd0,gpt3) : Filesystem is unknown. grub rescue> ls (hd0,gpt3) (hd0,gpt3) : Filesystem is ext2. grub rescue> ls (hd0,gpt3)/ ./ ../ lost+found/ bin boot/ dev/ etc/ home/ lib lib32 lib64 libx32 media/ mnt/ opt/ proc/ root/ run/ sbin snap/ srv/ sys/ tmp/ usr/ var/ grub rescue> \u307f\u3064\u304b\u3063\u305f\u3089 set prefix grub rescue>set prefix=(hd0,gpt3)/boot/grub grub rescue>set root=(hd0,gpt3) grub rescue>insmod normal grub rescue>insmod linux grub rescue>normal \u3053\u308c\u3067\u30d6\u30fc\u30c8\u3067\u304d\u308b\u3002 Linux\u304c\u8d77\u52d5\u3057\u305f\u3089GRUB\u3092\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo update-grub sudo grub-install /dev/sda \u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9 Fedora Upgrading Fedora Using DNF System Plugin :: Fedora Docs sudo dnf upgrade --refresh sudo reboot sudo dnf system-upgrade download --releasever=41 # 41\u306f\u30bf\u30fc\u30b2\u30c3\u30c8\u30d0\u30fc\u30b8\u30e7\u30f3\u3002\u98db\u3073\u7d1a\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u306e\u306f2\u6bb5\u968e(39 -> 41) sudo dnf system-upgrade reboot Ubuntu sudo apt-get update sudo apt-get upgrade sudo apt-get dist-upgrade sudo apt-get autoremove sudo do-release-upgrade If you continue, an additional ssh daemon will be started at port '1022'. Do you want to continue? SSH\u7d4c\u7531\u3060\u3068\u4e0a\u8a18\u8b66\u544a\u304c\u51fa\u308b\u304c\u7d9a\u3051\u308b\u306a\u3089\u7d9a\u3051\u308b\u3002 \u3042\u3068\u306f\u9032\u3081\u3066\u3044\u304f\u3068\u78ba\u8a8d\u304c\u51fa\u308b\u306e\u3067\u90fd\u5ea6\u9032\u3081\u308b\u3002","title":"Linux"},{"location":"Linux/#linux","text":"","title":"Linux"},{"location":"Linux/#_1","text":"Rufus - \u8d77\u52d5\u53ef\u80fd\u306aUSB\u30c9\u30e9\u30a4\u30d6\u3092\u7c21\u5358\u306b\u4f5c\u6210\u3067\u304d\u307e\u3059 Rufus\u4f7f\u7528 Windows\u3067Ubuntu\u306eUSB\u30d6\u30fc\u30c8\u30e1\u30c7\u30a3\u30a2\u3092\u4f5c\u6210\u3059\u308b\u624b\u9806 | \u673a\u4e0a\u306e\u81ea\u8ad6 Universal USB Installer Linux Ubuntu\u306e\u30d6\u30fc\u30bf\u30d6\u30ebUSB\u30c9\u30e9\u30a4\u30d6\u3092\u4f5c\u6210\u3059\u308b\u624b\u9806 | \u4ffa\u306e\u958b\u767a\u7814\u7a76\u6240","title":"\u3044\u308d\u3044\u308d\u30e1\u30e2"},{"location":"Linux/#sudo","text":"\u30d1\u30b9\u30ef\u30fc\u30c9\u4e0d\u8981\u306b\u3059\u308b\u96d1\u306a\u8a2d\u5b9a # cat /etc/sudoers.d/nopass %wheel ALL = (ALL) NOPASSWD : ALL Debian\u7cfb\u306f\u30b0\u30eb\u30fc\u30d7\u540d\u306f wheel \u3067\u306a\u304f sudo \u306b\u306a\u308b\u3002 %sudo ALL = (ALL) NOPASSWD : ALL","title":"sudo"},{"location":"Linux/#_2","text":"rhel\u7cfb cat << __EOL__ > / etc / sudoers.d / nopass %wheel ALL = (ALL) NOPASSWD : ALL __EOL__ debian\u7cfb cat << __EOL__ > / etc / sudoers.d / nopass %sudo ALL = (ALL) NOPASSWD : ALL __EOL__","title":"\u30b3\u30de\u30f3\u30c9\u3067\u30d1\u30b9\u4e0d\u8981\u8a2d\u5b9a"},{"location":"Linux/#_3","text":"","title":"\u74b0\u5883\u5909\u6570"},{"location":"Linux/#_4","text":"export PATH=$PATH:~/bin","title":"\u8a2d\u5b9a"},{"location":"Linux/#_5","text":"\u74b0\u5883\u5909\u6570 EDITOR \u3092\u524a\u9664\u3059\u308b\u306b\u306f export -n EDITOR \u30b7\u30a7\u30eb\u5909\u6570\u306b\u6b8b\u308b\u306e\u3067 echo $EDITOR \u306e\u51fa\u529b\u306f\u5909\u5316\u3057\u306a\u3044\u304c\u74b0\u5883\u5909\u6570\u3068\u3057\u3066\u306f\u6d88\u3048\u308b\u3002","title":"\u524a\u9664"},{"location":"Linux/#_6","text":"\u4ed8\u9332B Solaris/Linux ERRNO \u30c6\u30fc\u30d6\u30eb No code \u6982\u8981 1 EPERM Operation not permitted / not super-user 2 ENOENT No such file or directory 5 EIO I/O error 6 ENXIO No such device or address","title":"\u30a8\u30e9\u30fc\u756a\u53f7"},{"location":"Linux/#_7","text":"","title":"\u30b7\u30f3\u30b0\u30eb\u30e6\u30fc\u30b6\u30fc\u30e2\u30fc\u30c9"},{"location":"Linux/#ubuntu","text":"GRUB\u30e1\u30cb\u30e5\u30fc\u753b\u9762\u3067 e \u3057\u3001 setparams 'Ubuntu' recordfail load_video gfxmode $linux_gfx_mode [...] linux /vmlinuz-... root=/dev/... ... \u306e linux \u3067\u59cb\u307e\u308b\u884c\u306e\u672b\u5c3e\u306b single \u3092\u8ffd\u8a18\u3057\u3066 Ctrl-x \u3067\u8d77\u52d5\u3059\u308b\u3002 \u30eb\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092mount\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u306f single \u3067\u306a\u304f break \u3092\u8ffd\u8a18\u3002","title":"ubuntu"},{"location":"Linux/#grub","text":"\u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u30fc\u304c\u58ca\u308c\u3066grub rescue\u30e2\u30fc\u30c9\u306b\u306a\u3063\u305f\u5834\u5408\u3002 \u307e\u305a ls \u3067/boot\u304c\u3042\u308b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u63a2\u3059\u3002 grub rescue> ls (hd0) (hd0,gpt3) (hd0,gpt2) (hd0,gpt1) grub rescue> ls (hd0,gpt1) (hd0,gpt3) : Filesystem is unknown. grub rescue> ls (hd0,gpt3) (hd0,gpt3) : Filesystem is ext2. grub rescue> ls (hd0,gpt3)/ ./ ../ lost+found/ bin boot/ dev/ etc/ home/ lib lib32 lib64 libx32 media/ mnt/ opt/ proc/ root/ run/ sbin snap/ srv/ sys/ tmp/ usr/ var/ grub rescue> \u307f\u3064\u304b\u3063\u305f\u3089 set prefix grub rescue>set prefix=(hd0,gpt3)/boot/grub grub rescue>set root=(hd0,gpt3) grub rescue>insmod normal grub rescue>insmod linux grub rescue>normal \u3053\u308c\u3067\u30d6\u30fc\u30c8\u3067\u304d\u308b\u3002 Linux\u304c\u8d77\u52d5\u3057\u305f\u3089GRUB\u3092\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo update-grub sudo grub-install /dev/sda","title":"GRUB"},{"location":"Linux/#_8","text":"","title":"\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9"},{"location":"Linux/#fedora","text":"Upgrading Fedora Using DNF System Plugin :: Fedora Docs sudo dnf upgrade --refresh sudo reboot sudo dnf system-upgrade download --releasever=41 # 41\u306f\u30bf\u30fc\u30b2\u30c3\u30c8\u30d0\u30fc\u30b8\u30e7\u30f3\u3002\u98db\u3073\u7d1a\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u306e\u306f2\u6bb5\u968e(39 -> 41) sudo dnf system-upgrade reboot","title":"Fedora"},{"location":"Linux/#ubuntu_1","text":"sudo apt-get update sudo apt-get upgrade sudo apt-get dist-upgrade sudo apt-get autoremove sudo do-release-upgrade If you continue, an additional ssh daemon will be started at port '1022'. Do you want to continue? SSH\u7d4c\u7531\u3060\u3068\u4e0a\u8a18\u8b66\u544a\u304c\u51fa\u308b\u304c\u7d9a\u3051\u308b\u306a\u3089\u7d9a\u3051\u308b\u3002 \u3042\u3068\u306f\u9032\u3081\u3066\u3044\u304f\u3068\u78ba\u8a8d\u304c\u51fa\u308b\u306e\u3067\u90fd\u5ea6\u9032\u3081\u308b\u3002","title":"Ubuntu"},{"location":"Linux/amazonlinux/","text":"Amazon Linux AL2023\u306ednf update dnf update \u3060\u3051\u3067\u306f\u30d1\u30c3\u30b1\u30fc\u30b8\u66f4\u65b0\u3055\u308c\u306a\u3044\u3002 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306f Amazon Linux \u30d1\u30c3\u30b1\u30fc\u30b8\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u7279\u5b9a\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u30ed\u30c3\u30af\u3055\u308c\u308b\u305f\u3081\u3001\u66f4\u65b0\u3092\u9069\u7528\u3059\u308b\u65b9\u6cd5\u3068\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001Amazon Linux 2 \u3068\u306f\u7570\u306a\u308a\u3001dnf update \u30b3\u30de\u30f3\u30c9\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\u3057\u307e\u305b\u3093 Amazon Linux 2023 \u2013 \u9577\u671f\u30b5\u30dd\u30fc\u30c8\u4ed8\u304d\u306e\u30af\u30e9\u30a6\u30c9\u6700\u9069\u5316 Linux \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 | Amazon Web Services \u30d6\u30ed\u30b0 \u66f4\u65b0\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b --releasever \u3067\u30ea\u30dd\u30b8\u30c8\u30ea\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3002 dnf upgrade --releasever=2023.6.20250211 \u30ea\u30ea\u30fc\u30b9\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3002 dnf check-release-update latest \u6307\u5b9a\u3067\u6700\u65b0\u304c\u5bfe\u8c61\u306b\u306a\u308b\u3002 dnf upgrade --releasever=latest","title":"Amazon Linux"},{"location":"Linux/amazonlinux/#amazon-linux","text":"","title":"Amazon Linux"},{"location":"Linux/amazonlinux/#al2023dnf-update","text":"dnf update \u3060\u3051\u3067\u306f\u30d1\u30c3\u30b1\u30fc\u30b8\u66f4\u65b0\u3055\u308c\u306a\u3044\u3002 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306f Amazon Linux \u30d1\u30c3\u30b1\u30fc\u30b8\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u7279\u5b9a\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u30ed\u30c3\u30af\u3055\u308c\u308b\u305f\u3081\u3001\u66f4\u65b0\u3092\u9069\u7528\u3059\u308b\u65b9\u6cd5\u3068\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001Amazon Linux 2 \u3068\u306f\u7570\u306a\u308a\u3001dnf update \u30b3\u30de\u30f3\u30c9\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\u3057\u307e\u305b\u3093 Amazon Linux 2023 \u2013 \u9577\u671f\u30b5\u30dd\u30fc\u30c8\u4ed8\u304d\u306e\u30af\u30e9\u30a6\u30c9\u6700\u9069\u5316 Linux \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 | Amazon Web Services \u30d6\u30ed\u30b0 \u66f4\u65b0\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b --releasever \u3067\u30ea\u30dd\u30b8\u30c8\u30ea\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3002 dnf upgrade --releasever=2023.6.20250211 \u30ea\u30ea\u30fc\u30b9\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3002 dnf check-release-update latest \u6307\u5b9a\u3067\u6700\u65b0\u304c\u5bfe\u8c61\u306b\u306a\u308b\u3002 dnf upgrade --releasever=latest","title":"AL2023\u306ednf update"},{"location":"Linux/cert/","text":"\u8a3c\u660e\u66f8 \u8a3c\u660e\u66f8\u3092\u30b7\u30b9\u30c6\u30e0\u30ef\u30a4\u30c9\u306b\u8a2d\u5b9a\u3059\u308b RHEL\u7cfb /etc/pki/ca-trust/source/anchors/ \u4ee5\u4e0b\u306bPEM\u5f62\u5f0f\u306e\u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3057\u3066 update-ca-trust \u3092\u5b9f\u884c\u3059\u308b\u3002 \u3061\u306a\u307f\u306b /etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt \u306b\u30de\u30fc\u30b8\u3055\u308c\u308b\u3002 Debian\u7cfb /usr/local/share/ca-certificates/ \u4ee5\u4e0b\u306b\u540c\u3058\u3088\u3046\u306bPEM\u5f62\u5f0f\u306e\u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3057 update-ca-certificates \u3092\u5b9f\u884c\u3059\u308b\u3002 $ sudo update-ca-certificates Updating certificates in /etc/ssl/certs... 1 added, 0 removed; done . Running hooks in /etc/ca-certificates/update.d... done . \u3053\u3061\u3089\u306f /etc/ssl/certs/ \u4ee5\u4e0b\u306b\u5b9f\u30d5\u30a1\u30a4\u30eb\u3078\u306esymlink\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002 Root CA\u524a\u9664 trust RHEL\u7cfb\u304b\u306a\uff1f [root@cloud-dev ~]# trust list | grep local -3 pkcs11:id=%dd%14%05%0a%b1%7b%9b%09%41%2b%e6%90%a1%5d%6d%30%06%75%c7% 3f; type = cert type: certificate label: local.example.org trust: anchor category: other-entry [root @ cloud - dev ~ ] # trust anchor --remove \"pkcs11:id=%dd%14%05%0a%b1%7b%9b%09%41%2b%e6%90%a1%5d%6d%30%06%75%c7%3f;type=cert\" p11 - kit: couldn 't remove read-only certificate [root @ cloud - dev ~ ] # trust anchor --remove /var/tmp/ansible-work/ca.crt p11 - kit: couldn 't remove read-only certificate \u3053\u308c\u3067\u6d88\u305b\u308b\u3089\u3057\u3044\u3093\u3060\u3051\u3069\u3001 update-ca-trust \u3067\u8ffd\u52a0\u3057\u3066\u308bCA\u306f\u30c0\u30e1\u306a\u306e\u304b\u306a\u3002\u3002 \u7b2c6\u7ae0 \u5171\u901a\u30b7\u30b9\u30c6\u30e0\u8a3c\u660e\u66f8\u306e\u4f7f\u7528 Red Hat Enterprise Linux 8 | Red Hat Customer Portal trust\u3067\u8ffd\u52a0 [root@rhel8-ansible-ctrl ~]# trust anchor --store /var/tmp/ansible-work/ca.crt [root@rhel8-ansible-ctrl ~]# [root @ rhel8 - ansible - ctrl ~ ] # trust list | grep local -3 pkcs11:id= %8 C %88%6 C % FB %9 A % C8 % ED %0 E %65% DA %59%30%99% AF %3 D % FC % B6 %11%86%73 ; type =cert type : certificate label: localca.example.org trust: anchor category: other - entry trust anchor --store \u3067\u8ffd\u52a0\u3057\u305f\u306e\u3067\u3042\u308c\u3070 [root@rhel8-ansible-ctrl ~]# trust list | grep local -3 pkcs11:id=%8C%88%6C%FB%9A%C8%ED%0E%65%DA%59%30%99%AF%3D%FC%B6%11%86% 73 ; type = cert type: certificate label: localca.example.org trust: anchor category: other-entry [root@rhel8-ansible-ctrl ~]# trust anchor --remove /var/tmp/ansible-work/ca.crt [root@rhel8-ansible-ctrl ~]# trust list | grep local -3 [root@rhel8-ansible-ctrl ~]# \u6d88\u305b\u308b\u3002","title":"\u8a3c\u660e\u66f8"},{"location":"Linux/cert/#_1","text":"","title":"\u8a3c\u660e\u66f8"},{"location":"Linux/cert/#_2","text":"","title":"\u8a3c\u660e\u66f8\u3092\u30b7\u30b9\u30c6\u30e0\u30ef\u30a4\u30c9\u306b\u8a2d\u5b9a\u3059\u308b"},{"location":"Linux/cert/#rhel","text":"/etc/pki/ca-trust/source/anchors/ \u4ee5\u4e0b\u306bPEM\u5f62\u5f0f\u306e\u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3057\u3066 update-ca-trust \u3092\u5b9f\u884c\u3059\u308b\u3002 \u3061\u306a\u307f\u306b /etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt \u306b\u30de\u30fc\u30b8\u3055\u308c\u308b\u3002","title":"RHEL\u7cfb"},{"location":"Linux/cert/#debian","text":"/usr/local/share/ca-certificates/ \u4ee5\u4e0b\u306b\u540c\u3058\u3088\u3046\u306bPEM\u5f62\u5f0f\u306e\u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3057 update-ca-certificates \u3092\u5b9f\u884c\u3059\u308b\u3002 $ sudo update-ca-certificates Updating certificates in /etc/ssl/certs... 1 added, 0 removed; done . Running hooks in /etc/ca-certificates/update.d... done . \u3053\u3061\u3089\u306f /etc/ssl/certs/ \u4ee5\u4e0b\u306b\u5b9f\u30d5\u30a1\u30a4\u30eb\u3078\u306esymlink\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002","title":"Debian\u7cfb"},{"location":"Linux/cert/#root-ca","text":"","title":"Root CA\u524a\u9664"},{"location":"Linux/cert/#trust","text":"RHEL\u7cfb\u304b\u306a\uff1f [root@cloud-dev ~]# trust list | grep local -3 pkcs11:id=%dd%14%05%0a%b1%7b%9b%09%41%2b%e6%90%a1%5d%6d%30%06%75%c7% 3f; type = cert type: certificate label: local.example.org trust: anchor category: other-entry [root @ cloud - dev ~ ] # trust anchor --remove \"pkcs11:id=%dd%14%05%0a%b1%7b%9b%09%41%2b%e6%90%a1%5d%6d%30%06%75%c7%3f;type=cert\" p11 - kit: couldn 't remove read-only certificate [root @ cloud - dev ~ ] # trust anchor --remove /var/tmp/ansible-work/ca.crt p11 - kit: couldn 't remove read-only certificate \u3053\u308c\u3067\u6d88\u305b\u308b\u3089\u3057\u3044\u3093\u3060\u3051\u3069\u3001 update-ca-trust \u3067\u8ffd\u52a0\u3057\u3066\u308bCA\u306f\u30c0\u30e1\u306a\u306e\u304b\u306a\u3002\u3002 \u7b2c6\u7ae0 \u5171\u901a\u30b7\u30b9\u30c6\u30e0\u8a3c\u660e\u66f8\u306e\u4f7f\u7528 Red Hat Enterprise Linux 8 | Red Hat Customer Portal","title":"trust"},{"location":"Linux/cert/#trust_1","text":"[root@rhel8-ansible-ctrl ~]# trust anchor --store /var/tmp/ansible-work/ca.crt [root@rhel8-ansible-ctrl ~]# [root @ rhel8 - ansible - ctrl ~ ] # trust list | grep local -3 pkcs11:id= %8 C %88%6 C % FB %9 A % C8 % ED %0 E %65% DA %59%30%99% AF %3 D % FC % B6 %11%86%73 ; type =cert type : certificate label: localca.example.org trust: anchor category: other - entry trust anchor --store \u3067\u8ffd\u52a0\u3057\u305f\u306e\u3067\u3042\u308c\u3070 [root@rhel8-ansible-ctrl ~]# trust list | grep local -3 pkcs11:id=%8C%88%6C%FB%9A%C8%ED%0E%65%DA%59%30%99%AF%3D%FC%B6%11%86% 73 ; type = cert type: certificate label: localca.example.org trust: anchor category: other-entry [root@rhel8-ansible-ctrl ~]# trust anchor --remove /var/tmp/ansible-work/ca.crt [root@rhel8-ansible-ctrl ~]# trust list | grep local -3 [root@rhel8-ansible-ctrl ~]# \u6d88\u305b\u308b\u3002","title":"trust\u3067\u8ffd\u52a0"},{"location":"Linux/command/","text":"\u30b3\u30de\u30f3\u30c9\u30e1\u30e2 bash \u9664\u5916\u306eglob ls !(*.txt) *.txt \u4ee5\u5916\u3092\u5c55\u958b while\u7121\u9650\u30eb\u30fc\u30d7\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc while :; do date; sleep1; done for\u30eb\u30fc\u30d7\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc for i in `seq 1 3`; do curl 192.168.0.16; done seq \u306e\u5024\u3092\u53c2\u7167 for i in `seq 1 3`; do curl 192.168.0.${i}; done if/else\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc if [ $value == \"fobar\" ]; then command_a; else commandb; fi less \u7d42\u4e86\u6642\u306b\u30af\u30ea\u30a2\u3057\u306a\u3044 \u8d77\u52d5\u6642\u306b -X \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u52a0\u3059\u308b less -X \u5236\u5fa1\u6587\u5b57\u3092\u8a8d\u8b58\u3055\u305b\u308b ESC[32m \u3068\u304b\u5927\u91cf\u306b\u8868\u793a\u3055\u308c\u305f\u3068\u304d\u306f\u3001\u8868\u793a\u4e2d\u306b -r \u62bc\u4e0b\u3057\u3066 enter \u5927\u6587\u5b57\u5c0f\u6587\u5b57\u7121\u8996\u3057\u3066\u691c\u7d22 \u8868\u793a\u4e2d\u306b -i \u62bc\u4e0b\u3057\u3066 enter \u884c\u756a\u53f7\u8868\u793a \u5b9f\u884c\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067 -N \u3092\u4ed8\u4e0e\u3059\u308b\u304b\u3001\u8868\u793a\u4e2d\u306b -N \u62bc\u4e0b\u3059\u308b\u3002 less -N find \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u9664\u5916 $ find /path/to -path ( \u9664\u5916\u30d1\u30b9 ) -prune -o ( \u691c\u7d22\u6761\u4ef6 ) -print find . -path \"*venv\" -prune -o -name \"*.py\" -print \u3068\u304b\u3002 \u30b9\u30da\u30fc\u30b9\u8fbc\u307f\u306e\u30d1\u30b9\u3068xargs\u306e\u9023\u643a \u4ee5\u4e0b\u3067\u3001find\u306e\u7d50\u679c\u304c\\0\u533a\u5207\u308a\u306b\u306a\u308a\u3001xargs\u306e\u30c7\u30ea\u30df\u30bf\u306e\u6271\u3044\u304c\\0\u306b\u306a\u308b\u3002 $ find path [ opt ] -print0 | xargs -0 command find \u306f\u7d50\u679c\u3092\u6539\u884c\u533a\u5207\u308a\u3067\u51fa\u529b\u3057\u3001 xargs \u306f\u6539\u884c\u3068\u30b9\u30da\u30fc\u30b9\u3092\u533a\u5207\u308a\u3068\u307f\u306a\u3059\u306e\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3002 find \u306b -print0 \u3092\u4ed8\u4e0e\u3059\u308b\u3068\u533a\u5207\u308a\u304c \\0 \u306b\u5909\u66f4\u3055\u308c\u3001 xargs \u306b -0 \u3092\u4ed8\u4e0e\u3059\u308b\u3068 \\0 \u533a\u5207\u308a\u3067\u52d5\u4f5c\u3059\u308b\u3002 zaki@salva% find . -name \"*txt\" ./a b.txt ./a.txt ./b.txt ./sub/a b.txt ./sub/a.txt ./sub/b.txt zaki@salva% find . -name \"*txt\" | od -c 0000000 . / a b . t x t \\n . / a . t x 0000020 t \\n . / b . t x t \\n . / s u b / 0000040 a b . t x t \\n . / s u b / a . 0000060 t x t \\n . / s u b / b . t x t \\n zaki@salva% find . -name \"*txt\" -print0 | od -c 0000000 . / a b . t x t \\0 . / a . t x 0000020 t \\0 . / b . t x t \\0 . / s u b / 0000040 a b . t x t \\0 . / s u b / a . 0000060 t x t \\0 . / s u b / b . t x t \\0 grep \u30de\u30c3\u30c1\u3057\u305f\u884c\u756a\u53f7\u8868\u793a grep -n pattern date \u66f8\u5f0f \u5165\u529b\u3092\u6307\u5b9a \u6587\u5b57\u5217 $ date -d \"2021/06/25 09:00\" 2021\u5e74 6\u6708 25\u65e5 \u91d1\u66dc\u65e5 09:00:00 JST $ date -d \"2021/06/25 09:00\" +%s 1624579200 epoch $ date -d @1624579200 2021\u5e74 6\u6708 25\u65e5 \u91d1\u66dc\u65e5 09:00:00 JST $ date -d @1624579200 \"+%Y-%m-%d %H-%M-%S\" 2021-06-25 09-00-00 man \u30bb\u30af\u30b7\u30e7\u30f3\u756a\u53f7\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f $ man 5 crontab \u306a\u3069 curl \u540d\u524d\u89e3\u6c7a\u30aa\u30d7\u30b7\u30e7\u30f3 curl --resolve ansible.example.org:443:192.168.0.41 https://ansible.example.org/ ansible.example.org \u3068\u3044\u3046\u540d\u524d\u3067 192.168.0.41:443 \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002 basic\u8a8d\u8a3c curl -u username:password http://example.org/ HTTP 0.9 $ curl http://old.example.org/ curl: (1) Received HTTP/0.9 when not allowed HTTP/0.9\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306f curl \u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u51e6\u7406\u3057\u306a\u3044\u304c\u3001 --http0.9 \u3092\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u52a0\u3048\u308b\u3068OK \u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u306e\u307f\u53d6\u5f97 curl http://www.example.org/ -w '%{http_code}\\n' -sS -o /dev/null \u30ec\u30b9\u30dd\u30f3\u30b9\u30d8\u30c3\u30c0 curl -I http://www.exmaple.org \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u8a2d\u5b9a $ curl --connect-timeout 2 http://192.168.0.249 curl: (28) Failed to connect to 192.168.0.249 port 80 after 2000 ms: Timeout was reached wget \u30ea\u30bd\u30fc\u30b9\u306e\u5185\u5bb9\u3092stdout\u3078\u51fa\u529b $ wget -q -O - https://storage.googleapis.com/kubernetes-release/release/stable.txt v1.24.3 base64 \u30c7\u30b3\u30fc\u30c9 # stdin\u304b\u3089 command | base64 -d # \u30d5\u30a1\u30a4\u30eb\u304b\u3089 base64 -d FILENAME sed $ sed -i -e 's/regexp/string/' file -i \u3067\u30d5\u30a1\u30a4\u30eb\u66f4\u65b0\u3092\u884c\u3046\u3002 -ie \u3063\u3066\u66f8\u304f\u3068\u3001 -i.bak \u3067 file.bak \u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u4f5c\u6210\u3068\u89e3\u91c8\u3055\u308c\u308b\u306e\u3067\u5206\u3051\u308b\u3002 \u30c7\u30ea\u30df\u30bf\u5909\u66f4 \u666e\u901a\u306b\u4f7f\u3048\u3070OK sed -e 's#foo#bar#' file awk ps aux \u306e\u7d50\u679c\u306e3\u30ab\u30e9\u30e0\u76ee\u3092\u629c\u304d\u51fa\u3059\u3002 $ ps aux | awk '{print $3}' 3\u30ab\u30e9\u30e0\u76ee\u30684\u30ab\u30e9\u30e0\u76ee\u3092\u30bf\u30d6\u3067\u533a\u5207\u3063\u3066\u51fa\u529b\u3002 $ ps aux | awk '{print $3, \"\\t\", $4}' \u307e\u305f\u306f\u3001OFS\u5909\u6570(output field separator)\u306b\u30bf\u30d6\u3092\u30bb\u30c3\u30c8\u3057\u4ee5\u4e0b\u3002 $ ps aux | awk 'BEGIN { OFS=\"\\t\" } {print $3, $4}' if\u6587 1\u30ab\u30e9\u30e0\u76ee\u304c root \u306e\u5834\u5408\u306e11\u30ab\u30e9\u30e0\u76ee\u3092\u51fa\u529b ps aux | awk '{if($1 == \"root\"){print $11}}' if\u6587\u3067\u6b63\u898f\u8868\u73fe 1\u30ab\u30e9\u30e0\u76ee\u304c\u6570\u5b57\u306e\u307f\u306e\u5834\u5408\u306e\u884c\u5168\u90e8 ps aux | awk '{if($1 ~ /[0-9]+/){print $0}}' touch \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u5909\u66f4 \u30d5\u30a1\u30a4\u30eb\u540d\u306e\u307f\u6307\u5b9a\u3059\u308c\u3070\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306b\u66f4\u65b0 touch FILENAME -t \u3092\u4f7f\u3063\u3066FILENAME\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u30922025-01-01 23:59:00\u306b\u66f4\u65b0\u3059\u308b\u3002 touch -t 202501012359 FILENAME \u30d2\u30a2\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 cat > /path/to/file <<__EOL__ \u3066\u304d\u3059\u3068 __EOL__ root\u6a29\u9650\u304c\u5fc5\u8981\u3067 sudo \u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u5834\u5408\u3067\u3042\u308c\u3070\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u306a\u304f tee \u3092\u4f7f\u3046\u3068\u7c21\u5358 cat | sudo tee /etc/file <<__EOL__ config: foobar __EOL__ envsubst $ cat sample.template hello ${USER} \u74b0\u5883\u5909\u6570 $USER \u304c\u5b9a\u7fa9\u3055\u308c\u3066\u308b\u72b6\u614b\u3067\u3001stdin\u304b\u3089\u2191\u306e\u5185\u5bb9\u3092\u5165\u529b\u306b\u3042\u305f\u3048\u308b\u3068 $ envsubst < sample.template hello zaki \u5909\u6570\u540d\u306e\u66f8\u5f0f\u3067\u8a18\u8ff0\u3057\u305f\u7b87\u6240\u304c\u74b0\u5883\u5909\u6570\u3067\u5c55\u958b\u3055\u308c\u308b\u3002 diff \u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u7d50\u679c\u306estdout\u540c\u58eb\u3092\u6bd4\u8f03\u3057\u305f\u3044\u5834\u5408\u306f\u4ee5\u4e0b\u3002 $ diff -u < ( command1 ) < ( command2 ) screen \u30de\u30a6\u30b9\u30b9\u30af\u30ed\u30fc\u30eb\u3067\u8868\u793a\u3092\u30b9\u30af\u30ed\u30fc\u30eb\u3059\u308b .screenrc \u306b\u4ee5\u4e0b\u8ffd\u52a0 termcapinfo xterm* ti@:te@ tmux \u8d77\u52d5\u3068\u30bb\u30c3\u30b7\u30e7\u30f3 \u65b0\u898f\u30bb\u30c3\u30b7\u30e7\u30f3\u4f5c\u6210 tmux \u65e2\u5b58\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u30a2\u30bf\u30c3\u30c1 tmux a \u30bb\u30c3\u30b7\u30e7\u30f3\u4e00\u89a7 tmux ls \u8a2d\u5b9a \u30de\u30a6\u30b9\u30db\u30a4\u30fc\u30eb\u3067\u30b9\u30af\u30ed\u30fc\u30eb \u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068\u30b3\u30de\u30f3\u30c9\u5c65\u6b74\u8868\u793a\u306b\u306a\u3063\u3066\u308b set-option -g mouse on \u30ad\u30fc\u30d0\u30a4\u30f3\u30c9\u5909\u66f4 \u30c7\u30d5\u30a9\u30eb\u30c8\u306e Ctrl-b \u306fshell\u306eback\u3092\u4e0a\u66f8\u304d\u3057\u3066\u3044\u308b\u306e\u3067\u3001 Ctrl-g \u306b\u5909\u66f4\u3059\u308b\u3002 set-option -g prefix C-g unbind-key C-b bind-key C-g send-prefix gzip .gz\u30d5\u30a1\u30a4\u30eb\u3092\u5c55\u958b\u3057\u3066stdout\u3078\u51fa\u529b gz\u5727\u7e2e\u3055\u308c\u305f\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u3092\u898b\u305f\u3044\u3068\u304d\u306a\u3069 gzip -dc /var/log/syslog.10.gz | less tar \u30d5\u30a1\u30a4\u30eb\u306e\u8ffd\u52a0 \u65e2\u5b58\u306etar\u30d5\u30a1\u30a4\u30eb\u3078\u65b0\u305f\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3059\u308b(append) tar rvf archive.tar.gz file.txt \u5c55\u958b\u6642\u306e\u5f62\u5f0f\u6307\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3 gz\u306e\u5834\u5408\u306fz\u3068\u304b\u306f\u4e0d\u8981\u3002 \u4eca\u306f tar xf hoge.tar.gz \u3060\u3051\u3067\u5f62\u5f0f\u306f\u81ea\u52d5\u8a8d\u8b58\u3059\u308b\u3002 \u6307\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u5c55\u958b\u3057\u305f\u3044 $ tar xf archive.tar.gz -C /tmp tar\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u7279\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u308a\u51fa\u3057\u305f\u3044 $ tar xf archive.tar.gz hoge \u7279\u5b9a\u30d5\u30a1\u30a4\u30eb\u3060\u3051\u3092\u6307\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5c55\u958b $ tar xf archive.tar.gz hoge -C /tmp \u307e\u305f\u306f $ tar -C /tmp -xf archive.tar.gz hoge \u307e\u3041\u306a\u3093\u3067\u3053\u308c\u8a66\u3057\u305f\u304b\u3063\u3066\u30fc\u3068\u3001-C\u306e\u8aac\u660e\u3088\u304f\u8aad\u3093\u3060\u3089\u300c\u30c7\u30a3\u30ec\u30af\u30c8\u30eaDIR\u3078\u79fb\u52d5\u300d\u3063\u3066\u3042\u308b\u3093\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u6307\u5b9a\u3088\u308a\u524d\u306b\u3053\u308c\u6307\u5b9a\u3057\u305f\u3089\u3001\u3082\u3057\u304b\u3057\u3066\u79fb\u52d5\u51e6\u7406\u304c\u5148\u306b\u884c\u308f\u308c\u3066\u304b\u3089\u6307\u5b9a\u30d5\u30a1\u30a4\u30eb\u53d6\u308a\u51fa\u3057\u51e6\u7406\u304c\u8d70\u308b\u3093\u3058\u3083\u306d\uff1f \u3068\u601d\u3063\u305f\u306e\u304c\u305f\u307e\u305f\u307e\u5f53\u305f\u3063\u305f\u3068\u3044\u3046 \u2014 z a k i \ud83c\udf08 (@zaki_hmkc) September 18, 2020 zip [\u30b3\u30de\u30f3\u30c9\u30e1\u30e2] Linux\u3067zip\u64cd\u4f5c - zaki work log \u30d5\u30a1\u30a4\u30eb\u4e00\u89a7 unzip -l <zip-file> \u3042\u308b\u3044\u306f $ zipinfo <zip-file> \u5c55\u958b -q \u4ed8\u3051\u308c\u3070quiet\u30e2\u30fc\u30c9\u3067\u30d5\u30a1\u30a4\u30eb\u540d\u304c\u51fa\u529b\u3055\u308c\u306a\u3044 $ unzip -q <zip-file> -d \u3067\u51fa\u529b\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6307\u5b9a $ unzip <zip-file> -d <dirname> zip\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308c\u3070\u3001\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u3092\u53d6\u308a\u51fa\u305b\u308b\u3002 unzip <zip-file> path/to1/file1.yaml path/to2/file2.conf \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u3082\u6307\u5b9a\u53ef\u80fd unzip <zip-file> \"path/*\" \u5727\u7e2e $ zip gitlab-compose.zip gitlab-compose/ -r -r \u306f\u5fc5\u9808 ps \u5b50\u30d7\u30ed\u30bb\u30b9\u30c4\u30ea\u30fc\u8868\u793a $ ps PID TTY TIME CMD 434128 pts/2 00:00:00 bash 456871 pts/2 00:00:00 ps $ ps f PID TTY STAT TIME COMMAND 434128 pts/2 Ss 0:00 /bin/bash 456875 pts/2 R+ 0:00 \\_ ps f \u5b50\u30d7\u30ed\u30bb\u30b9\u4e00\u89a7 $ ps auxf : : root 1961 0.0 1.1 1104052 91304 ? Ssl 5\u670812 6:00 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd root 241047 0.0 0.0 438492 4124 ? Sl 5\u670826 0:00 \\_ /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -host-port root 241052 0.0 0.0 217040 5636 ? Sl 5\u670826 0:00 \\_ /usr/bin/docker-proxy -proto tcp -host-ip :: -host-port 8000 root 241066 0.0 0.0 298968 5572 ? Sl 5\u670826 0:00 \\_ /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -host-port root 241073 0.0 0.0 218448 5628 ? Sl 5\u670826 0:00 \\_ /usr/bin/docker-proxy -proto tcp -host-ip :: -host-port 49155 : $ ps --ppid 1961 PID TTY TIME CMD 241047 ? 00:00:00 docker-proxy 241052 ? 00:00:00 docker-proxy 241066 ? 00:00:00 docker-proxy 241073 ? 00:00:00 docker-proxy \u5b6b\u30d7\u30ed\u30bb\u30b9\u306f\u51fa\u306a\u3044 \u30d8\u30c3\u30c0\u7121\u3057 $ ps --ppid 1961 --no-headers 241047 ? 00:00:00 docker-proxy 241052 ? 00:00:00 docker-proxy 241066 ? 00:00:00 docker-proxy 241073 ? 00:00:00 docker-proxy kill kill -0 If sig is 0, then no signal is sent, but existence and permission checks are still performed; this can be used to check for the existence of a process ID or process group ID that the caller is permitted to signal. sig \u306b 0 \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u30b7\u30b0\u30ca\u30eb\u306f\u9001\u3089\u308c\u306a\u3044\u304c\u3001 \u30d7\u30ed\u30bb\u30b9\u306e\u5b58\u5728\u3068\u6a29\u9650\u306e\u30c1\u30a7\u30c3\u30af\u306f\u884c\u308f\u308c\u308b\u3002\u3053\u308c\u3092\u4f7f\u3063\u3066\u3001\u9001\u4fe1\u8005\u304c\u30b7\u30b0\u30ca\u30eb\u3092\u9001\u4fe1\u3067\u304d\u308b\u30d7\u30ed\u30bb\u30b9 ID \u3084 \u30d7\u30ed\u30bb\u30b9\u30b0\u30eb\u30fc\u30d7 ID \u306e\u5b58\u5728\u78ba\u8a8d\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002 man kill(2) linux - kill -0 \u306f\u4f55\u3092\u3059\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f - \u30b9\u30bf\u30c3\u30af\u30fb\u30aa\u30fc\u30d0\u30fc\u30d5\u30ed\u30fc top \u30bd\u30fc\u30c8 \u5b9f\u884c\u4e2d\u306b P \u3067CPU\u4f7f\u7528\u7387\u3001 M \u3067\u30e1\u30e2\u30ea\u4f7f\u7528\u7387\u3067\u30bd\u30fc\u30c8\u3055\u308c\u308b\u3002 \u5206\u304b\u308a\u3065\u3089\u3044\u3051\u3069 x \u62bc\u4e0b\u3067\u30bd\u30fc\u30c8\u57fa\u6e96\u306e\u30ab\u30e9\u30e0\u304c\u592a\u5b57\u306b\u306a\u308b\u3002 CPU\u30b3\u30a2\u6bce \u5b9f\u884c\u4e2d\u306b 1 \u62bc\u4e0b top - 09:18:32 up 69 days, 11:39, 0 users, load average: 0.01, 0.02, 0.05 Tasks: 134 total, 1 running, 133 sleeping, 0 stopped, 0 zombie % Cpu0 : 2 .0 us, 0 .7 sy, 0 .0 ni, 97 .3 id, 0 .0 wa, 0 .0 hi, 0 .0 si, 0 .0 st % Cpu1 : 0 .3 us, 0 .7 sy, 0 .0 ni, 99 .0 id, 0 .0 wa, 0 .0 hi, 0 .0 si, 0 .0 st % Cpu2 : 1 .3 us, 0 .7 sy, 0 .0 ni, 98 .0 id, 0 .0 wa, 0 .0 hi, 0 .0 si, 0 .0 st % Cpu3 : 0 .3 us, 0 .3 sy, 0 .0 ni, 99 .3 id, 0 .0 wa, 0 .0 hi, 0 .0 si, 0 .0 st KiB Mem : 7990048 total, 717480 free, 1974248 used, 5298320 buff/cache KiB Swap: 3670012 total, 3670012 free, 0 used. 5665228 avail Mem \u30b3\u30de\u30f3\u30c9\u30d5\u30eb\u30d1\u30b9\u30fb\u5f15\u6570\u8868\u793a \u5b9f\u884c\u4e2d\u306b c \u62bc\u4e0b top - 09:20:43 up 69 days, 11:41, 0 users, load average: 0.00, 0.01, 0.05 Tasks: 134 total, 1 running, 133 sleeping, 0 stopped, 0 zombie % Cpu ( s ) : 0 .1 us, 0 .0 sy, 0 .0 ni, 99 .9 id, 0 .0 wa, 0 .0 hi, 0 .0 si, 0 .0 st KiB Mem : 7990048 total, 715400 free, 1976168 used, 5298480 buff/cache KiB Swap: 3670012 total, 3670012 free, 0 used. 5663308 avail Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 351149 zaki 20 0 1280996 358920 9912 S 0.0 4.5 8:37.98 /home/zaki/.vscode-server/data/User/globalStorage/hashicorp.terraform/bin/terraform-ls serve 350657 zaki 20 0 1029428 147820 21832 S 0.3 1.9 2:04.98 /home/zaki/.vscode-server/bin/899d46d82c4c95423fb7e10e68eba52050e30ba3/node /home/zaki/.vscode-server/bin/899d46d8+ 350535 zaki 20 0 963792 102092 18036 S 0.0 1.3 2:00.07 /home/zaki/.vscode-server/bin/899d46d82c4c95423fb7e10e68eba52050e30ba3/node /home/zaki/.vscode-server/bin/899d46d8+ 385441 root 20 0 1130612 62204 26536 S 0.0 0.8 0:10.18 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock \u30e6\u30fc\u30b6\u30fc\u4f5c\u6210 \u4f5c\u6210\u3059\u308b useradd zaki -m -d /home/zaki -s /bin/bash -G admin,sudo \u30aa\u30d7\u30b7\u30e7\u30f3 \u52d5\u4f5c -m \u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\u3092\u6709\u52b9 -d \u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9 -s \u30c7\u30d5\u30a9\u30eb\u30c8\u30b7\u30a7\u30eb\u6307\u5b9a -G \u8ffd\u52a0\u306e\u6240\u5c5e\u30b0\u30eb\u30fc\u30d7\u6307\u5b9a \u524a\u9664\u3059\u308b userdel zaki -r \u30aa\u30d7\u30b7\u30e7\u30f3 \u52d5\u4f5c -r \u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u3069\u306e\u30c7\u30fc\u30bf\u3092\u524a\u9664 \u30b0\u30eb\u30fc\u30d7\u4f5c\u6210 \u4f5c\u6210\u3059\u308b groupadd nijigasaki [-g GID] timedatectl NTP\u306e\u7121\u52b9\u30fb\u6709\u52b9 timedatectl set-ntp false true \u3067\u6709\u52b9 \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u8a2d\u5b9a timedatectl set-timezone Asia/Tokyo dig A\u30ec\u30b3\u30fc\u30c9 \u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u5b9f\u884c\u30db\u30b9\u30c8\u306eOS\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u30cd\u30fc\u30e0\u30b5\u30fc\u30d0\u30fc\u306b\u5bfe\u3057\u3066A\u30ec\u30b3\u30fc\u30c9\u3092\u554f\u3044\u5408\u308f\u305b\u308b\u3002 $ dig gmail.com ; <<>> DiG 9.16.28-RH <<>> gmail.com ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 20838 ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 65494 ;; QUESTION SECTION: ;gmail.com. IN A ;; ANSWER SECTION: gmail.com. 180 IN A 142.251.42.197 ;; Query time: 7 msec ;; SERVER: 127.0.0.53#53(127.0.0.53) ;; WHEN: Thu Apr 28 10:31:34 JST 2022 ;; MSG SIZE rcvd: 54 \u9006\u5f15\u304d -x \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3046 $ dig -x 192 .168.0.16 ; <<>> DiG 9.16.33-RH <<>> -x 192.168.0.16 ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 3719 ;; flags: qr aa rd ra ad; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 65494 ;; QUESTION SECTION: ;16.0.168.192.in-addr.arpa. IN PTR ;; ANSWER SECTION: 16.0.168.192.in-addr.arpa. 0 IN PTR cloud-dev2. 16.0.168.192.in-addr.arpa. 0 IN PTR cloud-dev2.local. ;; Query time: 2 msec ;; SERVER: 127.0.0.53#53(127.0.0.53) ;; WHEN: Thu Dec 15 17:03:57 JST 2022 ;; MSG SIZE rcvd: 108 nc \u758e\u901a\u78ba\u8a8d 102.168.0.100\u306e22/TCP\u3078\u306e\u758e\u901a\u78ba\u8a8d ( -v \u306fverbose\u30aa\u30d7\u30b7\u30e7\u30f3) $ nc -v 192 .168.0.100 22 Ncat: Version 7.92 ( https://nmap.org/ncat ) Ncat: Connected to 192.168.0.4:22. SSH-2.0-OpenSSH_9.2p1 Debian-2+deb12u3 \u30b5\u30fc\u30d0\u30fc\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u9001\u4fe1\u5f85\u3061\u306e\u5834\u5408\u306f\u63a5\u7d9a\u304c\u7d99\u7d9a\u3059\u308b\u3002 \u758e\u901a\u3092\u78ba\u8a8d\u3057\u3066\u5373\u5207\u65ad\u3067\u3088\u3051\u308c\u3070\u3001 -z \u3092\u4ed8\u4e0e\u3059\u308b\u3002 (Zero-I/O mode, report connection status only) $ nc -z -v 192 .168.0.100 22 Ncat: Version 7.92 ( https://nmap.org/ncat ) Ncat: Connected to 192.168.0.4:22. Ncat: 0 bytes sent, 0 bytes received in 0.01 seconds. \u758e\u901a\u304c\u306a\u3051\u308c\u3070\u5931\u6557\u3059\u308b\u3002 # ## \u30db\u30b9\u30c8\u304c\u5b58\u5728\u3057\u306a\u3044 $ nc -z -v 192 .168.0.100 22 Ncat: Version 7.92 ( https://nmap.org/ncat ) Ncat: No route to host. # ## \u30db\u30b9\u30c8\u306f\u5b58\u5728\u3059\u308b\u304c\u30dd\u30fc\u30c8\u304clisten\u3057\u3066\u306a\u3044 $ nc -z -v 192 .168.0.99 22 Ncat: Version 7.92 ( https://nmap.org/ncat ) Ncat: Connection refused. HTTP\u3092\u3057\u3083\u3079\u308b -v \u306e\u307f\u3067\u63a5\u7d9a\u3057\u305f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u9001\u4fe1\u5f85\u3061\u306e\u72b6\u614b\u306b\u306a\u3063\u305f\u3089\u305d\u306e\u307e\u307e\u5165\u529b\u3059\u308c\u3070OK $ nc -v 192 .168.0.1 80 Ncat: Version 7.92 ( https://nmap.org/ncat ) Ncat: Connected to 192.168.0.1:80. # <- \u3053\u3053\u3067\u30b5\u30fc\u30d0\u30fc\u304c\u5165\u529b\u5f85\u3061 GET / HTTP/1.1 # <- \u30ad\u30fc\u30dc\u30fc\u30c9\u304b\u3089HTTP\u306e\u5185\u5bb9\u3092\u5165\u529b Host: 192.168.0.1 # <- 2\u884c\u76ee # <- \u7a7a\u884c\u9001\u4fe1\u3067HTTP\u3068\u3057\u3066\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306esend\u5b8c\u4e86 HTTP/1.1 200 OK # <- \u4ee5\u964d\u306f\u30b5\u30fc\u30d0\u30fc\u306e\u30ec\u30b9\u30dd\u30f3\u30b9 Server: nginx/1.20.1 Date: Sat, 08 Feb 2025 14:38:03 GMT Content-Type: text/html Content-Length: 2602 ip \u30ea\u30f3\u30af\u72b6\u614b\u306e\u30ea\u30b9\u30c8 link \u3092\u5f15\u6570\u306b\u6307\u5b9a ip link l \u306e\u307f\u3067\u3082\u540c\u69d8\u306e\u7d50\u679c \u6307\u5b9a\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u307f show \u3082\u4ed8\u4e0e\u3059\u308b\u3002 ip a s ens18 a \u306f address \u306e\u3001 s \u306f show \u306e\u7701\u7565\u5f62\u3002\u4e0a\u8a18\u306f ip address show ens18 \u304c\u6b63\u3057\u3044\u8868\u8a18\u3002 \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb\u78ba\u8a8d ip route ip r \u3082\u53ef \u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u30eb\u30fc\u30c8\u8ffd\u52a0 \u300c 192.168.0.0/24 \u5b9b\u306e\u30d1\u30b1\u30c3\u30c8\u306f\u3001 enp4s0 \u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u7d4c\u7531\u3067 172.16.1.0 \u3078\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3059\u308b\u300d\u5834\u5408 ip route add 192.168.0.0/24 via 172.16.1.0 dev enp4s0 \u30c7\u30d5\u30a9\u30eb\u30c8\u30eb\u30fc\u30c8\u8ffd\u52a0 ip route add default via 172.16.1.0 dev eth1 metric 1000 \u30c7\u30d5\u30a9\u30eb\u30c8\u30eb\u30fc\u30c8\u524a\u9664 ip route delete default dev eth0 NetworkManager \u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u4e00\u89a7 \u63a5\u7d9a\u3057\u3066\u308b\u3082\u306e\u5168\u90e8 $ nmcli connection \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7 $ nmcli device connection \u3068 device \u306f\u3001\u305d\u308c\u305e\u308c c \u3068 d \u306b\u77ed\u7e2e\u53ef\u80fd\u3002 \u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u8a73\u7d30 s \u307e\u305f\u306f show \u306e\u5f15\u6570\u306b\u3001\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002 # nmcli c s ens192 connection.id: ens192 connection.uuid: fd81b589-db4b-445d-9e60-22524aab4e9f connection.stable-id: -- connection.type: 802-3-ethernet connection.interface-name: ens192 connection.autoconnect: \u306f\u3044 connection.autoconnect-priority: 0 connection.autoconnect-retries: -1 (default) connection.multi-connect: 0 (default) : : \u540d\u79f0\u5909\u66f4 \u30c7\u30d5\u30a9\u30eb\u30c8\u306e \u6709\u7dda\u63a5\u7d9a 1 \u3092 ens192 \u3068\u304b\u306b\u5909\u3048\u305f\u3044\u5834\u5408 [zaki@fedora-node ~]$ nmcli c s NAME UUID TYPE DEVICE \u6709\u7dda\u63a5\u7d9a 1 e8d83bb5-ce0a-3fe8-911e-8bc57153091c ethernet ens18 [zaki@fedora-node ~]$ sudo nmcli c m \"\u6709\u7dda\u63a5\u7d9a 1\" connection.id ens18 [zaki@fedora-node ~]$ nmcli c s NAME UUID TYPE DEVICE ens18 e8d83bb5-ce0a-3fe8-911e-8bc57153091c ethernet ens18 \u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u63a5\u7d9a\u3068\u5207\u65ad # nmcli con up ens224 # nmcli con down ens224 \u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u524a\u9664 nmcli c delete ens224 IP\u30a2\u30c9\u30ec\u30b9\u3092static\u306b\u5909\u66f4 DHCP\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3042\u3068\u306b\u5909\u66f4\u3057\u305f\u3044\u3068\u304d\u3068\u304b\u3002 method\u3092manual\u306b\u5909\u66f4\u3059\u308b\u306e\u306faddresses\u3092\u30bb\u30c3\u30c8\u3057\u305f\u3042\u3068\u3067\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\u6ce8\u610f\u3002 nmcli c m ens192 ipv4.addresses \"192.168.0.79/24\" nmcli c m ens192 ipv4.gateway \"192.168.0.1\" nmcli c m ens192 ipv4.method manual \u6700\u5f8c\u306b\u518d\u8d77\u52d5 nmcli c down ens192 nmcli c up ens192 DNS\u306e\u8a2d\u5b9a\u5909\u66f4 # nmcli c m ens192 ipv4.dns 192 .168.0.11 \u3053\u308c\u3067\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u66f4\u65b0\u3055\u308c\u308b\u306e\u3067\u3001 systemctl restart NetworkManager \u3059\u308c\u3070\u8a2d\u5b9a\u304c\u53cd\u6620\u3055\u308c\u308b\u3002 DNS\u306e\u30bb\u30ab\u30f3\u30c0\u30ea\u8ffd\u52a0 \u8ffd\u52a0\u3059\u308b\u9805\u76ee\u3067\u3042\u308b ipv4.dns \u306e\u624b\u524d\u306b + \u3092\u4ed8\u4e0e\u3059\u308b\u3068\u300c\u8ffd\u52a0\u300d\u306b\u306a\u308b\u3002 - \u3092\u4ed8\u4e0e\u3059\u308b\u3068\u5bfe\u8c61\u3092\u524a\u9664\u306b\u306a\u308b\u3002 DNS1 \u306e\u8a2d\u5b9a\u304c\u3042\u308b\u72b6\u614b\u3067\u4e0b\u8a18\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001 DNS2 \u306e\u8a2d\u5b9a\u3068\u3057\u3066\u8ffd\u52a0\u3055\u308c\u308b\u3002 # nmcli c m \"System ens192\" +ipv4.dns 192 .168.0.1 DNS\u306esearch\u884c\u8ffd\u52a0 my.example.org \u3092\u8a2d\u5b9a\u3059\u308b\u306b\u306f # nmcli c m ens192 ipv4.dns-search my.example.org # systemctl restart NetworkManager \u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u5909\u66f4 192.168.39.89 \u306b\u8a2d\u5b9a\u3059\u308b # nmcli c m ens192 ipv4.gateway 192 .168.39.89 \u8a2d\u5b9a\u524a\u9664\u3059\u308b # nmcli c m ens192 ipv4.gateway \"\" [Ansible] \u30bf\u30fc\u30b2\u30c3\u30c8\u30db\u30b9\u30c8\u306eIP\u30a2\u30c9\u30ec\u30b9\u306e\u53c2\u7167\u3068\u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u306e\u30e1\u30e2 - zaki work log \u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u30eb\u30fc\u30c8\u8ffd\u52a0 \u74b0\u5883: [VyOS] NAT\u8a2d\u5b9a\u3092\u4f7f\u3063\u305f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u9593\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 (\u624b\u52d5 & Ansible / vyos_config) - zaki work log \u3084\u308a\u305f\u3044\u3053\u3068 \u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u306fens192\u5074\u306e192.168.0.1 NIC\u306f2\u9762 (ens192: 192.168.0.44/24, ens224: 172.16.0.44/23) 172.29.0.89 \u3078\u758e\u901a\u3092\u8ffd\u52a0\u3057\u305f\u3044 \u3053\u306e\u30a2\u30c9\u30ec\u30b9\u306fens224\u306e\u5148\u306e172.16.1.3/23\u304c\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3059\u308b \u30b3\u30de\u30f3\u30c9 # nmcli c m ens224 +ipv4.routes \"172.29.0.0/24 172.16.1.3\" # nmcli c u ens224 4.2. nmcli \u3092\u4f7f\u3063\u305f\u9759\u7684\u30eb\u30fc\u30c8\u306e\u8a2d\u5b9a Red Hat Enterprise Linux 7 | Red Hat Customer Portal \u3053\u306e\u8fba\u304c\u8ffd\u52a0\u3055\u308c\u308b\u3002 \u30ea\u30d6\u30fc\u30c8\u3057\u3066\u3082\u6709\u52b9 [root@fedora-node ~]# ip r default via 192.168.0.1 dev ens192 proto static metric 100 : : 172.29.0.0/24 via 172.16.1.3 dev ens224 proto static metric 101 Fedora34\u3060\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f /etc/NetworkManager/system-connections/ens224.nmconnection \u3067\u3001\u5185\u5bb9\u306f\u3053\u3093\u306a\u611f\u3058\u3002 [ipv4] address1 = 172.16.0.44/23 dns = 172.16.2.0 ; dns-search = method = manual route1 = 172.29.0.0/24,172.16.1.3 \u8a2d\u5b9a\u89e3\u9664\u306f - \u3092\u4ed8\u3051\u3066\u5b9f\u884c\u3002 # nmcli c m ens224 -ipv4.routes \"172.29.0.0/24 172.16.1.3\" systemd \u4e00\u89a7 systemctl list-unit-files \u30e6\u30fc\u30b6\u30fc\u6a29\u9650\u306e\u30e6\u30cb\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7 systemctl list-unit-files --user \u30db\u30b9\u30c8\u540d \u5909\u66f4 sudo hostnamectl set-hostname rhel8 resolvectl Fedora\u306a\u3069\u3002 DNS\u8a2d\u5b9a\u78ba\u8a8d resolvectl status \u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb iptables \u30eb\u30fc\u30eb\u78ba\u8a8d # iptables -L TCP\u30dd\u30fc\u30c8\u8a31\u53ef\u8ffd\u52a0 # iptables -A INPUT -m state --state NEW -m tcp -p tcp --dport 8080 -j ACCEPT \u30ea\u30c0\u30a4\u30ec\u30af\u30c8 10.0.0.1\u304b\u3089\u306e80/tcp\u30a2\u30af\u30bb\u30b9\u30928080/tcp\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u5834\u5408\u3002(8080/tcp\u3082\u8a31\u53ef\u306f\u5fc5\u8981) # iptables -t nat -A PREROUTING -p tcp -s 10 .0.0.1 --dport 80 -j REDIRECT --to 8080 \u81ea\u5206\u3078\u306e443/tcp\u30a2\u30af\u30bb\u30b9\u3092\u30ea\u30e2\u30fc\u30c8\u306e172.29.0.14:443\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u5834\u5408\u3002 iptables -t nat -A PREROUTING -p tcp --dport 443 -j DNAT --to-destination 172.29.0.14:443 \u30eb\u30fc\u30eb\u8ffd\u52a0 iptables -A INPUT ... -A \u306f --append \u3067\u672b\u5c3e\u306b\u8ffd\u52a0 iptables -I INPUT [n] ... -I \u306f --insert \u3067\u5148\u982d\u306b\u8ffd\u52a0\u3002n\u306b\u6570\u5024\u3092\u6307\u5b9a\u3059\u308c\u3070\u3001\u305d\u306e\u4f4d\u7f6e\u306b\u633f\u5165\u3002 \u30eb\u30fc\u30eb\u306e\u524a\u9664 \u307e\u305a\u30eb\u30fc\u30eb\u306e\u72b6\u614b\u3092 --line-numbers \u3092\u4ed8\u4e0e\u3057\u3066\u884c\u756a\u53f7\u3092\u78ba\u8a8d\u3002(\u76ee\u8996\u3067\u3082\u826f\u3044) # iptables -nL --line-numbers Chain INPUT (policy ACCEPT) num target prot opt source destination 1 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 state RELATED,ESTABLISHED 2 ACCEPT icmp -- 0.0.0.0/0 0.0.0.0/0 3 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 4 ACCEPT udp -- 0.0.0.0/0 0.0.0.0/0 udp spt:123 5 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:80 6 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:443 7 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:22 8 REJECT all -- 0.0.0.0/0 0.0.0.0/0 reject-with icmp-host-prohibited 9 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:80 10 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:443 11 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:443 12 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:80 \u884c\u756a\u53f7\u304c\u5206\u304b\u3063\u305f\u3089\u3001\u756a\u53f7\u3092\u6307\u5b9a\u3057\u3066 -D \u3067\u30eb\u30fc\u30eb\u3068\u884c\u756a\u53f7\u6307\u5b9a\u3067\u524a\u9664 iptables -D INPUT 12 \u30ea\u30c0\u30a4\u30ec\u30af\u30c8(nat)\u306e\u5834\u5408\u3082\u540c\u69d8 # iptables -L -t nat --line-numbers \u756a\u53f7\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001\u305d\u308c\u3092\u5f15\u6570\u306b\u4ee5\u4e0b\u3092\u5b9f\u884c\u3002( PREROUTING \u30eb\u30fc\u30eb\u306e\u5834\u5408) # iptables -t nat -D PREROUTING 1 \u5168\u524a\u9664 -F (\u307e\u305f\u306f --flush )\u3067\u3059\u3079\u3066\u306e\u30eb\u30fc\u30eb\u304c\u30af\u30ea\u30a2\u3055\u308c\u308b\u3002 iptables -F firewall-cmd [\u30b3\u30de\u30f3\u30c9\u30e1\u30e2] firewall-cmd\u5099\u5fd8\u9332 (firewalld) - zaki work log \u78ba\u8a8d \u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\u78ba\u8a8d firewall-cmd --list-all [--zone=internal] \u5168\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\u78ba\u8a8d firewall-cmd --list-all-zones \u30be\u30fc\u30f3\u4e00\u89a7 firewall-cmd --get-zones \u30a2\u30af\u30c6\u30a3\u30d6\u306a\u30be\u30fc\u30f3\u306e\u4e00\u89a7 firewall-cmd --get-active-zones \u30be\u30fc\u30f3\u8a2d\u5b9a \u30be\u30fc\u30f3\u306b\u6307\u5b9a\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u8a2d\u5b9a firewall-cmd --permanent --zone=trusted --change-interface=cni0 \u30be\u30fc\u30f3\u304b\u3089\u6307\u5b9a\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u524a\u9664 firewall-cmd --permanent --zone=trusted --remove-interface=cni0 ufw \u73fe\u5728\u306e\u72b6\u614b\u3002 \u203b\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u306a\u3063\u3066\u3044\u306a\u3044 root@oci-g-a1-ubuntu:~# ufw status Status: inactive \u6709\u52b9\u5316\u3059\u308b\u3002 ssh\u7d4c\u7531\u306e\u5834\u5408\u8b66\u544a\u3055\u308c\u308b\u3002( iptables -nL \u3042\u305f\u308a\u306722/tcp\u304c\u958b\u3044\u3066\u308b\u4e8b\u3092\u78ba\u8a8d\u3057\u3066\u304a\u3051\u3070\u2026\u826f\u3044\u306e\u304b\u306a) root@oci-g-a1-ubuntu:~# ufw enable Command may disrupt existing ssh connections. Proceed with operation (y|n)? y Firewall is active and enabled on system startup \u518d\u8aad\u307f\u8fbc\u307f\u3068\u72b6\u614b\u78ba\u8a8d\u3002 root@oci-g-a1-ubuntu:~# ufw reload Firewall reloaded root@oci-g-a1-ubuntu:~# ufw status Status: active TCP\u30dd\u30fc\u30c8\u306e\u8a31\u53ef root@oci-g-a1-ubuntu:~# ufw allow 6443 Rule added Rule added (v6) root@oci-g-a1-ubuntu:~# ufw reload Firewall reloaded root@oci-g-a1-ubuntu:~# ufw status Status: active To Action From -- ------ ---- 6443 ALLOW Anywhere 6443 (v6) ALLOW Anywhere (v6) \u203b \u64cd\u4f5c\u306e\u307f\u3002\u3053\u306e\u74b0\u5883\u306fufw\u3092\u4f7f\u3063\u3066\u306a\u3044\u3089\u3057\u304f\u52d5\u4f5c\u306f\u672a\u78ba\u8a8d alternatives ubuntu\u3060\u3068 update-alternatives \u3067\u3001RHEL\u7cfb\u3060\u3068 alternatives \u306b\u306a\u308b\u3002 \u8a2d\u5b9a\u4e00\u89a7 ubuntu\u306e\u5834\u5408 root@oci-ap-a1-ubuntu:~# update-alternatives --get-selections arptables auto /usr/sbin/arptables-nft awk auto /usr/bin/gawk builtins.7.gz auto /usr/share/man/man7/bash-builtins.7.gz c++ auto /usr/bin/g++ : : Fedora\u306e\u5834\u5408 [ root@cloud-dev2 ~ ] # update - alternatives --list libnssckbi.so.x86_64 auto / usr / lib64 / pkcs11 / p11 - kit - trust.so soelim auto / usr / bin / soelim.groff iptables auto / usr / sbin / iptables - nft : \u8a2d\u5b9a\u306e\u767b\u9332 python \u3068\u3044\u3046\u540d\u524d\u3067\u3001 /usr/bin/python \u3092\u512a\u5148\u5ea610\u3067\u767b\u9332\u3059\u308b\u3002 $ sudo update-alternatives --install /usr/bin/python python /usr/bin/python3 10 update-alternatives: using /usr/bin/python3 to provide /usr/bin/python (python) in auto mode \u3053\u308c\u3067\u3001\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002 $ ls -l /usr/bin/python /etc/alternatives/python lrwxrwxrwx 1 root root 16 Mar 31 15:16 /etc/alternatives/python -> /usr/bin/python3 lrwxrwxrwx 1 root root 24 Mar 31 15:16 /usr/bin/python -> /etc/alternatives/python \u8a2d\u5b9a $ update-alternatives --display python python - auto mode link best version is /usr/bin/python3 link currently points to /usr/bin/python3 link python is /usr/bin/python /usr/bin/python3 - priority 10 lscpu CPU\u60c5\u5831\u306e\u51fa\u529b # lscpu Architecture: x86_64 CPU op-mode(s): 32-bit, 64-bit Address sizes: 39 bits physical, 48 bits virtual Byte Order: Little Endian CPU(s): 16 On-line CPU(s) list: 0-15 Vendor ID: GenuineIntel BIOS Vendor ID: Intel(R) Corporation Model name: 12th Gen Intel(R) Core(TM) i7-12650H BIOS Model name: 12th Gen Intel(R) Core(TM) i7-12650H To Be Filled By O.E.M. CPU @ 2.1GHz BIOS CPU family: 198 CPU family: 6 Model: 154 Thread(s) per core: 2 Core(s) per socket: 10 Socket(s): 1 Stepping: 3 CPU(s) scaling MHz: 42% CPU max MHz: 4700.0000 CPU min MHz: 400.0000 BogoMIPS: 5376.00 Flags: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc art arch_perfm on pebs bts rep_good nopl xtopology nonstop_tsc cpuid aperfmperf tsc_known_freq pni pclm ulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 ss e4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm 3dnowp refetch cpuid_fault epb cat_l2 cdp_l2 ssbd ibrs ibpb stibp ibrs_enhanced tpr_shadow flex priority ept vpid ept_ad fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid rdt_a rdse ed adx smap clflushopt clwb intel_pt sha_ni xsaveopt xsavec xgetbv1 xsaves split_lock_de tect user_shstk avx_vnni dtherm ida arat pln pts hwp hwp_notify hwp_act_window hwp_epp h wp_pkg_req hfi vnmi umip pku ospke waitpkg gfni vaes vpclmulqdq rdpid movdiri movdir64b fsrm md_clear serialize arch_lbr ibt flush_l1d arch_capabilities Virtualization features: Virtualization: VT-x Caches (sum of all): L1d: 416 KiB (10 instances) L1i: 448 KiB (10 instances) L2: 9.5 MiB (7 instances) L3: 24 MiB (1 instance) NUMA: NUMA node(s): 1 NUMA node0 CPU(s): 0-15 Vulnerabilities: Gather data sampling: Not affected Itlb multihit: Not affected L1tf: Not affected Mds: Not affected Meltdown: Not affected Mmio stale data: Not affected Reg file data sampling: Vulnerable: No microcode Retbleed: Not affected Spec rstack overflow: Not affected Spec store bypass: Mitigation; Speculative Store Bypass disabled via prctl Spectre v1: Mitigation; usercopy/swapgs barriers and __user pointer sanitization Spectre v2: Mitigation; Enhanced / Automatic IBRS; IBPB conditional; RSB filling; PBRSB-eIBRS SW seq uence; BHI SW loop, KVM SW loop Srbds: Not affected Tsx async abort: Not affected ethtool NIC\u72b6\u614b\u306e\u51fa\u529b # ethtool enp2s0 Settings for enp2s0: Supported ports: [ TP ] Supported link modes: 10baseT/Half 10baseT/Full 100baseT/Half 100baseT/Full 1000baseT/Full 2500baseT/Full Supported pause frame use: Symmetric Supports auto-negotiation: Yes Supported FEC modes: Not reported Advertised link modes: 10baseT/Half 10baseT/Full 100baseT/Half 100baseT/Full 1000baseT/Full 2500baseT/Full Advertised pause frame use: Symmetric Advertised auto-negotiation: Yes Advertised FEC modes: Not reported Speed: 2500Mb/s Duplex: Full Auto-negotiation: on Port: Twisted Pair PHYAD: 0 Transceiver: internal MDI-X: off (auto) Supports Wake-on: pumbg Wake-on: g Current message level: 0x00000007 (7) drv probe link Link detected: yes","title":"\u30b3\u30de\u30f3\u30c9\u30e1\u30e2"},{"location":"Linux/command/#_1","text":"","title":"\u30b3\u30de\u30f3\u30c9\u30e1\u30e2"},{"location":"Linux/command/#bash","text":"","title":"bash"},{"location":"Linux/command/#glob","text":"ls !(*.txt) *.txt \u4ee5\u5916\u3092\u5c55\u958b","title":"\u9664\u5916\u306eglob"},{"location":"Linux/command/#while","text":"while :; do date; sleep1; done","title":"while\u7121\u9650\u30eb\u30fc\u30d7\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc"},{"location":"Linux/command/#for","text":"for i in `seq 1 3`; do curl 192.168.0.16; done seq \u306e\u5024\u3092\u53c2\u7167 for i in `seq 1 3`; do curl 192.168.0.${i}; done","title":"for\u30eb\u30fc\u30d7\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc"},{"location":"Linux/command/#ifelse","text":"if [ $value == \"fobar\" ]; then command_a; else commandb; fi","title":"if/else\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc"},{"location":"Linux/command/#less","text":"","title":"less"},{"location":"Linux/command/#_2","text":"\u8d77\u52d5\u6642\u306b -X \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u52a0\u3059\u308b less -X","title":"\u7d42\u4e86\u6642\u306b\u30af\u30ea\u30a2\u3057\u306a\u3044"},{"location":"Linux/command/#_3","text":"ESC[32m \u3068\u304b\u5927\u91cf\u306b\u8868\u793a\u3055\u308c\u305f\u3068\u304d\u306f\u3001\u8868\u793a\u4e2d\u306b -r \u62bc\u4e0b\u3057\u3066 enter","title":"\u5236\u5fa1\u6587\u5b57\u3092\u8a8d\u8b58\u3055\u305b\u308b"},{"location":"Linux/command/#_4","text":"\u8868\u793a\u4e2d\u306b -i \u62bc\u4e0b\u3057\u3066 enter","title":"\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u7121\u8996\u3057\u3066\u691c\u7d22"},{"location":"Linux/command/#_5","text":"\u5b9f\u884c\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067 -N \u3092\u4ed8\u4e0e\u3059\u308b\u304b\u3001\u8868\u793a\u4e2d\u306b -N \u62bc\u4e0b\u3059\u308b\u3002 less -N","title":"\u884c\u756a\u53f7\u8868\u793a"},{"location":"Linux/command/#find","text":"","title":"find"},{"location":"Linux/command/#_6","text":"$ find /path/to -path ( \u9664\u5916\u30d1\u30b9 ) -prune -o ( \u691c\u7d22\u6761\u4ef6 ) -print find . -path \"*venv\" -prune -o -name \"*.py\" -print \u3068\u304b\u3002","title":"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u9664\u5916"},{"location":"Linux/command/#xargs","text":"\u4ee5\u4e0b\u3067\u3001find\u306e\u7d50\u679c\u304c\\0\u533a\u5207\u308a\u306b\u306a\u308a\u3001xargs\u306e\u30c7\u30ea\u30df\u30bf\u306e\u6271\u3044\u304c\\0\u306b\u306a\u308b\u3002 $ find path [ opt ] -print0 | xargs -0 command find \u306f\u7d50\u679c\u3092\u6539\u884c\u533a\u5207\u308a\u3067\u51fa\u529b\u3057\u3001 xargs \u306f\u6539\u884c\u3068\u30b9\u30da\u30fc\u30b9\u3092\u533a\u5207\u308a\u3068\u307f\u306a\u3059\u306e\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3002 find \u306b -print0 \u3092\u4ed8\u4e0e\u3059\u308b\u3068\u533a\u5207\u308a\u304c \\0 \u306b\u5909\u66f4\u3055\u308c\u3001 xargs \u306b -0 \u3092\u4ed8\u4e0e\u3059\u308b\u3068 \\0 \u533a\u5207\u308a\u3067\u52d5\u4f5c\u3059\u308b\u3002 zaki@salva% find . -name \"*txt\" ./a b.txt ./a.txt ./b.txt ./sub/a b.txt ./sub/a.txt ./sub/b.txt zaki@salva% find . -name \"*txt\" | od -c 0000000 . / a b . t x t \\n . / a . t x 0000020 t \\n . / b . t x t \\n . / s u b / 0000040 a b . t x t \\n . / s u b / a . 0000060 t x t \\n . / s u b / b . t x t \\n zaki@salva% find . -name \"*txt\" -print0 | od -c 0000000 . / a b . t x t \\0 . / a . t x 0000020 t \\0 . / b . t x t \\0 . / s u b / 0000040 a b . t x t \\0 . / s u b / a . 0000060 t x t \\0 . / s u b / b . t x t \\0","title":"\u30b9\u30da\u30fc\u30b9\u8fbc\u307f\u306e\u30d1\u30b9\u3068xargs\u306e\u9023\u643a"},{"location":"Linux/command/#grep","text":"","title":"grep"},{"location":"Linux/command/#_7","text":"grep -n pattern","title":"\u30de\u30c3\u30c1\u3057\u305f\u884c\u756a\u53f7\u8868\u793a"},{"location":"Linux/command/#date","text":"","title":"date"},{"location":"Linux/command/#_8","text":"","title":"\u66f8\u5f0f"},{"location":"Linux/command/#_9","text":"\u6587\u5b57\u5217 $ date -d \"2021/06/25 09:00\" 2021\u5e74 6\u6708 25\u65e5 \u91d1\u66dc\u65e5 09:00:00 JST $ date -d \"2021/06/25 09:00\" +%s 1624579200 epoch $ date -d @1624579200 2021\u5e74 6\u6708 25\u65e5 \u91d1\u66dc\u65e5 09:00:00 JST $ date -d @1624579200 \"+%Y-%m-%d %H-%M-%S\" 2021-06-25 09-00-00","title":"\u5165\u529b\u3092\u6307\u5b9a"},{"location":"Linux/command/#man","text":"\u30bb\u30af\u30b7\u30e7\u30f3\u756a\u53f7\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f $ man 5 crontab \u306a\u3069","title":"man"},{"location":"Linux/command/#curl","text":"","title":"curl"},{"location":"Linux/command/#_10","text":"curl --resolve ansible.example.org:443:192.168.0.41 https://ansible.example.org/ ansible.example.org \u3068\u3044\u3046\u540d\u524d\u3067 192.168.0.41:443 \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002","title":"\u540d\u524d\u89e3\u6c7a\u30aa\u30d7\u30b7\u30e7\u30f3"},{"location":"Linux/command/#basic","text":"curl -u username:password http://example.org/","title":"basic\u8a8d\u8a3c"},{"location":"Linux/command/#http-09","text":"$ curl http://old.example.org/ curl: (1) Received HTTP/0.9 when not allowed HTTP/0.9\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306f curl \u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u51e6\u7406\u3057\u306a\u3044\u304c\u3001 --http0.9 \u3092\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u52a0\u3048\u308b\u3068OK","title":"HTTP 0.9"},{"location":"Linux/command/#_11","text":"curl http://www.example.org/ -w '%{http_code}\\n' -sS -o /dev/null","title":"\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u306e\u307f\u53d6\u5f97"},{"location":"Linux/command/#_12","text":"curl -I http://www.exmaple.org","title":"\u30ec\u30b9\u30dd\u30f3\u30b9\u30d8\u30c3\u30c0"},{"location":"Linux/command/#_13","text":"$ curl --connect-timeout 2 http://192.168.0.249 curl: (28) Failed to connect to 192.168.0.249 port 80 after 2000 ms: Timeout was reached","title":"\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u8a2d\u5b9a"},{"location":"Linux/command/#wget","text":"\u30ea\u30bd\u30fc\u30b9\u306e\u5185\u5bb9\u3092stdout\u3078\u51fa\u529b $ wget -q -O - https://storage.googleapis.com/kubernetes-release/release/stable.txt v1.24.3","title":"wget"},{"location":"Linux/command/#base64","text":"\u30c7\u30b3\u30fc\u30c9 # stdin\u304b\u3089 command | base64 -d # \u30d5\u30a1\u30a4\u30eb\u304b\u3089 base64 -d FILENAME","title":"base64"},{"location":"Linux/command/#sed","text":"$ sed -i -e 's/regexp/string/' file -i \u3067\u30d5\u30a1\u30a4\u30eb\u66f4\u65b0\u3092\u884c\u3046\u3002 -ie \u3063\u3066\u66f8\u304f\u3068\u3001 -i.bak \u3067 file.bak \u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u4f5c\u6210\u3068\u89e3\u91c8\u3055\u308c\u308b\u306e\u3067\u5206\u3051\u308b\u3002","title":"sed"},{"location":"Linux/command/#_14","text":"\u666e\u901a\u306b\u4f7f\u3048\u3070OK sed -e 's#foo#bar#' file","title":"\u30c7\u30ea\u30df\u30bf\u5909\u66f4"},{"location":"Linux/command/#awk","text":"ps aux \u306e\u7d50\u679c\u306e3\u30ab\u30e9\u30e0\u76ee\u3092\u629c\u304d\u51fa\u3059\u3002 $ ps aux | awk '{print $3}' 3\u30ab\u30e9\u30e0\u76ee\u30684\u30ab\u30e9\u30e0\u76ee\u3092\u30bf\u30d6\u3067\u533a\u5207\u3063\u3066\u51fa\u529b\u3002 $ ps aux | awk '{print $3, \"\\t\", $4}' \u307e\u305f\u306f\u3001OFS\u5909\u6570(output field separator)\u306b\u30bf\u30d6\u3092\u30bb\u30c3\u30c8\u3057\u4ee5\u4e0b\u3002 $ ps aux | awk 'BEGIN { OFS=\"\\t\" } {print $3, $4}'","title":"awk"},{"location":"Linux/command/#if","text":"1\u30ab\u30e9\u30e0\u76ee\u304c root \u306e\u5834\u5408\u306e11\u30ab\u30e9\u30e0\u76ee\u3092\u51fa\u529b ps aux | awk '{if($1 == \"root\"){print $11}}'","title":"if\u6587"},{"location":"Linux/command/#if_1","text":"1\u30ab\u30e9\u30e0\u76ee\u304c\u6570\u5b57\u306e\u307f\u306e\u5834\u5408\u306e\u884c\u5168\u90e8 ps aux | awk '{if($1 ~ /[0-9]+/){print $0}}'","title":"if\u6587\u3067\u6b63\u898f\u8868\u73fe"},{"location":"Linux/command/#touch","text":"","title":"touch"},{"location":"Linux/command/#_15","text":"\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u307f\u6307\u5b9a\u3059\u308c\u3070\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306b\u66f4\u65b0 touch FILENAME -t \u3092\u4f7f\u3063\u3066FILENAME\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u30922025-01-01 23:59:00\u306b\u66f4\u65b0\u3059\u308b\u3002 touch -t 202501012359 FILENAME","title":"\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u5909\u66f4"},{"location":"Linux/command/#_16","text":"cat > /path/to/file <<__EOL__ \u3066\u304d\u3059\u3068 __EOL__ root\u6a29\u9650\u304c\u5fc5\u8981\u3067 sudo \u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u5834\u5408\u3067\u3042\u308c\u3070\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u306a\u304f tee \u3092\u4f7f\u3046\u3068\u7c21\u5358 cat | sudo tee /etc/file <<__EOL__ config: foobar __EOL__","title":"\u30d2\u30a2\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"},{"location":"Linux/command/#envsubst","text":"$ cat sample.template hello ${USER} \u74b0\u5883\u5909\u6570 $USER \u304c\u5b9a\u7fa9\u3055\u308c\u3066\u308b\u72b6\u614b\u3067\u3001stdin\u304b\u3089\u2191\u306e\u5185\u5bb9\u3092\u5165\u529b\u306b\u3042\u305f\u3048\u308b\u3068 $ envsubst < sample.template hello zaki \u5909\u6570\u540d\u306e\u66f8\u5f0f\u3067\u8a18\u8ff0\u3057\u305f\u7b87\u6240\u304c\u74b0\u5883\u5909\u6570\u3067\u5c55\u958b\u3055\u308c\u308b\u3002","title":"envsubst"},{"location":"Linux/command/#diff","text":"\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u7d50\u679c\u306estdout\u540c\u58eb\u3092\u6bd4\u8f03\u3057\u305f\u3044\u5834\u5408\u306f\u4ee5\u4e0b\u3002 $ diff -u < ( command1 ) < ( command2 )","title":"diff"},{"location":"Linux/command/#screen","text":"","title":"screen"},{"location":"Linux/command/#_17","text":".screenrc \u306b\u4ee5\u4e0b\u8ffd\u52a0 termcapinfo xterm* ti@:te@","title":"\u30de\u30a6\u30b9\u30b9\u30af\u30ed\u30fc\u30eb\u3067\u8868\u793a\u3092\u30b9\u30af\u30ed\u30fc\u30eb\u3059\u308b"},{"location":"Linux/command/#tmux","text":"","title":"tmux"},{"location":"Linux/command/#_18","text":"\u65b0\u898f\u30bb\u30c3\u30b7\u30e7\u30f3\u4f5c\u6210 tmux \u65e2\u5b58\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u30a2\u30bf\u30c3\u30c1 tmux a \u30bb\u30c3\u30b7\u30e7\u30f3\u4e00\u89a7 tmux ls","title":"\u8d77\u52d5\u3068\u30bb\u30c3\u30b7\u30e7\u30f3"},{"location":"Linux/command/#_19","text":"","title":"\u8a2d\u5b9a"},{"location":"Linux/command/#_20","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068\u30b3\u30de\u30f3\u30c9\u5c65\u6b74\u8868\u793a\u306b\u306a\u3063\u3066\u308b set-option -g mouse on","title":"\u30de\u30a6\u30b9\u30db\u30a4\u30fc\u30eb\u3067\u30b9\u30af\u30ed\u30fc\u30eb"},{"location":"Linux/command/#_21","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e Ctrl-b \u306fshell\u306eback\u3092\u4e0a\u66f8\u304d\u3057\u3066\u3044\u308b\u306e\u3067\u3001 Ctrl-g \u306b\u5909\u66f4\u3059\u308b\u3002 set-option -g prefix C-g unbind-key C-b bind-key C-g send-prefix","title":"\u30ad\u30fc\u30d0\u30a4\u30f3\u30c9\u5909\u66f4"},{"location":"Linux/command/#gzip","text":"","title":"gzip"},{"location":"Linux/command/#gzstdout","text":"gz\u5727\u7e2e\u3055\u308c\u305f\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u3092\u898b\u305f\u3044\u3068\u304d\u306a\u3069 gzip -dc /var/log/syslog.10.gz | less","title":".gz\u30d5\u30a1\u30a4\u30eb\u3092\u5c55\u958b\u3057\u3066stdout\u3078\u51fa\u529b"},{"location":"Linux/command/#tar","text":"","title":"tar"},{"location":"Linux/command/#_22","text":"\u65e2\u5b58\u306etar\u30d5\u30a1\u30a4\u30eb\u3078\u65b0\u305f\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3059\u308b(append) tar rvf archive.tar.gz file.txt","title":"\u30d5\u30a1\u30a4\u30eb\u306e\u8ffd\u52a0"},{"location":"Linux/command/#_23","text":"gz\u306e\u5834\u5408\u306fz\u3068\u304b\u306f\u4e0d\u8981\u3002 \u4eca\u306f tar xf hoge.tar.gz \u3060\u3051\u3067\u5f62\u5f0f\u306f\u81ea\u52d5\u8a8d\u8b58\u3059\u308b\u3002","title":"\u5c55\u958b\u6642\u306e\u5f62\u5f0f\u6307\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3"},{"location":"Linux/command/#_24","text":"$ tar xf archive.tar.gz -C /tmp","title":"\u6307\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u5c55\u958b\u3057\u305f\u3044"},{"location":"Linux/command/#tar_1","text":"$ tar xf archive.tar.gz hoge","title":"tar\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u7279\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u308a\u51fa\u3057\u305f\u3044"},{"location":"Linux/command/#_25","text":"$ tar xf archive.tar.gz hoge -C /tmp \u307e\u305f\u306f $ tar -C /tmp -xf archive.tar.gz hoge \u307e\u3041\u306a\u3093\u3067\u3053\u308c\u8a66\u3057\u305f\u304b\u3063\u3066\u30fc\u3068\u3001-C\u306e\u8aac\u660e\u3088\u304f\u8aad\u3093\u3060\u3089\u300c\u30c7\u30a3\u30ec\u30af\u30c8\u30eaDIR\u3078\u79fb\u52d5\u300d\u3063\u3066\u3042\u308b\u3093\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u6307\u5b9a\u3088\u308a\u524d\u306b\u3053\u308c\u6307\u5b9a\u3057\u305f\u3089\u3001\u3082\u3057\u304b\u3057\u3066\u79fb\u52d5\u51e6\u7406\u304c\u5148\u306b\u884c\u308f\u308c\u3066\u304b\u3089\u6307\u5b9a\u30d5\u30a1\u30a4\u30eb\u53d6\u308a\u51fa\u3057\u51e6\u7406\u304c\u8d70\u308b\u3093\u3058\u3083\u306d\uff1f \u3068\u601d\u3063\u305f\u306e\u304c\u305f\u307e\u305f\u307e\u5f53\u305f\u3063\u305f\u3068\u3044\u3046 \u2014 z a k i \ud83c\udf08 (@zaki_hmkc) September 18, 2020","title":"\u7279\u5b9a\u30d5\u30a1\u30a4\u30eb\u3060\u3051\u3092\u6307\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5c55\u958b"},{"location":"Linux/command/#zip","text":"[\u30b3\u30de\u30f3\u30c9\u30e1\u30e2] Linux\u3067zip\u64cd\u4f5c - zaki work log","title":"zip"},{"location":"Linux/command/#_26","text":"unzip -l <zip-file> \u3042\u308b\u3044\u306f $ zipinfo <zip-file>","title":"\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7"},{"location":"Linux/command/#_27","text":"-q \u4ed8\u3051\u308c\u3070quiet\u30e2\u30fc\u30c9\u3067\u30d5\u30a1\u30a4\u30eb\u540d\u304c\u51fa\u529b\u3055\u308c\u306a\u3044 $ unzip -q <zip-file> -d \u3067\u51fa\u529b\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u6307\u5b9a $ unzip <zip-file> -d <dirname> zip\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308c\u3070\u3001\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u3092\u53d6\u308a\u51fa\u305b\u308b\u3002 unzip <zip-file> path/to1/file1.yaml path/to2/file2.conf \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u3082\u6307\u5b9a\u53ef\u80fd unzip <zip-file> \"path/*\"","title":"\u5c55\u958b"},{"location":"Linux/command/#_28","text":"$ zip gitlab-compose.zip gitlab-compose/ -r -r \u306f\u5fc5\u9808","title":"\u5727\u7e2e"},{"location":"Linux/command/#ps","text":"","title":"ps"},{"location":"Linux/command/#_29","text":"$ ps PID TTY TIME CMD 434128 pts/2 00:00:00 bash 456871 pts/2 00:00:00 ps $ ps f PID TTY STAT TIME COMMAND 434128 pts/2 Ss 0:00 /bin/bash 456875 pts/2 R+ 0:00 \\_ ps f","title":"\u5b50\u30d7\u30ed\u30bb\u30b9\u30c4\u30ea\u30fc\u8868\u793a"},{"location":"Linux/command/#_30","text":"$ ps auxf : : root 1961 0.0 1.1 1104052 91304 ? Ssl 5\u670812 6:00 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd root 241047 0.0 0.0 438492 4124 ? Sl 5\u670826 0:00 \\_ /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -host-port root 241052 0.0 0.0 217040 5636 ? Sl 5\u670826 0:00 \\_ /usr/bin/docker-proxy -proto tcp -host-ip :: -host-port 8000 root 241066 0.0 0.0 298968 5572 ? Sl 5\u670826 0:00 \\_ /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -host-port root 241073 0.0 0.0 218448 5628 ? Sl 5\u670826 0:00 \\_ /usr/bin/docker-proxy -proto tcp -host-ip :: -host-port 49155 : $ ps --ppid 1961 PID TTY TIME CMD 241047 ? 00:00:00 docker-proxy 241052 ? 00:00:00 docker-proxy 241066 ? 00:00:00 docker-proxy 241073 ? 00:00:00 docker-proxy \u5b6b\u30d7\u30ed\u30bb\u30b9\u306f\u51fa\u306a\u3044","title":"\u5b50\u30d7\u30ed\u30bb\u30b9\u4e00\u89a7"},{"location":"Linux/command/#_31","text":"$ ps --ppid 1961 --no-headers 241047 ? 00:00:00 docker-proxy 241052 ? 00:00:00 docker-proxy 241066 ? 00:00:00 docker-proxy 241073 ? 00:00:00 docker-proxy","title":"\u30d8\u30c3\u30c0\u7121\u3057"},{"location":"Linux/command/#kill","text":"","title":"kill"},{"location":"Linux/command/#kill-0","text":"If sig is 0, then no signal is sent, but existence and permission checks are still performed; this can be used to check for the existence of a process ID or process group ID that the caller is permitted to signal. sig \u306b 0 \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u30b7\u30b0\u30ca\u30eb\u306f\u9001\u3089\u308c\u306a\u3044\u304c\u3001 \u30d7\u30ed\u30bb\u30b9\u306e\u5b58\u5728\u3068\u6a29\u9650\u306e\u30c1\u30a7\u30c3\u30af\u306f\u884c\u308f\u308c\u308b\u3002\u3053\u308c\u3092\u4f7f\u3063\u3066\u3001\u9001\u4fe1\u8005\u304c\u30b7\u30b0\u30ca\u30eb\u3092\u9001\u4fe1\u3067\u304d\u308b\u30d7\u30ed\u30bb\u30b9 ID \u3084 \u30d7\u30ed\u30bb\u30b9\u30b0\u30eb\u30fc\u30d7 ID \u306e\u5b58\u5728\u78ba\u8a8d\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002 man kill(2) linux - kill -0 \u306f\u4f55\u3092\u3059\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f - \u30b9\u30bf\u30c3\u30af\u30fb\u30aa\u30fc\u30d0\u30fc\u30d5\u30ed\u30fc","title":"kill -0"},{"location":"Linux/command/#top","text":"","title":"top"},{"location":"Linux/command/#_32","text":"\u5b9f\u884c\u4e2d\u306b P \u3067CPU\u4f7f\u7528\u7387\u3001 M \u3067\u30e1\u30e2\u30ea\u4f7f\u7528\u7387\u3067\u30bd\u30fc\u30c8\u3055\u308c\u308b\u3002 \u5206\u304b\u308a\u3065\u3089\u3044\u3051\u3069 x \u62bc\u4e0b\u3067\u30bd\u30fc\u30c8\u57fa\u6e96\u306e\u30ab\u30e9\u30e0\u304c\u592a\u5b57\u306b\u306a\u308b\u3002","title":"\u30bd\u30fc\u30c8"},{"location":"Linux/command/#cpu","text":"\u5b9f\u884c\u4e2d\u306b 1 \u62bc\u4e0b top - 09:18:32 up 69 days, 11:39, 0 users, load average: 0.01, 0.02, 0.05 Tasks: 134 total, 1 running, 133 sleeping, 0 stopped, 0 zombie % Cpu0 : 2 .0 us, 0 .7 sy, 0 .0 ni, 97 .3 id, 0 .0 wa, 0 .0 hi, 0 .0 si, 0 .0 st % Cpu1 : 0 .3 us, 0 .7 sy, 0 .0 ni, 99 .0 id, 0 .0 wa, 0 .0 hi, 0 .0 si, 0 .0 st % Cpu2 : 1 .3 us, 0 .7 sy, 0 .0 ni, 98 .0 id, 0 .0 wa, 0 .0 hi, 0 .0 si, 0 .0 st % Cpu3 : 0 .3 us, 0 .3 sy, 0 .0 ni, 99 .3 id, 0 .0 wa, 0 .0 hi, 0 .0 si, 0 .0 st KiB Mem : 7990048 total, 717480 free, 1974248 used, 5298320 buff/cache KiB Swap: 3670012 total, 3670012 free, 0 used. 5665228 avail Mem","title":"CPU\u30b3\u30a2\u6bce"},{"location":"Linux/command/#_33","text":"\u5b9f\u884c\u4e2d\u306b c \u62bc\u4e0b top - 09:20:43 up 69 days, 11:41, 0 users, load average: 0.00, 0.01, 0.05 Tasks: 134 total, 1 running, 133 sleeping, 0 stopped, 0 zombie % Cpu ( s ) : 0 .1 us, 0 .0 sy, 0 .0 ni, 99 .9 id, 0 .0 wa, 0 .0 hi, 0 .0 si, 0 .0 st KiB Mem : 7990048 total, 715400 free, 1976168 used, 5298480 buff/cache KiB Swap: 3670012 total, 3670012 free, 0 used. 5663308 avail Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 351149 zaki 20 0 1280996 358920 9912 S 0.0 4.5 8:37.98 /home/zaki/.vscode-server/data/User/globalStorage/hashicorp.terraform/bin/terraform-ls serve 350657 zaki 20 0 1029428 147820 21832 S 0.3 1.9 2:04.98 /home/zaki/.vscode-server/bin/899d46d82c4c95423fb7e10e68eba52050e30ba3/node /home/zaki/.vscode-server/bin/899d46d8+ 350535 zaki 20 0 963792 102092 18036 S 0.0 1.3 2:00.07 /home/zaki/.vscode-server/bin/899d46d82c4c95423fb7e10e68eba52050e30ba3/node /home/zaki/.vscode-server/bin/899d46d8+ 385441 root 20 0 1130612 62204 26536 S 0.0 0.8 0:10.18 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock","title":"\u30b3\u30de\u30f3\u30c9\u30d5\u30eb\u30d1\u30b9\u30fb\u5f15\u6570\u8868\u793a"},{"location":"Linux/command/#_34","text":"","title":"\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210"},{"location":"Linux/command/#_35","text":"useradd zaki -m -d /home/zaki -s /bin/bash -G admin,sudo \u30aa\u30d7\u30b7\u30e7\u30f3 \u52d5\u4f5c -m \u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\u3092\u6709\u52b9 -d \u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9 -s \u30c7\u30d5\u30a9\u30eb\u30c8\u30b7\u30a7\u30eb\u6307\u5b9a -G \u8ffd\u52a0\u306e\u6240\u5c5e\u30b0\u30eb\u30fc\u30d7\u6307\u5b9a","title":"\u4f5c\u6210\u3059\u308b"},{"location":"Linux/command/#_36","text":"userdel zaki -r \u30aa\u30d7\u30b7\u30e7\u30f3 \u52d5\u4f5c -r \u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u3069\u306e\u30c7\u30fc\u30bf\u3092\u524a\u9664","title":"\u524a\u9664\u3059\u308b"},{"location":"Linux/command/#_37","text":"","title":"\u30b0\u30eb\u30fc\u30d7\u4f5c\u6210"},{"location":"Linux/command/#_38","text":"groupadd nijigasaki [-g GID]","title":"\u4f5c\u6210\u3059\u308b"},{"location":"Linux/command/#timedatectl","text":"","title":"timedatectl"},{"location":"Linux/command/#ntp","text":"timedatectl set-ntp false true \u3067\u6709\u52b9","title":"NTP\u306e\u7121\u52b9\u30fb\u6709\u52b9"},{"location":"Linux/command/#_39","text":"timedatectl set-timezone Asia/Tokyo","title":"\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u8a2d\u5b9a"},{"location":"Linux/command/#dig","text":"","title":"dig"},{"location":"Linux/command/#a","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u5b9f\u884c\u30db\u30b9\u30c8\u306eOS\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u30cd\u30fc\u30e0\u30b5\u30fc\u30d0\u30fc\u306b\u5bfe\u3057\u3066A\u30ec\u30b3\u30fc\u30c9\u3092\u554f\u3044\u5408\u308f\u305b\u308b\u3002 $ dig gmail.com ; <<>> DiG 9.16.28-RH <<>> gmail.com ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 20838 ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 65494 ;; QUESTION SECTION: ;gmail.com. IN A ;; ANSWER SECTION: gmail.com. 180 IN A 142.251.42.197 ;; Query time: 7 msec ;; SERVER: 127.0.0.53#53(127.0.0.53) ;; WHEN: Thu Apr 28 10:31:34 JST 2022 ;; MSG SIZE rcvd: 54","title":"A\u30ec\u30b3\u30fc\u30c9"},{"location":"Linux/command/#_40","text":"-x \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3046 $ dig -x 192 .168.0.16 ; <<>> DiG 9.16.33-RH <<>> -x 192.168.0.16 ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 3719 ;; flags: qr aa rd ra ad; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 65494 ;; QUESTION SECTION: ;16.0.168.192.in-addr.arpa. IN PTR ;; ANSWER SECTION: 16.0.168.192.in-addr.arpa. 0 IN PTR cloud-dev2. 16.0.168.192.in-addr.arpa. 0 IN PTR cloud-dev2.local. ;; Query time: 2 msec ;; SERVER: 127.0.0.53#53(127.0.0.53) ;; WHEN: Thu Dec 15 17:03:57 JST 2022 ;; MSG SIZE rcvd: 108","title":"\u9006\u5f15\u304d"},{"location":"Linux/command/#nc","text":"","title":"nc"},{"location":"Linux/command/#_41","text":"102.168.0.100\u306e22/TCP\u3078\u306e\u758e\u901a\u78ba\u8a8d ( -v \u306fverbose\u30aa\u30d7\u30b7\u30e7\u30f3) $ nc -v 192 .168.0.100 22 Ncat: Version 7.92 ( https://nmap.org/ncat ) Ncat: Connected to 192.168.0.4:22. SSH-2.0-OpenSSH_9.2p1 Debian-2+deb12u3 \u30b5\u30fc\u30d0\u30fc\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u9001\u4fe1\u5f85\u3061\u306e\u5834\u5408\u306f\u63a5\u7d9a\u304c\u7d99\u7d9a\u3059\u308b\u3002 \u758e\u901a\u3092\u78ba\u8a8d\u3057\u3066\u5373\u5207\u65ad\u3067\u3088\u3051\u308c\u3070\u3001 -z \u3092\u4ed8\u4e0e\u3059\u308b\u3002 (Zero-I/O mode, report connection status only) $ nc -z -v 192 .168.0.100 22 Ncat: Version 7.92 ( https://nmap.org/ncat ) Ncat: Connected to 192.168.0.4:22. Ncat: 0 bytes sent, 0 bytes received in 0.01 seconds. \u758e\u901a\u304c\u306a\u3051\u308c\u3070\u5931\u6557\u3059\u308b\u3002 # ## \u30db\u30b9\u30c8\u304c\u5b58\u5728\u3057\u306a\u3044 $ nc -z -v 192 .168.0.100 22 Ncat: Version 7.92 ( https://nmap.org/ncat ) Ncat: No route to host. # ## \u30db\u30b9\u30c8\u306f\u5b58\u5728\u3059\u308b\u304c\u30dd\u30fc\u30c8\u304clisten\u3057\u3066\u306a\u3044 $ nc -z -v 192 .168.0.99 22 Ncat: Version 7.92 ( https://nmap.org/ncat ) Ncat: Connection refused.","title":"\u758e\u901a\u78ba\u8a8d"},{"location":"Linux/command/#http","text":"-v \u306e\u307f\u3067\u63a5\u7d9a\u3057\u305f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u9001\u4fe1\u5f85\u3061\u306e\u72b6\u614b\u306b\u306a\u3063\u305f\u3089\u305d\u306e\u307e\u307e\u5165\u529b\u3059\u308c\u3070OK $ nc -v 192 .168.0.1 80 Ncat: Version 7.92 ( https://nmap.org/ncat ) Ncat: Connected to 192.168.0.1:80. # <- \u3053\u3053\u3067\u30b5\u30fc\u30d0\u30fc\u304c\u5165\u529b\u5f85\u3061 GET / HTTP/1.1 # <- \u30ad\u30fc\u30dc\u30fc\u30c9\u304b\u3089HTTP\u306e\u5185\u5bb9\u3092\u5165\u529b Host: 192.168.0.1 # <- 2\u884c\u76ee # <- \u7a7a\u884c\u9001\u4fe1\u3067HTTP\u3068\u3057\u3066\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306esend\u5b8c\u4e86 HTTP/1.1 200 OK # <- \u4ee5\u964d\u306f\u30b5\u30fc\u30d0\u30fc\u306e\u30ec\u30b9\u30dd\u30f3\u30b9 Server: nginx/1.20.1 Date: Sat, 08 Feb 2025 14:38:03 GMT Content-Type: text/html Content-Length: 2602","title":"HTTP\u3092\u3057\u3083\u3079\u308b"},{"location":"Linux/command/#ip","text":"","title":"ip"},{"location":"Linux/command/#_42","text":"link \u3092\u5f15\u6570\u306b\u6307\u5b9a ip link l \u306e\u307f\u3067\u3082\u540c\u69d8\u306e\u7d50\u679c","title":"\u30ea\u30f3\u30af\u72b6\u614b\u306e\u30ea\u30b9\u30c8"},{"location":"Linux/command/#_43","text":"show \u3082\u4ed8\u4e0e\u3059\u308b\u3002 ip a s ens18 a \u306f address \u306e\u3001 s \u306f show \u306e\u7701\u7565\u5f62\u3002\u4e0a\u8a18\u306f ip address show ens18 \u304c\u6b63\u3057\u3044\u8868\u8a18\u3002","title":"\u6307\u5b9a\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u307f"},{"location":"Linux/command/#_44","text":"ip route ip r \u3082\u53ef","title":"\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb\u78ba\u8a8d"},{"location":"Linux/command/#_45","text":"\u300c 192.168.0.0/24 \u5b9b\u306e\u30d1\u30b1\u30c3\u30c8\u306f\u3001 enp4s0 \u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u7d4c\u7531\u3067 172.16.1.0 \u3078\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3059\u308b\u300d\u5834\u5408 ip route add 192.168.0.0/24 via 172.16.1.0 dev enp4s0","title":"\u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u30eb\u30fc\u30c8\u8ffd\u52a0"},{"location":"Linux/command/#_46","text":"ip route add default via 172.16.1.0 dev eth1 metric 1000","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u30eb\u30fc\u30c8\u8ffd\u52a0"},{"location":"Linux/command/#_47","text":"ip route delete default dev eth0","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u30eb\u30fc\u30c8\u524a\u9664"},{"location":"Linux/command/#networkmanager","text":"","title":"NetworkManager"},{"location":"Linux/command/#_48","text":"\u63a5\u7d9a\u3057\u3066\u308b\u3082\u306e\u5168\u90e8 $ nmcli connection \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7 $ nmcli device connection \u3068 device \u306f\u3001\u305d\u308c\u305e\u308c c \u3068 d \u306b\u77ed\u7e2e\u53ef\u80fd\u3002","title":"\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u4e00\u89a7"},{"location":"Linux/command/#_49","text":"s \u307e\u305f\u306f show \u306e\u5f15\u6570\u306b\u3001\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002 # nmcli c s ens192 connection.id: ens192 connection.uuid: fd81b589-db4b-445d-9e60-22524aab4e9f connection.stable-id: -- connection.type: 802-3-ethernet connection.interface-name: ens192 connection.autoconnect: \u306f\u3044 connection.autoconnect-priority: 0 connection.autoconnect-retries: -1 (default) connection.multi-connect: 0 (default) : :","title":"\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u8a73\u7d30"},{"location":"Linux/command/#_50","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e \u6709\u7dda\u63a5\u7d9a 1 \u3092 ens192 \u3068\u304b\u306b\u5909\u3048\u305f\u3044\u5834\u5408 [zaki@fedora-node ~]$ nmcli c s NAME UUID TYPE DEVICE \u6709\u7dda\u63a5\u7d9a 1 e8d83bb5-ce0a-3fe8-911e-8bc57153091c ethernet ens18 [zaki@fedora-node ~]$ sudo nmcli c m \"\u6709\u7dda\u63a5\u7d9a 1\" connection.id ens18 [zaki@fedora-node ~]$ nmcli c s NAME UUID TYPE DEVICE ens18 e8d83bb5-ce0a-3fe8-911e-8bc57153091c ethernet ens18","title":"\u540d\u79f0\u5909\u66f4"},{"location":"Linux/command/#_51","text":"# nmcli con up ens224 # nmcli con down ens224","title":"\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u63a5\u7d9a\u3068\u5207\u65ad"},{"location":"Linux/command/#_52","text":"nmcli c delete ens224","title":"\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u524a\u9664"},{"location":"Linux/command/#ipstatic","text":"DHCP\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3042\u3068\u306b\u5909\u66f4\u3057\u305f\u3044\u3068\u304d\u3068\u304b\u3002 method\u3092manual\u306b\u5909\u66f4\u3059\u308b\u306e\u306faddresses\u3092\u30bb\u30c3\u30c8\u3057\u305f\u3042\u3068\u3067\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\u6ce8\u610f\u3002 nmcli c m ens192 ipv4.addresses \"192.168.0.79/24\" nmcli c m ens192 ipv4.gateway \"192.168.0.1\" nmcli c m ens192 ipv4.method manual \u6700\u5f8c\u306b\u518d\u8d77\u52d5 nmcli c down ens192 nmcli c up ens192","title":"IP\u30a2\u30c9\u30ec\u30b9\u3092static\u306b\u5909\u66f4"},{"location":"Linux/command/#dns","text":"# nmcli c m ens192 ipv4.dns 192 .168.0.11 \u3053\u308c\u3067\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u66f4\u65b0\u3055\u308c\u308b\u306e\u3067\u3001 systemctl restart NetworkManager \u3059\u308c\u3070\u8a2d\u5b9a\u304c\u53cd\u6620\u3055\u308c\u308b\u3002","title":"DNS\u306e\u8a2d\u5b9a\u5909\u66f4"},{"location":"Linux/command/#dns_1","text":"\u8ffd\u52a0\u3059\u308b\u9805\u76ee\u3067\u3042\u308b ipv4.dns \u306e\u624b\u524d\u306b + \u3092\u4ed8\u4e0e\u3059\u308b\u3068\u300c\u8ffd\u52a0\u300d\u306b\u306a\u308b\u3002 - \u3092\u4ed8\u4e0e\u3059\u308b\u3068\u5bfe\u8c61\u3092\u524a\u9664\u306b\u306a\u308b\u3002 DNS1 \u306e\u8a2d\u5b9a\u304c\u3042\u308b\u72b6\u614b\u3067\u4e0b\u8a18\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001 DNS2 \u306e\u8a2d\u5b9a\u3068\u3057\u3066\u8ffd\u52a0\u3055\u308c\u308b\u3002 # nmcli c m \"System ens192\" +ipv4.dns 192 .168.0.1","title":"DNS\u306e\u30bb\u30ab\u30f3\u30c0\u30ea\u8ffd\u52a0"},{"location":"Linux/command/#dnssearch","text":"my.example.org \u3092\u8a2d\u5b9a\u3059\u308b\u306b\u306f # nmcli c m ens192 ipv4.dns-search my.example.org # systemctl restart NetworkManager","title":"DNS\u306esearch\u884c\u8ffd\u52a0"},{"location":"Linux/command/#_53","text":"192.168.39.89 \u306b\u8a2d\u5b9a\u3059\u308b # nmcli c m ens192 ipv4.gateway 192 .168.39.89 \u8a2d\u5b9a\u524a\u9664\u3059\u308b # nmcli c m ens192 ipv4.gateway \"\" [Ansible] \u30bf\u30fc\u30b2\u30c3\u30c8\u30db\u30b9\u30c8\u306eIP\u30a2\u30c9\u30ec\u30b9\u306e\u53c2\u7167\u3068\u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u306e\u30e1\u30e2 - zaki work log","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u5909\u66f4"},{"location":"Linux/command/#_54","text":"\u74b0\u5883: [VyOS] NAT\u8a2d\u5b9a\u3092\u4f7f\u3063\u305f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u9593\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 (\u624b\u52d5 & Ansible / vyos_config) - zaki work log \u3084\u308a\u305f\u3044\u3053\u3068 \u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u306fens192\u5074\u306e192.168.0.1 NIC\u306f2\u9762 (ens192: 192.168.0.44/24, ens224: 172.16.0.44/23) 172.29.0.89 \u3078\u758e\u901a\u3092\u8ffd\u52a0\u3057\u305f\u3044 \u3053\u306e\u30a2\u30c9\u30ec\u30b9\u306fens224\u306e\u5148\u306e172.16.1.3/23\u304c\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3059\u308b \u30b3\u30de\u30f3\u30c9 # nmcli c m ens224 +ipv4.routes \"172.29.0.0/24 172.16.1.3\" # nmcli c u ens224 4.2. nmcli \u3092\u4f7f\u3063\u305f\u9759\u7684\u30eb\u30fc\u30c8\u306e\u8a2d\u5b9a Red Hat Enterprise Linux 7 | Red Hat Customer Portal \u3053\u306e\u8fba\u304c\u8ffd\u52a0\u3055\u308c\u308b\u3002 \u30ea\u30d6\u30fc\u30c8\u3057\u3066\u3082\u6709\u52b9 [root@fedora-node ~]# ip r default via 192.168.0.1 dev ens192 proto static metric 100 : : 172.29.0.0/24 via 172.16.1.3 dev ens224 proto static metric 101 Fedora34\u3060\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f /etc/NetworkManager/system-connections/ens224.nmconnection \u3067\u3001\u5185\u5bb9\u306f\u3053\u3093\u306a\u611f\u3058\u3002 [ipv4] address1 = 172.16.0.44/23 dns = 172.16.2.0 ; dns-search = method = manual route1 = 172.29.0.0/24,172.16.1.3 \u8a2d\u5b9a\u89e3\u9664\u306f - \u3092\u4ed8\u3051\u3066\u5b9f\u884c\u3002 # nmcli c m ens224 -ipv4.routes \"172.29.0.0/24 172.16.1.3\"","title":"\u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u30eb\u30fc\u30c8\u8ffd\u52a0"},{"location":"Linux/command/#systemd","text":"","title":"systemd"},{"location":"Linux/command/#_55","text":"systemctl list-unit-files","title":"\u4e00\u89a7"},{"location":"Linux/command/#_56","text":"systemctl list-unit-files --user","title":"\u30e6\u30fc\u30b6\u30fc\u6a29\u9650\u306e\u30e6\u30cb\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7"},{"location":"Linux/command/#_57","text":"","title":"\u30db\u30b9\u30c8\u540d"},{"location":"Linux/command/#_58","text":"sudo hostnamectl set-hostname rhel8","title":"\u5909\u66f4"},{"location":"Linux/command/#resolvectl","text":"Fedora\u306a\u3069\u3002","title":"resolvectl"},{"location":"Linux/command/#dns_2","text":"resolvectl status","title":"DNS\u8a2d\u5b9a\u78ba\u8a8d"},{"location":"Linux/command/#_59","text":"","title":"\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb"},{"location":"Linux/command/#iptables","text":"\u30eb\u30fc\u30eb\u78ba\u8a8d # iptables -L TCP\u30dd\u30fc\u30c8\u8a31\u53ef\u8ffd\u52a0 # iptables -A INPUT -m state --state NEW -m tcp -p tcp --dport 8080 -j ACCEPT \u30ea\u30c0\u30a4\u30ec\u30af\u30c8 10.0.0.1\u304b\u3089\u306e80/tcp\u30a2\u30af\u30bb\u30b9\u30928080/tcp\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u5834\u5408\u3002(8080/tcp\u3082\u8a31\u53ef\u306f\u5fc5\u8981) # iptables -t nat -A PREROUTING -p tcp -s 10 .0.0.1 --dport 80 -j REDIRECT --to 8080 \u81ea\u5206\u3078\u306e443/tcp\u30a2\u30af\u30bb\u30b9\u3092\u30ea\u30e2\u30fc\u30c8\u306e172.29.0.14:443\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u5834\u5408\u3002 iptables -t nat -A PREROUTING -p tcp --dport 443 -j DNAT --to-destination 172.29.0.14:443","title":"iptables"},{"location":"Linux/command/#_60","text":"iptables -A INPUT ... -A \u306f --append \u3067\u672b\u5c3e\u306b\u8ffd\u52a0 iptables -I INPUT [n] ... -I \u306f --insert \u3067\u5148\u982d\u306b\u8ffd\u52a0\u3002n\u306b\u6570\u5024\u3092\u6307\u5b9a\u3059\u308c\u3070\u3001\u305d\u306e\u4f4d\u7f6e\u306b\u633f\u5165\u3002","title":"\u30eb\u30fc\u30eb\u8ffd\u52a0"},{"location":"Linux/command/#_61","text":"\u307e\u305a\u30eb\u30fc\u30eb\u306e\u72b6\u614b\u3092 --line-numbers \u3092\u4ed8\u4e0e\u3057\u3066\u884c\u756a\u53f7\u3092\u78ba\u8a8d\u3002(\u76ee\u8996\u3067\u3082\u826f\u3044) # iptables -nL --line-numbers Chain INPUT (policy ACCEPT) num target prot opt source destination 1 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 state RELATED,ESTABLISHED 2 ACCEPT icmp -- 0.0.0.0/0 0.0.0.0/0 3 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 4 ACCEPT udp -- 0.0.0.0/0 0.0.0.0/0 udp spt:123 5 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:80 6 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:443 7 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:22 8 REJECT all -- 0.0.0.0/0 0.0.0.0/0 reject-with icmp-host-prohibited 9 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:80 10 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:443 11 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:443 12 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:80 \u884c\u756a\u53f7\u304c\u5206\u304b\u3063\u305f\u3089\u3001\u756a\u53f7\u3092\u6307\u5b9a\u3057\u3066 -D \u3067\u30eb\u30fc\u30eb\u3068\u884c\u756a\u53f7\u6307\u5b9a\u3067\u524a\u9664 iptables -D INPUT 12 \u30ea\u30c0\u30a4\u30ec\u30af\u30c8(nat)\u306e\u5834\u5408\u3082\u540c\u69d8 # iptables -L -t nat --line-numbers \u756a\u53f7\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001\u305d\u308c\u3092\u5f15\u6570\u306b\u4ee5\u4e0b\u3092\u5b9f\u884c\u3002( PREROUTING \u30eb\u30fc\u30eb\u306e\u5834\u5408) # iptables -t nat -D PREROUTING 1","title":"\u30eb\u30fc\u30eb\u306e\u524a\u9664"},{"location":"Linux/command/#_62","text":"-F (\u307e\u305f\u306f --flush )\u3067\u3059\u3079\u3066\u306e\u30eb\u30fc\u30eb\u304c\u30af\u30ea\u30a2\u3055\u308c\u308b\u3002 iptables -F","title":"\u5168\u524a\u9664"},{"location":"Linux/command/#firewall-cmd","text":"[\u30b3\u30de\u30f3\u30c9\u30e1\u30e2] firewall-cmd\u5099\u5fd8\u9332 (firewalld) - zaki work log","title":"firewall-cmd"},{"location":"Linux/command/#_63","text":"\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\u78ba\u8a8d firewall-cmd --list-all [--zone=internal] \u5168\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\u78ba\u8a8d firewall-cmd --list-all-zones \u30be\u30fc\u30f3\u4e00\u89a7 firewall-cmd --get-zones \u30a2\u30af\u30c6\u30a3\u30d6\u306a\u30be\u30fc\u30f3\u306e\u4e00\u89a7 firewall-cmd --get-active-zones","title":"\u78ba\u8a8d"},{"location":"Linux/command/#_64","text":"\u30be\u30fc\u30f3\u306b\u6307\u5b9a\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u8a2d\u5b9a firewall-cmd --permanent --zone=trusted --change-interface=cni0 \u30be\u30fc\u30f3\u304b\u3089\u6307\u5b9a\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u524a\u9664 firewall-cmd --permanent --zone=trusted --remove-interface=cni0","title":"\u30be\u30fc\u30f3\u8a2d\u5b9a"},{"location":"Linux/command/#ufw","text":"\u73fe\u5728\u306e\u72b6\u614b\u3002 \u203b\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u306a\u3063\u3066\u3044\u306a\u3044 root@oci-g-a1-ubuntu:~# ufw status Status: inactive \u6709\u52b9\u5316\u3059\u308b\u3002 ssh\u7d4c\u7531\u306e\u5834\u5408\u8b66\u544a\u3055\u308c\u308b\u3002( iptables -nL \u3042\u305f\u308a\u306722/tcp\u304c\u958b\u3044\u3066\u308b\u4e8b\u3092\u78ba\u8a8d\u3057\u3066\u304a\u3051\u3070\u2026\u826f\u3044\u306e\u304b\u306a) root@oci-g-a1-ubuntu:~# ufw enable Command may disrupt existing ssh connections. Proceed with operation (y|n)? y Firewall is active and enabled on system startup \u518d\u8aad\u307f\u8fbc\u307f\u3068\u72b6\u614b\u78ba\u8a8d\u3002 root@oci-g-a1-ubuntu:~# ufw reload Firewall reloaded root@oci-g-a1-ubuntu:~# ufw status Status: active TCP\u30dd\u30fc\u30c8\u306e\u8a31\u53ef root@oci-g-a1-ubuntu:~# ufw allow 6443 Rule added Rule added (v6) root@oci-g-a1-ubuntu:~# ufw reload Firewall reloaded root@oci-g-a1-ubuntu:~# ufw status Status: active To Action From -- ------ ---- 6443 ALLOW Anywhere 6443 (v6) ALLOW Anywhere (v6) \u203b \u64cd\u4f5c\u306e\u307f\u3002\u3053\u306e\u74b0\u5883\u306fufw\u3092\u4f7f\u3063\u3066\u306a\u3044\u3089\u3057\u304f\u52d5\u4f5c\u306f\u672a\u78ba\u8a8d","title":"ufw"},{"location":"Linux/command/#alternatives","text":"ubuntu\u3060\u3068 update-alternatives \u3067\u3001RHEL\u7cfb\u3060\u3068 alternatives \u306b\u306a\u308b\u3002","title":"alternatives"},{"location":"Linux/command/#_65","text":"ubuntu\u306e\u5834\u5408 root@oci-ap-a1-ubuntu:~# update-alternatives --get-selections arptables auto /usr/sbin/arptables-nft awk auto /usr/bin/gawk builtins.7.gz auto /usr/share/man/man7/bash-builtins.7.gz c++ auto /usr/bin/g++ : : Fedora\u306e\u5834\u5408 [ root@cloud-dev2 ~ ] # update - alternatives --list libnssckbi.so.x86_64 auto / usr / lib64 / pkcs11 / p11 - kit - trust.so soelim auto / usr / bin / soelim.groff iptables auto / usr / sbin / iptables - nft :","title":"\u8a2d\u5b9a\u4e00\u89a7"},{"location":"Linux/command/#_66","text":"python \u3068\u3044\u3046\u540d\u524d\u3067\u3001 /usr/bin/python \u3092\u512a\u5148\u5ea610\u3067\u767b\u9332\u3059\u308b\u3002 $ sudo update-alternatives --install /usr/bin/python python /usr/bin/python3 10 update-alternatives: using /usr/bin/python3 to provide /usr/bin/python (python) in auto mode \u3053\u308c\u3067\u3001\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002 $ ls -l /usr/bin/python /etc/alternatives/python lrwxrwxrwx 1 root root 16 Mar 31 15:16 /etc/alternatives/python -> /usr/bin/python3 lrwxrwxrwx 1 root root 24 Mar 31 15:16 /usr/bin/python -> /etc/alternatives/python \u8a2d\u5b9a $ update-alternatives --display python python - auto mode link best version is /usr/bin/python3 link currently points to /usr/bin/python3 link python is /usr/bin/python /usr/bin/python3 - priority 10","title":"\u8a2d\u5b9a\u306e\u767b\u9332"},{"location":"Linux/command/#lscpu","text":"CPU\u60c5\u5831\u306e\u51fa\u529b # lscpu Architecture: x86_64 CPU op-mode(s): 32-bit, 64-bit Address sizes: 39 bits physical, 48 bits virtual Byte Order: Little Endian CPU(s): 16 On-line CPU(s) list: 0-15 Vendor ID: GenuineIntel BIOS Vendor ID: Intel(R) Corporation Model name: 12th Gen Intel(R) Core(TM) i7-12650H BIOS Model name: 12th Gen Intel(R) Core(TM) i7-12650H To Be Filled By O.E.M. CPU @ 2.1GHz BIOS CPU family: 198 CPU family: 6 Model: 154 Thread(s) per core: 2 Core(s) per socket: 10 Socket(s): 1 Stepping: 3 CPU(s) scaling MHz: 42% CPU max MHz: 4700.0000 CPU min MHz: 400.0000 BogoMIPS: 5376.00 Flags: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc art arch_perfm on pebs bts rep_good nopl xtopology nonstop_tsc cpuid aperfmperf tsc_known_freq pni pclm ulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 ss e4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm 3dnowp refetch cpuid_fault epb cat_l2 cdp_l2 ssbd ibrs ibpb stibp ibrs_enhanced tpr_shadow flex priority ept vpid ept_ad fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid rdt_a rdse ed adx smap clflushopt clwb intel_pt sha_ni xsaveopt xsavec xgetbv1 xsaves split_lock_de tect user_shstk avx_vnni dtherm ida arat pln pts hwp hwp_notify hwp_act_window hwp_epp h wp_pkg_req hfi vnmi umip pku ospke waitpkg gfni vaes vpclmulqdq rdpid movdiri movdir64b fsrm md_clear serialize arch_lbr ibt flush_l1d arch_capabilities Virtualization features: Virtualization: VT-x Caches (sum of all): L1d: 416 KiB (10 instances) L1i: 448 KiB (10 instances) L2: 9.5 MiB (7 instances) L3: 24 MiB (1 instance) NUMA: NUMA node(s): 1 NUMA node0 CPU(s): 0-15 Vulnerabilities: Gather data sampling: Not affected Itlb multihit: Not affected L1tf: Not affected Mds: Not affected Meltdown: Not affected Mmio stale data: Not affected Reg file data sampling: Vulnerable: No microcode Retbleed: Not affected Spec rstack overflow: Not affected Spec store bypass: Mitigation; Speculative Store Bypass disabled via prctl Spectre v1: Mitigation; usercopy/swapgs barriers and __user pointer sanitization Spectre v2: Mitigation; Enhanced / Automatic IBRS; IBPB conditional; RSB filling; PBRSB-eIBRS SW seq uence; BHI SW loop, KVM SW loop Srbds: Not affected Tsx async abort: Not affected","title":"lscpu"},{"location":"Linux/command/#ethtool","text":"NIC\u72b6\u614b\u306e\u51fa\u529b # ethtool enp2s0 Settings for enp2s0: Supported ports: [ TP ] Supported link modes: 10baseT/Half 10baseT/Full 100baseT/Half 100baseT/Full 1000baseT/Full 2500baseT/Full Supported pause frame use: Symmetric Supports auto-negotiation: Yes Supported FEC modes: Not reported Advertised link modes: 10baseT/Half 10baseT/Full 100baseT/Half 100baseT/Full 1000baseT/Full 2500baseT/Full Advertised pause frame use: Symmetric Advertised auto-negotiation: Yes Advertised FEC modes: Not reported Speed: 2500Mb/s Duplex: Full Auto-negotiation: on Port: Twisted Pair PHYAD: 0 Transceiver: internal MDI-X: off (auto) Supports Wake-on: pumbg Wake-on: g Current message level: 0x00000007 (7) drv probe link Link detected: yes","title":"ethtool"},{"location":"Linux/disk/","text":"\u30c7\u30a3\u30b9\u30af \u30d6\u30ed\u30c3\u30af\u30c7\u30d0\u30a4\u30b9\u3092\u30c4\u30ea\u30fc\u8868\u793a $ lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sda 8:0 0 120G 0 disk \u251c\u2500sda1 8:1 0 1G 0 part /boot \u2514\u2500sda2 8:2 0 119G 0 part \u251c\u2500centos-root 253:0 0 115.5G 0 lvm / \u2514\u2500centos-swap 253:1 0 3.5G 0 lvm [SWAP] zram0 252:0 0 7.5G 0 disk [SWAP] \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u78ba\u8a8d df -T \u3092\u5b9f\u884c $ df -T \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9 \u30bf\u30a4\u30d7 1K-\u30d6\u30ed\u30c3\u30af \u4f7f\u7528 \u4f7f\u7528\u53ef \u4f7f\u7528% \u30de\u30a6\u30f3\u30c8\u4f4d\u7f6e devtmpfs devtmpfs 4096 0 4096 0% /dev tmpfs tmpfs 3927684 0 3927684 0% /dev/shm tmpfs tmpfs 1571076 1280 1569796 1% /run /dev/mapper/centos-root xfs 121047300 95026992 26020308 79% / tmpfs tmpfs 3927688 0 3927688 0% /tmp /dev/sda1 xfs 1038336 319000 719336 31% /boot tmpfs tmpfs 785536 0 785536 0% /run/user/1000 $ df -T Filesystem Type 1K-blocks Used Available Use% Mounted on tmpfs tmpfs 804648 2192 802456 1% /run /dev/mapper/vgubuntu-root ext4 120977096 49076772 65708812 43% / tmpfs tmpfs 4023240 0 4023240 0% /dev/shm tmpfs tmpfs 5120 4 5116 1% /run/lock /dev/sda1 vfat 523248 4 523244 1% /boot/efi tmpfs tmpfs 804648 148 804500 1% /run/user/1000 /dev/sdb2 ext4 479594152 178667716 276490880 40% /media/zaki/376b22ca-a013-11e8-81fd-000180792463 \u30c7\u30a3\u30b9\u30af\u8ffd\u52a0 USB\u63a5\u7d9a\u306e\u5916\u4ed8\u3051HDD\u304c\u6b7b\u306b\u304b\u3051\u3066\u305f\u306e\u3067\u4ea4\u63db\u3057\u3066\u30c7\u30fc\u30bf\u79fb\u884c\u3002 HDD\u7e4b\u3050 \u30c7\u30d0\u30a4\u30b9\u306e\u756a\u53f7\u306f dmesg \u3067\u78ba\u8a8d [ 268.149764 ] sd 6 : 0 : 0 : 0 : Attached scsi generic sg1 type 0 [ 271.516612 ] sd 6 : 0 : 0 : 0 : [ sdb ] 3907029168 512- byte logical blocks : ( 2.00 TB /1.82 TiB) [ 271.517672 ] sd 6 : 0 : 0 : 0 : [ sdb ] Write Protect is off [ 271.517678 ] sd 6 : 0 : 0 : 0 : [ sdb ] Mode Sense : 73 00 10 08 [ 271.518739 ] sd 6 : 0 : 0 : 0 : [ sdb ] Write cache : enabled, read cache : enabled, supports DPO and FUA [ 271.543154 ] sdb : sdb1 [ 271.546268 ] sd 6 : 0 : 0 : 0 : [ sdb ] Attached SCSI disk fdisk -l \u3067\u78ba\u8a8d root @zaki - CF - J10YYBHR : ~ # fdisk - l / dev / sdb \u30c7\u30a3\u30b9\u30af / dev / sdb : 1.84 TiB, 2000398934016 \u30d0\u30a4\u30c8, 3907029168 \u30bb\u30af\u30bf Disk model : HD - LDS - A \u5358\u4f4d : \u30bb\u30af\u30bf ( 1 * 512 = 512 \u30d0\u30a4\u30c8) \u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406 / \u7269\u7406) : 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 I / O \u30b5\u30a4\u30ba (\u6700\u5c0f / \u63a8\u5968) : 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u306e\u30bf\u30a4\u30d7 : dos \u30c7\u30a3\u30b9\u30af\u8b58\u5225\u5b50 : 0x0b27d361 \u30c7\u30d0\u30a4\u30b9 \u8d77\u52d5 \u958b\u59cb\u4f4d\u7f6e \u6700\u5f8c\u304b\u3089 \u30bb\u30af\u30bf \u30b5\u30a4\u30ba Id \u30bf\u30a4\u30d7 / dev / sdb1 64 3907029119 3907029056 1.8 T 7 HPFS / NTFS / exFAT \u65e2\u5b58\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u524a\u9664 root @zaki - CF - J10YYBHR : ~ # fdisk / dev / sdb fdisk (util - linux 2.34 ) \u3078\u3088\u3046\u3053\u305d \u3002 \u3053\u3053\u3067\u8a2d\u5b9a\u3057\u305f\u5185\u5bb9\u306f \u3001 \u66f8\u304d\u8fbc\u307f\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u307e\u3067\u30e1\u30e2\u30ea\u306e\u307f\u306b\u4fdd\u6301\u3055\u308c\u307e\u3059 \u3002 \u66f8\u304d\u8fbc\u307f\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u969b\u306f \u3001 \u6ce8\u610f\u3057\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044 \u3002 \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7) : \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): p \u30c7\u30a3\u30b9\u30af /dev/sdb: 1.84 TiB, 2000398934016 \u30d0\u30a4\u30c8, 3907029168 \u30bb\u30af\u30bf Disk model: HD-LDS-A \u5358\u4f4d: \u30bb\u30af\u30bf (1 * 512 = 512 \u30d0\u30a4\u30c8) \u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406 / \u7269\u7406): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 I/O \u30b5\u30a4\u30ba (\u6700\u5c0f / \u63a8\u5968): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u306e\u30bf\u30a4\u30d7: dos \u30c7\u30a3\u30b9\u30af\u8b58\u5225\u5b50: 0x0b27d361 \u30c7\u30d0\u30a4\u30b9 \u8d77\u52d5 \u958b\u59cb\u4f4d\u7f6e \u6700\u5f8c\u304b\u3089 \u30bb\u30af\u30bf \u30b5\u30a4\u30ba Id \u30bf\u30a4\u30d7 /dev/sdb1 64 3907029119 3907029056 1.8T 7 HPFS/NTFS/exFAT \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): d \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3 1 \u3092\u9078\u629e \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3 1 \u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002 \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): p \u30c7\u30a3\u30b9\u30af /dev/sdb: 1.84 TiB, 2000398934016 \u30d0\u30a4\u30c8, 3907029168 \u30bb\u30af\u30bf Disk model: HD-LDS-A \u5358\u4f4d: \u30bb\u30af\u30bf (1 * 512 = 512 \u30d0\u30a4\u30c8) \u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406 / \u7269\u7406): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 I/O \u30b5\u30a4\u30ba (\u6700\u5c0f / \u63a8\u5968): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u306e\u30bf\u30a4\u30d7: dos \u30c7\u30a3\u30b9\u30af\u8b58\u5225\u5b50: 0x0b27d361 \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u304c1\u500b\u3057\u304b\u306a\u3044\u304b\u3089\u304b\u3001 d \u3067\uff7c\uff6d\uff6f\u3068\u6d88\u3048\u305f\u3002 \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u4f5c\u6210 \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): n \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30bf\u30a4\u30d7 p \u57fa\u672c\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3 (0 \u30d7\u30e9\u30a4\u30de\u30ea, 0 \u62e1\u5f35, 4 \u7a7a\u304d) e \u62e1\u5f35\u9818\u57df (\u8ad6\u7406\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u304c\u5165\u308a\u307e\u3059) \u9078\u629e (\u65e2\u5b9a\u5024 p): \u65e2\u5b9a\u306e\u56de\u7b54 p \u3067\u3042\u308b\u3082\u306e\u3068\u307f\u306a\u3057\u307e\u3059\u3002 \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u756a\u53f7 (1-4, \u65e2\u5b9a\u5024 1): \u6700\u521d\u306e\u30bb\u30af\u30bf (2048-3907029167, \u65e2\u5b9a\u5024 2048): Last sector, +/-sectors or +/-size{K,M,G,T,P} (2048-3907029167, \u65e2\u5b9a\u5024 3907029167): \u65b0\u3057\u3044\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3 1 \u3092\u30bf\u30a4\u30d7 Linux\u3001\u30b5\u30a4\u30ba 1.8 TiB \u3067\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002 \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): p \u30c7\u30a3\u30b9\u30af /dev/sdb: 1.84 TiB, 2000398934016 \u30d0\u30a4\u30c8, 3907029168 \u30bb\u30af\u30bf Disk model: HD-LDS-A \u5358\u4f4d: \u30bb\u30af\u30bf (1 * 512 = 512 \u30d0\u30a4\u30c8) \u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406 / \u7269\u7406): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 I/O \u30b5\u30a4\u30ba (\u6700\u5c0f / \u63a8\u5968): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u306e\u30bf\u30a4\u30d7: dos \u30c7\u30a3\u30b9\u30af\u8b58\u5225\u5b50: 0x0b27d361 \u30c7\u30d0\u30a4\u30b9 \u8d77\u52d5 \u958b\u59cb\u4f4d\u7f6e \u6700\u5f8c\u304b\u3089 \u30bb\u30af\u30bf \u30b5\u30a4\u30ba Id \u30bf\u30a4\u30d7 /dev/sdb1 2048 3907029167 3907027120 1.8T 83 Linux \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): \u66f8\u304d\u8fbc\u307f \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7) : w \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u60c5\u5831\u304c\u5909\u66f4\u3055\u308c\u307e\u3057\u305f \u3002 Failed to remove partition 1 from system : \u30c7\u30d0\u30a4\u30b9\u3082\u3057\u304f\u306f\u30ea\u30bd\u30fc\u30b9\u304c\u30d3\u30b8\u30fc\u72b6\u614b\u3067\u3059 Failed to add partition 1 to system : \u30c7\u30d0\u30a4\u30b9\u3082\u3057\u304f\u306f\u30ea\u30bd\u30fc\u30b9\u304c\u30d3\u30b8\u30fc\u72b6\u614b\u3067\u3059 The kernel still uses the old partitions. The new table will be used at the next reboot. \u30c7\u30a3\u30b9\u30af\u3092\u540c\u671f\u3057\u3066\u3044\u307e\u3059 \u3002 root @zaki - CF - J10YYBHR : ~ # \u3042\u30fc\u3001\u81ea\u52d5\u30de\u30a6\u30f3\u30c8\u3055\u308c\u305f\u307e\u307e\u3060\u3063\u305f\uff57\uff57\uff57 reboot \u3057\u3088\u3046\u3002 reboot\u524d root @zaki - CF - J10YYBHR : ~ # fdisk - l / dev / sdb \u30c7\u30a3\u30b9\u30af / dev / sdb : 1.84 TiB, 2000398934016 \u30d0\u30a4\u30c8, 3907029168 \u30bb\u30af\u30bf Disk model : HD - LDS - A \u5358\u4f4d : \u30bb\u30af\u30bf ( 1 * 512 = 512 \u30d0\u30a4\u30c8) \u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406 / \u7269\u7406) : 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 I / O \u30b5\u30a4\u30ba (\u6700\u5c0f / \u63a8\u5968) : 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u306e\u30bf\u30a4\u30d7 : dos \u30c7\u30a3\u30b9\u30af\u8b58\u5225\u5b50 : 0x0b27d361 \u30c7\u30d0\u30a4\u30b9 \u8d77\u52d5 \u958b\u59cb\u4f4d\u7f6e \u6700\u5f8c\u304b\u3089 \u30bb\u30af\u30bf \u30b5\u30a4\u30ba Id \u30bf\u30a4\u30d7 / dev / sdb1 2048 3907029167 3907027120 1.8 T 83 Linux ext4\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 mkfs -t ext4 root @zaki - CF - J10YYBHR : ~ # time mkfs - t ext4 / dev / sdb1 mke2fs 1.45.5 ( 07- Jan -2020 ) Creating filesystem with 488378390 4 k blocks and 122101760 inodes Filesystem UUID : fa5897f2 -39 b1 -4 ea4 -937 f - b63b7e34571f Superblock backups stored on blocks : 32768 , 98304 , 163840 , 229376 , 294912 , 819200 , 884736 , 1605632 , 2654208 , 4096000 , 7962624 , 11239424 , 20480000 , 23887872 , 71663616 , 78675968 , 102400000 , 214990848 Allocating group tables : done Writing inode tables : done Creating journal ( 262144 blocks) : done Writing superblocks and filesystem accounting information : done real 0 m16 .078 s user 0 m0 .045 s sys 0 m0 .171 s \u30e9\u30d9\u30eb\u8a2d\u5b9a e2label \u3067\u8a2d\u5b9a\u30fb\u78ba\u8a8d\u3002 root @zaki - CF - J10YYBHR : ~ # e2label / dev / sdb1 \"HD-LDS-A\" root @zaki - CF - J10YYBHR : ~ # e2label / dev / sdb1 HD - LDS - A LVM LV\u306e\u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u30ea\u30b5\u30a4\u30ba \u73fe\u5728\u306e\u30b5\u30a4\u30ba\u304b\u3089+10GB\u62e1\u5f35\u3059\u308b\u3002 # lvresize -r -L +10G /dev/mapper/centos-root fsck clean\u3067\u3082\u5f37\u5236\u30b9\u30ad\u30e3\u30f3 -f \u3092\u4ed8\u4e0e fsck.ext4 -f /dev/mapper/ubuntu--vg-ubuntu--lv \u8d77\u52d5\u6642\u306b\u5f37\u5236fsck shutdown \u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b -F \u3092\u4ed8\u4e0e shutdown -F -r now mount CIFS [root@cloud-dev2 ~]# mount -t cifs -o username = zaki,uid = ***,gid = *** //pecorino/HD-LDS-A /mnt/ Password for zaki@//pecorino/HD-LDS-A: uid \u3068 gid \u3082\u6307\u5b9a\u3057\u306a\u3044\u3068owner\u306e\u8a2d\u5b9a\u304c\u3067\u304d\u306a\u3044(mount\u3057\u305f\u6642\u306e\u3082\u306e\u3067\u56fa\u5b9a\u3055\u308c\u308b) NFS mount -t nfs -o rw pecorino:/dev /mnt/ fstab /dev/mapper/centos-root / xfs defaults 0 1 192.168.0.200:/share /mnt nfs rw 0 0 \u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u5de6\u304b\u3089\u9806\u306b \u30c7\u30d0\u30a4\u30b9 \u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8 \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30bf\u30a4\u30d7 \u30aa\u30d7\u30b7\u30e7\u30f3 dump \u306b\u3088\u308b\u51fa\u529b\u5bfe\u8c61\u30d5\u30e9\u30b0(0:\u5bfe\u8c61\u5916) \u8d77\u52d5\u6642 fsck \u306e\u5bfe\u8c61\u30d5\u30e9\u30b0(0:\u5bfe\u8c61\u5916)","title":"\u30c7\u30a3\u30b9\u30af"},{"location":"Linux/disk/#_1","text":"","title":"\u30c7\u30a3\u30b9\u30af"},{"location":"Linux/disk/#_2","text":"$ lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sda 8:0 0 120G 0 disk \u251c\u2500sda1 8:1 0 1G 0 part /boot \u2514\u2500sda2 8:2 0 119G 0 part \u251c\u2500centos-root 253:0 0 115.5G 0 lvm / \u2514\u2500centos-swap 253:1 0 3.5G 0 lvm [SWAP] zram0 252:0 0 7.5G 0 disk [SWAP]","title":"\u30d6\u30ed\u30c3\u30af\u30c7\u30d0\u30a4\u30b9\u3092\u30c4\u30ea\u30fc\u8868\u793a"},{"location":"Linux/disk/#_3","text":"df -T \u3092\u5b9f\u884c $ df -T \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9 \u30bf\u30a4\u30d7 1K-\u30d6\u30ed\u30c3\u30af \u4f7f\u7528 \u4f7f\u7528\u53ef \u4f7f\u7528% \u30de\u30a6\u30f3\u30c8\u4f4d\u7f6e devtmpfs devtmpfs 4096 0 4096 0% /dev tmpfs tmpfs 3927684 0 3927684 0% /dev/shm tmpfs tmpfs 1571076 1280 1569796 1% /run /dev/mapper/centos-root xfs 121047300 95026992 26020308 79% / tmpfs tmpfs 3927688 0 3927688 0% /tmp /dev/sda1 xfs 1038336 319000 719336 31% /boot tmpfs tmpfs 785536 0 785536 0% /run/user/1000 $ df -T Filesystem Type 1K-blocks Used Available Use% Mounted on tmpfs tmpfs 804648 2192 802456 1% /run /dev/mapper/vgubuntu-root ext4 120977096 49076772 65708812 43% / tmpfs tmpfs 4023240 0 4023240 0% /dev/shm tmpfs tmpfs 5120 4 5116 1% /run/lock /dev/sda1 vfat 523248 4 523244 1% /boot/efi tmpfs tmpfs 804648 148 804500 1% /run/user/1000 /dev/sdb2 ext4 479594152 178667716 276490880 40% /media/zaki/376b22ca-a013-11e8-81fd-000180792463","title":"\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u78ba\u8a8d"},{"location":"Linux/disk/#_4","text":"USB\u63a5\u7d9a\u306e\u5916\u4ed8\u3051HDD\u304c\u6b7b\u306b\u304b\u3051\u3066\u305f\u306e\u3067\u4ea4\u63db\u3057\u3066\u30c7\u30fc\u30bf\u79fb\u884c\u3002","title":"\u30c7\u30a3\u30b9\u30af\u8ffd\u52a0"},{"location":"Linux/disk/#hdd","text":"\u30c7\u30d0\u30a4\u30b9\u306e\u756a\u53f7\u306f dmesg \u3067\u78ba\u8a8d [ 268.149764 ] sd 6 : 0 : 0 : 0 : Attached scsi generic sg1 type 0 [ 271.516612 ] sd 6 : 0 : 0 : 0 : [ sdb ] 3907029168 512- byte logical blocks : ( 2.00 TB /1.82 TiB) [ 271.517672 ] sd 6 : 0 : 0 : 0 : [ sdb ] Write Protect is off [ 271.517678 ] sd 6 : 0 : 0 : 0 : [ sdb ] Mode Sense : 73 00 10 08 [ 271.518739 ] sd 6 : 0 : 0 : 0 : [ sdb ] Write cache : enabled, read cache : enabled, supports DPO and FUA [ 271.543154 ] sdb : sdb1 [ 271.546268 ] sd 6 : 0 : 0 : 0 : [ sdb ] Attached SCSI disk fdisk -l \u3067\u78ba\u8a8d root @zaki - CF - J10YYBHR : ~ # fdisk - l / dev / sdb \u30c7\u30a3\u30b9\u30af / dev / sdb : 1.84 TiB, 2000398934016 \u30d0\u30a4\u30c8, 3907029168 \u30bb\u30af\u30bf Disk model : HD - LDS - A \u5358\u4f4d : \u30bb\u30af\u30bf ( 1 * 512 = 512 \u30d0\u30a4\u30c8) \u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406 / \u7269\u7406) : 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 I / O \u30b5\u30a4\u30ba (\u6700\u5c0f / \u63a8\u5968) : 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u306e\u30bf\u30a4\u30d7 : dos \u30c7\u30a3\u30b9\u30af\u8b58\u5225\u5b50 : 0x0b27d361 \u30c7\u30d0\u30a4\u30b9 \u8d77\u52d5 \u958b\u59cb\u4f4d\u7f6e \u6700\u5f8c\u304b\u3089 \u30bb\u30af\u30bf \u30b5\u30a4\u30ba Id \u30bf\u30a4\u30d7 / dev / sdb1 64 3907029119 3907029056 1.8 T 7 HPFS / NTFS / exFAT","title":"HDD\u7e4b\u3050"},{"location":"Linux/disk/#_5","text":"root @zaki - CF - J10YYBHR : ~ # fdisk / dev / sdb fdisk (util - linux 2.34 ) \u3078\u3088\u3046\u3053\u305d \u3002 \u3053\u3053\u3067\u8a2d\u5b9a\u3057\u305f\u5185\u5bb9\u306f \u3001 \u66f8\u304d\u8fbc\u307f\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u307e\u3067\u30e1\u30e2\u30ea\u306e\u307f\u306b\u4fdd\u6301\u3055\u308c\u307e\u3059 \u3002 \u66f8\u304d\u8fbc\u307f\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u969b\u306f \u3001 \u6ce8\u610f\u3057\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044 \u3002 \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7) : \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): p \u30c7\u30a3\u30b9\u30af /dev/sdb: 1.84 TiB, 2000398934016 \u30d0\u30a4\u30c8, 3907029168 \u30bb\u30af\u30bf Disk model: HD-LDS-A \u5358\u4f4d: \u30bb\u30af\u30bf (1 * 512 = 512 \u30d0\u30a4\u30c8) \u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406 / \u7269\u7406): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 I/O \u30b5\u30a4\u30ba (\u6700\u5c0f / \u63a8\u5968): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u306e\u30bf\u30a4\u30d7: dos \u30c7\u30a3\u30b9\u30af\u8b58\u5225\u5b50: 0x0b27d361 \u30c7\u30d0\u30a4\u30b9 \u8d77\u52d5 \u958b\u59cb\u4f4d\u7f6e \u6700\u5f8c\u304b\u3089 \u30bb\u30af\u30bf \u30b5\u30a4\u30ba Id \u30bf\u30a4\u30d7 /dev/sdb1 64 3907029119 3907029056 1.8T 7 HPFS/NTFS/exFAT \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): d \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3 1 \u3092\u9078\u629e \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3 1 \u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002 \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): p \u30c7\u30a3\u30b9\u30af /dev/sdb: 1.84 TiB, 2000398934016 \u30d0\u30a4\u30c8, 3907029168 \u30bb\u30af\u30bf Disk model: HD-LDS-A \u5358\u4f4d: \u30bb\u30af\u30bf (1 * 512 = 512 \u30d0\u30a4\u30c8) \u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406 / \u7269\u7406): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 I/O \u30b5\u30a4\u30ba (\u6700\u5c0f / \u63a8\u5968): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u306e\u30bf\u30a4\u30d7: dos \u30c7\u30a3\u30b9\u30af\u8b58\u5225\u5b50: 0x0b27d361 \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u304c1\u500b\u3057\u304b\u306a\u3044\u304b\u3089\u304b\u3001 d \u3067\uff7c\uff6d\uff6f\u3068\u6d88\u3048\u305f\u3002","title":"\u65e2\u5b58\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u524a\u9664"},{"location":"Linux/disk/#_6","text":"\u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): n \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30bf\u30a4\u30d7 p \u57fa\u672c\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3 (0 \u30d7\u30e9\u30a4\u30de\u30ea, 0 \u62e1\u5f35, 4 \u7a7a\u304d) e \u62e1\u5f35\u9818\u57df (\u8ad6\u7406\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u304c\u5165\u308a\u307e\u3059) \u9078\u629e (\u65e2\u5b9a\u5024 p): \u65e2\u5b9a\u306e\u56de\u7b54 p \u3067\u3042\u308b\u3082\u306e\u3068\u307f\u306a\u3057\u307e\u3059\u3002 \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u756a\u53f7 (1-4, \u65e2\u5b9a\u5024 1): \u6700\u521d\u306e\u30bb\u30af\u30bf (2048-3907029167, \u65e2\u5b9a\u5024 2048): Last sector, +/-sectors or +/-size{K,M,G,T,P} (2048-3907029167, \u65e2\u5b9a\u5024 3907029167): \u65b0\u3057\u3044\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3 1 \u3092\u30bf\u30a4\u30d7 Linux\u3001\u30b5\u30a4\u30ba 1.8 TiB \u3067\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002 \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): p \u30c7\u30a3\u30b9\u30af /dev/sdb: 1.84 TiB, 2000398934016 \u30d0\u30a4\u30c8, 3907029168 \u30bb\u30af\u30bf Disk model: HD-LDS-A \u5358\u4f4d: \u30bb\u30af\u30bf (1 * 512 = 512 \u30d0\u30a4\u30c8) \u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406 / \u7269\u7406): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 I/O \u30b5\u30a4\u30ba (\u6700\u5c0f / \u63a8\u5968): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u306e\u30bf\u30a4\u30d7: dos \u30c7\u30a3\u30b9\u30af\u8b58\u5225\u5b50: 0x0b27d361 \u30c7\u30d0\u30a4\u30b9 \u8d77\u52d5 \u958b\u59cb\u4f4d\u7f6e \u6700\u5f8c\u304b\u3089 \u30bb\u30af\u30bf \u30b5\u30a4\u30ba Id \u30bf\u30a4\u30d7 /dev/sdb1 2048 3907029167 3907027120 1.8T 83 Linux \u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7):","title":"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u4f5c\u6210"},{"location":"Linux/disk/#_7","text":"\u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7) : w \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u60c5\u5831\u304c\u5909\u66f4\u3055\u308c\u307e\u3057\u305f \u3002 Failed to remove partition 1 from system : \u30c7\u30d0\u30a4\u30b9\u3082\u3057\u304f\u306f\u30ea\u30bd\u30fc\u30b9\u304c\u30d3\u30b8\u30fc\u72b6\u614b\u3067\u3059 Failed to add partition 1 to system : \u30c7\u30d0\u30a4\u30b9\u3082\u3057\u304f\u306f\u30ea\u30bd\u30fc\u30b9\u304c\u30d3\u30b8\u30fc\u72b6\u614b\u3067\u3059 The kernel still uses the old partitions. The new table will be used at the next reboot. \u30c7\u30a3\u30b9\u30af\u3092\u540c\u671f\u3057\u3066\u3044\u307e\u3059 \u3002 root @zaki - CF - J10YYBHR : ~ # \u3042\u30fc\u3001\u81ea\u52d5\u30de\u30a6\u30f3\u30c8\u3055\u308c\u305f\u307e\u307e\u3060\u3063\u305f\uff57\uff57\uff57 reboot \u3057\u3088\u3046\u3002 reboot\u524d root @zaki - CF - J10YYBHR : ~ # fdisk - l / dev / sdb \u30c7\u30a3\u30b9\u30af / dev / sdb : 1.84 TiB, 2000398934016 \u30d0\u30a4\u30c8, 3907029168 \u30bb\u30af\u30bf Disk model : HD - LDS - A \u5358\u4f4d : \u30bb\u30af\u30bf ( 1 * 512 = 512 \u30d0\u30a4\u30c8) \u30bb\u30af\u30bf\u30b5\u30a4\u30ba (\u8ad6\u7406 / \u7269\u7406) : 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 I / O \u30b5\u30a4\u30ba (\u6700\u5c0f / \u63a8\u5968) : 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8 \u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u306e\u30bf\u30a4\u30d7 : dos \u30c7\u30a3\u30b9\u30af\u8b58\u5225\u5b50 : 0x0b27d361 \u30c7\u30d0\u30a4\u30b9 \u8d77\u52d5 \u958b\u59cb\u4f4d\u7f6e \u6700\u5f8c\u304b\u3089 \u30bb\u30af\u30bf \u30b5\u30a4\u30ba Id \u30bf\u30a4\u30d7 / dev / sdb1 2048 3907029167 3907027120 1.8 T 83 Linux","title":"\u66f8\u304d\u8fbc\u307f"},{"location":"Linux/disk/#ext4","text":"mkfs -t ext4 root @zaki - CF - J10YYBHR : ~ # time mkfs - t ext4 / dev / sdb1 mke2fs 1.45.5 ( 07- Jan -2020 ) Creating filesystem with 488378390 4 k blocks and 122101760 inodes Filesystem UUID : fa5897f2 -39 b1 -4 ea4 -937 f - b63b7e34571f Superblock backups stored on blocks : 32768 , 98304 , 163840 , 229376 , 294912 , 819200 , 884736 , 1605632 , 2654208 , 4096000 , 7962624 , 11239424 , 20480000 , 23887872 , 71663616 , 78675968 , 102400000 , 214990848 Allocating group tables : done Writing inode tables : done Creating journal ( 262144 blocks) : done Writing superblocks and filesystem accounting information : done real 0 m16 .078 s user 0 m0 .045 s sys 0 m0 .171 s","title":"ext4\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"Linux/disk/#_8","text":"e2label \u3067\u8a2d\u5b9a\u30fb\u78ba\u8a8d\u3002 root @zaki - CF - J10YYBHR : ~ # e2label / dev / sdb1 \"HD-LDS-A\" root @zaki - CF - J10YYBHR : ~ # e2label / dev / sdb1 HD - LDS - A","title":"\u30e9\u30d9\u30eb\u8a2d\u5b9a"},{"location":"Linux/disk/#lvm","text":"","title":"LVM"},{"location":"Linux/disk/#lv","text":"\u73fe\u5728\u306e\u30b5\u30a4\u30ba\u304b\u3089+10GB\u62e1\u5f35\u3059\u308b\u3002 # lvresize -r -L +10G /dev/mapper/centos-root","title":"LV\u306e\u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u30ea\u30b5\u30a4\u30ba"},{"location":"Linux/disk/#fsck","text":"","title":"fsck"},{"location":"Linux/disk/#clean","text":"-f \u3092\u4ed8\u4e0e fsck.ext4 -f /dev/mapper/ubuntu--vg-ubuntu--lv","title":"clean\u3067\u3082\u5f37\u5236\u30b9\u30ad\u30e3\u30f3"},{"location":"Linux/disk/#fsck_1","text":"shutdown \u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b -F \u3092\u4ed8\u4e0e shutdown -F -r now","title":"\u8d77\u52d5\u6642\u306b\u5f37\u5236fsck"},{"location":"Linux/disk/#mount","text":"","title":"mount"},{"location":"Linux/disk/#cifs","text":"[root@cloud-dev2 ~]# mount -t cifs -o username = zaki,uid = ***,gid = *** //pecorino/HD-LDS-A /mnt/ Password for zaki@//pecorino/HD-LDS-A: uid \u3068 gid \u3082\u6307\u5b9a\u3057\u306a\u3044\u3068owner\u306e\u8a2d\u5b9a\u304c\u3067\u304d\u306a\u3044(mount\u3057\u305f\u6642\u306e\u3082\u306e\u3067\u56fa\u5b9a\u3055\u308c\u308b)","title":"CIFS"},{"location":"Linux/disk/#nfs","text":"mount -t nfs -o rw pecorino:/dev /mnt/","title":"NFS"},{"location":"Linux/disk/#fstab","text":"/dev/mapper/centos-root / xfs defaults 0 1 192.168.0.200:/share /mnt nfs rw 0 0 \u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u5de6\u304b\u3089\u9806\u306b \u30c7\u30d0\u30a4\u30b9 \u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8 \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30bf\u30a4\u30d7 \u30aa\u30d7\u30b7\u30e7\u30f3 dump \u306b\u3088\u308b\u51fa\u529b\u5bfe\u8c61\u30d5\u30e9\u30b0(0:\u5bfe\u8c61\u5916) \u8d77\u52d5\u6642 fsck \u306e\u5bfe\u8c61\u30d5\u30e9\u30b0(0:\u5bfe\u8c61\u5916)","title":"fstab"},{"location":"Linux/ec2/","text":"EC2 \u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d [ec2-user@ip-172-26-10-149 ~]$ cat /etc/system-release Amazon Linux release 2 (Karoo) \u307e\u305f\u306f [ec2-user@ip-172-26-10-149 ~]$ cat /etc/os-release NAME=\"Amazon Linux\" VERSION=\"2\" ID=\"amzn\" ID_LIKE=\"centos rhel fedora\" VERSION_ID=\"2\" PRETTY_NAME=\"Amazon Linux 2\" ANSI_COLOR=\"0;33\" CPE_NAME=\"cpe:2.3:o:amazon:amazon_linux:2\" HOME_URL=\"https://amazonlinux.com/\" cloud-init \u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a #cloud-config password : 'p@ssword' chpasswd : { expire : false } \u8a18\u53f7\u3092\u542b\u3080\u5834\u5408\u306f\u30af\u30a9\u30fc\u30c8\u3059\u308b\u306e\u304c\u7121\u96e3\u3002 expire: false \u306f\u521d\u56de\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u3092\u884c\u308f\u306a\u3044\u3002 ssh\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u8a8d\u8a3c\u8a31\u53ef ssh_pwauth : true \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u8a2d\u5b9a timezone : Asia/Tokyo \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c runcmd : - systemctl disable --now ...","title":"EC2"},{"location":"Linux/ec2/#ec2","text":"","title":"EC2"},{"location":"Linux/ec2/#_1","text":"[ec2-user@ip-172-26-10-149 ~]$ cat /etc/system-release Amazon Linux release 2 (Karoo) \u307e\u305f\u306f [ec2-user@ip-172-26-10-149 ~]$ cat /etc/os-release NAME=\"Amazon Linux\" VERSION=\"2\" ID=\"amzn\" ID_LIKE=\"centos rhel fedora\" VERSION_ID=\"2\" PRETTY_NAME=\"Amazon Linux 2\" ANSI_COLOR=\"0;33\" CPE_NAME=\"cpe:2.3:o:amazon:amazon_linux:2\" HOME_URL=\"https://amazonlinux.com/\"","title":"\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d"},{"location":"Linux/ec2/#cloud-init","text":"","title":"cloud-init"},{"location":"Linux/ec2/#_2","text":"#cloud-config password : 'p@ssword' chpasswd : { expire : false } \u8a18\u53f7\u3092\u542b\u3080\u5834\u5408\u306f\u30af\u30a9\u30fc\u30c8\u3059\u308b\u306e\u304c\u7121\u96e3\u3002 expire: false \u306f\u521d\u56de\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u3092\u884c\u308f\u306a\u3044\u3002","title":"\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a"},{"location":"Linux/ec2/#ssh","text":"ssh_pwauth : true","title":"ssh\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u8a8d\u8a3c\u8a31\u53ef"},{"location":"Linux/ec2/#_3","text":"timezone : Asia/Tokyo","title":"\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u8a2d\u5b9a"},{"location":"Linux/ec2/#_4","text":"runcmd : - systemctl disable --now ...","title":"\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c"},{"location":"Linux/kvm/","text":"KVM \u4e00\u89a7 $ virsh list --all VM\u306e\u8d77\u52d5 $ virsh start <domain-name> \u5b9f\u884c\u4e2dVM\u3078\u30b3\u30f3\u30bd\u30fc\u30eb\u63a5\u7d9a $ virsh console <domain-name> VM(domain)\u540d\u306f list \u3067\u78ba\u8a8d\u3059\u308b\u3002 \u505c\u6b62 \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3059\u308b\u306b\u306f shutdown \u3059\u308b\u3002 $ virsh shutdown <domain-name> \u5f37\u5236\u505c\u6b62\u306f destroy \u3059\u308b\u3002 $ virsh destroy <domain-name> \u81ea\u52d5\u8d77\u52d5 \u6709\u52b9\u5316 $ virsh autostart <domain-name> \u7121\u52b9\u5316 $ virsh autostart --disable <domain-name> \u78ba\u8a8d\u306f virsh dominfo <domain-name> \u304b\u306a\uff1f","title":"KVM"},{"location":"Linux/kvm/#kvm","text":"","title":"KVM"},{"location":"Linux/kvm/#_1","text":"$ virsh list --all","title":"\u4e00\u89a7"},{"location":"Linux/kvm/#vm","text":"$ virsh start <domain-name>","title":"VM\u306e\u8d77\u52d5"},{"location":"Linux/kvm/#vm_1","text":"$ virsh console <domain-name> VM(domain)\u540d\u306f list \u3067\u78ba\u8a8d\u3059\u308b\u3002","title":"\u5b9f\u884c\u4e2dVM\u3078\u30b3\u30f3\u30bd\u30fc\u30eb\u63a5\u7d9a"},{"location":"Linux/kvm/#_2","text":"\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3059\u308b\u306b\u306f shutdown \u3059\u308b\u3002 $ virsh shutdown <domain-name> \u5f37\u5236\u505c\u6b62\u306f destroy \u3059\u308b\u3002 $ virsh destroy <domain-name>","title":"\u505c\u6b62"},{"location":"Linux/kvm/#_3","text":"\u6709\u52b9\u5316 $ virsh autostart <domain-name> \u7121\u52b9\u5316 $ virsh autostart --disable <domain-name> \u78ba\u8a8d\u306f virsh dominfo <domain-name> \u304b\u306a\uff1f","title":"\u81ea\u52d5\u8d77\u52d5"},{"location":"Linux/openssl/","text":"openssl \u79d8\u5bc6\u9375\u4f5c\u6210 RSA\u79d8\u5bc6\u9375 openssl genrsa > private.key \u9375\u9577\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u5f15\u6570\u306b\u6307\u5b9a $ openssl genrsa 4096 > private.key $ openssl rsa -text -noout -in private.key Private-Key: (4096 bit, 2 primes) : : \u8a3c\u660e\u66f8\u4f5c\u6210 \u30d7\u30e9\u30a4\u30d9\u30fc\u30c8CA\u4f5c\u6210\u3068\u7f72\u540d \u203b OpenSSL 3 \u3067\u306f openssl genrsa \u306fdeprecated\u306b\u306a\u3063\u3066\u3044\u308b \u306a\u3063\u3066\u306a\u304b\u3063\u305f genrsa is not really deprecated although documented so \u00b7 Issue #21055 \u00b7 openssl/openssl genpkey \u4f7f\u3046\u5834\u5408\u306f\u4ee5\u4e0b\u3002 # key\u4f5c\u6210 openssl genpkey -algorithm rsa -out ca.key # crt\u4f5c\u6210 openssl req -new -x509 -days 3650 -key ca.key -subj \"/CN=example.org/\" -out ca.crt csr\u3092\u4f5c\u3089\u305a\u306b\u4e00\u6c17\u306bcrt\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u306f\u2191\u306e\u901a\u308a\u3002 csr\u3082\u4f5c\u308b\u306b\u306f\u4ee5\u4e0b(\u751f\u6210\u60c5\u5831\u306b\u82e5\u5e72\u306e\u5dee\u7570\u306f\u3042\u308b\u3051\u3069) # csr\u4f5c\u6210 openssl req -new -key ca.key -subj \"/CN=example.org/\" -out ca.csr # crt\u4f5c\u6210 openssl x509 -req -in ca.csr -signkey ca.key -days 3650 -out ca.crt \u4f5c\u6210\u3057\u305fCA\u3067\u7f72\u540d\u3057\u305f\u8a3c\u660e\u66f8\u4f5c\u6210 openssl req -newkey rsa -nodes -sha256 -keyout server.key -x509 -days 365 -out server.crt -subj '/CN=example.org/' -addext \"subjectAltName=DNS:example.org,DNS:*.example.org\" -CA ca.crt -CAkey ca.key \u30aa\u30ec\u30aa\u30ec\u8a3c\u660e\u66f8\u4f5c\u6210(CommonName) openssl req -newkey rsa:4096 -nodes -sha256 -keyout /path/to/example.org.key -x509 -days 365 -out /path/to/example.org.crt -subj '/CN=example.org/' Alternative Name\u6307\u5b9a\u306e\u30aa\u30ec\u30aa\u30ec\u8a3c\u660e\u66f8 appserv \u3068 appserv.example.org \u3044\u3046\u540d\u524d\u306eSAN\u3092\u8ffd\u52a0\u3059\u308b\u5834\u5408\u3002 openssl req -newkey rsa:4096 -nodes -sha256 -keyout server.key -x509 -days 365 -out server.crt -subj '/C=JP/' -addext \"subjectAltName=DNS:appserv,DNS:appserv.example.org\" \u56fd\u3084\u90fd\u9053\u5e9c\u770c\u7b49\u306e\u6307\u5b9a openssl req ... -subj '/C=JP/ST=Tokyo/L=Daiba/CN=example.org' C(Country Name): \u56fd(2\u6587\u5b57) ST(State or Province Name): \u90fd\u9053\u5e9c\u770c L(Locality Name): \u5e02\u533a\u753a\u6751 O(Organization Name): \u7d44\u7e54\u540d OU(Organization Unit Name): \u90e8\u9580\u540d CN(Common Name): FQDN \u30d5\u30a1\u30a4\u30eb\u5185\u5bb9\u78ba\u8a8d RSA\u79d8\u5bc6\u9375\u306e\u78ba\u8a8d -----BEGIN RSA PRIVATE KEY----- MIIJKAIBAAKCAgEAntBW2JpzhtCgXGjKsR........ : : ..... -----END RSA PRIVATE KEY----- \u3053\u3093\u306a\u5185\u5bb9\u306e\u300cBEGIN RSA PRIVATE KEY\u300d\u3067\u59cb\u307e\u3063\u3066END\u307e\u3067\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u3067\u78ba\u8a8d\u3002 # openssl rsa -text -noout -in account.key CSR(\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42)\u306e\u78ba\u8a8d -----BEGIN CERTIFICATE REQUEST----- MIIEkDCCAngCAQAwHDEaMB........ : : ..... -----END CERTIFICATE REQUEST----- \u300cBEGIN CERTIFICATE REQUEST\u300d\u3067\u59cb\u307e\u3063\u3066END\u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u3067\u78ba\u8a8d\u3002 # openssl req -text -noout -in server.csr \u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d -----BEGIN CERTIFICATE----- MIIGKTCCBRGg....... : : .... -----END CERTIFICATE----- \u300cBEGIN CERTIFICATE\u300d\u3067\u59cb\u307e\u3063\u3066END\u3067\u7d42\u308f\u3063\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3001x509\u3092\u6307\u5b9a\u3057\u3066\u78ba\u8a8d\u3002 # openssl x509 -text -noout -in server.crt","title":"openssl"},{"location":"Linux/openssl/#openssl","text":"","title":"openssl"},{"location":"Linux/openssl/#_1","text":"","title":"\u79d8\u5bc6\u9375\u4f5c\u6210"},{"location":"Linux/openssl/#rsa","text":"openssl genrsa > private.key \u9375\u9577\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u5f15\u6570\u306b\u6307\u5b9a $ openssl genrsa 4096 > private.key $ openssl rsa -text -noout -in private.key Private-Key: (4096 bit, 2 primes) : :","title":"RSA\u79d8\u5bc6\u9375"},{"location":"Linux/openssl/#_2","text":"","title":"\u8a3c\u660e\u66f8\u4f5c\u6210"},{"location":"Linux/openssl/#ca","text":"\u203b OpenSSL 3 \u3067\u306f openssl genrsa \u306fdeprecated\u306b\u306a\u3063\u3066\u3044\u308b \u306a\u3063\u3066\u306a\u304b\u3063\u305f genrsa is not really deprecated although documented so \u00b7 Issue #21055 \u00b7 openssl/openssl genpkey \u4f7f\u3046\u5834\u5408\u306f\u4ee5\u4e0b\u3002 # key\u4f5c\u6210 openssl genpkey -algorithm rsa -out ca.key # crt\u4f5c\u6210 openssl req -new -x509 -days 3650 -key ca.key -subj \"/CN=example.org/\" -out ca.crt csr\u3092\u4f5c\u3089\u305a\u306b\u4e00\u6c17\u306bcrt\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u306f\u2191\u306e\u901a\u308a\u3002 csr\u3082\u4f5c\u308b\u306b\u306f\u4ee5\u4e0b(\u751f\u6210\u60c5\u5831\u306b\u82e5\u5e72\u306e\u5dee\u7570\u306f\u3042\u308b\u3051\u3069) # csr\u4f5c\u6210 openssl req -new -key ca.key -subj \"/CN=example.org/\" -out ca.csr # crt\u4f5c\u6210 openssl x509 -req -in ca.csr -signkey ca.key -days 3650 -out ca.crt \u4f5c\u6210\u3057\u305fCA\u3067\u7f72\u540d\u3057\u305f\u8a3c\u660e\u66f8\u4f5c\u6210 openssl req -newkey rsa -nodes -sha256 -keyout server.key -x509 -days 365 -out server.crt -subj '/CN=example.org/' -addext \"subjectAltName=DNS:example.org,DNS:*.example.org\" -CA ca.crt -CAkey ca.key","title":"\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8CA\u4f5c\u6210\u3068\u7f72\u540d"},{"location":"Linux/openssl/#commonname","text":"openssl req -newkey rsa:4096 -nodes -sha256 -keyout /path/to/example.org.key -x509 -days 365 -out /path/to/example.org.crt -subj '/CN=example.org/'","title":"\u30aa\u30ec\u30aa\u30ec\u8a3c\u660e\u66f8\u4f5c\u6210(CommonName)"},{"location":"Linux/openssl/#alternative-name","text":"appserv \u3068 appserv.example.org \u3044\u3046\u540d\u524d\u306eSAN\u3092\u8ffd\u52a0\u3059\u308b\u5834\u5408\u3002 openssl req -newkey rsa:4096 -nodes -sha256 -keyout server.key -x509 -days 365 -out server.crt -subj '/C=JP/' -addext \"subjectAltName=DNS:appserv,DNS:appserv.example.org\"","title":"Alternative Name\u6307\u5b9a\u306e\u30aa\u30ec\u30aa\u30ec\u8a3c\u660e\u66f8"},{"location":"Linux/openssl/#_3","text":"openssl req ... -subj '/C=JP/ST=Tokyo/L=Daiba/CN=example.org' C(Country Name): \u56fd(2\u6587\u5b57) ST(State or Province Name): \u90fd\u9053\u5e9c\u770c L(Locality Name): \u5e02\u533a\u753a\u6751 O(Organization Name): \u7d44\u7e54\u540d OU(Organization Unit Name): \u90e8\u9580\u540d CN(Common Name): FQDN","title":"\u56fd\u3084\u90fd\u9053\u5e9c\u770c\u7b49\u306e\u6307\u5b9a"},{"location":"Linux/openssl/#_4","text":"","title":"\u30d5\u30a1\u30a4\u30eb\u5185\u5bb9\u78ba\u8a8d"},{"location":"Linux/openssl/#rsa_1","text":"-----BEGIN RSA PRIVATE KEY----- MIIJKAIBAAKCAgEAntBW2JpzhtCgXGjKsR........ : : ..... -----END RSA PRIVATE KEY----- \u3053\u3093\u306a\u5185\u5bb9\u306e\u300cBEGIN RSA PRIVATE KEY\u300d\u3067\u59cb\u307e\u3063\u3066END\u307e\u3067\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u3067\u78ba\u8a8d\u3002 # openssl rsa -text -noout -in account.key","title":"RSA\u79d8\u5bc6\u9375\u306e\u78ba\u8a8d"},{"location":"Linux/openssl/#csr","text":"-----BEGIN CERTIFICATE REQUEST----- MIIEkDCCAngCAQAwHDEaMB........ : : ..... -----END CERTIFICATE REQUEST----- \u300cBEGIN CERTIFICATE REQUEST\u300d\u3067\u59cb\u307e\u3063\u3066END\u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u3067\u78ba\u8a8d\u3002 # openssl req -text -noout -in server.csr","title":"CSR(\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42)\u306e\u78ba\u8a8d"},{"location":"Linux/openssl/#_5","text":"-----BEGIN CERTIFICATE----- MIIGKTCCBRGg....... : : .... -----END CERTIFICATE----- \u300cBEGIN CERTIFICATE\u300d\u3067\u59cb\u307e\u3063\u3066END\u3067\u7d42\u308f\u3063\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3001x509\u3092\u6307\u5b9a\u3057\u3066\u78ba\u8a8d\u3002 # openssl x509 -text -noout -in server.crt","title":"\u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d"},{"location":"Linux/package/","text":"\u30d1\u30c3\u30b1\u30fc\u30b8\u64cd\u4f5c \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u4e00\u89a7\u51fa\u529b $ dpkg -l # debian $ rpm -qa # redhat $ apk info # alpine \u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u3042\u308c\u3053\u308c / [cygwin][debian][redhat][Solaris][command] | \u622f\u8853\u8005\u306e\u65e5\u8a18 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u30d1\u30c3\u30b1\u30fc\u30b8 foo \u306b\u542b\u307e\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7 $ dpkg -L foo # debian $ rpm -ql foo # redhat $ apk manifest foo # alpine \u30d5\u30a1\u30a4\u30eb /foo/bar \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8 $ dpkg -S /foo/bar # debian $ rpm -qf /foo/bar # redhat \u66f4\u65b0\u78ba\u8a8d yum $ yum check-update \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u4e00\u89a7 yum update\u3059\u308b\u3068\u304d\u306b\u7279\u5b9a\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\u5bfe\u8c61\u5916\u306b\u3059\u308b - zaki work log [ root@rhel8 ~ ] # yum search httpd --showduplicates Updating Subscription Management repositories. \u30e1\u30bf\u30c7\u30fc\u30bf\u306e\u671f\u9650\u5207\u308c\u306e\u6700\u7d42\u78ba\u8a8d : 0 : 24 : 27 \u6642\u9593\u524d\u306e 2021 \u5e7406\u670821\u65e5 21 \u664236\u520650\u79d2 \u306b\u5b9f\u65bd\u3057\u307e\u3057\u305f \u3002 ================================================ \u540d\u524d \u5b8c\u5168\u4e00\u81f4 : httpd ================================================= httpd -2.4.37-39. module + el8 .4.0+9658+ b87b2deb.x86_64 : Apache HTTP Server httpd -2.4.37-10. module + el8 +2764+7127e69 e.x86_64 : Apache HTTP Server httpd -2.4.37-11. module + el8 .0.0+2969+90015743. x86_64 : Apache HTTP Server httpd -2.4.37-16. module + el8 .1.0+4134+ e6bad0ed.x86_64 : Apache HTTP Server httpd -2.4.37-12. module + el8 .0.0+4096+ eb40e6da.x86_64 : Apache HTTP Server httpd -2.4.37-21. module + el8 .2.0+5008+ cca404a3.x86_64 : Apache HTTP Server httpd -2.4.37-30. module + el8 .3.0+7001+0766 b9e7.x86_64 : Apache HTTP Server httpd -2.4.37-39. module + el8 .4.0+9658+ b87b2deb.x86_64 : Apache HTTP Server : : dnf \u3010 dnf \u3011\u30b3\u30de\u30f3\u30c9\uff08\u5fdc\u7528\u7de8\u305d\u306e7\uff09\u2015\u2015\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3059\u308b\uff1aLinux\u57fa\u672c\u30b3\u30de\u30f3\u30c9Tips\uff08375\uff09 - \uff20IT \u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7 \u6709\u52b9\u306a\u3082\u306e\u306e\u4e00\u89a7\u3002 -v \u4ed8\u3051\u308b\u3068\u8a73\u7d30 # dnf repolist \u7121\u52b9\u306a\u3082\u306e\u306e\u4e00\u89a7\u3002 # dnf repolist --disabled \u6307\u5b9a\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u63d0\u4f9b\u3055\u308c\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u4e00\u89a7 dnf repository-packages <\u30ea\u30dd\u30b8\u30c8\u30ea\u540d> list # dnf repository - packages ansible -2.9- for - rhel -8- x86_64 - rpms list Updating Subscription Management repositories. \u30e1\u30bf\u30c7\u30fc\u30bf\u306e\u671f\u9650\u5207\u308c\u306e\u6700\u7d42\u78ba\u8a8d: 0 : 07 : 08 \u6642\u9593\u524d\u306e 2021 \u5e7408\u670808\u65e5 12 \u664200\u520634\u79d2 \u306b\u5b9f\u65bd\u3057\u307e\u3057\u305f \u3002 \u5229\u7528\u53ef\u80fd\u306a\u30d1\u30c3\u30b1\u30fc\u30b8 ansible.noarch 2.9.24-1 .el8ae ansible -2.9- for - rhel -8- x86_64 - rpms ansible - test.noarch 2.9.24-1 .el8ae ansible -2.9- for - rhel -8- x86_64 - rpms sshpass.x86_64 1.06-3 .el8ae ansible -2.9- for - rhel -8- x86_64 - rpms \u6307\u5b9a\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u6709\u52b9\u5316/\u7121\u52b9\u5316 # dnf config-manager --enable ansible-2.9-for-rhel-8-x86_64-rpms \u3053\u3046\u306a\u308b [ root@rhel8 ~ ] # dnf config - manager --enable ansible-2.9-for-rhel-8-x86_64-rpms Updating Subscription Management repositories. [ root@rhel8 ~ ] # dnf repolist Updating Subscription Management repositories. repo id repo \u306e\u540d\u524d ansible -2.9- for - rhel -8- x86_64 - rpms Red Hat Ansible Engine 2.9 for RHEL 8 x86_64 (RPMs) rhel -8- for - x86_64 - appstream - rpms Red Hat Enterprise Linux 8 for x86_64 - AppStream (RPMs) rhel -8- for - x86_64 - baseos - rpms Red Hat Enterprise Linux 8 for x86_64 - BaseOS (RPMs) \u7121\u52b9\u5316\u306f --disable \u3067\u3002 # dnf config-manager --disable ansible-2.9-for-rhel-8-x86_64-rpms \u5f37\u5236\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u81ea\u52d5\u5316\u3059\u308b\u3068\u304d\u3068\u304b dnf install -y <package-name> rpm\u30d5\u30a1\u30a4\u30eb\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 dnf install --downloadonly --destdir /path/to <package-name> \u30db\u30b9\u30c8\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u5834\u5408\u306f\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u306a\u3044\u305f\u3081 --installroot \u3092\u4f75\u7528\u3059\u308b\u3002 \u30ea\u30dd\u30b8\u30c8\u30ea\u8ffd\u52a0 dnf config-manager addrepo --from-repofile=https://rpm.example.org/rpm.repo \u4ee5\u524d\u306f dnf config-manager --add-repo https://rpm.example.org/rpm.repo \u3060\u3063\u305f\u304c\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u5909\u66f4\u3055\u308c\u305f\u3002 yum \u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7 \u6709\u52b9\u306a\u3082\u306e\u4e00\u89a7 # yum repolist \u7121\u52b9\u306a\u3082\u306e\u4e00\u89a7 # yum repolist disabled \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u6709\u52b9\u5316 # yum-config-manager --enable ol7_developer_EPEL \u5f15\u6570\u306b\u6307\u5b9a\u3059\u308b\u306e\u306f\u30ea\u30dd\u30b8\u30c8\u30eaID\u3060\u3051\u3069\u3001\u30ea\u30b9\u30c8\u6642\u306b /arch \u304c\u4ed8\u3044\u3066\u308b\u5834\u5408\u306f\u305d\u308c\u306f\u9664\u304f\u3002 apt option \u3010 apt \u3011\u30b3\u30de\u30f3\u30c9\uff08\u57fa\u790e\u7de8\uff09\u2015\u2015\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\uff1aLinux\u57fa\u672c\u30b3\u30de\u30f3\u30c9Tips\uff08139\uff09 - \uff20IT apt - Is \"upgrade --with-new-pkgs\" safer than \"dist-upgrade\"? - Ask Ubuntu apt line\u95a2\u9023 APT \u306e\u8a2d\u5b9a (/etc/apt/sources.list) \u3092\u3061\u3083\u3093\u3068\u7406\u89e3\u3059\u308b - \u304f\u3058\u3089\u306b\u3063\u304d++ Ubuntu\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u306e\u30e1\u30e2 - \u84bc\u306e\u738b\u5ea7\u30fb\u88cf\u53e3 \u5f37\u5236\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u81ea\u52d5\u5316\u3059\u308b\u3068\u304d\u3068\u304b apt-get install -y <package-name> apk \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb # apk add squid \u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb # apk del squid \u30ea\u30dd\u30b8\u30c8\u30ea Debian -- \u30d1\u30c3\u30b1\u30fc\u30b8 Ubuntu \u2013 Ubuntu \u30d1\u30c3\u30b1\u30fc\u30b8\u691c\u7d22 Oracle Linux Yum Server Alpine Linux packages","title":"\u30d1\u30c3\u30b1\u30fc\u30b8\u64cd\u4f5c"},{"location":"Linux/package/#_1","text":"","title":"\u30d1\u30c3\u30b1\u30fc\u30b8\u64cd\u4f5c"},{"location":"Linux/package/#_2","text":"$ dpkg -l # debian $ rpm -qa # redhat $ apk info # alpine \u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u3042\u308c\u3053\u308c / [cygwin][debian][redhat][Solaris][command] | \u622f\u8853\u8005\u306e\u65e5\u8a18","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u4e00\u89a7\u51fa\u529b"},{"location":"Linux/package/#foo","text":"$ dpkg -L foo # debian $ rpm -ql foo # redhat $ apk manifest foo # alpine","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u30d1\u30c3\u30b1\u30fc\u30b8 foo \u306b\u542b\u307e\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7"},{"location":"Linux/package/#foobar","text":"$ dpkg -S /foo/bar # debian $ rpm -qf /foo/bar # redhat","title":"\u30d5\u30a1\u30a4\u30eb /foo/bar \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8"},{"location":"Linux/package/#_3","text":"","title":"\u66f4\u65b0\u78ba\u8a8d"},{"location":"Linux/package/#yum","text":"$ yum check-update","title":"yum"},{"location":"Linux/package/#_4","text":"yum update\u3059\u308b\u3068\u304d\u306b\u7279\u5b9a\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\u5bfe\u8c61\u5916\u306b\u3059\u308b - zaki work log [ root@rhel8 ~ ] # yum search httpd --showduplicates Updating Subscription Management repositories. \u30e1\u30bf\u30c7\u30fc\u30bf\u306e\u671f\u9650\u5207\u308c\u306e\u6700\u7d42\u78ba\u8a8d : 0 : 24 : 27 \u6642\u9593\u524d\u306e 2021 \u5e7406\u670821\u65e5 21 \u664236\u520650\u79d2 \u306b\u5b9f\u65bd\u3057\u307e\u3057\u305f \u3002 ================================================ \u540d\u524d \u5b8c\u5168\u4e00\u81f4 : httpd ================================================= httpd -2.4.37-39. module + el8 .4.0+9658+ b87b2deb.x86_64 : Apache HTTP Server httpd -2.4.37-10. module + el8 +2764+7127e69 e.x86_64 : Apache HTTP Server httpd -2.4.37-11. module + el8 .0.0+2969+90015743. x86_64 : Apache HTTP Server httpd -2.4.37-16. module + el8 .1.0+4134+ e6bad0ed.x86_64 : Apache HTTP Server httpd -2.4.37-12. module + el8 .0.0+4096+ eb40e6da.x86_64 : Apache HTTP Server httpd -2.4.37-21. module + el8 .2.0+5008+ cca404a3.x86_64 : Apache HTTP Server httpd -2.4.37-30. module + el8 .3.0+7001+0766 b9e7.x86_64 : Apache HTTP Server httpd -2.4.37-39. module + el8 .4.0+9658+ b87b2deb.x86_64 : Apache HTTP Server : :","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u4e00\u89a7"},{"location":"Linux/package/#dnf","text":"\u3010 dnf \u3011\u30b3\u30de\u30f3\u30c9\uff08\u5fdc\u7528\u7de8\u305d\u306e7\uff09\u2015\u2015\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3059\u308b\uff1aLinux\u57fa\u672c\u30b3\u30de\u30f3\u30c9Tips\uff08375\uff09 - \uff20IT","title":"dnf"},{"location":"Linux/package/#_5","text":"\u6709\u52b9\u306a\u3082\u306e\u306e\u4e00\u89a7\u3002 -v \u4ed8\u3051\u308b\u3068\u8a73\u7d30 # dnf repolist \u7121\u52b9\u306a\u3082\u306e\u306e\u4e00\u89a7\u3002 # dnf repolist --disabled","title":"\u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7"},{"location":"Linux/package/#_6","text":"dnf repository-packages <\u30ea\u30dd\u30b8\u30c8\u30ea\u540d> list # dnf repository - packages ansible -2.9- for - rhel -8- x86_64 - rpms list Updating Subscription Management repositories. \u30e1\u30bf\u30c7\u30fc\u30bf\u306e\u671f\u9650\u5207\u308c\u306e\u6700\u7d42\u78ba\u8a8d: 0 : 07 : 08 \u6642\u9593\u524d\u306e 2021 \u5e7408\u670808\u65e5 12 \u664200\u520634\u79d2 \u306b\u5b9f\u65bd\u3057\u307e\u3057\u305f \u3002 \u5229\u7528\u53ef\u80fd\u306a\u30d1\u30c3\u30b1\u30fc\u30b8 ansible.noarch 2.9.24-1 .el8ae ansible -2.9- for - rhel -8- x86_64 - rpms ansible - test.noarch 2.9.24-1 .el8ae ansible -2.9- for - rhel -8- x86_64 - rpms sshpass.x86_64 1.06-3 .el8ae ansible -2.9- for - rhel -8- x86_64 - rpms","title":"\u6307\u5b9a\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u63d0\u4f9b\u3055\u308c\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u4e00\u89a7"},{"location":"Linux/package/#_7","text":"# dnf config-manager --enable ansible-2.9-for-rhel-8-x86_64-rpms \u3053\u3046\u306a\u308b [ root@rhel8 ~ ] # dnf config - manager --enable ansible-2.9-for-rhel-8-x86_64-rpms Updating Subscription Management repositories. [ root@rhel8 ~ ] # dnf repolist Updating Subscription Management repositories. repo id repo \u306e\u540d\u524d ansible -2.9- for - rhel -8- x86_64 - rpms Red Hat Ansible Engine 2.9 for RHEL 8 x86_64 (RPMs) rhel -8- for - x86_64 - appstream - rpms Red Hat Enterprise Linux 8 for x86_64 - AppStream (RPMs) rhel -8- for - x86_64 - baseos - rpms Red Hat Enterprise Linux 8 for x86_64 - BaseOS (RPMs) \u7121\u52b9\u5316\u306f --disable \u3067\u3002 # dnf config-manager --disable ansible-2.9-for-rhel-8-x86_64-rpms","title":"\u6307\u5b9a\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u6709\u52b9\u5316/\u7121\u52b9\u5316"},{"location":"Linux/package/#_8","text":"\u81ea\u52d5\u5316\u3059\u308b\u3068\u304d\u3068\u304b dnf install -y <package-name>","title":"\u5f37\u5236\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Linux/package/#rpm","text":"dnf install --downloadonly --destdir /path/to <package-name> \u30db\u30b9\u30c8\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u5834\u5408\u306f\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u306a\u3044\u305f\u3081 --installroot \u3092\u4f75\u7528\u3059\u308b\u3002","title":"rpm\u30d5\u30a1\u30a4\u30eb\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"},{"location":"Linux/package/#_9","text":"dnf config-manager addrepo --from-repofile=https://rpm.example.org/rpm.repo \u4ee5\u524d\u306f dnf config-manager --add-repo https://rpm.example.org/rpm.repo \u3060\u3063\u305f\u304c\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u5909\u66f4\u3055\u308c\u305f\u3002","title":"\u30ea\u30dd\u30b8\u30c8\u30ea\u8ffd\u52a0"},{"location":"Linux/package/#yum_1","text":"","title":"yum"},{"location":"Linux/package/#_10","text":"\u6709\u52b9\u306a\u3082\u306e\u4e00\u89a7 # yum repolist \u7121\u52b9\u306a\u3082\u306e\u4e00\u89a7 # yum repolist disabled","title":"\u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7"},{"location":"Linux/package/#_11","text":"# yum-config-manager --enable ol7_developer_EPEL \u5f15\u6570\u306b\u6307\u5b9a\u3059\u308b\u306e\u306f\u30ea\u30dd\u30b8\u30c8\u30eaID\u3060\u3051\u3069\u3001\u30ea\u30b9\u30c8\u6642\u306b /arch \u304c\u4ed8\u3044\u3066\u308b\u5834\u5408\u306f\u305d\u308c\u306f\u9664\u304f\u3002","title":"\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u6709\u52b9\u5316"},{"location":"Linux/package/#apt","text":"option \u3010 apt \u3011\u30b3\u30de\u30f3\u30c9\uff08\u57fa\u790e\u7de8\uff09\u2015\u2015\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\uff1aLinux\u57fa\u672c\u30b3\u30de\u30f3\u30c9Tips\uff08139\uff09 - \uff20IT apt - Is \"upgrade --with-new-pkgs\" safer than \"dist-upgrade\"? - Ask Ubuntu apt line\u95a2\u9023 APT \u306e\u8a2d\u5b9a (/etc/apt/sources.list) \u3092\u3061\u3083\u3093\u3068\u7406\u89e3\u3059\u308b - \u304f\u3058\u3089\u306b\u3063\u304d++ Ubuntu\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u306e\u30e1\u30e2 - \u84bc\u306e\u738b\u5ea7\u30fb\u88cf\u53e3","title":"apt"},{"location":"Linux/package/#_12","text":"\u81ea\u52d5\u5316\u3059\u308b\u3068\u304d\u3068\u304b apt-get install -y <package-name>","title":"\u5f37\u5236\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Linux/package/#apk","text":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb # apk add squid \u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb # apk del squid","title":"apk"},{"location":"Linux/package/#_13","text":"Debian -- \u30d1\u30c3\u30b1\u30fc\u30b8 Ubuntu \u2013 Ubuntu \u30d1\u30c3\u30b1\u30fc\u30b8\u691c\u7d22 Oracle Linux Yum Server Alpine Linux packages","title":"\u30ea\u30dd\u30b8\u30c8\u30ea"},{"location":"Linux/raspberrypi/","text":"Raspberry Pi \u30ed\u30b0 rsyslog \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u5165\u3063\u3066\u306a\u3044\u306e\u3067 /var/log/syslog \u306f\u7121\u3044\u3002 sudo apt-get install rsyslog \u3059\u308c\u3070\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u3002 rsyslog\u304c\u7121\u304f\u3066\u3082 journalctl \u3067\u30ed\u30b0\u306f\u78ba\u8a8d\u3067\u304d\u308b\u3002 \u72b6\u614b\u53d6\u5f97 \u672c\u4f53\u30e2\u30c7\u30eb\u540d\u306e\u78ba\u8a8d zaki@rasp5-01:~ $ cat /proc/device-tree/model Raspberry Pi 5 Model B Rev 1.0 OS\u78ba\u8a8d lsb_release -a \u3092\u5b9f\u884c zaki@rasp4-01:~ $ lsb_release -a No LSB modules are available. Distributor ID: Raspbian Description: Raspbian GNU/Linux 11 (bullseye) Release: 11 Codename: bullseye zaki@rasp5-01:~ $ lsb_release -a No LSB modules are available. Distributor ID: Debian Description: Debian GNU/Linux 12 (bookworm) Release: 12 Codename: bookworm \u6e29\u5ea6 zaki@rasp4-01:~ $ vcgencmd measure_temp temp=44.3'C","title":"Raspberry Pi"},{"location":"Linux/raspberrypi/#raspberry-pi","text":"","title":"Raspberry Pi"},{"location":"Linux/raspberrypi/#_1","text":"","title":"\u30ed\u30b0"},{"location":"Linux/raspberrypi/#rsyslog","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u5165\u3063\u3066\u306a\u3044\u306e\u3067 /var/log/syslog \u306f\u7121\u3044\u3002 sudo apt-get install rsyslog \u3059\u308c\u3070\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u3002 rsyslog\u304c\u7121\u304f\u3066\u3082 journalctl \u3067\u30ed\u30b0\u306f\u78ba\u8a8d\u3067\u304d\u308b\u3002","title":"rsyslog"},{"location":"Linux/raspberrypi/#_2","text":"","title":"\u72b6\u614b\u53d6\u5f97"},{"location":"Linux/raspberrypi/#_3","text":"zaki@rasp5-01:~ $ cat /proc/device-tree/model Raspberry Pi 5 Model B Rev 1.0","title":"\u672c\u4f53\u30e2\u30c7\u30eb\u540d\u306e\u78ba\u8a8d"},{"location":"Linux/raspberrypi/#os","text":"lsb_release -a \u3092\u5b9f\u884c zaki@rasp4-01:~ $ lsb_release -a No LSB modules are available. Distributor ID: Raspbian Description: Raspbian GNU/Linux 11 (bullseye) Release: 11 Codename: bullseye zaki@rasp5-01:~ $ lsb_release -a No LSB modules are available. Distributor ID: Debian Description: Debian GNU/Linux 12 (bookworm) Release: 12 Codename: bookworm","title":"OS\u78ba\u8a8d"},{"location":"Linux/raspberrypi/#_4","text":"zaki@rasp4-01:~ $ vcgencmd measure_temp temp=44.3'C","title":"\u6e29\u5ea6"},{"location":"Linux/rhel/","text":"RHEL \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u66f4\u65b0 \u671f\u9650\u304c\u5207\u308c\u305f\u5834\u5408\u306f\u3001 Red Hat Developer \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u66f4\u65b0\u3055\u308c\u308b\u3002\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u5229\u7528\u8a31\u8afe\u306e\u78ba\u8a8d\u304c\u3042\u308b\u3002 \u305d\u306e\u5f8c\u306f Red Hat \u30ab\u30b9\u30bf\u30de\u30fc\u30dd\u30fc\u30bf\u30eb \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u30a4\u30e1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306a\u3069\u5229\u7528\u3067\u304d\u308b\u3002 \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3 \u5236\u9650\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u74b0\u5883\u306eRHEL7\u3067proxy\u7d4c\u7531\u3067\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u767b\u9332\u3068Docker\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb - zaki work log \u4ee5\u4e0b\u3067\u767b\u9332\u3068\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u5272\u308a\u5f53\u3066\u3092\u307e\u3068\u3081\u3066\u3067\u304d\u308b\u3002 # subscription-manager register --auto-attach \u767b\u9332\u306e\u307f\u306f\u4ee5\u4e0b\u3002\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u5bfe\u8a71\u7684\u306b\u5165\u529b\u3059\u308b\u3002 # subscription-manager register \u767b\u9332\u5f8c\u306e\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u5272\u308a\u5f53\u3066\u306f\u4ee5\u4e0b\u3002 # subscription-manager attach \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u5272\u308a\u5f53\u3066\u6642\u306bpool ID\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u3002 # subscription-manager attach --pool = **** \u5229\u7528\u53ef\u80fd\u306a\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d # subscription-manager list --available \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u72b6\u614b # subscription-manager repos --list-enabled \u5229\u7528\u53ef\u80fd\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u30ea\u30dd\u30b8\u30c8\u30ea\u306f\u4ee5\u4e0b # subscription-manager repos --list-disabled package RHEL8\u306bEPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0 EPEL8\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u3002\u4f7f\u3044\u59cb\u3081\u307e\u3057\u3087\u3046\u3002 - \u8d64\u5e3d\u30a8\u30f3\u30b8\u30cb\u30a2\u30d6\u30ed\u30b0 EPEL - Fedora Project Wiki RHEL8\u7528\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3059\u308b [zaki@rhel8-node ~]$ sudo dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm Updating Subscription Management repositories. Red Hat Enterprise Linux 8 for x86_64 - BaseOS (RPMs) 13 kB/s | 4.1 kB 00:00 Red Hat Enterprise Linux 8 for x86_64 - AppStream (RPMs) 19 kB/s | 4.5 kB 00:00 Red Hat Enterprise Linux 8 for x86_64 - AppStream (RPMs) 6.5 MB/s | 31 MB 00:04 epel-release-latest-8.noarch.rpm 30 kB/s | 23 kB 00:00 \u4f9d\u5b58\u95a2\u4fc2\u304c\u89e3\u6c7a\u3057\u307e\u3057\u305f\u3002 ======================================================================================================== \u30d1\u30c3\u30b1\u30fc\u30b8 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30fc \u30d0\u30fc\u30b8\u30e7\u30f3 \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc \u30b5\u30a4\u30ba ======================================================================================================== \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: epel-release noarch 8-11.el8 @commandline 23 k \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u6982\u8981 ======================================================================================================== \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb 1 \u30d1\u30c3\u30b1\u30fc\u30b8 \u5408\u8a08\u30b5\u30a4\u30ba: 23 k \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e\u30b5\u30a4\u30ba: 35 k \u3053\u308c\u3067\u3088\u308d\u3057\u3044\u3067\u3059\u304b? [y/N]: y \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9: \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u4e2d \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002 \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u4e2d \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002 \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u4e2d \u6e96\u5099 : 1/1 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e2d : epel-release-8-11.el8.noarch 1/1 scriptlet\u306e\u5b9f\u884c\u4e2d: epel-release-8-11.el8.noarch 1/1 \u691c\u8a3c : epel-release-8-11.el8.noarch 1/1 Installed products updated. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f: epel-release-8-11.el8.noarch \u5b8c\u4e86\u3057\u307e\u3057\u305f! [zaki@rhel8-node ~]$ [zaki@rhel8-node ~]$ ls -l /etc/yum.repos.d/ \u5408\u8a08 168 -rw-r--r--. 1 root root 1480 6\u6708 8 09:29 epel-modular.repo -rw-r--r--. 1 root root 1562 6\u6708 8 09:29 epel-playground.repo -rw-r--r--. 1 root root 1579 6\u6708 8 09:29 epel-testing-modular.repo -rw-r--r--. 1 root root 1516 6\u6708 8 09:29 epel-testing.repo -rw-r--r--. 1 root root 1417 6\u6708 8 09:29 epel.repo -rw-r--r--. 1 root root 149513 7\u6708 2 19:58 redhat.repo [zaki@rhel8-node ~]$ sudo dnf search sshpass Updating Subscription Management repositories. Extra Packages for Enterprise Linux Modular 8 - x86_64 652 kB/s | 798 kB 00:01 Extra Packages for Enterprise Linux 8 - x86_64 7.2 MB/s | 10 MB 00:01 ======================================== \u540d\u524d \u5b8c\u5168\u4e00\u81f4: sshpass ======================================== sshpass.x86_64 : Non-interactive SSH authentication utility Simple Content Access\u8a2d\u5b9a https://access.redhat.com/management \u3053\u3053\u304b\u3089\u3002","title":"RHEL"},{"location":"Linux/rhel/#rhel","text":"","title":"RHEL"},{"location":"Linux/rhel/#_1","text":"\u671f\u9650\u304c\u5207\u308c\u305f\u5834\u5408\u306f\u3001 Red Hat Developer \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u66f4\u65b0\u3055\u308c\u308b\u3002\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u5229\u7528\u8a31\u8afe\u306e\u78ba\u8a8d\u304c\u3042\u308b\u3002 \u305d\u306e\u5f8c\u306f Red Hat \u30ab\u30b9\u30bf\u30de\u30fc\u30dd\u30fc\u30bf\u30eb \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u30a4\u30e1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306a\u3069\u5229\u7528\u3067\u304d\u308b\u3002","title":"\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u66f4\u65b0"},{"location":"Linux/rhel/#_2","text":"\u5236\u9650\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u74b0\u5883\u306eRHEL7\u3067proxy\u7d4c\u7531\u3067\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u767b\u9332\u3068Docker\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb - zaki work log \u4ee5\u4e0b\u3067\u767b\u9332\u3068\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u5272\u308a\u5f53\u3066\u3092\u307e\u3068\u3081\u3066\u3067\u304d\u308b\u3002 # subscription-manager register --auto-attach \u767b\u9332\u306e\u307f\u306f\u4ee5\u4e0b\u3002\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u5bfe\u8a71\u7684\u306b\u5165\u529b\u3059\u308b\u3002 # subscription-manager register \u767b\u9332\u5f8c\u306e\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u5272\u308a\u5f53\u3066\u306f\u4ee5\u4e0b\u3002 # subscription-manager attach \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u5272\u308a\u5f53\u3066\u6642\u306bpool ID\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u3002 # subscription-manager attach --pool = **** \u5229\u7528\u53ef\u80fd\u306a\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d # subscription-manager list --available \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u72b6\u614b # subscription-manager repos --list-enabled \u5229\u7528\u53ef\u80fd\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u30ea\u30dd\u30b8\u30c8\u30ea\u306f\u4ee5\u4e0b # subscription-manager repos --list-disabled","title":"\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3"},{"location":"Linux/rhel/#package","text":"","title":"package"},{"location":"Linux/rhel/#rhel8epel","text":"EPEL8\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u3002\u4f7f\u3044\u59cb\u3081\u307e\u3057\u3087\u3046\u3002 - \u8d64\u5e3d\u30a8\u30f3\u30b8\u30cb\u30a2\u30d6\u30ed\u30b0 EPEL - Fedora Project Wiki RHEL8\u7528\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3059\u308b [zaki@rhel8-node ~]$ sudo dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm Updating Subscription Management repositories. Red Hat Enterprise Linux 8 for x86_64 - BaseOS (RPMs) 13 kB/s | 4.1 kB 00:00 Red Hat Enterprise Linux 8 for x86_64 - AppStream (RPMs) 19 kB/s | 4.5 kB 00:00 Red Hat Enterprise Linux 8 for x86_64 - AppStream (RPMs) 6.5 MB/s | 31 MB 00:04 epel-release-latest-8.noarch.rpm 30 kB/s | 23 kB 00:00 \u4f9d\u5b58\u95a2\u4fc2\u304c\u89e3\u6c7a\u3057\u307e\u3057\u305f\u3002 ======================================================================================================== \u30d1\u30c3\u30b1\u30fc\u30b8 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30fc \u30d0\u30fc\u30b8\u30e7\u30f3 \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc \u30b5\u30a4\u30ba ======================================================================================================== \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: epel-release noarch 8-11.el8 @commandline 23 k \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u6982\u8981 ======================================================================================================== \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb 1 \u30d1\u30c3\u30b1\u30fc\u30b8 \u5408\u8a08\u30b5\u30a4\u30ba: 23 k \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e\u30b5\u30a4\u30ba: 35 k \u3053\u308c\u3067\u3088\u308d\u3057\u3044\u3067\u3059\u304b? [y/N]: y \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9: \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u5b9f\u884c\u4e2d \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002 \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u4e2d \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002 \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u4e2d \u6e96\u5099 : 1/1 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e2d : epel-release-8-11.el8.noarch 1/1 scriptlet\u306e\u5b9f\u884c\u4e2d: epel-release-8-11.el8.noarch 1/1 \u691c\u8a3c : epel-release-8-11.el8.noarch 1/1 Installed products updated. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f: epel-release-8-11.el8.noarch \u5b8c\u4e86\u3057\u307e\u3057\u305f! [zaki@rhel8-node ~]$ [zaki@rhel8-node ~]$ ls -l /etc/yum.repos.d/ \u5408\u8a08 168 -rw-r--r--. 1 root root 1480 6\u6708 8 09:29 epel-modular.repo -rw-r--r--. 1 root root 1562 6\u6708 8 09:29 epel-playground.repo -rw-r--r--. 1 root root 1579 6\u6708 8 09:29 epel-testing-modular.repo -rw-r--r--. 1 root root 1516 6\u6708 8 09:29 epel-testing.repo -rw-r--r--. 1 root root 1417 6\u6708 8 09:29 epel.repo -rw-r--r--. 1 root root 149513 7\u6708 2 19:58 redhat.repo [zaki@rhel8-node ~]$ sudo dnf search sshpass Updating Subscription Management repositories. Extra Packages for Enterprise Linux Modular 8 - x86_64 652 kB/s | 798 kB 00:01 Extra Packages for Enterprise Linux 8 - x86_64 7.2 MB/s | 10 MB 00:01 ======================================== \u540d\u524d \u5b8c\u5168\u4e00\u81f4: sshpass ======================================== sshpass.x86_64 : Non-interactive SSH authentication utility","title":"RHEL8\u306bEPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0"},{"location":"Linux/rhel/#simple-content-access","text":"https://access.redhat.com/management \u3053\u3053\u304b\u3089\u3002","title":"Simple Content Access\u8a2d\u5b9a"},{"location":"Linux/selinux/","text":"SELinux port\u8ffd\u52a0 \u30a8\u30e9\u30fc\u30ed\u30b0 web\u30b5\u30fc\u30d0\u30fc\u3067\u9069\u5f53\u306b 8081 \u3067Listen\u3055\u305b\u3088\u3046\u3068\u3057\u3066\u3082\u30d0\u30a4\u30f3\u30c9\u3067\u304d\u305a\u306b\u8d77\u52d5\u3067\u304d\u306a\u3044\u3002 error_log [suexec:notice] [pid 1237:tid 1237] AH01232: suEXEC mechanism enabled (wrapper: /usr/sbin/suexec) AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using 192.168.0.44. Set the 'ServerName' directive globally to suppress this message [Tue Jul 06 10:47:18.353422 2021] [lbmethod_heartbeat:notice] [pid 1237:tid 1237] AH02282: No slotmem from mod_heartmonitor message setroubleshoot[1462]: SELinux \u306b\u3088\u308a\u3001httpd \u306b\u3088\u308b name_bind \u30a2\u30af\u30bb\u30b9\u304c\u3001tcp_socket \u30dd\u30fc\u30c8 8081 \u3067\u62d2\u5426\u3055\u308c\u307e\u3057\u305f\u3002#012#012***** \u30d7\u30e9\u30b0\u30a4\u30f3 catchall (100. \u4fe1\u983c\u6027) \u306b\u3088\u308b\u793a\u5506****************************************#012#012httpd \u306b\u3001 \u30dd\u30fc\u30c8 8081 tcp_socket \u306e name_bind \u30a2\u30af\u30bb\u30b9\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u8a31\u53ef\u3055\u308c\u308b\u3079\u304d\u3068\u8003\u3048\u308b\u5834\u5408\u3002#012\u3053\u306e\u3088\u3046\u306b\u3057\u307e\u3059: \u30d0\u30b0\u3068\u3057\u3066\u5831\u544a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 #012\u30ed\u30fc\u30ab\u30eb\u306e\u30dd\u30ea\u30b7\u30fc\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\u3068\u3001#012 \u3053\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002#012\u305d\u3057\u3066\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059: #012\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u3001\u3053\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3057\u307e\u3059:#012# ausearch -c 'httpd' --raw | audit2allow -M my-httpd#012# semodule -X 300 -i my-httpd.pp#012 \u30dd\u30fc\u30c8\u72b6\u614b [root@fedora-node ~]# semanage port -l | grep -w \"http_port_t\" http_port_t tcp 80, 81, 443, 488, 8008, 8009, 8443, 9000 \u306a\u308b\u307b\u3069\u30018081\u306f\u7121\u3044\u3002 \u8ffd\u52a0 [root@fedora-node ~]# semanage port -a -t http_port_t -p tcp 8081 ValueError: \u30dd\u30fc\u30c8 tcp/8081 \u306f\u3059\u3067\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059 [root@fedora-node ~]# semanage port -l | grep -w 8081 transproxy_port_t tcp 8081 \u3042\u30fc\u3001\u5225\u3067\u4f7f\u3063\u3066\u308b\u306e\u304b\u3002\u306a\u308b\u307b\u3069\u3002 [root@fedora-node ~]# semanage port -l | grep -w 808 . http_cache_port_t tcp 8080, 8118, 8123, 10001-10010 luci_port_t tcp 8084 transproxy_port_t tcp 8081 us_cli_port_t tcp 8082, 8083 us_cli_port_t udp 8082, 8083 8085\u7a7a\u3044\u3066\u308b [root@fedora-node ~]# semanage port -a -t http_port_t -p tcp 8085 [root@fedora-node ~]# semanage port -l | grep -w \"http_port_t\" http_port_t tcp 8085, 80, 81, 443, 488, 8008, 8009, 8443, 9000 \u3046\u3080 [root@fedora-node ~]# vi /etc/httpd/conf/httpd.conf [root@fedora-node ~]# systemctl restart httpd [root@fedora-node ~]# curl http://localhost:8085 -I HTTP/1.1 403 Forbidden Date: Tue, 06 Jul 2021 01:55:15 GMT Server: Apache/2.4.48 (Fedora) Last-Modified: Fri, 26 Mar 2021 17:49:58 GMT ETag: \"211a-5be742910bd80\" Accept-Ranges: bytes Content-Length: 8474 Content-Type: text/html; charset=UTF-8 [root@fedora-node ~]# \u306f\u3044\u3002 \u66f4\u65b0 -a \u3060\u3068\u4ed6\u3067\u4f7f\u3063\u3066\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002 -m \u306a\u3089\u66f4\u65b0\u3055\u308c\u3001\u4ed6\u3067\u4f7f\u3063\u3066\u308b\u3082\u306e\u3068\u591a\u91cd\u306b\u5b9a\u7fa9\u3067\u304d\u308b\u3002 [root@fedora-node ~]# semanage port -a -t http_port_t -p tcp 8082 ValueError: \u30dd\u30fc\u30c8 tcp/8082 \u306f\u3059\u3067\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059 [root@fedora-node ~]# semanage port -l | grep -w 8082 us_cli_port_t tcp 8082, 8083 us_cli_port_t udp 8082, 8083 [root@fedora-node ~]# semanage port -m -t http_port_t -p tcp 8082 [root@fedora-node ~]# semanage port -l | grep -w 8082 http_port_t tcp 8082, 8081, 8087, 8086, 8085, 80, 81, 443, 488, 8008, 8009, 8443, 9000 us_cli_port_t tcp 8082, 8083 us_cli_port_t udp 8082, 8083 [ root@fedora-node ~ ] # systemctl restart httpd [ root@fedora-node ~ ] # curl http : // localhost : 8082 - I HTTP /1.1 403 Forbidden Date : Tue, 06 Jul 2021 04 : 06 : 38 GMT Server : Apache /2.4.48 (Fedora) Last - Modified : Fri, 26 Mar 2021 17 : 49 : 58 GMT ETag : \"211a-5be742910bd80\" Accept - Ranges : bytes Content - Length : 8474 Content - Type : text / html; charset = UTF -8 [ root@fedora-node ~ ] # sshd\u306e\u5834\u5408\u306f\u3053\u3061\u3089 semanage \u30b3\u30de\u30f3\u30c9\u304c\u306a\u3044\u5834\u5408\u306f policycoreutils-python-utils \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002 [zaki@cloud-dev2 ~]$ rpm -qf /usr/sbin/semanage policycoreutils-python-utils-3.3-1.fc35.noarch","title":"SELinux"},{"location":"Linux/selinux/#selinux","text":"","title":"SELinux"},{"location":"Linux/selinux/#port","text":"","title":"port\u8ffd\u52a0"},{"location":"Linux/selinux/#_1","text":"web\u30b5\u30fc\u30d0\u30fc\u3067\u9069\u5f53\u306b 8081 \u3067Listen\u3055\u305b\u3088\u3046\u3068\u3057\u3066\u3082\u30d0\u30a4\u30f3\u30c9\u3067\u304d\u305a\u306b\u8d77\u52d5\u3067\u304d\u306a\u3044\u3002 error_log [suexec:notice] [pid 1237:tid 1237] AH01232: suEXEC mechanism enabled (wrapper: /usr/sbin/suexec) AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using 192.168.0.44. Set the 'ServerName' directive globally to suppress this message [Tue Jul 06 10:47:18.353422 2021] [lbmethod_heartbeat:notice] [pid 1237:tid 1237] AH02282: No slotmem from mod_heartmonitor message setroubleshoot[1462]: SELinux \u306b\u3088\u308a\u3001httpd \u306b\u3088\u308b name_bind \u30a2\u30af\u30bb\u30b9\u304c\u3001tcp_socket \u30dd\u30fc\u30c8 8081 \u3067\u62d2\u5426\u3055\u308c\u307e\u3057\u305f\u3002#012#012***** \u30d7\u30e9\u30b0\u30a4\u30f3 catchall (100. \u4fe1\u983c\u6027) \u306b\u3088\u308b\u793a\u5506****************************************#012#012httpd \u306b\u3001 \u30dd\u30fc\u30c8 8081 tcp_socket \u306e name_bind \u30a2\u30af\u30bb\u30b9\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u8a31\u53ef\u3055\u308c\u308b\u3079\u304d\u3068\u8003\u3048\u308b\u5834\u5408\u3002#012\u3053\u306e\u3088\u3046\u306b\u3057\u307e\u3059: \u30d0\u30b0\u3068\u3057\u3066\u5831\u544a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 #012\u30ed\u30fc\u30ab\u30eb\u306e\u30dd\u30ea\u30b7\u30fc\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u751f\u6210\u3059\u308b\u3068\u3001#012 \u3053\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002#012\u305d\u3057\u3066\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059: #012\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u3001\u3053\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3057\u307e\u3059:#012# ausearch -c 'httpd' --raw | audit2allow -M my-httpd#012# semodule -X 300 -i my-httpd.pp#012","title":"\u30a8\u30e9\u30fc\u30ed\u30b0"},{"location":"Linux/selinux/#_2","text":"[root@fedora-node ~]# semanage port -l | grep -w \"http_port_t\" http_port_t tcp 80, 81, 443, 488, 8008, 8009, 8443, 9000 \u306a\u308b\u307b\u3069\u30018081\u306f\u7121\u3044\u3002","title":"\u30dd\u30fc\u30c8\u72b6\u614b"},{"location":"Linux/selinux/#_3","text":"[root@fedora-node ~]# semanage port -a -t http_port_t -p tcp 8081 ValueError: \u30dd\u30fc\u30c8 tcp/8081 \u306f\u3059\u3067\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059 [root@fedora-node ~]# semanage port -l | grep -w 8081 transproxy_port_t tcp 8081 \u3042\u30fc\u3001\u5225\u3067\u4f7f\u3063\u3066\u308b\u306e\u304b\u3002\u306a\u308b\u307b\u3069\u3002 [root@fedora-node ~]# semanage port -l | grep -w 808 . http_cache_port_t tcp 8080, 8118, 8123, 10001-10010 luci_port_t tcp 8084 transproxy_port_t tcp 8081 us_cli_port_t tcp 8082, 8083 us_cli_port_t udp 8082, 8083 8085\u7a7a\u3044\u3066\u308b [root@fedora-node ~]# semanage port -a -t http_port_t -p tcp 8085 [root@fedora-node ~]# semanage port -l | grep -w \"http_port_t\" http_port_t tcp 8085, 80, 81, 443, 488, 8008, 8009, 8443, 9000 \u3046\u3080 [root@fedora-node ~]# vi /etc/httpd/conf/httpd.conf [root@fedora-node ~]# systemctl restart httpd [root@fedora-node ~]# curl http://localhost:8085 -I HTTP/1.1 403 Forbidden Date: Tue, 06 Jul 2021 01:55:15 GMT Server: Apache/2.4.48 (Fedora) Last-Modified: Fri, 26 Mar 2021 17:49:58 GMT ETag: \"211a-5be742910bd80\" Accept-Ranges: bytes Content-Length: 8474 Content-Type: text/html; charset=UTF-8 [root@fedora-node ~]# \u306f\u3044\u3002","title":"\u8ffd\u52a0"},{"location":"Linux/selinux/#_4","text":"-a \u3060\u3068\u4ed6\u3067\u4f7f\u3063\u3066\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002 -m \u306a\u3089\u66f4\u65b0\u3055\u308c\u3001\u4ed6\u3067\u4f7f\u3063\u3066\u308b\u3082\u306e\u3068\u591a\u91cd\u306b\u5b9a\u7fa9\u3067\u304d\u308b\u3002 [root@fedora-node ~]# semanage port -a -t http_port_t -p tcp 8082 ValueError: \u30dd\u30fc\u30c8 tcp/8082 \u306f\u3059\u3067\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059 [root@fedora-node ~]# semanage port -l | grep -w 8082 us_cli_port_t tcp 8082, 8083 us_cli_port_t udp 8082, 8083 [root@fedora-node ~]# semanage port -m -t http_port_t -p tcp 8082 [root@fedora-node ~]# semanage port -l | grep -w 8082 http_port_t tcp 8082, 8081, 8087, 8086, 8085, 80, 81, 443, 488, 8008, 8009, 8443, 9000 us_cli_port_t tcp 8082, 8083 us_cli_port_t udp 8082, 8083 [ root@fedora-node ~ ] # systemctl restart httpd [ root@fedora-node ~ ] # curl http : // localhost : 8082 - I HTTP /1.1 403 Forbidden Date : Tue, 06 Jul 2021 04 : 06 : 38 GMT Server : Apache /2.4.48 (Fedora) Last - Modified : Fri, 26 Mar 2021 17 : 49 : 58 GMT ETag : \"211a-5be742910bd80\" Accept - Ranges : bytes Content - Length : 8474 Content - Type : text / html; charset = UTF -8 [ root@fedora-node ~ ] # sshd\u306e\u5834\u5408\u306f\u3053\u3061\u3089","title":"\u66f4\u65b0"},{"location":"Linux/selinux/#semanage","text":"\u30b3\u30de\u30f3\u30c9\u304c\u306a\u3044\u5834\u5408\u306f policycoreutils-python-utils \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002 [zaki@cloud-dev2 ~]$ rpm -qf /usr/sbin/semanage policycoreutils-python-utils-3.3-1.fc35.noarch","title":"semanage"},{"location":"Linux/server/","text":"\u30b5\u30fc\u30d0\u30fc\u95a2\u9023 samba \u30e6\u30fc\u30b6\u30fc\u8ffd\u52a0 \u30e6\u30fc\u30b6\u30fc zaki \u3092\u4f5c\u6210\u3059\u308b pdbedit -a zaki \u767b\u9332\u6e08\u307f\u30e6\u30fc\u30b6\u30fc\u4e00\u89a7 pdbedit -L firewalld\u8a2d\u5b9a # \u4f7f\u7528\u3057\u3066\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u304c\u3069\u306e\u30be\u30fc\u30f3\u304b\u78ba\u8a8d firewall-cmd --get-active-zones # \u5bfe\u8c61\u30be\u30fc\u30f3\u306b\u8a31\u53ef\u8ffd\u52a0 firewall-cmd --permanent --zone=FedoraServer --add-service=samba firewall-cmd --reload SELinux\u8a2d\u5b9a \u30db\u30fc\u30e0\u306f\u898b\u3048\u308b\u3051\u3069\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u5834\u5408 setsebool -P samba_enable_home_dirs on \u5171\u6709\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5834\u5408 semanage fcontext -a -t samba_share_t /share restorecon -R /share/ HAProxy https://docs.haproxy.org/2.9/configuration.html#4.2-timeout \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8 \u8a2d\u5b9a \u6a5f\u80fd connect \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3078\u306e\u63a5\u7d9a\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8 server \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u306e\u7121\u5fdc\u7b54\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8 client \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9(\u63a5\u7d9a\u5143\u30af\u30e9\u30a4\u30a2\u30f3\u30c8)\u3068\u306e\u7121\u5fdc\u7b54\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8 \u5916\u90e8\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u305f\u6b7b\u6d3b\u30c1\u30a7\u30c3\u30af \u30b9\u30af\u30ea\u30d7\u30c8\u306fUP\u306e\u5834\u5408\u306f\u623b\u308a\u5024\u30920\u3001DOWN\u306f\u975e0\u3092\u8fd4\u3059\u3088\u3046\u306b\u7528\u610f\u3059\u308b\u3002 \u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\u306e\u969b\u306b\u306f\u3001\u7b2c3\u5f15\u6570\u306b\u63a5\u7d9a\u5148\u30db\u30b9\u30c8\u306e\u30a2\u30c9\u30ec\u30b9\u3001\u7b2c4\u5f15\u6570\u306b\u30dd\u30fc\u30c8\u756a\u53f7\u304c\u6e21\u3055\u308c\u308b\u3002 global external-check frontend foobar bind *:8080 default_backend bazqux backend bazqux option external-check external-check path \"/usr/bin:/bin\" external-check command /path/to/script.sh server host1 192.168.0.121:8080 check server host2 192.168.0.122:8080 check check\u3067\u306a\u304fbackup\u3082\u3042\u308b\u3002check\u5bfe\u8c61\u304c\u5168\u6ec5\u3057\u305f\u3089backup\u3092\u4f7f\u3046\u52d5\u4f5c ssl\u691c\u8a3c\u7121\u8996 backend servers server host1 192.168.0.68:6443 ssl verify none check dnsmasq dhcp IP\u30a2\u30c9\u30ec\u30b9\u56fa\u5b9a \u66f8\u5f0f\uff1a dhcp-host=hwaddr,hostname,ipaddr dhcp-host=00:00:5E:00:53:00,raclette,192.168.0.129 DNS \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u7684\u306b\u4efb\u610f\u306e\u6587\u5b57\u5217\u3092\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u6271\u3044\u3067\u3059\u3079\u3066\u7279\u5b9a\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u540d\u524d\u89e3\u6c7a\u3059\u308b address= / exmaple.org /192.168.0.15 \u3053\u308c\u3067 example.org \u3060\u3051\u3067\u306a\u304f\u3001 foo.example.org \u3082 foo.bar.baz.example.org \u3082 192.168.0.15 \u3068\u306a\u308b\u3002","title":"\u30b5\u30fc\u30d0\u30fc\u95a2\u9023"},{"location":"Linux/server/#_1","text":"","title":"\u30b5\u30fc\u30d0\u30fc\u95a2\u9023"},{"location":"Linux/server/#samba","text":"","title":"samba"},{"location":"Linux/server/#_2","text":"\u30e6\u30fc\u30b6\u30fc zaki \u3092\u4f5c\u6210\u3059\u308b pdbedit -a zaki","title":"\u30e6\u30fc\u30b6\u30fc\u8ffd\u52a0"},{"location":"Linux/server/#_3","text":"pdbedit -L","title":"\u767b\u9332\u6e08\u307f\u30e6\u30fc\u30b6\u30fc\u4e00\u89a7"},{"location":"Linux/server/#firewalld","text":"# \u4f7f\u7528\u3057\u3066\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u304c\u3069\u306e\u30be\u30fc\u30f3\u304b\u78ba\u8a8d firewall-cmd --get-active-zones # \u5bfe\u8c61\u30be\u30fc\u30f3\u306b\u8a31\u53ef\u8ffd\u52a0 firewall-cmd --permanent --zone=FedoraServer --add-service=samba firewall-cmd --reload","title":"firewalld\u8a2d\u5b9a"},{"location":"Linux/server/#selinux","text":"\u30db\u30fc\u30e0\u306f\u898b\u3048\u308b\u3051\u3069\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u5834\u5408 setsebool -P samba_enable_home_dirs on \u5171\u6709\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5834\u5408 semanage fcontext -a -t samba_share_t /share restorecon -R /share/","title":"SELinux\u8a2d\u5b9a"},{"location":"Linux/server/#haproxy","text":"https://docs.haproxy.org/2.9/configuration.html#4.2-timeout","title":"HAProxy"},{"location":"Linux/server/#_4","text":"\u8a2d\u5b9a \u6a5f\u80fd connect \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3078\u306e\u63a5\u7d9a\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8 server \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u306e\u7121\u5fdc\u7b54\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8 client \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9(\u63a5\u7d9a\u5143\u30af\u30e9\u30a4\u30a2\u30f3\u30c8)\u3068\u306e\u7121\u5fdc\u7b54\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8","title":"\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8"},{"location":"Linux/server/#_5","text":"\u30b9\u30af\u30ea\u30d7\u30c8\u306fUP\u306e\u5834\u5408\u306f\u623b\u308a\u5024\u30920\u3001DOWN\u306f\u975e0\u3092\u8fd4\u3059\u3088\u3046\u306b\u7528\u610f\u3059\u308b\u3002 \u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\u306e\u969b\u306b\u306f\u3001\u7b2c3\u5f15\u6570\u306b\u63a5\u7d9a\u5148\u30db\u30b9\u30c8\u306e\u30a2\u30c9\u30ec\u30b9\u3001\u7b2c4\u5f15\u6570\u306b\u30dd\u30fc\u30c8\u756a\u53f7\u304c\u6e21\u3055\u308c\u308b\u3002 global external-check frontend foobar bind *:8080 default_backend bazqux backend bazqux option external-check external-check path \"/usr/bin:/bin\" external-check command /path/to/script.sh server host1 192.168.0.121:8080 check server host2 192.168.0.122:8080 check check\u3067\u306a\u304fbackup\u3082\u3042\u308b\u3002check\u5bfe\u8c61\u304c\u5168\u6ec5\u3057\u305f\u3089backup\u3092\u4f7f\u3046\u52d5\u4f5c","title":"\u5916\u90e8\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u305f\u6b7b\u6d3b\u30c1\u30a7\u30c3\u30af"},{"location":"Linux/server/#ssl","text":"backend servers server host1 192.168.0.68:6443 ssl verify none check","title":"ssl\u691c\u8a3c\u7121\u8996"},{"location":"Linux/server/#dnsmasq","text":"","title":"dnsmasq"},{"location":"Linux/server/#dhcp","text":"","title":"dhcp"},{"location":"Linux/server/#ip","text":"\u66f8\u5f0f\uff1a dhcp-host=hwaddr,hostname,ipaddr dhcp-host=00:00:5E:00:53:00,raclette,192.168.0.129","title":"IP\u30a2\u30c9\u30ec\u30b9\u56fa\u5b9a"},{"location":"Linux/server/#dns","text":"","title":"DNS"},{"location":"Linux/server/#_6","text":"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u7684\u306b\u4efb\u610f\u306e\u6587\u5b57\u5217\u3092\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u6271\u3044\u3067\u3059\u3079\u3066\u7279\u5b9a\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u540d\u524d\u89e3\u6c7a\u3059\u308b address= / exmaple.org /192.168.0.15 \u3053\u308c\u3067 example.org \u3060\u3051\u3067\u306a\u304f\u3001 foo.example.org \u3082 foo.bar.baz.example.org \u3082 192.168.0.15 \u3068\u306a\u308b\u3002","title":"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9"},{"location":"Linux/ssh/","text":"ssh\u95a2\u9023 ssh client \u9375\u6307\u5b9a\u3057\u3066ssh $ ssh -i ~/.ssh/id_rsa_nopass 192 .168.0.31 Last login: Tue Aug 11 14:52:32 2020 from 192.168.0.18 $ \u4efb\u610f\u306e\u30d1\u30b9\u306econfig\u4f7f\u7528 $ ssh -F my-ssh/config user@host \u591a\u6bb5\u30a2\u30af\u30bb\u30b9 \u8ffd\u8a18: \u8a73\u7d30\u306f\u3053\u3061\u3089 -> [Linux] ProxyJump\u8a2d\u5b9a\u3067SSH\u306e\u591a\u6bb5\u30a2\u30af\u30bb\u30b9\u3068scp/\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9 - zaki work log ProxyCommand \u3092\u4f7f\u3063\u305f\u60c5\u5831\u304c\u305f\u304f\u3055\u3093\u30d2\u30c3\u30c8\u3059\u308b\u3051\u3069\u3001 ProxyJump (-J) \u3092\u4f7f\u3046\u3068\u7c21\u5358\u3002 \u30ed\u30fc\u30ab\u30eb\u304b\u3089192.168.0.19\u2192172.16.1.0\u2192172.29.0.89\u3068\u3044\u3046\u9806\u3067ssh\u591a\u6bb5\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u901a\u308a\u3002 $ ssh 172 .29.0.89 -J 192 .168.0.19,172.16.1.0 \u8a18\u8ff0\u306e\u4ed5\u65b9\u306f ssh \u30b4\u30fc\u30eb(\u7d42\u7740\u70b9) -J \u8e0f\u307f\u53f0\u30db\u30b9\u30c8\u3092\u30a2\u30af\u30bb\u30b9\u9806\u306b\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u7f85\u5217 \u30ed\u30fc\u30ab\u30eb\u304b\u3089192.168.0.19\u2192172.16.1.0\u2192172.29.0.89\u3068\u3044\u3046\u9806\u3067ssh\u591a\u6bb5\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\u5834\u5408\u306f\u3001 $ ssh 172.29.0.89 -J 192.168.0.19,172.16.1.0 \u3067\u3044\u3051\u308b\u3002 pic.twitter.com/7xHlxvxFTr \u2014 z a k i \ud83c\udf08\ud83c\udf09 (@zaki_hmkc) January 29, 2022 \u591a\u6bb5\u30a2\u30af\u30bb\u30b9\u3068\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u306e\u30b3\u30f3\u30dc -L \u3067\u666e\u901a\u306b\u6307\u5b9a\u3059\u308c\u3070OK\u3002 \u6a5f\u80fd\u81ea\u4f53\u306f\u5f8c\u8ff0\u3002 \u4e0a\u306e\u591a\u6bb5\u30a2\u30af\u30bb\u30b9\u4f8b\u3067\u3042\u308c\u3070\u3001 $ ssh 172 .29.0.89 -J 192 .168.0.19,172.16.1.0 -L 8899 :localhost:8080 \u3068\u3059\u308c\u3070\u3001\u300c 172.29.0.89 \u304b\u3089\u898b\u305f localhost:8080 \u300d\u3078\u5bfe\u3057\u3066\u3001\u300c\u30ed\u30fc\u30ab\u30eb(ssh\u3092\u5b9f\u884c\u3057\u3066\u308b\u51fa\u767a\u70b9)\u306e localhost:8899 \u300d\u3092\u30d5\u30a9\u30ef\u30fc\u30c9\u3059\u308b\u3002 \u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9 \u30ed\u30fc\u30ab\u30eb\u30d5\u30a9\u30ef\u30fc\u30c9 $ ssh rhel8 -L 25080 :10.88.250.10:80 rhel8 \u3078ssh\u30ed\u30b0\u30a4\u30f3\u3057\u3064\u3064\u3001 rhel8 \u304b\u3089\u898b\u3066 10.88.250.10:80 \u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u30ed\u30fc\u30ab\u30eb\u306e 25080/TCP \u3067Listen\u3059\u308b\u3002 (\u30ed\u30fc\u30ab\u30eb\u306e 25080/TCP \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068 rhel8 \u304b\u3089\u898b\u305f 10.88.250.10:80 \u3078\u8ee2\u9001\u3055\u308c\u308b) \u63a5\u7d9a\u4e2d\u306e\u30a8\u30b9\u30b1\u30fc\u30d7\u30ad\u30e3\u30e9\u30af\u30bf \u65b0\u3057\u3044\u884c\u3067 ~ \u62bc\u4e0b\u3067\u30a8\u30b9\u30b1\u30fc\u30d7\u30ad\u30e3\u30e9\u30af\u30bf\u3092\u9001\u4fe1\u3067\u304d\u3001ssh\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u81ea\u4f53\u306e\u6a5f\u80fd\u3092\u547c\u3073\u51fa\u305b\u308b\u3002 \u5207\u65ad\u3059\u308b \u30ea\u30e2\u30fc\u30c8\u30db\u30b9\u30c8\u304b\u3089\u5207\u65ad\u3059\u308b\u3002 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u6a5f\u5668\u306a\u3069\u3067ssh\u7d4c\u7531\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u63a5\u7d9a\u306a\u3069\u3067 exit \u304c\u6253\u3066\u306a\u3044\u3088\u3046\u306a\u5834\u5408\u306b\u4f7f\u3048\u308b\u3002 ~. sshpass \u30d1\u30b9\u30ef\u30fc\u30c9\u8a8d\u8a3c\u3092\u30d0\u30c3\u30c1\u51e6\u7406 sshpass -p ${PASSWORD} ssh user@hostname \u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u66f8\u304b\u308c\u3066\u308b\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070 -f \u304c\u4f7f\u3048\u308b\u3002 sshpass -f password.txt ssh user@hostname \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u4ed8\u304d\u516c\u958b\u9375\u8a8d\u8a3c\u3092\u30d0\u30c3\u30c1\u51e6\u7406 sshpass -p ${PASSPHRASE} -P \"Enter passphrase\" ssh user@hostname -i ~/.ssh/my_ssh_key -p (\u3042\u308b\u3044\u306f -f )\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u306a\u304f\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u6307\u5b9a\u3059\u308b\u306e\u306f\u540c\u69d8\u3060\u304c\u3001\u5165\u529b\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u7528\u306b\u30ab\u30b9\u30bf\u30e0\u3059\u308b -P \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306e\u5bfe\u8a71\u51e6\u7406\u3092 sshpass \u3067\u3055\u3070\u304f\u3002 sshd \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30ebsyntax check # sshd -t \u898f\u5b9a\u306b\u7121\u3044\u8a2d\u5b9a\u30ad\u30fc(\u3068\u3044\u3046\u304b\u30b4\u30df)\u304c\u3042\u3063\u305f\u308a\u3059\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b # sshd -t /etc/ssh/sshd_config: line 140: Bad configuration option: a /etc/ssh/sshd_config: terminating, 1 bad configuration options \u6709\u52b9\u306b\u306a\u308b\u8a2d\u5b9a\u306e\u30ea\u30b9\u30c8 \u5b9f\u884c\u3059\u308b\u74b0\u5883\u306e /etc/ssh/sshd_config \u306e\u7d50\u679c\u3001\u3069\u306e\u8a2d\u5b9a\u304c\u9069\u7528\u3055\u308c\u308b\u304b\u306e\u3059\u3079\u3066\u306e\u5185\u5bb9\u304c\u8868\u793a\u3055\u308c\u308b\u3002 ( /etc/ssh_sshd_config \u306b\u66f8\u304b\u306a\u304b\u3063\u305f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u542b\u3081\u3066\u51fa\u529b\u3055\u308c\u308b) # sshd -T \u30c7\u30d5\u30a9\u30eb\u30c8\u3068\u306e\u5dee\u5206\u3092\u898b\u305f\u3044\u5834\u5408\u306f\u4ee5\u4e0b\u3067\u898b\u3088\u3046\u3068\u601d\u3048\u3070\u898b\u308c\u308b\u3002 # diff -u < ( sshd -T -f /dev/null ) < ( sshd -T ) \u30dd\u30fc\u30c8\u756a\u53f7\u306e\u5909\u66f4 SELinux\u304c\u6709\u52b9\u306e\u5834\u5408\u306fsshd\u306e\u8a2d\u5b9a\u5909\u66f4\u3060\u3051\u3067\u306f\u6709\u52b9\u306b\u306a\u3089\u306a\u3044\u3002 Port 25022 \u3092\u8a2d\u5b9a\u3057\u305f\u3068\u304d\u306b\u3001\u3001 # systemctl restart sshd Job for sshd.service failed because the control process exited with error code. See \"systemctl status sshd.service\" and \"journalctl -xe\" for details. # journalctl - xe sshd[ 20141 ]: error: Bind to port 25022 on 0.0.0.0 failed: Permission denied. sshd[ 20141 ]: error: Bind to port 25022 on :: failed: Permission denied. sshd[ 20141 ]: fatal: Cannot bind any address. systemd[ 1 ]: sshd.service: main process exited, code=exited, status= 255/ n / a systemd[ 1 ]: Failed to start OpenSSH server daemon. \u3053\u3093\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3002 # semanage port -a -t ssh_port_t -p tcp 25022 \u3053\u308c\u3067 systemctl restart sshd \u304c\u6709\u52b9\u306b\u306a\u308b\u3002 \u307e\u3041sshd_config\u306e Port \u306e\u3059\u3050\u4e0a\u306b\u30b3\u30e1\u30f3\u30c8\u3067\u66f8\u304b\u308c\u3066\u308b\u3093\u3060\u3051\u3069\u3002 \u9375\u7ba1\u7406 \u30ad\u30fc\u30da\u30a2\u4f5c\u6210 -f \u3067\u4f5c\u6210\u5148\u9375\u30d5\u30a1\u30a4\u30eb (\u30c7\u30d5\u30a9\u30eb\u30c8\u306f $HOME/.ssh/id_*** ) -N \u3067\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba (\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u5bfe\u8a71\u7684\u306b\u805e\u304b\u308c\u308b) $ ssh-keygen -t rsa -f ~/.ssh/id_rsa_nopass -N \"\" -C \"comments\" Generating public/private rsa key pair. Your identification has been saved in /home/zaki/.ssh/id_rsa_nopass. Your public key has been saved in /home/zaki/.ssh/id_rsa_nopass.pub. The key fingerprint is: SHA256:vDhmhHyGepTu929HGu0oPPKS/2HrJexF97CBWu9k0M4 zaki@cloud-dev The key's randomart image is: +---[RSA 2048]----+ | | | | | | | . + . o | | * + S .= = | | + + . o.+o* = | | . o =o. **o E .| | o o=.+o+*o+ | | .. *+B*. . | +----[SHA256]-----+ $ ls ~/.ssh/ id_rsa id_rsa.pub id_rsa_nopass id_rsa_nopass.pub known_hosts \u30ea\u30e2\u30fc\u30c8\u3078\u516c\u958b\u9375\u30b3\u30d4\u30fc $ ssh-copy-id -i ~/.ssh/id_rsa_nopass 192 .168.0.31 /usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: \"/home/zaki/.ssh/id_rsa_nopass.pub\" The authenticity of host '192.168.0.31 (192.168.0.31)' can't be established. ECDSA key fingerprint is SHA256:WQpvcX7UfYAmdFIMfhak4pCevQvOjZkIZ/fpE4Sofm4. ECDSA key fingerprint is MD5:97:15:37:72:88:ab:59:01:ad:3c:a2:e9:10:90:11:59. Are you sure you want to continue connecting (yes/no)? yes /usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed /usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys zaki@192.168.0.31's password: Number of key(s) added: 1 Now try logging into the machine, with: \"ssh '192.168.0.31'\" and check to make sure that only the key(s) you wanted were added. $ \u30d5\u30a3\u30f3\u30ac\u30fc\u30d7\u30ea\u30f3\u30c8\u78ba\u8a8d $ ssh-keygen -l -f ~/.ssh/id_rsa.pub 4096 SHA256:6Qt0+Nikcx/NpgM4xu/4WnDpqhj8L+OjtDEP5O2a7lw no comment (RSA) \u79d8\u5bc6\u9375\u304b\u3089\u516c\u958b\u9375\u3092\u4f5c\u6210 $ ssh-keygen -y -f ~/.ssh/id_rsa STDOUT\u3078\u51fa\u529b\u3055\u308c\u308b\u306e\u3067\u3001 > id_rsa.pub \u3068\u304b\u30d5\u30a1\u30a4\u30eb\u3078\u51fa\u529b\u3059\u308c\u3070OK \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u5909\u66f4 ssh-keygen -f <private-key> -p $ ssh-keygen -f /path/to/id_rsa -p Enter old passphrase: Key has comment '' Enter new passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved with the new passphrase. \u7a7a\u5165\u529b\u3059\u308c\u3070\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u89e3\u9664\u3067\u304d\u308b \u9375\u5f62\u5f0f\u306e\u6307\u5b9a \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4ee5\u4e0b\u3067\u59cb\u307e\u308bOpenSSH\u5f62\u5f0f\u3067\u4f5c\u6210\u3055\u308c\u308b\u3002 -----BEGIN OPENSSH PRIVATE KEY----- -m \u3092\u4f7f\u3046\u3068\u3001\u5f62\u5f0f\u3092\u6307\u5b9a\u3067\u304d\u308b\u3002 PEM\u5f62\u5f0f\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 $ ssh-keygen -m PEM \u51fa\u529b\u3055\u308c\u308b\u9375\u306f\u4ee5\u4e0b\u3067\u59cb\u307e\u308b\u3002 -----BEGIN RSA PRIVATE KEY----- \u9375\u5f62\u5f0f\u306e\u5909\u66f4 \u79d8\u5bc6\u9375 -p \u3092\u4f7f\u3063\u305f\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u66f4\u65b0\u306e\u969b\u306b\u3001 -m \u3067\u9375\u5f62\u5f0f\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u5909\u63db\u3067\u304d\u308b\u3002 \u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u9375\u30d5\u30a1\u30a4\u30eb\u304c\u66f4\u65b0\u3055\u308c\u308b\u3002 PEM\u5f62\u5f0f\u306b\u5909\u63db\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 $ ssh-keygen -p -m PEM -f ~/.ssh/id_rsa \u30c7\u30d5\u30a9\u30eb\u30c8\u306f RFC4716 \u3002OpenSSH\u5f62\u5f0f\u306b\u3059\u308b\u5834\u5408\u306f\u3001 -m RFC4716 \u3092\u6307\u5b9a\u3059\u308c\u3070OK \u516c\u958b\u9375 OpenSSH\u5f62\u5f0f( ssh-rsa \u306a\u3069\u3067\u59cb\u307e\u308b1\u884c\u306e\u66f8\u5f0f) -> PEM\u5f62\u5f0f( BEGIN PUBLIC KEY \u304b\u3089 END \u307e\u3067\u306e\u8907\u6570\u884c\u5f62\u5f0f) $ ssh-keygen -f ~/.ssh/id_rsa.pub -e -m PKCS8 PEM\u5f62\u5f0f -> OpenSSH\u5f62\u5f0f $ ssh-keygen -f ~/.ssh/id_rsa.pub -i -m PKCS8 \u300cOpenSSH\u5f62\u5f0f\u3068\u3007\u3007\u306e\u5909\u63db\u300d\u3067\u3001\u51fa\u529b( -e export)\u3084\u5165\u529b( -i import)\u306e\u9375\u5f62\u5f0f\u3092 -m \u3067\u6307\u5b9a\u3059\u308b\u3063\u307d\u3044\u3002(\u7247\u65b9\u306f\u6307\u5b9a\u3067\u304d\u308b\u304c\u3082\u3046\u7247\u65b9\u306fOpenSSH\u5f62\u5f0f\u56fa\u5b9a) \u9375\u30b5\u30a4\u30ba\u6307\u5b9a -b \u3067\u6307\u5b9a\u3059\u308b\u3002 $ ssh-keygen -t rsa -b 4096 ssh-copy-id $ ssh-copy-id [ -i identity_file ] [ -p port ] [ username@ ] hostname scp \u30e1\u30bf\u6587\u5b57\u306e\u30a8\u30b9\u30b1\u30fc\u30d7 \u30af\u30a9\u30fc\u30c8\u304c\u7121\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b scp server:'/path/to/file\\(...\\)' dest \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30b3\u30d4\u30fc -r \u3092\u4ed8\u4e0e\u3057\u3066\u518d\u5e30\u30b3\u30d4\u30fc\u3059\u308b scp -r src dst \u5c5e\u6027\u7dad\u6301\u3057\u3066\u30b3\u30d4\u30fc -p \u3092\u4ed8\u4e0e\u3059\u308b\u3002 scp -p src dst \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 \u30ea\u30e2\u30fc\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u30fb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5bfe\u3057\u3066\u3082\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c8\u306f\u6709\u52b9\u3002 \u305f\u3060\u3057\u30ed\u30fc\u30ab\u30eb\u306b\u540c\u3058\u30d1\u30b9\u304c\u3042\u308b\u3068\u30ed\u30fc\u30ab\u30eb\u5074\u3067\u5c55\u958b\u3055\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u30af\u30a9\u30fc\u30c8\u3067\u56f2\u3093\u3067\u304a\u304f\u306e\u304c\u7121\u96e3\u3002 scp -pr 192.168.1.10:\"/path/to/file*\" . \u305d\u306e\u4ed6 \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u30e6\u30fc\u30b6\u3067 ssh \u30ed\u30b0\u30a4\u30f3\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u516c\u958b\u9375\u8a8d\u8a3c\u3067\u3082\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3059\u308b - tkuchiki\u306e\u65e5\u8a18 /etc/shadow \u306e USERNAME \u306e\u6b21\u306b !! \u3068\u66f8\u304b\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u30ed\u30c3\u30af\u3055\u308c\u3066\u3044\u308b \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308c\u3070\u30ed\u30c3\u30af\u306f\u89e3\u9664\u3055\u308c\u308b \u30ed\u30c3\u30af\u4e2d\u306e\u8a8d\u8a3c\u5931\u6557\u306f /var/log/secure \u306b\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u308b /etc/ssh/sshd_config \u306b UsePam yes \u3092\u8a2d\u5b9a\u3059\u308c\u3070\u5236\u9650\u7de9\u548c\u3055\u308c\u308b\u304c\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306f\u843d\u3061\u308b\u3089\u3057\u3044","title":"ssh\u95a2\u9023"},{"location":"Linux/ssh/#ssh","text":"","title":"ssh\u95a2\u9023"},{"location":"Linux/ssh/#ssh-client","text":"","title":"ssh client"},{"location":"Linux/ssh/#ssh_1","text":"$ ssh -i ~/.ssh/id_rsa_nopass 192 .168.0.31 Last login: Tue Aug 11 14:52:32 2020 from 192.168.0.18 $","title":"\u9375\u6307\u5b9a\u3057\u3066ssh"},{"location":"Linux/ssh/#config","text":"$ ssh -F my-ssh/config user@host","title":"\u4efb\u610f\u306e\u30d1\u30b9\u306econfig\u4f7f\u7528"},{"location":"Linux/ssh/#_1","text":"\u8ffd\u8a18: \u8a73\u7d30\u306f\u3053\u3061\u3089 -> [Linux] ProxyJump\u8a2d\u5b9a\u3067SSH\u306e\u591a\u6bb5\u30a2\u30af\u30bb\u30b9\u3068scp/\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9 - zaki work log ProxyCommand \u3092\u4f7f\u3063\u305f\u60c5\u5831\u304c\u305f\u304f\u3055\u3093\u30d2\u30c3\u30c8\u3059\u308b\u3051\u3069\u3001 ProxyJump (-J) \u3092\u4f7f\u3046\u3068\u7c21\u5358\u3002 \u30ed\u30fc\u30ab\u30eb\u304b\u3089192.168.0.19\u2192172.16.1.0\u2192172.29.0.89\u3068\u3044\u3046\u9806\u3067ssh\u591a\u6bb5\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u901a\u308a\u3002 $ ssh 172 .29.0.89 -J 192 .168.0.19,172.16.1.0 \u8a18\u8ff0\u306e\u4ed5\u65b9\u306f ssh \u30b4\u30fc\u30eb(\u7d42\u7740\u70b9) -J \u8e0f\u307f\u53f0\u30db\u30b9\u30c8\u3092\u30a2\u30af\u30bb\u30b9\u9806\u306b\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u7f85\u5217 \u30ed\u30fc\u30ab\u30eb\u304b\u3089192.168.0.19\u2192172.16.1.0\u2192172.29.0.89\u3068\u3044\u3046\u9806\u3067ssh\u591a\u6bb5\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\u5834\u5408\u306f\u3001 $ ssh 172.29.0.89 -J 192.168.0.19,172.16.1.0 \u3067\u3044\u3051\u308b\u3002 pic.twitter.com/7xHlxvxFTr \u2014 z a k i \ud83c\udf08\ud83c\udf09 (@zaki_hmkc) January 29, 2022","title":"\u591a\u6bb5\u30a2\u30af\u30bb\u30b9"},{"location":"Linux/ssh/#_2","text":"-L \u3067\u666e\u901a\u306b\u6307\u5b9a\u3059\u308c\u3070OK\u3002 \u6a5f\u80fd\u81ea\u4f53\u306f\u5f8c\u8ff0\u3002 \u4e0a\u306e\u591a\u6bb5\u30a2\u30af\u30bb\u30b9\u4f8b\u3067\u3042\u308c\u3070\u3001 $ ssh 172 .29.0.89 -J 192 .168.0.19,172.16.1.0 -L 8899 :localhost:8080 \u3068\u3059\u308c\u3070\u3001\u300c 172.29.0.89 \u304b\u3089\u898b\u305f localhost:8080 \u300d\u3078\u5bfe\u3057\u3066\u3001\u300c\u30ed\u30fc\u30ab\u30eb(ssh\u3092\u5b9f\u884c\u3057\u3066\u308b\u51fa\u767a\u70b9)\u306e localhost:8899 \u300d\u3092\u30d5\u30a9\u30ef\u30fc\u30c9\u3059\u308b\u3002","title":"\u591a\u6bb5\u30a2\u30af\u30bb\u30b9\u3068\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u306e\u30b3\u30f3\u30dc"},{"location":"Linux/ssh/#_3","text":"","title":"\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9"},{"location":"Linux/ssh/#_4","text":"$ ssh rhel8 -L 25080 :10.88.250.10:80 rhel8 \u3078ssh\u30ed\u30b0\u30a4\u30f3\u3057\u3064\u3064\u3001 rhel8 \u304b\u3089\u898b\u3066 10.88.250.10:80 \u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u30ed\u30fc\u30ab\u30eb\u306e 25080/TCP \u3067Listen\u3059\u308b\u3002 (\u30ed\u30fc\u30ab\u30eb\u306e 25080/TCP \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068 rhel8 \u304b\u3089\u898b\u305f 10.88.250.10:80 \u3078\u8ee2\u9001\u3055\u308c\u308b)","title":"\u30ed\u30fc\u30ab\u30eb\u30d5\u30a9\u30ef\u30fc\u30c9"},{"location":"Linux/ssh/#_5","text":"\u65b0\u3057\u3044\u884c\u3067 ~ \u62bc\u4e0b\u3067\u30a8\u30b9\u30b1\u30fc\u30d7\u30ad\u30e3\u30e9\u30af\u30bf\u3092\u9001\u4fe1\u3067\u304d\u3001ssh\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u81ea\u4f53\u306e\u6a5f\u80fd\u3092\u547c\u3073\u51fa\u305b\u308b\u3002","title":"\u63a5\u7d9a\u4e2d\u306e\u30a8\u30b9\u30b1\u30fc\u30d7\u30ad\u30e3\u30e9\u30af\u30bf"},{"location":"Linux/ssh/#_6","text":"\u30ea\u30e2\u30fc\u30c8\u30db\u30b9\u30c8\u304b\u3089\u5207\u65ad\u3059\u308b\u3002 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u6a5f\u5668\u306a\u3069\u3067ssh\u7d4c\u7531\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u63a5\u7d9a\u306a\u3069\u3067 exit \u304c\u6253\u3066\u306a\u3044\u3088\u3046\u306a\u5834\u5408\u306b\u4f7f\u3048\u308b\u3002 ~.","title":"\u5207\u65ad\u3059\u308b"},{"location":"Linux/ssh/#sshpass","text":"","title":"sshpass"},{"location":"Linux/ssh/#_7","text":"sshpass -p ${PASSWORD} ssh user@hostname \u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u66f8\u304b\u308c\u3066\u308b\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070 -f \u304c\u4f7f\u3048\u308b\u3002 sshpass -f password.txt ssh user@hostname","title":"\u30d1\u30b9\u30ef\u30fc\u30c9\u8a8d\u8a3c\u3092\u30d0\u30c3\u30c1\u51e6\u7406"},{"location":"Linux/ssh/#_8","text":"sshpass -p ${PASSPHRASE} -P \"Enter passphrase\" ssh user@hostname -i ~/.ssh/my_ssh_key -p (\u3042\u308b\u3044\u306f -f )\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u306a\u304f\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u6307\u5b9a\u3059\u308b\u306e\u306f\u540c\u69d8\u3060\u304c\u3001\u5165\u529b\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u7528\u306b\u30ab\u30b9\u30bf\u30e0\u3059\u308b -P \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306e\u5bfe\u8a71\u51e6\u7406\u3092 sshpass \u3067\u3055\u3070\u304f\u3002","title":"\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u4ed8\u304d\u516c\u958b\u9375\u8a8d\u8a3c\u3092\u30d0\u30c3\u30c1\u51e6\u7406"},{"location":"Linux/ssh/#sshd","text":"","title":"sshd"},{"location":"Linux/ssh/#syntax-check","text":"# sshd -t \u898f\u5b9a\u306b\u7121\u3044\u8a2d\u5b9a\u30ad\u30fc(\u3068\u3044\u3046\u304b\u30b4\u30df)\u304c\u3042\u3063\u305f\u308a\u3059\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b # sshd -t /etc/ssh/sshd_config: line 140: Bad configuration option: a /etc/ssh/sshd_config: terminating, 1 bad configuration options","title":"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30ebsyntax check"},{"location":"Linux/ssh/#_9","text":"\u5b9f\u884c\u3059\u308b\u74b0\u5883\u306e /etc/ssh/sshd_config \u306e\u7d50\u679c\u3001\u3069\u306e\u8a2d\u5b9a\u304c\u9069\u7528\u3055\u308c\u308b\u304b\u306e\u3059\u3079\u3066\u306e\u5185\u5bb9\u304c\u8868\u793a\u3055\u308c\u308b\u3002 ( /etc/ssh_sshd_config \u306b\u66f8\u304b\u306a\u304b\u3063\u305f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u542b\u3081\u3066\u51fa\u529b\u3055\u308c\u308b) # sshd -T \u30c7\u30d5\u30a9\u30eb\u30c8\u3068\u306e\u5dee\u5206\u3092\u898b\u305f\u3044\u5834\u5408\u306f\u4ee5\u4e0b\u3067\u898b\u3088\u3046\u3068\u601d\u3048\u3070\u898b\u308c\u308b\u3002 # diff -u < ( sshd -T -f /dev/null ) < ( sshd -T )","title":"\u6709\u52b9\u306b\u306a\u308b\u8a2d\u5b9a\u306e\u30ea\u30b9\u30c8"},{"location":"Linux/ssh/#_10","text":"SELinux\u304c\u6709\u52b9\u306e\u5834\u5408\u306fsshd\u306e\u8a2d\u5b9a\u5909\u66f4\u3060\u3051\u3067\u306f\u6709\u52b9\u306b\u306a\u3089\u306a\u3044\u3002 Port 25022 \u3092\u8a2d\u5b9a\u3057\u305f\u3068\u304d\u306b\u3001\u3001 # systemctl restart sshd Job for sshd.service failed because the control process exited with error code. See \"systemctl status sshd.service\" and \"journalctl -xe\" for details. # journalctl - xe sshd[ 20141 ]: error: Bind to port 25022 on 0.0.0.0 failed: Permission denied. sshd[ 20141 ]: error: Bind to port 25022 on :: failed: Permission denied. sshd[ 20141 ]: fatal: Cannot bind any address. systemd[ 1 ]: sshd.service: main process exited, code=exited, status= 255/ n / a systemd[ 1 ]: Failed to start OpenSSH server daemon. \u3053\u3093\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3002 # semanage port -a -t ssh_port_t -p tcp 25022 \u3053\u308c\u3067 systemctl restart sshd \u304c\u6709\u52b9\u306b\u306a\u308b\u3002 \u307e\u3041sshd_config\u306e Port \u306e\u3059\u3050\u4e0a\u306b\u30b3\u30e1\u30f3\u30c8\u3067\u66f8\u304b\u308c\u3066\u308b\u3093\u3060\u3051\u3069\u3002","title":"\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u5909\u66f4"},{"location":"Linux/ssh/#_11","text":"","title":"\u9375\u7ba1\u7406"},{"location":"Linux/ssh/#_12","text":"-f \u3067\u4f5c\u6210\u5148\u9375\u30d5\u30a1\u30a4\u30eb (\u30c7\u30d5\u30a9\u30eb\u30c8\u306f $HOME/.ssh/id_*** ) -N \u3067\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba (\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u5bfe\u8a71\u7684\u306b\u805e\u304b\u308c\u308b) $ ssh-keygen -t rsa -f ~/.ssh/id_rsa_nopass -N \"\" -C \"comments\" Generating public/private rsa key pair. Your identification has been saved in /home/zaki/.ssh/id_rsa_nopass. Your public key has been saved in /home/zaki/.ssh/id_rsa_nopass.pub. The key fingerprint is: SHA256:vDhmhHyGepTu929HGu0oPPKS/2HrJexF97CBWu9k0M4 zaki@cloud-dev The key's randomart image is: +---[RSA 2048]----+ | | | | | | | . + . o | | * + S .= = | | + + . o.+o* = | | . o =o. **o E .| | o o=.+o+*o+ | | .. *+B*. . | +----[SHA256]-----+ $ ls ~/.ssh/ id_rsa id_rsa.pub id_rsa_nopass id_rsa_nopass.pub known_hosts","title":"\u30ad\u30fc\u30da\u30a2\u4f5c\u6210"},{"location":"Linux/ssh/#_13","text":"$ ssh-copy-id -i ~/.ssh/id_rsa_nopass 192 .168.0.31 /usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: \"/home/zaki/.ssh/id_rsa_nopass.pub\" The authenticity of host '192.168.0.31 (192.168.0.31)' can't be established. ECDSA key fingerprint is SHA256:WQpvcX7UfYAmdFIMfhak4pCevQvOjZkIZ/fpE4Sofm4. ECDSA key fingerprint is MD5:97:15:37:72:88:ab:59:01:ad:3c:a2:e9:10:90:11:59. Are you sure you want to continue connecting (yes/no)? yes /usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed /usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys zaki@192.168.0.31's password: Number of key(s) added: 1 Now try logging into the machine, with: \"ssh '192.168.0.31'\" and check to make sure that only the key(s) you wanted were added. $","title":"\u30ea\u30e2\u30fc\u30c8\u3078\u516c\u958b\u9375\u30b3\u30d4\u30fc"},{"location":"Linux/ssh/#_14","text":"$ ssh-keygen -l -f ~/.ssh/id_rsa.pub 4096 SHA256:6Qt0+Nikcx/NpgM4xu/4WnDpqhj8L+OjtDEP5O2a7lw no comment (RSA)","title":"\u30d5\u30a3\u30f3\u30ac\u30fc\u30d7\u30ea\u30f3\u30c8\u78ba\u8a8d"},{"location":"Linux/ssh/#_15","text":"$ ssh-keygen -y -f ~/.ssh/id_rsa STDOUT\u3078\u51fa\u529b\u3055\u308c\u308b\u306e\u3067\u3001 > id_rsa.pub \u3068\u304b\u30d5\u30a1\u30a4\u30eb\u3078\u51fa\u529b\u3059\u308c\u3070OK","title":"\u79d8\u5bc6\u9375\u304b\u3089\u516c\u958b\u9375\u3092\u4f5c\u6210"},{"location":"Linux/ssh/#_16","text":"ssh-keygen -f <private-key> -p $ ssh-keygen -f /path/to/id_rsa -p Enter old passphrase: Key has comment '' Enter new passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved with the new passphrase. \u7a7a\u5165\u529b\u3059\u308c\u3070\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u89e3\u9664\u3067\u304d\u308b","title":"\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u5909\u66f4"},{"location":"Linux/ssh/#_17","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4ee5\u4e0b\u3067\u59cb\u307e\u308bOpenSSH\u5f62\u5f0f\u3067\u4f5c\u6210\u3055\u308c\u308b\u3002 -----BEGIN OPENSSH PRIVATE KEY----- -m \u3092\u4f7f\u3046\u3068\u3001\u5f62\u5f0f\u3092\u6307\u5b9a\u3067\u304d\u308b\u3002 PEM\u5f62\u5f0f\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 $ ssh-keygen -m PEM \u51fa\u529b\u3055\u308c\u308b\u9375\u306f\u4ee5\u4e0b\u3067\u59cb\u307e\u308b\u3002 -----BEGIN RSA PRIVATE KEY-----","title":"\u9375\u5f62\u5f0f\u306e\u6307\u5b9a"},{"location":"Linux/ssh/#_18","text":"","title":"\u9375\u5f62\u5f0f\u306e\u5909\u66f4"},{"location":"Linux/ssh/#_19","text":"-p \u3092\u4f7f\u3063\u305f\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u66f4\u65b0\u306e\u969b\u306b\u3001 -m \u3067\u9375\u5f62\u5f0f\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u5909\u63db\u3067\u304d\u308b\u3002 \u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u9375\u30d5\u30a1\u30a4\u30eb\u304c\u66f4\u65b0\u3055\u308c\u308b\u3002 PEM\u5f62\u5f0f\u306b\u5909\u63db\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 $ ssh-keygen -p -m PEM -f ~/.ssh/id_rsa \u30c7\u30d5\u30a9\u30eb\u30c8\u306f RFC4716 \u3002OpenSSH\u5f62\u5f0f\u306b\u3059\u308b\u5834\u5408\u306f\u3001 -m RFC4716 \u3092\u6307\u5b9a\u3059\u308c\u3070OK","title":"\u79d8\u5bc6\u9375"},{"location":"Linux/ssh/#_20","text":"OpenSSH\u5f62\u5f0f( ssh-rsa \u306a\u3069\u3067\u59cb\u307e\u308b1\u884c\u306e\u66f8\u5f0f) -> PEM\u5f62\u5f0f( BEGIN PUBLIC KEY \u304b\u3089 END \u307e\u3067\u306e\u8907\u6570\u884c\u5f62\u5f0f) $ ssh-keygen -f ~/.ssh/id_rsa.pub -e -m PKCS8 PEM\u5f62\u5f0f -> OpenSSH\u5f62\u5f0f $ ssh-keygen -f ~/.ssh/id_rsa.pub -i -m PKCS8 \u300cOpenSSH\u5f62\u5f0f\u3068\u3007\u3007\u306e\u5909\u63db\u300d\u3067\u3001\u51fa\u529b( -e export)\u3084\u5165\u529b( -i import)\u306e\u9375\u5f62\u5f0f\u3092 -m \u3067\u6307\u5b9a\u3059\u308b\u3063\u307d\u3044\u3002(\u7247\u65b9\u306f\u6307\u5b9a\u3067\u304d\u308b\u304c\u3082\u3046\u7247\u65b9\u306fOpenSSH\u5f62\u5f0f\u56fa\u5b9a)","title":"\u516c\u958b\u9375"},{"location":"Linux/ssh/#_21","text":"-b \u3067\u6307\u5b9a\u3059\u308b\u3002 $ ssh-keygen -t rsa -b 4096","title":"\u9375\u30b5\u30a4\u30ba\u6307\u5b9a"},{"location":"Linux/ssh/#ssh-copy-id","text":"$ ssh-copy-id [ -i identity_file ] [ -p port ] [ username@ ] hostname","title":"ssh-copy-id"},{"location":"Linux/ssh/#scp","text":"","title":"scp"},{"location":"Linux/ssh/#_22","text":"\u30af\u30a9\u30fc\u30c8\u304c\u7121\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b scp server:'/path/to/file\\(...\\)' dest","title":"\u30e1\u30bf\u6587\u5b57\u306e\u30a8\u30b9\u30b1\u30fc\u30d7"},{"location":"Linux/ssh/#_23","text":"-r \u3092\u4ed8\u4e0e\u3057\u3066\u518d\u5e30\u30b3\u30d4\u30fc\u3059\u308b scp -r src dst","title":"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30b3\u30d4\u30fc"},{"location":"Linux/ssh/#_24","text":"-p \u3092\u4ed8\u4e0e\u3059\u308b\u3002 scp -p src dst","title":"\u5c5e\u6027\u7dad\u6301\u3057\u3066\u30b3\u30d4\u30fc"},{"location":"Linux/ssh/#_25","text":"\u30ea\u30e2\u30fc\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u30fb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5bfe\u3057\u3066\u3082\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c8\u306f\u6709\u52b9\u3002 \u305f\u3060\u3057\u30ed\u30fc\u30ab\u30eb\u306b\u540c\u3058\u30d1\u30b9\u304c\u3042\u308b\u3068\u30ed\u30fc\u30ab\u30eb\u5074\u3067\u5c55\u958b\u3055\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u30af\u30a9\u30fc\u30c8\u3067\u56f2\u3093\u3067\u304a\u304f\u306e\u304c\u7121\u96e3\u3002 scp -pr 192.168.1.10:\"/path/to/file*\" .","title":"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9"},{"location":"Linux/ssh/#_26","text":"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u30e6\u30fc\u30b6\u3067 ssh \u30ed\u30b0\u30a4\u30f3\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u516c\u958b\u9375\u8a8d\u8a3c\u3067\u3082\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3059\u308b - tkuchiki\u306e\u65e5\u8a18 /etc/shadow \u306e USERNAME \u306e\u6b21\u306b !! \u3068\u66f8\u304b\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u30ed\u30c3\u30af\u3055\u308c\u3066\u3044\u308b \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308c\u3070\u30ed\u30c3\u30af\u306f\u89e3\u9664\u3055\u308c\u308b \u30ed\u30c3\u30af\u4e2d\u306e\u8a8d\u8a3c\u5931\u6557\u306f /var/log/secure \u306b\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u308b /etc/ssh/sshd_config \u306b UsePam yes \u3092\u8a2d\u5b9a\u3059\u308c\u3070\u5236\u9650\u7de9\u548c\u3055\u308c\u308b\u304c\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306f\u843d\u3061\u308b\u3089\u3057\u3044","title":"\u305d\u306e\u4ed6"},{"location":"Linux/wsl/","text":"WSL \u4e00\u89a7 wsl --list \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u4e00\u89a7 wsl --list --online \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb wsl --install \u30c7\u30d5\u30a9\u30eb\u30c8\u306f Ubuntu \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 wsl --install -d Ubuntu-20.04 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3059\u308b\u3068\u8d77\u52d5\u307e\u3067\u884c\u308f\u308c\u3001\u521d\u671f\u8a2d\u5b9a\u304c\u958b\u59cb\u3055\u308c\u308b\u3002 Ubuntu\u306e\u5834\u5408\u3001\u4f5c\u6210\u3059\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u5165\u529b\u3092\u884c\u3046\u3002 WSL\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u8a2d\u5b9a WSL 2\u306b\u8a2d\u5b9a\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 wsl --set-version Ubuntu-20.04 2 \u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u901a\u308a\u3002 PS C:\\Users\\h_miyazaki> wsl --set-version Ubuntu-20.04 2 \u5909\u63db\u4e2d\u3067\u3059\u3002\u3053\u306e\u51e6\u7406\u306b\u306f\u6570\u5206\u304b\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059... WSL 2 \u3068\u306e\u4e3b\u306a\u9055\u3044\u306b\u3064\u3044\u3066\u306f\u3001https://aka.ms/wsl2 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044 \u5909\u63db\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 wsl -l -v reboot\u3059\u308b WSL\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067 reboot \u5b9f\u884c\u3057\u3066\u3082\u4ee5\u4e0b\u30a8\u30e9\u30fc\u3067\u5b9f\u884c\u3067\u304d\u306a\u3044\u3002 zaki@wensley:~$ sudo reboot [sudo] password for zaki: System has not been booted with systemd as init system (PID 1). Can't operate. Failed to connect to bus: Host is down Failed to talk to init daemon. \u518d\u8d77\u52d5\u3059\u308b\u306b\u306f\u3001\u30db\u30b9\u30c8OS\u306e wsl \u30b3\u30de\u30f3\u30c9\u3067terminate\u3059\u308b\u3053\u3068\u3067\u505c\u6b62\u3059\u308b\u306e\u3067\u3001\u518d\u63a5\u7d9a\u3059\u308b\u3002 wsl --terminate Ubuntu-20.04 \u505c\u6b62\u3059\u308b PS C:\\Users\\h_miyazaki> wsl -l -v NAME STATE VERSION * docker-desktop-data Running 2 Ubuntu-20.04 Running 1 Running \u306b\u306a\u3063\u3066\u3044\u308b\u30db\u30b9\u30c8\u3092\u505c\u6b62\u3059\u308b\u306b\u306f\u3001\u2191\u3068\u540c\u69d8 --terminate | -t \u3067\u505c\u6b62\u3059\u308b\u3002 wsl -t Ubuntu-20.04 \u74b0\u5883\u306e\u524a\u9664 > wsl --unregister ubuntu-20.04-container \u767b\u9332\u3092\u89e3\u9664\u3057\u3066\u3044\u307e\u3059... VM\u74b0\u5883\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8 tar\u5f62\u5f0f\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u3002 wsl --export Ubuntu-20.04 Ubuntu-20.04.tar \u30ab\u30ec\u30f3\u30c8\u306b Ubuntu-20.04.tar \u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002 VM\u74b0\u5883\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305ftar\u30d5\u30a1\u30a4\u30eb\u3092WSL\u306b\u767b\u9332\u3059\u308b\u3002 \u540d\u524d\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u3001\u74b0\u5883\u306e\u30b3\u30d4\u30fc\u3068\u306a\u308b\u3002 \u66f8\u5f0f\u306f wsl --import \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u540d \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9 \u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308btar\u30d5\u30a1\u30a4\u30eb \u3002 wsl --import ubuntu-20.04-container .\\work\\wsl\\ubuntu-20.04-container .\\Ubuntu-20.04.tar \u5236\u9650\u3068\u3057\u3066\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u30fc\u304c root \u306b\u306a\u3063\u3066\u3057\u307e\u3046\u4ed5\u69d8\u304c\u3042\u308b\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u5909\u66f4 PowerShell\u3067\u8a2d\u5b9a\u53ef\u80fd\u3002 PS C:\\Users\\zaki> Function WSL-SetDefaultUser ($distro, $user) { Get-ItemProperty Registry::HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Lxss\\*\\ DistributionName | Where-Object -Property DistributionName -eq $distro | Set-ItemProperty -Name DefaultUid -Value ((wsl -d $distro -u $user -e id -u) | Out-String); }; PS C:\\Users\\zaki> WSL-SetDefaultUser ubuntu-20.04-container zaki","title":"WSL"},{"location":"Linux/wsl/#wsl","text":"","title":"WSL"},{"location":"Linux/wsl/#_1","text":"wsl --list \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u4e00\u89a7 wsl --list --online","title":"\u4e00\u89a7"},{"location":"Linux/wsl/#_2","text":"wsl --install \u30c7\u30d5\u30a9\u30eb\u30c8\u306f Ubuntu \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002 \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 wsl --install -d Ubuntu-20.04 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3059\u308b\u3068\u8d77\u52d5\u307e\u3067\u884c\u308f\u308c\u3001\u521d\u671f\u8a2d\u5b9a\u304c\u958b\u59cb\u3055\u308c\u308b\u3002 Ubuntu\u306e\u5834\u5408\u3001\u4f5c\u6210\u3059\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u5165\u529b\u3092\u884c\u3046\u3002","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Linux/wsl/#wsl_1","text":"WSL 2\u306b\u8a2d\u5b9a\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 wsl --set-version Ubuntu-20.04 2 \u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u901a\u308a\u3002 PS C:\\Users\\h_miyazaki> wsl --set-version Ubuntu-20.04 2 \u5909\u63db\u4e2d\u3067\u3059\u3002\u3053\u306e\u51e6\u7406\u306b\u306f\u6570\u5206\u304b\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059... WSL 2 \u3068\u306e\u4e3b\u306a\u9055\u3044\u306b\u3064\u3044\u3066\u306f\u3001https://aka.ms/wsl2 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044 \u5909\u63db\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 wsl -l -v","title":"WSL\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u8a2d\u5b9a"},{"location":"Linux/wsl/#reboot","text":"WSL\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067 reboot \u5b9f\u884c\u3057\u3066\u3082\u4ee5\u4e0b\u30a8\u30e9\u30fc\u3067\u5b9f\u884c\u3067\u304d\u306a\u3044\u3002 zaki@wensley:~$ sudo reboot [sudo] password for zaki: System has not been booted with systemd as init system (PID 1). Can't operate. Failed to connect to bus: Host is down Failed to talk to init daemon. \u518d\u8d77\u52d5\u3059\u308b\u306b\u306f\u3001\u30db\u30b9\u30c8OS\u306e wsl \u30b3\u30de\u30f3\u30c9\u3067terminate\u3059\u308b\u3053\u3068\u3067\u505c\u6b62\u3059\u308b\u306e\u3067\u3001\u518d\u63a5\u7d9a\u3059\u308b\u3002 wsl --terminate Ubuntu-20.04","title":"reboot\u3059\u308b"},{"location":"Linux/wsl/#_3","text":"PS C:\\Users\\h_miyazaki> wsl -l -v NAME STATE VERSION * docker-desktop-data Running 2 Ubuntu-20.04 Running 1 Running \u306b\u306a\u3063\u3066\u3044\u308b\u30db\u30b9\u30c8\u3092\u505c\u6b62\u3059\u308b\u306b\u306f\u3001\u2191\u3068\u540c\u69d8 --terminate | -t \u3067\u505c\u6b62\u3059\u308b\u3002 wsl -t Ubuntu-20.04","title":"\u505c\u6b62\u3059\u308b"},{"location":"Linux/wsl/#_4","text":"> wsl --unregister ubuntu-20.04-container \u767b\u9332\u3092\u89e3\u9664\u3057\u3066\u3044\u307e\u3059...","title":"\u74b0\u5883\u306e\u524a\u9664"},{"location":"Linux/wsl/#vm","text":"tar\u5f62\u5f0f\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u3002 wsl --export Ubuntu-20.04 Ubuntu-20.04.tar \u30ab\u30ec\u30f3\u30c8\u306b Ubuntu-20.04.tar \u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002","title":"VM\u74b0\u5883\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8"},{"location":"Linux/wsl/#vm_1","text":"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305ftar\u30d5\u30a1\u30a4\u30eb\u3092WSL\u306b\u767b\u9332\u3059\u308b\u3002 \u540d\u524d\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u3001\u74b0\u5883\u306e\u30b3\u30d4\u30fc\u3068\u306a\u308b\u3002 \u66f8\u5f0f\u306f wsl --import \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u540d \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9 \u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308btar\u30d5\u30a1\u30a4\u30eb \u3002 wsl --import ubuntu-20.04-container .\\work\\wsl\\ubuntu-20.04-container .\\Ubuntu-20.04.tar \u5236\u9650\u3068\u3057\u3066\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u30fc\u304c root \u306b\u306a\u3063\u3066\u3057\u307e\u3046\u4ed5\u69d8\u304c\u3042\u308b\u3002","title":"VM\u74b0\u5883\u306e\u30a4\u30f3\u30dd\u30fc\u30c8"},{"location":"Linux/wsl/#_5","text":"PowerShell\u3067\u8a2d\u5b9a\u53ef\u80fd\u3002 PS C:\\Users\\zaki> Function WSL-SetDefaultUser ($distro, $user) { Get-ItemProperty Registry::HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Lxss\\*\\ DistributionName | Where-Object -Property DistributionName -eq $distro | Set-ItemProperty -Name DefaultUid -Value ((wsl -d $distro -u $user -e id -u) | Out-String); }; PS C:\\Users\\zaki> WSL-SetDefaultUser ubuntu-20.04-container zaki","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u5909\u66f4"},{"location":"Misc/4sq/","text":"Forsquare API \u30b5\u30a4\u30c8 Foursquare APIs Overview Foursquare Developer Console \u30c8\u30fc\u30af\u30f3 \u30a2\u30d7\u30ea\u306e\u4f5c\u6210 \u300c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u300d\u3092\u5b9f\u65bd\u3002\u3053\u308c\u304c\u30a2\u30d7\u30ea\u3068\u306a\u3063\u3066Client ID\u3068Client Secret\u304c\u5f97\u3089\u308c\u308b\u3002 API\u30ad\u30fc \u300cGenerate API Key\u300d\u62bc\u4e0b\u3067\u4f5c\u6210\u3002\u9589\u3058\u308b\u3068\u518d\u8868\u793a\u306f\u4e0d\u53ef\u306a\u306e\u3067\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002 OAuth(\u624b\u52d5) Authentication \u30c8\u30fc\u30af\u30f3\u304cquery\u3068\u3057\u3066\u30ed\u30b0\u306b\u8a18\u9332\u3055\u308c\u3066\u3082\u56f0\u3089\u306a\u3044web\u30b5\u30fc\u30d0\u30fc\u3092\u7528\u610f\u3057\u3066\u300cRedirect URL\u300d\u306b\u8a2d\u5b9a https://foursquare.com/oauth2/authenticate?client_id=YOUR_CLIENT_ID&response_type=code&redirect_uri=YOUR_REGISTERED_REDIRECT_URI \u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u300c\u8a31\u53ef\u300d \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u5148URL\u306b\u9077\u79fb\u3057\u3066\u3001\u305d\u306e\u3068\u304d\u306eURL\u672b\u5c3e\u306e code=*** \u3092\u30e1\u30e2 https://foursquare.com/oauth2/access_token?client_id=YOUR_CLIENT_ID&client_secret=YOUR_CLIENT_SECRET&grant_type=authorization_code&redirect_uri=YOUR_REGISTERED_REDIRECT_URI&code=CODE \u306b\u30a2\u30af\u30bb\u30b9 \u3053\u308c\u3067token\u304c\u8868\u793a\u3055\u308c\u308b API Place Search curl --request GET \\ --url https://api.foursquare.com/v3/places/search \\ --header \"Authorization: $FSQ_APP_API_KEY\" \\ --header 'accept: application/json' \u7def\u5ea6\u7d4c\u5ea6\u30fb\u691c\u7d22\u6587\u5b57\u5217\u8ffd\u52a0 curl --request GET \\ --url 'https://api.foursquare.com/v3/places/search?query=%E3%81%8A%E5%8F%B0%E5%A0%B4&ll=35.6325714%2C139.7738516' \\ --header \"Authorization: $FSQ_APP_API_KEY\" \\ --header \"accept: application/json\" Get User Detail curl --request GET \\ --url \"https://api.foursquare.com/v2/users/self?v=20240109&oauth_token=$FSQ_OAUTH_TOKEN\" \\ --header \"accept: application/json\" \u4efb\u610f\u306e\u30e6\u30fc\u30b6\u30fc\u306e\u60c5\u5831\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u3002 curl --request GET \\ --url \"https://api.foursquare.com/v2/users/${USER_ID}?v=20240109&oauth_token=$FSQ_OAUTH_TOKEN\" \\ --header \"accept: application/json\" Get User Checkins curl --request GET \\ --url \"https://api.foursquare.com/v2/users/self/checkins?v=20231010&limit=5&offset=0&oauth_token=$FSQ_OAUTH_TOKEN\" \\ --header 'accept: application/json' offset \u304b\u3089 limit \u4ef6\u6570\u5206\u306e\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u4e00\u89a7\u3002 \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u57fa\u672c\u7684\u306a\u69cb\u9020\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002( shout \u306f\u30b3\u30e1\u30f3\u30c8\u304c\u7121\u3051\u308c\u3070\u30ad\u30fc\u3082\u7121\u3044) { \"response\" : { \"checkins\" : { \"count\" : \u7dcf\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u6570 , \"items\" : [ { \"id\" : \"\u30c1\u30a7\u30c3\u30af\u30a4\u30f3ID\" , \"shout\" : \"\u30b3\u30e1\u30f3\u30c8\" , ... \"venue\" : { \"id\" : \"\u30f4\u30a7\u30cb\u30e5\u30fcID\" , \"name\" : \"\u30f4\u30a7\u30cb\u30e5\u30fc\u540d\" , ... }, \"photos\" : { ... } } } \u3053\u306e\u30c1\u30a7\u30c3\u30af\u30a4\u30f3ID\u3067details\u3092\u53d6\u5f97\u3059\u308b\u3002 photos photos\u306b\u95a2\u3057\u3066\u306f\u4ee5\u4e0b\u3002 \"photos\" : { \"count\" : \u679a\u6570 , \"items\" : [ { \"id\" : \"...\" , \"prefix\" : \"https://fastly.4sqi.net/img/general/\" , \"suffix\" : \"/.........jpg\" , \"width\" : wid t h , \"height\" : heigh t , } ] } \u3053\u306e\u3068\u304d\u306e\u753b\u50cf\u306e\u30ea\u30f3\u30af\u306f prefix + width + \"x\" + height + suffix \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002 (\u53b3\u5bc6\u306b\u306fwidth x height\u306f\u6307\u5b9a\u3057\u305f\u5024\u306b\u62e1\u7e2e\u30fb\u30c8\u30ea\u30df\u30f3\u30b0\u3055\u308c\u308b) location \u65e7\u30b7\u30a7\u30a2\u6587\u5b57\u5217\u306e\u30a2\u30c9\u30ec\u30b9\u306e\u300c\u6e2f\u533a, \u6771\u4eac\u90fd\u300d\u306f venue.location.formattedAddress \u306b\u914d\u5217\u8981\u7d20\u306e\u4e00\u3064\u3068\u3057\u3066\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b\u3002 \"venue\" : { \"location\" : { \"address\" : \"\u53f0\u5834\u4e00\u4e01\u76ee\" , \"postalCode\" : \"135-0091\" , \"cc\" : \"JP\" , \"city\" : \"\u6771\u4eac\" , \"state\" : \"\u6771\u4eac\u90fd\" , \"country\" : \"\u65e5\u672c\" , \"formattedAddress\" : [ \"\u53f0\u5834\u4e00\u4e01\u76ee\" , \"\u6e2f\u533a, \u6771\u4eac\u90fd\" , \"135-0091\" ] }, \u305f\u3060\u3057\u3001 location \u306e\u8981\u7d20\u306e postalCode \u304c\u7121\u3044\u5834\u5408\u306f3\u3064\u76ee\u306e\"135-0091\"\u76f8\u5f53\u304c\u3001 address \u304c\u7121\u3044\u5834\u5408\u306f1\u3064\u76ee\u306e\"\u53f0\u5834\u4e00\u4e01\u76ee\"\u304c\u7121\u3044\u305f\u3081\u3001\u914d\u5217\u8981\u7d20\u306f\u56fa\u5b9a\u3067\u306f\u306a\u3044\u3002 (2\u756a\u76ee\u306e\"\u6e2f\u533a, \u6771\u4eac\u90fd\"\u304c\u7121\u3044\u30d1\u30bf\u30fc\u30f3\u306e\u6709\u7121\u306f\u4e0d\u660e) \u307e\u305f\u3001 formattedAddress \u81ea\u4f53\u304c\u7121\u3044\u30f4\u30a7\u30cb\u30e5\u30fc\u3082\u3042\u308b\u3002 Get Check-in Details Checkins\u3067\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u306eID\u304c\u53d6\u308c\u305f\u3089Details\u3067\u30b7\u30a7\u30a2\u7528URL\u306a\u3069\u3082\u53d6\u308c\u308b curl --request GET \\ --url \"https://api.foursquare.com/v2/checkins/$CHECKIN_ID?v=20231010&oauth_token=$FSQ_OAUTH_TOKEN\" \\ --header 'accept: application/json' \u3053\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a response.checkin.checkinShortUrl \u304c\u3042\u308b\u3002 Twitter\u306a\u3069\u306e\u30b7\u30a7\u30a2\u3092\u6709\u52b9\u306b\u3057\u3066\u3044\u308b\u3068 shares \u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u308b\u3002 \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u57fa\u672c\u7684\u306a\u69cb\u9020\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 { \"response\" : { \"checkin\" : { \"id\" : \"\u30c1\u30a7\u30c3\u30af\u30a4\u30f3ID\" , \"shout\" : \"233\u65e5\u8a18\u5ff5\u65e5\" , : , \"user\" : { }, \"venue\" : { }, \"photos\" : { }, \"checkinShortUrl\" : \"https://www.swarmapp.com/.../checkin/...\" , \"shares\" : { \"twitter\" : true } } } } Get Place Details API\u306fv2\u304c\u3059\u3067\u306b\u7121\u304f\u306a\u308av3\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002 Get Place Details curl --request GET \\ --url \"https://api.foursquare.com/v3/places/${PLACE_ID}?fields=social_media\" \\ --header \"Authorization: ${FSQ_APP_API_KEY}\" \\ --header \"accept: application/json\" ?fields= \u3067\u8fd4\u3059\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3067\u304d\u308b\u3002 TwitterID\u306a\u3069\u306e\u30bd\u30fc\u30b7\u30e3\u30eb\u30e1\u30c7\u30a3\u30a2\u60c5\u5831\u3067\u3042\u308c\u3070 ?fields=social_media \u3092\u6307\u5b9a\u3002 { \"social_media\" : { \"twitter\" : \"3rdhakatadaruma\" } }","title":"Forsquare API"},{"location":"Misc/4sq/#forsquare-api","text":"","title":"Forsquare API"},{"location":"Misc/4sq/#_1","text":"Foursquare APIs Overview Foursquare Developer Console","title":"\u30b5\u30a4\u30c8"},{"location":"Misc/4sq/#_2","text":"","title":"\u30c8\u30fc\u30af\u30f3"},{"location":"Misc/4sq/#_3","text":"\u300c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u300d\u3092\u5b9f\u65bd\u3002\u3053\u308c\u304c\u30a2\u30d7\u30ea\u3068\u306a\u3063\u3066Client ID\u3068Client Secret\u304c\u5f97\u3089\u308c\u308b\u3002","title":"\u30a2\u30d7\u30ea\u306e\u4f5c\u6210"},{"location":"Misc/4sq/#api","text":"\u300cGenerate API Key\u300d\u62bc\u4e0b\u3067\u4f5c\u6210\u3002\u9589\u3058\u308b\u3068\u518d\u8868\u793a\u306f\u4e0d\u53ef\u306a\u306e\u3067\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002","title":"API\u30ad\u30fc"},{"location":"Misc/4sq/#oauth","text":"Authentication \u30c8\u30fc\u30af\u30f3\u304cquery\u3068\u3057\u3066\u30ed\u30b0\u306b\u8a18\u9332\u3055\u308c\u3066\u3082\u56f0\u3089\u306a\u3044web\u30b5\u30fc\u30d0\u30fc\u3092\u7528\u610f\u3057\u3066\u300cRedirect URL\u300d\u306b\u8a2d\u5b9a https://foursquare.com/oauth2/authenticate?client_id=YOUR_CLIENT_ID&response_type=code&redirect_uri=YOUR_REGISTERED_REDIRECT_URI \u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u300c\u8a31\u53ef\u300d \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u5148URL\u306b\u9077\u79fb\u3057\u3066\u3001\u305d\u306e\u3068\u304d\u306eURL\u672b\u5c3e\u306e code=*** \u3092\u30e1\u30e2 https://foursquare.com/oauth2/access_token?client_id=YOUR_CLIENT_ID&client_secret=YOUR_CLIENT_SECRET&grant_type=authorization_code&redirect_uri=YOUR_REGISTERED_REDIRECT_URI&code=CODE \u306b\u30a2\u30af\u30bb\u30b9 \u3053\u308c\u3067token\u304c\u8868\u793a\u3055\u308c\u308b","title":"OAuth(\u624b\u52d5)"},{"location":"Misc/4sq/#api_1","text":"","title":"API"},{"location":"Misc/4sq/#place-search","text":"curl --request GET \\ --url https://api.foursquare.com/v3/places/search \\ --header \"Authorization: $FSQ_APP_API_KEY\" \\ --header 'accept: application/json' \u7def\u5ea6\u7d4c\u5ea6\u30fb\u691c\u7d22\u6587\u5b57\u5217\u8ffd\u52a0 curl --request GET \\ --url 'https://api.foursquare.com/v3/places/search?query=%E3%81%8A%E5%8F%B0%E5%A0%B4&ll=35.6325714%2C139.7738516' \\ --header \"Authorization: $FSQ_APP_API_KEY\" \\ --header \"accept: application/json\"","title":"Place Search"},{"location":"Misc/4sq/#get-user-detail","text":"curl --request GET \\ --url \"https://api.foursquare.com/v2/users/self?v=20240109&oauth_token=$FSQ_OAUTH_TOKEN\" \\ --header \"accept: application/json\" \u4efb\u610f\u306e\u30e6\u30fc\u30b6\u30fc\u306e\u60c5\u5831\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u3002 curl --request GET \\ --url \"https://api.foursquare.com/v2/users/${USER_ID}?v=20240109&oauth_token=$FSQ_OAUTH_TOKEN\" \\ --header \"accept: application/json\"","title":"Get User Detail"},{"location":"Misc/4sq/#get-user-checkins","text":"curl --request GET \\ --url \"https://api.foursquare.com/v2/users/self/checkins?v=20231010&limit=5&offset=0&oauth_token=$FSQ_OAUTH_TOKEN\" \\ --header 'accept: application/json' offset \u304b\u3089 limit \u4ef6\u6570\u5206\u306e\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u4e00\u89a7\u3002 \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u57fa\u672c\u7684\u306a\u69cb\u9020\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002( shout \u306f\u30b3\u30e1\u30f3\u30c8\u304c\u7121\u3051\u308c\u3070\u30ad\u30fc\u3082\u7121\u3044) { \"response\" : { \"checkins\" : { \"count\" : \u7dcf\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u6570 , \"items\" : [ { \"id\" : \"\u30c1\u30a7\u30c3\u30af\u30a4\u30f3ID\" , \"shout\" : \"\u30b3\u30e1\u30f3\u30c8\" , ... \"venue\" : { \"id\" : \"\u30f4\u30a7\u30cb\u30e5\u30fcID\" , \"name\" : \"\u30f4\u30a7\u30cb\u30e5\u30fc\u540d\" , ... }, \"photos\" : { ... } } } \u3053\u306e\u30c1\u30a7\u30c3\u30af\u30a4\u30f3ID\u3067details\u3092\u53d6\u5f97\u3059\u308b\u3002","title":"Get User Checkins"},{"location":"Misc/4sq/#photos","text":"photos\u306b\u95a2\u3057\u3066\u306f\u4ee5\u4e0b\u3002 \"photos\" : { \"count\" : \u679a\u6570 , \"items\" : [ { \"id\" : \"...\" , \"prefix\" : \"https://fastly.4sqi.net/img/general/\" , \"suffix\" : \"/.........jpg\" , \"width\" : wid t h , \"height\" : heigh t , } ] } \u3053\u306e\u3068\u304d\u306e\u753b\u50cf\u306e\u30ea\u30f3\u30af\u306f prefix + width + \"x\" + height + suffix \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002 (\u53b3\u5bc6\u306b\u306fwidth x height\u306f\u6307\u5b9a\u3057\u305f\u5024\u306b\u62e1\u7e2e\u30fb\u30c8\u30ea\u30df\u30f3\u30b0\u3055\u308c\u308b)","title":"photos"},{"location":"Misc/4sq/#location","text":"\u65e7\u30b7\u30a7\u30a2\u6587\u5b57\u5217\u306e\u30a2\u30c9\u30ec\u30b9\u306e\u300c\u6e2f\u533a, \u6771\u4eac\u90fd\u300d\u306f venue.location.formattedAddress \u306b\u914d\u5217\u8981\u7d20\u306e\u4e00\u3064\u3068\u3057\u3066\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b\u3002 \"venue\" : { \"location\" : { \"address\" : \"\u53f0\u5834\u4e00\u4e01\u76ee\" , \"postalCode\" : \"135-0091\" , \"cc\" : \"JP\" , \"city\" : \"\u6771\u4eac\" , \"state\" : \"\u6771\u4eac\u90fd\" , \"country\" : \"\u65e5\u672c\" , \"formattedAddress\" : [ \"\u53f0\u5834\u4e00\u4e01\u76ee\" , \"\u6e2f\u533a, \u6771\u4eac\u90fd\" , \"135-0091\" ] }, \u305f\u3060\u3057\u3001 location \u306e\u8981\u7d20\u306e postalCode \u304c\u7121\u3044\u5834\u5408\u306f3\u3064\u76ee\u306e\"135-0091\"\u76f8\u5f53\u304c\u3001 address \u304c\u7121\u3044\u5834\u5408\u306f1\u3064\u76ee\u306e\"\u53f0\u5834\u4e00\u4e01\u76ee\"\u304c\u7121\u3044\u305f\u3081\u3001\u914d\u5217\u8981\u7d20\u306f\u56fa\u5b9a\u3067\u306f\u306a\u3044\u3002 (2\u756a\u76ee\u306e\"\u6e2f\u533a, \u6771\u4eac\u90fd\"\u304c\u7121\u3044\u30d1\u30bf\u30fc\u30f3\u306e\u6709\u7121\u306f\u4e0d\u660e) \u307e\u305f\u3001 formattedAddress \u81ea\u4f53\u304c\u7121\u3044\u30f4\u30a7\u30cb\u30e5\u30fc\u3082\u3042\u308b\u3002","title":"location"},{"location":"Misc/4sq/#get-check-in-details","text":"Checkins\u3067\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u306eID\u304c\u53d6\u308c\u305f\u3089Details\u3067\u30b7\u30a7\u30a2\u7528URL\u306a\u3069\u3082\u53d6\u308c\u308b curl --request GET \\ --url \"https://api.foursquare.com/v2/checkins/$CHECKIN_ID?v=20231010&oauth_token=$FSQ_OAUTH_TOKEN\" \\ --header 'accept: application/json' \u3053\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a response.checkin.checkinShortUrl \u304c\u3042\u308b\u3002 Twitter\u306a\u3069\u306e\u30b7\u30a7\u30a2\u3092\u6709\u52b9\u306b\u3057\u3066\u3044\u308b\u3068 shares \u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u308b\u3002 \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u57fa\u672c\u7684\u306a\u69cb\u9020\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 { \"response\" : { \"checkin\" : { \"id\" : \"\u30c1\u30a7\u30c3\u30af\u30a4\u30f3ID\" , \"shout\" : \"233\u65e5\u8a18\u5ff5\u65e5\" , : , \"user\" : { }, \"venue\" : { }, \"photos\" : { }, \"checkinShortUrl\" : \"https://www.swarmapp.com/.../checkin/...\" , \"shares\" : { \"twitter\" : true } } } }","title":"Get Check-in Details"},{"location":"Misc/4sq/#get-place-details","text":"API\u306fv2\u304c\u3059\u3067\u306b\u7121\u304f\u306a\u308av3\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002 Get Place Details curl --request GET \\ --url \"https://api.foursquare.com/v3/places/${PLACE_ID}?fields=social_media\" \\ --header \"Authorization: ${FSQ_APP_API_KEY}\" \\ --header \"accept: application/json\" ?fields= \u3067\u8fd4\u3059\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3067\u304d\u308b\u3002 TwitterID\u306a\u3069\u306e\u30bd\u30fc\u30b7\u30e3\u30eb\u30e1\u30c7\u30a3\u30a2\u60c5\u5831\u3067\u3042\u308c\u3070 ?fields=social_media \u3092\u6307\u5b9a\u3002 { \"social_media\" : { \"twitter\" : \"3rdhakatadaruma\" } }","title":"Get Place Details"},{"location":"Misc/adobe/","text":"Adobe Lightroom \u30d5\u30a3\u30eb\u30bf\u30fc\u306b\u300c\u73fe\u50cf\u8abf\u6574\u6e08\u307f\u300d\u8ffd\u52a0 \u30e9\u30a4\u30d6\u30e9\u30ea\u30d5\u30a3\u30eb\u30bf\u30fc\u306e\u300c\u30e1\u30bf\u30c7\u30fc\u30bf\u300d\u3092\u8868\u793a \u9069\u5f53\u306a\u7bb1\u306e\u53f3\u4e0a\u306e\u300c\u2261\u300d\u304b\u3089\u300c\u5217\u3092\u8ffd\u52a0\u300d \u8ffd\u52a0\u3057\u305f\u7bb1\u3067\u300cDevelop\u300d->\u300c\u30e1\u30bf\u30c7\u30fc\u30bf\u72b6\u6cc1\u300d\u3092\u9078\u629e \u300c\u5909\u66f4\u3042\u308a\u300d\u3092\u9078\u629e \u3053\u306e\u72b6\u614b\u3067\u300c\u30ab\u30b9\u30bf\u30e0\u30d5\u30a3\u30eb\u30bf\u30fc\u300d\u306e\u300c\u73fe\u5728\u306e\u8a2d\u5b9a\u3092\u65b0\u898f\u30d7\u30ea\u30bb\u30c3\u30c8\u3068\u3057\u3066\u4fdd\u5b58\u300d \u5199\u771f\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\u5909\u66f4 Lightroom\u5916\u3067\u64cd\u4f5c\u3057\u305f\u5834\u5408 \u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u306a\u3069Lightroom\u5916\u3067\u30d5\u30a9\u30eb\u30c0\u3092\u79fb\u52d5 \u203bLightroom\u306f\u8d77\u52d5\u3057\u305f\u307e\u307e\u3067\u3082\u826f\u3044 Lightroom\u3067\u79fb\u52d5\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u304c\u30b0\u30ec\u30fc\u30a2\u30a6\u30c8\u3059\u308b\u306e\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3067\u300c\u898b\u3064\u304b\u3089\u306a\u3044\u30d5\u30a9\u30eb\u30c0\u30fc\u3092\u691c\u7d22\u300d \u79fb\u52d5\u5148\u306e\u30d5\u30a9\u30eb\u30c0\u3092\u9078\u629e Lightroom\u3067\u306e\u64cd\u4f5c \u5de6\u30da\u30a4\u30f3\u306e\u30d5\u30a9\u30eb\u30c0\u4e00\u89a7\u304b\u3089\u79fb\u52d5\u5bfe\u8c61\u3092\u9078\u629e \u79fb\u52d5\u5148\u3078\u30c9\u30e9\u30c3\u30b0 \u79fb\u52d5\u306e\u9032\u6357\u306f\u30a2\u30d7\u30ea\u753b\u9762\u4e0a\u90e8\u306e\u9032\u6357\u30d0\u30fc\u90e8\u5206\u306b\u8868\u793a\u3055\u308c\u308b \u30ab\u30bf\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240 [\u30d5\u30a1\u30a4\u30eb(F)]->[\u6700\u8fd1\u4f7f\u7528\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f(R)] \u3067\u78ba\u8a8d\u3002 \u3042\u308b\u3044\u306f\u3001[\u7de8\u96c6(E)]->[\u30ab\u30bf\u30ed\u30b0\u8a2d\u5b9a(C)]\u3067\u3082\u78ba\u8a8d\u53ef\u80fd\u3002 PC\u5165\u308c\u66ff\u3048\u6642 \u30ab\u30bf\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u5f15\u3063\u8d8a\u3057 \u4ee5\u4e0b\u3092\u79fb\u884c\u3059\u308b lrcat\u30d5\u30a1\u30a4\u30eb lrcat-data\u30d5\u30a9\u30eb\u30c0 previews.lrdata\u30d5\u30a9\u30eb\u30c0 Helper.lrdata\u30d5\u30a9\u30eb\u30c0 PhotoShop \u305d\u308c\u3063\u307d\u3044\u7dda\u3092\u5f15\u304f \u305f\u3076\u3093\u30da\u30f3\u306e\u30a2\u30a4\u30b3\u30f3\u53f3\u30af\u30ea\u30c3\u30af\u306e\u300c\u66f2\u7dda\u30da\u30f3\u30c4\u30fc\u30eb\u300d \u5857\u308a\u3064\u3076\u3057 \u300c\u7de8\u96c6\u300d->\u300c\u5857\u308a\u3064\u3076\u3057\u300d\u304b\u3089\u3002 \u300c\u5185\u5bb9\u300d\u3067\u8272\u3092\u6307\u5b9a\u3059\u308b\u3002 \u30b5\u30a4\u30c9\u30d0\u30fc\u306e\u30a2\u30a4\u30b3\u30f3\u306f\u300c\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u300d\u306e\u53f3\u30af\u30ea\u30c3\u30af\u30e1\u30cb\u30e5\u30fc \u5186\u3092\u63cf\u304f \u300c\u6955\u5186\u5f62\u30c4\u30fc\u30eb\u300d\u304b\u3089\u3002 \u30e9\u30a4\u30f3\u7a2e\u3084\u5857\u308a\u306e\u8272\u306f\u4e0a\u90e8\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u30d0\u30fc\u3067\u9078\u629e\u3059\u308b\u3002 \u6307\u5b9a\u30ec\u30a4\u30e4\u30fc\u306e\u307f\u56de\u8ee2 \u5bfe\u8c61\u3092\u9078\u629e\u3057\u81ea\u7531\u5909\u5f62(Ctrl-t)\u307e\u305f\u306f\u300c\u7de8\u96c6\u300d->\u300c\u30d1\u30b9\u3092\u5909\u5f62\u300d->\u300c\u56de\u8ee2\u300d\u304b\u3089\u3002 \u30b7\u30a7\u30a4\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u8272\u5909\u66f4 \u5de6\u5074\u30c4\u30fc\u30eb\u30d1\u30cd\u30eb\u304b\u3089\u30b7\u30a7\u30a4\u30d7\u30c4\u30fc\u30eb\u3092\u9078\u629e\u3001\u4e0a\u90e8\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u30d0\u30fc\u304c\u30b7\u30a7\u30a4\u30d7\u306e\u8a2d\u5b9a\u306b\u5207\u308a\u66ff\u308f\u308b\u306e\u3067\u8272\u3092\u9078\u629e\u3059\u308b\u3002","title":"Adobe"},{"location":"Misc/adobe/#adobe","text":"","title":"Adobe"},{"location":"Misc/adobe/#lightroom","text":"","title":"Lightroom"},{"location":"Misc/adobe/#_1","text":"\u30e9\u30a4\u30d6\u30e9\u30ea\u30d5\u30a3\u30eb\u30bf\u30fc\u306e\u300c\u30e1\u30bf\u30c7\u30fc\u30bf\u300d\u3092\u8868\u793a \u9069\u5f53\u306a\u7bb1\u306e\u53f3\u4e0a\u306e\u300c\u2261\u300d\u304b\u3089\u300c\u5217\u3092\u8ffd\u52a0\u300d \u8ffd\u52a0\u3057\u305f\u7bb1\u3067\u300cDevelop\u300d->\u300c\u30e1\u30bf\u30c7\u30fc\u30bf\u72b6\u6cc1\u300d\u3092\u9078\u629e \u300c\u5909\u66f4\u3042\u308a\u300d\u3092\u9078\u629e \u3053\u306e\u72b6\u614b\u3067\u300c\u30ab\u30b9\u30bf\u30e0\u30d5\u30a3\u30eb\u30bf\u30fc\u300d\u306e\u300c\u73fe\u5728\u306e\u8a2d\u5b9a\u3092\u65b0\u898f\u30d7\u30ea\u30bb\u30c3\u30c8\u3068\u3057\u3066\u4fdd\u5b58\u300d","title":"\u30d5\u30a3\u30eb\u30bf\u30fc\u306b\u300c\u73fe\u50cf\u8abf\u6574\u6e08\u307f\u300d\u8ffd\u52a0"},{"location":"Misc/adobe/#_2","text":"Lightroom\u5916\u3067\u64cd\u4f5c\u3057\u305f\u5834\u5408 \u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u306a\u3069Lightroom\u5916\u3067\u30d5\u30a9\u30eb\u30c0\u3092\u79fb\u52d5 \u203bLightroom\u306f\u8d77\u52d5\u3057\u305f\u307e\u307e\u3067\u3082\u826f\u3044 Lightroom\u3067\u79fb\u52d5\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u304c\u30b0\u30ec\u30fc\u30a2\u30a6\u30c8\u3059\u308b\u306e\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3067\u300c\u898b\u3064\u304b\u3089\u306a\u3044\u30d5\u30a9\u30eb\u30c0\u30fc\u3092\u691c\u7d22\u300d \u79fb\u52d5\u5148\u306e\u30d5\u30a9\u30eb\u30c0\u3092\u9078\u629e Lightroom\u3067\u306e\u64cd\u4f5c \u5de6\u30da\u30a4\u30f3\u306e\u30d5\u30a9\u30eb\u30c0\u4e00\u89a7\u304b\u3089\u79fb\u52d5\u5bfe\u8c61\u3092\u9078\u629e \u79fb\u52d5\u5148\u3078\u30c9\u30e9\u30c3\u30b0 \u79fb\u52d5\u306e\u9032\u6357\u306f\u30a2\u30d7\u30ea\u753b\u9762\u4e0a\u90e8\u306e\u9032\u6357\u30d0\u30fc\u90e8\u5206\u306b\u8868\u793a\u3055\u308c\u308b","title":"\u5199\u771f\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\u5909\u66f4"},{"location":"Misc/adobe/#_3","text":"[\u30d5\u30a1\u30a4\u30eb(F)]->[\u6700\u8fd1\u4f7f\u7528\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f(R)] \u3067\u78ba\u8a8d\u3002 \u3042\u308b\u3044\u306f\u3001[\u7de8\u96c6(E)]->[\u30ab\u30bf\u30ed\u30b0\u8a2d\u5b9a(C)]\u3067\u3082\u78ba\u8a8d\u53ef\u80fd\u3002","title":"\u30ab\u30bf\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240"},{"location":"Misc/adobe/#pc","text":"","title":"PC\u5165\u308c\u66ff\u3048\u6642"},{"location":"Misc/adobe/#_4","text":"\u4ee5\u4e0b\u3092\u79fb\u884c\u3059\u308b lrcat\u30d5\u30a1\u30a4\u30eb lrcat-data\u30d5\u30a9\u30eb\u30c0 previews.lrdata\u30d5\u30a9\u30eb\u30c0 Helper.lrdata\u30d5\u30a9\u30eb\u30c0","title":"\u30ab\u30bf\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u5f15\u3063\u8d8a\u3057"},{"location":"Misc/adobe/#photoshop","text":"","title":"PhotoShop"},{"location":"Misc/adobe/#_5","text":"\u305f\u3076\u3093\u30da\u30f3\u306e\u30a2\u30a4\u30b3\u30f3\u53f3\u30af\u30ea\u30c3\u30af\u306e\u300c\u66f2\u7dda\u30da\u30f3\u30c4\u30fc\u30eb\u300d","title":"\u305d\u308c\u3063\u307d\u3044\u7dda\u3092\u5f15\u304f"},{"location":"Misc/adobe/#_6","text":"\u300c\u7de8\u96c6\u300d->\u300c\u5857\u308a\u3064\u3076\u3057\u300d\u304b\u3089\u3002 \u300c\u5185\u5bb9\u300d\u3067\u8272\u3092\u6307\u5b9a\u3059\u308b\u3002 \u30b5\u30a4\u30c9\u30d0\u30fc\u306e\u30a2\u30a4\u30b3\u30f3\u306f\u300c\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u300d\u306e\u53f3\u30af\u30ea\u30c3\u30af\u30e1\u30cb\u30e5\u30fc","title":"\u5857\u308a\u3064\u3076\u3057"},{"location":"Misc/adobe/#_7","text":"\u300c\u6955\u5186\u5f62\u30c4\u30fc\u30eb\u300d\u304b\u3089\u3002 \u30e9\u30a4\u30f3\u7a2e\u3084\u5857\u308a\u306e\u8272\u306f\u4e0a\u90e8\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u30d0\u30fc\u3067\u9078\u629e\u3059\u308b\u3002","title":"\u5186\u3092\u63cf\u304f"},{"location":"Misc/adobe/#_8","text":"\u5bfe\u8c61\u3092\u9078\u629e\u3057\u81ea\u7531\u5909\u5f62(Ctrl-t)\u307e\u305f\u306f\u300c\u7de8\u96c6\u300d->\u300c\u30d1\u30b9\u3092\u5909\u5f62\u300d->\u300c\u56de\u8ee2\u300d\u304b\u3089\u3002","title":"\u6307\u5b9a\u30ec\u30a4\u30e4\u30fc\u306e\u307f\u56de\u8ee2"},{"location":"Misc/adobe/#_9","text":"\u5de6\u5074\u30c4\u30fc\u30eb\u30d1\u30cd\u30eb\u304b\u3089\u30b7\u30a7\u30a4\u30d7\u30c4\u30fc\u30eb\u3092\u9078\u629e\u3001\u4e0a\u90e8\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u30d0\u30fc\u304c\u30b7\u30a7\u30a4\u30d7\u306e\u8a2d\u5b9a\u306b\u5207\u308a\u66ff\u308f\u308b\u306e\u3067\u8272\u3092\u9078\u629e\u3059\u308b\u3002","title":"\u30b7\u30a7\u30a4\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u8272\u5909\u66f4"},{"location":"Misc/auth0/","text":"Auth0 \u6599\u91d1 \u4fa1\u683c - Auth0 \u300cFree\u300d\u3067\u3042\u308c\u3070\u30af\u30ec\u30b8\u30c3\u30c8\u30ab\u30fc\u30c9\u767b\u9332\u3082\u4e0d\u8981 \u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210 \u300c\u7121\u6599\u30c8\u30e9\u30a4\u30a2\u30eb\u300d\u3067\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3059\u308c\u3070\u300cFree\u300d\u30d7\u30e9\u30f3\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3067\u304d\u308b\u3002 \u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210\u4e2d\u306b\u3001\u7c73\u56fd\u306e\u30c7\u30fc\u30bf\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u30c6\u30ca\u30f3\u30c8\u540d\u304c\u81ea\u52d5\u3067\u5272\u308a\u5f53\u3066\u3089\u308c\u308b\u304c\u3001\u5909\u66f4\u3059\u308b\u5834\u5408\u306f\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u9032\u3081\u308b\u3002\u305d\u306e\u5834\u5408Japan\u3092\u542b\u3080\u3044\u304f\u3064\u304b\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u9078\u629e\u53ef\u80fd\u3002 \u521d\u671f\u72b6\u614b Applications Default App APIs Auth0 Management API Database Username-Password-Authentication Social Connections google-oauth2 Application \u4f5c\u6210\u6e08\u307f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306ePermission(scope)\u5909\u66f4 APIs\u30bf\u30d6\u3067\u8a8d\u53ef\u3057\u3066\u308bAPI\u306e \u2228(expand) \u62bc\u4e0b\u3067\u9078\u629e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3002 API \u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3 Get Management API Access Tokens for Testing Applications > APIs > Auth0 Management API > API Explorer tab\u304b\u3089\u3002 \u521d\u671f\u72b6\u614b\u3067\u306fAPI Explorer\u3092\u4f7f\u3046\u305f\u3081\u306e\u30c6\u30b9\u30c8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u5b58\u5728\u3057\u306a\u3044\u305f\u3081\u3001\u4f5c\u6210\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b\u3002 (\u4f5c\u6210\u3059\u308b\u3068\u3001\u300cAPI Explorer Application\u300d\u304cApplications\u4ee5\u4e0b\u3078\u4f5c\u6210\u3055\u308c\u308b) \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c8\u30fc\u30af\u30f3\u671f\u9650\u306f86400\u79d2 \u30d7\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\u5411\u3051\u306e\u51e6\u7406\u3067\u3001web\u753b\u9762\u3067\u306a\u304fAPI\u3092\u4f7f\u3063\u3066\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 Get Management API Access Tokens for Production \u6a29\u9650\u3092\u4ed8\u4e0e\u3057\u305f\u300cMachine-to-Machine Applications\u300d\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID\u3068Secret\u3092\u4f7f\u7528\u3057\u3001\u4ee5\u4e0b\u306eREST\u3067\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002 curl -H 'content-type: application/x-www-form-urlencoded' \\ -X POST \\ --data grant_type=client_credentials \\ --data \"client_id=\" ${ AUTH0_CLIENT_ID } \\ --data \"client_secret= ${ AUTH0_CLIENT_SECRET } \" \\ --data \"audience=https://YOUR-DOMAIN/api/v2/\" \\ https://YOUR-DOMAIN/oauth/token \u30ec\u30b9\u30dd\u30f3\u30b9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 { \"access_token\" : \"eyJ...\" , \"scope\" : \"create:client_grants update:client_grants\" , \"expires_in\" : 86400 , \"token_type\" : \"Bearer\" } Application endpoint\u306f /api/v2/clients get Get clients | Auth0 Management API v2 curl -X GET \\ -H 'Accept: application/json' \\ -H \"Authorization: Bearer ${AUTH0_TOKEN}\" \\ 'https://YOUR-DOMAIN/api/v2/clients' \u3053\u308c\u3067\u5168\u3066\u306eApplication\u3092\u30ea\u30b9\u30c8\u5f62\u5f0f\u3067\u53d6\u5f97\u3067\u304d\u308b\u3002 Application\u540d\u306e\u4e00\u89a7\u3067\u3042\u308c\u3070\u4f8b\u3048\u3070 jq \u3092\u4f7f\u3063\u3066\u4ee5\u4e0b\u3002 curl -X GET \\ -H 'Accept: application/json' \\ -H \"Authorization: Bearer ${AUTH0_TOKEN}\" \\ 'https://YOUR-DOMAIN/api/v2/clients' | jq '.[].name' \u30da\u30fc\u30b8\u30f3\u30b0\u51e6\u7406\u306fquery\u3067\u6307\u5b9a\u3002 curl -X GET \\ -H 'Accept: application/json' \\ -H \"Authorization: Bearer ${AUTH0_TOKEN}\" \\ 'https://YOUR-DOMAIN/api/v2/clients?page=1&per_page=4' | jq '.[].name' page \u306e\u6307\u5b9a\u306f per_page \u3082\u30bb\u30c3\u30c8\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u3002(\u7121\u3044\u5834\u5408\u306f\u7121\u8996\u3055\u308c\u308b) per_page \u3067\u6307\u5b9a\u53ef\u80fd\u306a\u306e\u306f100\u304c\u6700\u5927\u5024\u3002101\u4ef6\u4ee5\u4e0a\u3042\u308b\u5834\u5408\u306f\u30da\u30fc\u30b8\u30f3\u30b0\u51e6\u7406\u304c\u5fc5\u9808\u3002 create Create a client | Auth0 Management API v2 curl -X POST \\ -H \"Content-Type: application/json\" \\ -H \"Accept: application/json\" \\ -H \"Authorization: Bearer ${ AUTH0_TOKEN } \" \\ -d '{\"name\":\"rest-sample-02\", \"app_type\": \"regular_web\"}' \\ 'https://YOUR-DOMAIN/api/v2/clients' delete Delete a client | Auth0 Management API v2 curl -X DELETE \\ -H \"Authorization: Bearer ${ AUTH0_TOKEN } \" \\ 'https://YOUR-DOMAIN/api/v2/clients/CLIENT-ID' \u6210\u529f\u3059\u308c\u3070\u30ec\u30b9\u30dd\u30f3\u30b9\u306f204\u3067\u30dc\u30c7\u30a3\u306f\u7a7a Python Library auth0/auth0-python: Auth0 SDK for Python Auth0-Python documentation \u2014 auth0-python 4.4.0 documentation \u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3 from auth0.authentication import GetToken GetToken = GetToken(auth_domain, auth_client_id, client_secret = auth_client_secret) token = GetToken . client_credentials( 'https:// {} /api/v2/' . format(auth_domain)) print (token[ 'access_token' ])","title":"Auth0"},{"location":"Misc/auth0/#auth0","text":"","title":"Auth0"},{"location":"Misc/auth0/#_1","text":"\u4fa1\u683c - Auth0 \u300cFree\u300d\u3067\u3042\u308c\u3070\u30af\u30ec\u30b8\u30c3\u30c8\u30ab\u30fc\u30c9\u767b\u9332\u3082\u4e0d\u8981","title":"\u6599\u91d1"},{"location":"Misc/auth0/#_2","text":"\u300c\u7121\u6599\u30c8\u30e9\u30a4\u30a2\u30eb\u300d\u3067\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3059\u308c\u3070\u300cFree\u300d\u30d7\u30e9\u30f3\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3067\u304d\u308b\u3002 \u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210\u4e2d\u306b\u3001\u7c73\u56fd\u306e\u30c7\u30fc\u30bf\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u30c6\u30ca\u30f3\u30c8\u540d\u304c\u81ea\u52d5\u3067\u5272\u308a\u5f53\u3066\u3089\u308c\u308b\u304c\u3001\u5909\u66f4\u3059\u308b\u5834\u5408\u306f\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u9032\u3081\u308b\u3002\u305d\u306e\u5834\u5408Japan\u3092\u542b\u3080\u3044\u304f\u3064\u304b\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u9078\u629e\u53ef\u80fd\u3002","title":"\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210"},{"location":"Misc/auth0/#_3","text":"Applications Default App APIs Auth0 Management API Database Username-Password-Authentication Social Connections google-oauth2","title":"\u521d\u671f\u72b6\u614b"},{"location":"Misc/auth0/#application","text":"","title":"Application"},{"location":"Misc/auth0/#permissionscope","text":"APIs\u30bf\u30d6\u3067\u8a8d\u53ef\u3057\u3066\u308bAPI\u306e \u2228(expand) \u62bc\u4e0b\u3067\u9078\u629e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3002","title":"\u4f5c\u6210\u6e08\u307f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306ePermission(scope)\u5909\u66f4"},{"location":"Misc/auth0/#api","text":"","title":"API"},{"location":"Misc/auth0/#_4","text":"Get Management API Access Tokens for Testing Applications > APIs > Auth0 Management API > API Explorer tab\u304b\u3089\u3002 \u521d\u671f\u72b6\u614b\u3067\u306fAPI Explorer\u3092\u4f7f\u3046\u305f\u3081\u306e\u30c6\u30b9\u30c8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u5b58\u5728\u3057\u306a\u3044\u305f\u3081\u3001\u4f5c\u6210\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b\u3002 (\u4f5c\u6210\u3059\u308b\u3068\u3001\u300cAPI Explorer Application\u300d\u304cApplications\u4ee5\u4e0b\u3078\u4f5c\u6210\u3055\u308c\u308b) \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c8\u30fc\u30af\u30f3\u671f\u9650\u306f86400\u79d2 \u30d7\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\u5411\u3051\u306e\u51e6\u7406\u3067\u3001web\u753b\u9762\u3067\u306a\u304fAPI\u3092\u4f7f\u3063\u3066\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u3002 Get Management API Access Tokens for Production \u6a29\u9650\u3092\u4ed8\u4e0e\u3057\u305f\u300cMachine-to-Machine Applications\u300d\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID\u3068Secret\u3092\u4f7f\u7528\u3057\u3001\u4ee5\u4e0b\u306eREST\u3067\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002 curl -H 'content-type: application/x-www-form-urlencoded' \\ -X POST \\ --data grant_type=client_credentials \\ --data \"client_id=\" ${ AUTH0_CLIENT_ID } \\ --data \"client_secret= ${ AUTH0_CLIENT_SECRET } \" \\ --data \"audience=https://YOUR-DOMAIN/api/v2/\" \\ https://YOUR-DOMAIN/oauth/token \u30ec\u30b9\u30dd\u30f3\u30b9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 { \"access_token\" : \"eyJ...\" , \"scope\" : \"create:client_grants update:client_grants\" , \"expires_in\" : 86400 , \"token_type\" : \"Bearer\" }","title":"\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3"},{"location":"Misc/auth0/#application_1","text":"endpoint\u306f /api/v2/clients","title":"Application"},{"location":"Misc/auth0/#get","text":"Get clients | Auth0 Management API v2 curl -X GET \\ -H 'Accept: application/json' \\ -H \"Authorization: Bearer ${AUTH0_TOKEN}\" \\ 'https://YOUR-DOMAIN/api/v2/clients' \u3053\u308c\u3067\u5168\u3066\u306eApplication\u3092\u30ea\u30b9\u30c8\u5f62\u5f0f\u3067\u53d6\u5f97\u3067\u304d\u308b\u3002 Application\u540d\u306e\u4e00\u89a7\u3067\u3042\u308c\u3070\u4f8b\u3048\u3070 jq \u3092\u4f7f\u3063\u3066\u4ee5\u4e0b\u3002 curl -X GET \\ -H 'Accept: application/json' \\ -H \"Authorization: Bearer ${AUTH0_TOKEN}\" \\ 'https://YOUR-DOMAIN/api/v2/clients' | jq '.[].name' \u30da\u30fc\u30b8\u30f3\u30b0\u51e6\u7406\u306fquery\u3067\u6307\u5b9a\u3002 curl -X GET \\ -H 'Accept: application/json' \\ -H \"Authorization: Bearer ${AUTH0_TOKEN}\" \\ 'https://YOUR-DOMAIN/api/v2/clients?page=1&per_page=4' | jq '.[].name' page \u306e\u6307\u5b9a\u306f per_page \u3082\u30bb\u30c3\u30c8\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u3002(\u7121\u3044\u5834\u5408\u306f\u7121\u8996\u3055\u308c\u308b) per_page \u3067\u6307\u5b9a\u53ef\u80fd\u306a\u306e\u306f100\u304c\u6700\u5927\u5024\u3002101\u4ef6\u4ee5\u4e0a\u3042\u308b\u5834\u5408\u306f\u30da\u30fc\u30b8\u30f3\u30b0\u51e6\u7406\u304c\u5fc5\u9808\u3002","title":"get"},{"location":"Misc/auth0/#create","text":"Create a client | Auth0 Management API v2 curl -X POST \\ -H \"Content-Type: application/json\" \\ -H \"Accept: application/json\" \\ -H \"Authorization: Bearer ${ AUTH0_TOKEN } \" \\ -d '{\"name\":\"rest-sample-02\", \"app_type\": \"regular_web\"}' \\ 'https://YOUR-DOMAIN/api/v2/clients'","title":"create"},{"location":"Misc/auth0/#delete","text":"Delete a client | Auth0 Management API v2 curl -X DELETE \\ -H \"Authorization: Bearer ${ AUTH0_TOKEN } \" \\ 'https://YOUR-DOMAIN/api/v2/clients/CLIENT-ID' \u6210\u529f\u3059\u308c\u3070\u30ec\u30b9\u30dd\u30f3\u30b9\u306f204\u3067\u30dc\u30c7\u30a3\u306f\u7a7a","title":"delete"},{"location":"Misc/auth0/#python-library","text":"auth0/auth0-python: Auth0 SDK for Python Auth0-Python documentation \u2014 auth0-python 4.4.0 documentation","title":"Python Library"},{"location":"Misc/auth0/#_5","text":"from auth0.authentication import GetToken GetToken = GetToken(auth_domain, auth_client_id, client_secret = auth_client_secret) token = GetToken . client_credentials( 'https:// {} /api/v2/' . format(auth_domain)) print (token[ 'access_token' ])","title":"\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3"},{"location":"Misc/aws/","text":"AWS CLI \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Installing or updating the latest version of the AWS CLI - AWS Command Line Interface curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\" unzip awscliv2.zip sudo ./aws/install \u78ba\u8a8d $ aws --version aws-cli/2.11.15 Python/3.11.3 Linux/4.4.0-19041-Microsoft exe/x86_64.ubuntu.20 prompt/off \u521d\u671f\u8a2d\u5b9a \u8a2d\u5b9a\u306e\u57fa\u672c - AWS Command Line Interface aws configure \u3053\u3093\u306a\u611f\u3058 $ aws configure AWS Access Key ID [None]: .... AWS Secret Access Key [None]: .... Default region name [None]: ap-northeast-1 Default output format [None]: json \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f8b\u306f\u4ee5\u4e0b(\u76f4\u63a5\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u3082\u826f\u3044) $ cat ~/.aws/credentials [default] aws_access_key_id = .... aws_secret_access_key = .... \u30b3\u30f3\u30c6\u30ca\u3092\u4f7f\u3063\u305f\u5b9f\u884c ECR\u306e\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u3092\u5f97\u308b\u306b\u306f\u4ee5\u4e0b\u3002 podman run --rm -it -v ~/.aws:/root/.aws public.ecr.aws/aws-cli/aws-cli ecr get-login-password --region ap-northeast-1 aws \u3092\u6307\u5b9a\u3057\u306a\u3044\u306e\u304c\u30dd\u30a4\u30f3\u30c8 \u5404\u64cd\u4f5c EC2 VM\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7 aws ec2 describe-instances \\ --region <\u30ea\u30fc\u30b8\u30e7\u30f3> \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u306e\u307f\u4e00\u89a7 $ aws ec2 describe-instances --region ap-southeast-2 --query 'Reservations[].Instances[].InstanceId' [ \"i-002bfe31881b20e07\", \"i-0d33f288e35835170\" ] Name\u30bf\u30b0\u306e\u307f\u4e00\u89a7 $ aws ec2 describe-instances --region ap-southeast-2 --query 'Reservations[].Instances[].Tags[?Key==`Name`].Value[]' [ \"server-1\", \"server-2\" ] \u6307\u5b9a\u30bf\u30b0\u306eVM aws ec2 describe-instances \\ --region <\u30ea\u30fc\u30b8\u30e7\u30f3> \\ --query \"Reservations[].Instances[?Tags[?Key=='Name' && Value=='name\u30bf\u30b0\u306e\u540d\u524d']]\" \u30cd\u30c3\u30c8\u30ef\u30fc\u30af \u30b2\u30fc\u30c8\u30a6\u30a7\u30a4ID\u306e\u53d6\u5f97 aws ec2 describe-vpn-gateways \\ --region <\u30ea\u30fc\u30b8\u30e7\u30f3> \\ --query \"VpnGateways[?Tags[?Key=='Name' && Value=='name\u30bf\u30b0\u306e\u540d\u524d']].VpnGatewayId\" \\ --output text \u30b5\u30a4\u30c8\u9593VPN\u63a5\u7d9a\u306e\u8a2d\u5b9a\u30b5\u30f3\u30d7\u30eb\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 get-vpn-connection-device-sample-configuration \u2014 AWS CLI 1.29.35 Command Reference aws ec2 get-vpn-connection-device-sample-configuration \\ --vpn-connection-id <VPN-ID> \\ --vpn-connection-device-type-id <\u30c7\u30d0\u30a4\u30b9\u30bf\u30a4\u30d7ID> \\ --internet-key-exchange-version ikev1 \\ --region ${region} \\ --output text > vpn-sample.txt \u30c7\u30d0\u30a4\u30b9\u30bf\u30a4\u30d7ID\u306e\u53d6\u5f97 aws ec2 get-vpn-connection-device-types --region ap-southeast-1 { \"VpnConnectionDeviceTypes\": [ { : : }, { \"VpnConnectionDeviceTypeId\": \"9d9470de\", \"Vendor\": \"Fortinet\", \"Platform\": \"Fortigate 40+ Series\", \"Software\": \"FortiOS 5.0+\" }, : : ] } \u4e0a\u8a18\u306e\u300cFortiOS 5.0+\u300d\u306eID( 9d9470de )\u3092\u5909\u6570\u30bb\u30c3\u30c8\u3059\u308b\u306b\u306f --query \u3092\u4f7f\u3063\u3066\u4ee5\u4e0b\u306e\u901a\u308a\u3002 devicetypeid=$(aws ec2 get-vpn-connection-device-types --region ${region} --query \"VpnConnectionDeviceTypes[?Vendor=='Fortinet' && Software=='FortiOS 5.0+'].VpnConnectionDeviceTypeId\" --output text) S3 \u4e00\u89a7 aws s3 ls <backet-name> \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 aws s3 cp s3://<backet-name>/path/to/file /path/to/file \u30b5\u30fc\u30d3\u30b9 EC2 / Amazon Linux Amazon Linux 2 \u304b\u3089 Amazon Linux 2023 \u3078\u306e\u79fb\u884c - AWS Elastic Beanstalk \u3088\u304f\u3042\u308b\u8cea\u554f - Amazon Linux 2 | AWS 20240216 Amazon Linux 2 \u3092 2023 \u306b\u79fb\u884c\u3057\u3066\u307f\u305f - Speaker Deck","title":"AWS"},{"location":"Misc/aws/#aws","text":"","title":"AWS"},{"location":"Misc/aws/#cli","text":"","title":"CLI"},{"location":"Misc/aws/#_1","text":"Installing or updating the latest version of the AWS CLI - AWS Command Line Interface curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\" unzip awscliv2.zip sudo ./aws/install \u78ba\u8a8d $ aws --version aws-cli/2.11.15 Python/3.11.3 Linux/4.4.0-19041-Microsoft exe/x86_64.ubuntu.20 prompt/off","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Misc/aws/#_2","text":"\u8a2d\u5b9a\u306e\u57fa\u672c - AWS Command Line Interface aws configure \u3053\u3093\u306a\u611f\u3058 $ aws configure AWS Access Key ID [None]: .... AWS Secret Access Key [None]: .... Default region name [None]: ap-northeast-1 Default output format [None]: json \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f8b\u306f\u4ee5\u4e0b(\u76f4\u63a5\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u3082\u826f\u3044) $ cat ~/.aws/credentials [default] aws_access_key_id = .... aws_secret_access_key = ....","title":"\u521d\u671f\u8a2d\u5b9a"},{"location":"Misc/aws/#_3","text":"ECR\u306e\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u3092\u5f97\u308b\u306b\u306f\u4ee5\u4e0b\u3002 podman run --rm -it -v ~/.aws:/root/.aws public.ecr.aws/aws-cli/aws-cli ecr get-login-password --region ap-northeast-1 aws \u3092\u6307\u5b9a\u3057\u306a\u3044\u306e\u304c\u30dd\u30a4\u30f3\u30c8","title":"\u30b3\u30f3\u30c6\u30ca\u3092\u4f7f\u3063\u305f\u5b9f\u884c"},{"location":"Misc/aws/#_4","text":"","title":"\u5404\u64cd\u4f5c"},{"location":"Misc/aws/#ec2","text":"","title":"EC2"},{"location":"Misc/aws/#vm","text":"aws ec2 describe-instances \\ --region <\u30ea\u30fc\u30b8\u30e7\u30f3>","title":"VM\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7"},{"location":"Misc/aws/#id","text":"$ aws ec2 describe-instances --region ap-southeast-2 --query 'Reservations[].Instances[].InstanceId' [ \"i-002bfe31881b20e07\", \"i-0d33f288e35835170\" ]","title":"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u306e\u307f\u4e00\u89a7"},{"location":"Misc/aws/#name","text":"$ aws ec2 describe-instances --region ap-southeast-2 --query 'Reservations[].Instances[].Tags[?Key==`Name`].Value[]' [ \"server-1\", \"server-2\" ]","title":"Name\u30bf\u30b0\u306e\u307f\u4e00\u89a7"},{"location":"Misc/aws/#vm_1","text":"aws ec2 describe-instances \\ --region <\u30ea\u30fc\u30b8\u30e7\u30f3> \\ --query \"Reservations[].Instances[?Tags[?Key=='Name' && Value=='name\u30bf\u30b0\u306e\u540d\u524d']]\"","title":"\u6307\u5b9a\u30bf\u30b0\u306eVM"},{"location":"Misc/aws/#_5","text":"","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af"},{"location":"Misc/aws/#id_1","text":"aws ec2 describe-vpn-gateways \\ --region <\u30ea\u30fc\u30b8\u30e7\u30f3> \\ --query \"VpnGateways[?Tags[?Key=='Name' && Value=='name\u30bf\u30b0\u306e\u540d\u524d']].VpnGatewayId\" \\ --output text","title":"\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4ID\u306e\u53d6\u5f97"},{"location":"Misc/aws/#vpn","text":"get-vpn-connection-device-sample-configuration \u2014 AWS CLI 1.29.35 Command Reference aws ec2 get-vpn-connection-device-sample-configuration \\ --vpn-connection-id <VPN-ID> \\ --vpn-connection-device-type-id <\u30c7\u30d0\u30a4\u30b9\u30bf\u30a4\u30d7ID> \\ --internet-key-exchange-version ikev1 \\ --region ${region} \\ --output text > vpn-sample.txt","title":"\u30b5\u30a4\u30c8\u9593VPN\u63a5\u7d9a\u306e\u8a2d\u5b9a\u30b5\u30f3\u30d7\u30eb\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"},{"location":"Misc/aws/#id_2","text":"aws ec2 get-vpn-connection-device-types --region ap-southeast-1 { \"VpnConnectionDeviceTypes\": [ { : : }, { \"VpnConnectionDeviceTypeId\": \"9d9470de\", \"Vendor\": \"Fortinet\", \"Platform\": \"Fortigate 40+ Series\", \"Software\": \"FortiOS 5.0+\" }, : : ] } \u4e0a\u8a18\u306e\u300cFortiOS 5.0+\u300d\u306eID( 9d9470de )\u3092\u5909\u6570\u30bb\u30c3\u30c8\u3059\u308b\u306b\u306f --query \u3092\u4f7f\u3063\u3066\u4ee5\u4e0b\u306e\u901a\u308a\u3002 devicetypeid=$(aws ec2 get-vpn-connection-device-types --region ${region} --query \"VpnConnectionDeviceTypes[?Vendor=='Fortinet' && Software=='FortiOS 5.0+'].VpnConnectionDeviceTypeId\" --output text)","title":"\u30c7\u30d0\u30a4\u30b9\u30bf\u30a4\u30d7ID\u306e\u53d6\u5f97"},{"location":"Misc/aws/#s3","text":"","title":"S3"},{"location":"Misc/aws/#_6","text":"aws s3 ls <backet-name>","title":"\u4e00\u89a7"},{"location":"Misc/aws/#_7","text":"aws s3 cp s3://<backet-name>/path/to/file /path/to/file","title":"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"},{"location":"Misc/aws/#_8","text":"","title":"\u30b5\u30fc\u30d3\u30b9"},{"location":"Misc/aws/#ec2-amazon-linux","text":"Amazon Linux 2 \u304b\u3089 Amazon Linux 2023 \u3078\u306e\u79fb\u884c - AWS Elastic Beanstalk \u3088\u304f\u3042\u308b\u8cea\u554f - Amazon Linux 2 | AWS 20240216 Amazon Linux 2 \u3092 2023 \u306b\u79fb\u884c\u3057\u3066\u307f\u305f - Speaker Deck","title":"EC2 / Amazon Linux"},{"location":"Misc/az/","text":"Azure CLI \u7d50\u679c\u306equery Azure CLI \u3067\u306e JMESPath \u30af\u30a8\u30ea \u30b3\u30de\u30f3\u30c9\u306e\u7d50\u679c | Microsoft Learn \u8f9e\u66f8\u578b\u30c7\u30fc\u30bf\u306e\u30ea\u30b9\u30c8\u304b\u3089\u6307\u5b9a\u30ad\u30fc\u306e\u5024\u4e00\u89a7 AKS\u306e\u30af\u30e9\u30b9\u30bf\u30fc\u540d\u4e00\u89a7\u3092\u53d6\u5f97 az aks list [-g resource-group] --query '[].name' \u8f9e\u66f8\u578b\u30c7\u30fc\u30bf\u306e\u30ea\u30b9\u30c8\u304b\u3089\u6307\u5b9a\u30ad\u30fc\u304c\u7279\u5b9a\u306e\u5024\u306e\u3082\u306e\u3092\u691c\u7d22(and) VNet\u306e\u4e00\u89a7\u304b\u3089\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u540d\u3068VNet\u540d\u304c\u6307\u5b9a\u306e\u3082\u306e\u306e\u30ea\u30bd\u30fc\u30b9ID\u3092\u53d6\u5f97 az network vnet list --query \"[?name=='${vnet_name}' && resourceGroup=='${resource_group}'].id\" \u6587\u5b57\u5217\u3092\u542b\u3080(\u90e8\u5206\u4e00\u81f4)\u691c\u7d22 name \u30ad\u30fc\u306b dev \u3092\u542b\u3080\u30c7\u30fc\u30bf\u306e\u691c\u7d22 az aks list --query \"[?contains(name,'dev')]\" \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5168\u4f53\u3067\u306a\u304f\u3053\u3053\u304b\u3089\u3055\u3089\u306bname\u306e\u307f\u306e\u4e00\u89a7\u3092\u51fa\u529b\u3059\u308b\u306a\u3089\u4ee5\u4e0b\u3002 az aks list --query \"[?contains(name,'dev')].name\" \u30a2\u30ab\u30a6\u30f3\u30c8 \u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831 az account list \u30c6\u30ca\u30f3\u30c8ID\u4e00\u89a7 az account tenant list network VNet az network vnet | Microsoft Learn VNetID\u53d6\u5f97 az network vnet show \\ --name ${vnet_name} \\ --resource-group ${resource_group} \\ --query id VNet\u4f5c\u6210 VNet\u3092\u5358\u4f53\u3067\u4f5c\u6210\u3059\u308b az network vnet create \\ --resource-group ${resource_group} \\ --name ${vnet_name} \\ --address-prefixes 192.168.0.0/16 VNet\u3068\u30b5\u30d6\u30cd\u30c3\u30c8\u3092\u540c\u6642\u306b\u4f5c\u6210 az network vnet create \\ --resource-group ${resource_group} \\ --name ${vnet_name} \\ --address-prefixes 192.168.0.0/16 \\ --subnet-name ${subnet_name} \\ --subnet-prefixes 102.168.10.0/24 \\ --network-security-group ${nsg_name} \u30b5\u30d6\u30cd\u30c3\u30c8 az network vnet subnet | Microsoft Learn \u30b5\u30d6\u30cd\u30c3\u30c8ID\u53d6\u5f97 az network vnet subnet show \\ --vnet-name ${vnet_name} \\ --resource-group ${resource_group} \\ --name ${subnet_name} \\ --query id \u30b5\u30d6\u30cd\u30c3\u30c8\u4f5c\u6210 VNet\u306e\u30a2\u30c9\u30ec\u30b9\u7bc4\u56f2\u3067\u3042\u308b\u3053\u3068\u306f\u5fc5\u9808 az network vnet subnet create \\ --name ${subnet_name} \\ --vnet-name ${vnet_name} \\ --resource-group ${resource_group} \\ --network-security-group ${nsg_name} \\ --address-prefixes 192.168.10.0/24 \u30b5\u30fc\u30d3\u30b9\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u4e00\u89a7 az network vnet list-endpoint-services \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7 NSG\u4f5c\u6210 NSG\u306e\u7bb1\u3092\u4f5c\u308b az network nsg | Microsoft Learn az network nsg create \\ --name ${nsg_name} \\ --resource-group ${resource_group} \u30eb\u30fc\u30eb\u4f5c\u6210 az network nsg rule | Microsoft Learn az network nsg rule create \\ --nsg-name ${nsg_name} \\ --resource-group ${resoure_group} \\ --name ${nsg_rule_name} \\ --access Allow \\ --priority 256 \\ --source-address-prefixes ${src_address_prefixes} \\ --source-port-ranges ${src_port_ranges} \\ --destination-address-prefixes ${dst_address_prefixes} \\ --destination-port-ranges ${dst_port_ranges} \\ --protocol ${protocol} \u5024 \u8a2d\u5b9a\u4f8b *-address-prefixes IP\u30a2\u30c9\u30ec\u30b9( 192.168.0.0/24 \u306a\u3069)\u3084 VirtualNetwork \u306a\u3069\u30b5\u30fc\u30d3\u30b9\u30bf\u30b0 *-port-ranges \u30dd\u30fc\u30c8\u756a\u53f7(\u5024\u306e\u307f\u3001\u7bc4\u56f2\u6307\u5b9a 1024-4096 \u306a\u3069)\u3001 * public ip \u30a2\u30c9\u30ec\u30b9\u4e00\u89a7 az network public-ip list \\ --resoure-group ${resource_group} \u5fc5\u8981\u306a\u30a2\u30c9\u30ec\u30b9\u306f --query \u3067\u53d6\u308a\u51fa\u3059\u3002 az network public-ip list \\ --resoure-group ${resource_group} \\ --query \"[?id=='$publicip_id'].ipAddress\" \\ --o tsv DNS \u30ec\u30b3\u30fc\u30c9\u4f5c\u6210 az network dns record-set a add-record \\ --resoure-group ${resource_group} \\ --zone-name \"example.org\" \\ --ipv4-address ${publicip_address} \\ --record-set-name ${recordset_name} Private DNS \u30be\u30fc\u30f3\u4f5c\u6210 az network private-dns zone create \\ --resoure-group ${resource_group} \\ --name \"private.example.org\" A\u30ec\u30b3\u30fc\u30c9\u4f5c\u6210 az network private-dns record-set a add-record \\ --resoure-group ${resource_group} \\ --zone-name \"private.example.org\" --ipv4-adderss ${ipaddr} \\ --record-set-name hostname A\u30ec\u30b3\u30fc\u30c9\u524a\u9664 az network private-dns record-set a delete \\ --resoure-group ${resource_group} \\ --zone-name \"private.example.org\" --name hostname y/n\u3092\u805e\u304b\u308c\u308b\u304c\u3001 -y \u3092\u4ed8\u4e0e\u3059\u308c\u3070\u5f37\u5236\u524a\u9664 \u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u306e\u30ea\u30f3\u30af\u4f5c\u6210 \u30be\u30fc\u30f3\u3068\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u540c\u3058\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u3067\u3042\u308c\u3070\u3001 --virtual-network \u306f\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u540d\u3060\u3051\u3067\u826f\u3044\u3002 az network private-dns link vnet create \\ --zone \"private.example.org\" \\ --resource-group ${resource_group} \\ --virtual-network ${vnet_name} \\ --name ${link_name} Application Gateway SKU\u3092Standard v2\u304b\u3089WAF v2\u306b\u5909\u66f4\u3059\u308b Azure Application Gateway WAF \u30dd\u30ea\u30b7\u30fc\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b | Microsoft Learn \u57fa\u672c\u69cb\u6587\u306f az network application-gateway update --resource-group ${rg} --name ${appgw} --sku WAF_v2 \u3060\u304c\u3001\u3053\u308c\u3060\u3051\u3060\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002 \u300cWAF v2\u306b\u5909\u66f4\u300d\u3068\u300cWAF\u30dd\u30ea\u30b7\u30fc\u306e\u8a2d\u5b9a\u300d\u3092\u540c\u6642\u306b\u884c\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002 # WAF\u30dd\u30ea\u30b7\u30fc\u306e\u4f5c\u6210 az network application-gateway waf-policy create \\ --name ${waf_policy_name} \\ --resource-group ${resource_group} \\ --version 3.2 # WAF\u30dd\u30ea\u30b7\u30fc\u8a2d\u5b9a az network application-gateway waf-policy policy-setting update \\ --policy-name ${waf_policy_name} \\ --resource-group ${resource_group} \\ --request-body-check ${check} \\ --mode ${waf_mode} \\ --state ${waf_state} # WAF\u306eSKU\u3092WAF_v2\u306b\u66f4\u65b0 waf_id=$(az network application-gateway waf-policy show -g ${resource_group} -n ${waf_policy_name} --query id -o tsv) az network application-gateway update \\ --name ${appgw_name} \\ --resource-group ${resouce_group} \\ --sku WAF_v2 \\ --set sku.tier=WAF_v2 \\ --set firewallPolicy.id=${waf_id} storage account \u30d5\u30a1\u30a4\u30eb\u5171\u6709 az storage file | Microsoft Learn \u30d5\u30a1\u30a4\u30eb\u4e00\u89a7 az storage file | Microsoft Learn az storage file list \\ --account-name ${account_name} \\ --account-key ${account_key} \\ --share-name ${share_name} \u30d5\u30a1\u30a4\u30eb\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 az storage file | Microsoft Learn az storage file download \\ --path ${shared_file_path} \\ --dest ${output_dir_name} \\ --share-name ${share_name} \\ --account-name ${account_name} \\ --account-key ${account_key} dest \u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f\u300c\u30d1\u30b9\u300d\u3068\u66f8\u304b\u308c\u3066\u3044\u308b\u304c\u3001\u5b9f\u969b\u306b\u52d5\u304b\u3059\u3068\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306b\u306a\u308b\u3002 ( dest\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d / \u5143\u306e\u30d5\u30a1\u30a4\u30eb\u540d \u3067\u4fdd\u5b58\u3055\u308c\u308b) \u30d5\u30a1\u30a4\u30ebBlob\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 az storage blob | Microsoft Learn az storage blob download \\ --container-name ${container_name} \\ --name ${blob_filepath} \\ --file ${output_dir_name} \\ --account-name ${storage_account} \\ --account-key ${account_key} container_name \u306f\u30b3\u30f3\u30c6\u30ca\u30fc\u306e\u540d\u79f0\u3001 blob_filepath \u306f\u30b3\u30f3\u30c6\u30ca\u30fc\u5185\u306b\u304a\u3051\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3001 output_dir_name \u306f\u51fa\u529b\u5148(\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u540d) \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 Azure Storage \u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u304a\u3088\u3073\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u69cb\u6210\u3059\u308b | Microsoft Learn \u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u62d2\u5426\u8a2d\u5b9a az storage account update \\ --resource-group ${resource_group} \\ --name ${storage_account_name} \\ --default-action Deny VNET/\u30b5\u30d6\u30cd\u30c3\u30c8\u3092\u8ffd\u52a0 az storage account network-rule add \\ --resource-group ${resource_group} \\ --account-name ${storage_account_name} \\ --subnet ${subnet_id} \u305f\u3060\u3057\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u30b5\u30d6\u30cd\u30c3\u30c8\u5074\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u30dd\u30ea\u30b7\u30fc\u8a2d\u5b9a\u304c\u5fc5\u8981 az network vnet subnet update \\ --name ${subnet} \\ --vnet-name ${vnet} \\ --resource-group ${resource_group} \\ --service-endpoints Microsoft.Storage \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u8ffd\u52a0 az storage account network-rule add \\ --resource-group ${resource_group} \\ --account-name ${storage_account_name} \\ --ip-address ${ip_address} \u30ad\u30fc\u306e\u53d6\u5f97 az storage account keys | Microsoft Learn az storage account keys list \\ --resoure-group ${resource_group} \\ --account-name ${storage_account_name} 2\u3064\u30d2\u30c3\u30c8\u3059\u308b\u306f\u305a\u306a\u306e\u3067\u3001 --query '[0].value' -o tsv \u3068\u304b\u3084\u308c\u3070\u53d6\u308a\u51fa\u305b\u308b\u3002 AKS \u30af\u30e9\u30b9\u30bf\u30fc\u4e00\u89a7 az aks list [-g <resource-group>] \u4f7f\u7528\u53ef\u80fd\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d az aks get-versions --query 'orchestrators[].orchestratorVersion' \u30ed\u30b1\u30fc\u30eb\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u4ee5\u4e0b az aks get-versions -l eastus --query 'orchestrators[].orchestratorVersion' KUBECONFIG\u306e\u53d6\u5f97 az aks get-credentials \\ --resoure-group ${resource_group} \\ --name ${cluster_name} --overwrite-existing \u3092\u4ed8\u4e0e\u3059\u308b\u3068\u78ba\u8a8d\u7121\u3057\u3067\u4e0a\u66f8\u304d\u3055\u308c\u308b\u3002 \u30ce\u30fc\u30c9\u30d7\u30fc\u30eb\u306e\u8ffd\u52a0 az aks nodepool | Microsoft Learn az aks nodepool add \\ --resoure-group ${resource_group} \\ --name ${nodepool_name} \\ --cluster-name ${cluster_name} \\ --kubernetes-version ${k8s_version} \\ --mode User \\ --os-type Linux \\ --vnet-subnet-id ${vnet_subnet_id} \\ --node-vm-size Standard_B2s \\ --node-count 2 \\ --max-pods 32 \u30ce\u30fc\u30c9\u30d7\u30fc\u30eb\u306e\u8a73\u7d30 az aks nodepool show -g ${resource_group} --cluster-name ${cluster_name} -n ${nodepool_name} \u30ce\u30fc\u30c9\u306e\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0 az aks scale \\ --resoure-group ${resource_group} \\ --name ${nodepool_name} \\ --nodepool-name ${nodepool_name} \\ --node-count 3","title":"Azure CLI"},{"location":"Misc/az/#azure-cli","text":"","title":"Azure CLI"},{"location":"Misc/az/#query","text":"Azure CLI \u3067\u306e JMESPath \u30af\u30a8\u30ea \u30b3\u30de\u30f3\u30c9\u306e\u7d50\u679c | Microsoft Learn","title":"\u7d50\u679c\u306equery"},{"location":"Misc/az/#_1","text":"AKS\u306e\u30af\u30e9\u30b9\u30bf\u30fc\u540d\u4e00\u89a7\u3092\u53d6\u5f97 az aks list [-g resource-group] --query '[].name'","title":"\u8f9e\u66f8\u578b\u30c7\u30fc\u30bf\u306e\u30ea\u30b9\u30c8\u304b\u3089\u6307\u5b9a\u30ad\u30fc\u306e\u5024\u4e00\u89a7"},{"location":"Misc/az/#and","text":"VNet\u306e\u4e00\u89a7\u304b\u3089\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u540d\u3068VNet\u540d\u304c\u6307\u5b9a\u306e\u3082\u306e\u306e\u30ea\u30bd\u30fc\u30b9ID\u3092\u53d6\u5f97 az network vnet list --query \"[?name=='${vnet_name}' && resourceGroup=='${resource_group}'].id\"","title":"\u8f9e\u66f8\u578b\u30c7\u30fc\u30bf\u306e\u30ea\u30b9\u30c8\u304b\u3089\u6307\u5b9a\u30ad\u30fc\u304c\u7279\u5b9a\u306e\u5024\u306e\u3082\u306e\u3092\u691c\u7d22(and)"},{"location":"Misc/az/#_2","text":"name \u30ad\u30fc\u306b dev \u3092\u542b\u3080\u30c7\u30fc\u30bf\u306e\u691c\u7d22 az aks list --query \"[?contains(name,'dev')]\" \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5168\u4f53\u3067\u306a\u304f\u3053\u3053\u304b\u3089\u3055\u3089\u306bname\u306e\u307f\u306e\u4e00\u89a7\u3092\u51fa\u529b\u3059\u308b\u306a\u3089\u4ee5\u4e0b\u3002 az aks list --query \"[?contains(name,'dev')].name\"","title":"\u6587\u5b57\u5217\u3092\u542b\u3080(\u90e8\u5206\u4e00\u81f4)\u691c\u7d22"},{"location":"Misc/az/#_3","text":"","title":"\u30a2\u30ab\u30a6\u30f3\u30c8"},{"location":"Misc/az/#_4","text":"az account list","title":"\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831"},{"location":"Misc/az/#id","text":"az account tenant list","title":"\u30c6\u30ca\u30f3\u30c8ID\u4e00\u89a7"},{"location":"Misc/az/#network","text":"","title":"network"},{"location":"Misc/az/#vnet","text":"az network vnet | Microsoft Learn","title":"VNet"},{"location":"Misc/az/#vnetid","text":"az network vnet show \\ --name ${vnet_name} \\ --resource-group ${resource_group} \\ --query id","title":"VNetID\u53d6\u5f97"},{"location":"Misc/az/#vnet_1","text":"VNet\u3092\u5358\u4f53\u3067\u4f5c\u6210\u3059\u308b az network vnet create \\ --resource-group ${resource_group} \\ --name ${vnet_name} \\ --address-prefixes 192.168.0.0/16 VNet\u3068\u30b5\u30d6\u30cd\u30c3\u30c8\u3092\u540c\u6642\u306b\u4f5c\u6210 az network vnet create \\ --resource-group ${resource_group} \\ --name ${vnet_name} \\ --address-prefixes 192.168.0.0/16 \\ --subnet-name ${subnet_name} \\ --subnet-prefixes 102.168.10.0/24 \\ --network-security-group ${nsg_name}","title":"VNet\u4f5c\u6210"},{"location":"Misc/az/#_5","text":"az network vnet subnet | Microsoft Learn","title":"\u30b5\u30d6\u30cd\u30c3\u30c8"},{"location":"Misc/az/#id_1","text":"az network vnet subnet show \\ --vnet-name ${vnet_name} \\ --resource-group ${resource_group} \\ --name ${subnet_name} \\ --query id","title":"\u30b5\u30d6\u30cd\u30c3\u30c8ID\u53d6\u5f97"},{"location":"Misc/az/#_6","text":"VNet\u306e\u30a2\u30c9\u30ec\u30b9\u7bc4\u56f2\u3067\u3042\u308b\u3053\u3068\u306f\u5fc5\u9808 az network vnet subnet create \\ --name ${subnet_name} \\ --vnet-name ${vnet_name} \\ --resource-group ${resource_group} \\ --network-security-group ${nsg_name} \\ --address-prefixes 192.168.10.0/24","title":"\u30b5\u30d6\u30cd\u30c3\u30c8\u4f5c\u6210"},{"location":"Misc/az/#_7","text":"az network vnet list-endpoint-services","title":"\u30b5\u30fc\u30d3\u30b9\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u4e00\u89a7"},{"location":"Misc/az/#_8","text":"","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7"},{"location":"Misc/az/#nsg","text":"NSG\u306e\u7bb1\u3092\u4f5c\u308b az network nsg | Microsoft Learn az network nsg create \\ --name ${nsg_name} \\ --resource-group ${resource_group}","title":"NSG\u4f5c\u6210"},{"location":"Misc/az/#_9","text":"az network nsg rule | Microsoft Learn az network nsg rule create \\ --nsg-name ${nsg_name} \\ --resource-group ${resoure_group} \\ --name ${nsg_rule_name} \\ --access Allow \\ --priority 256 \\ --source-address-prefixes ${src_address_prefixes} \\ --source-port-ranges ${src_port_ranges} \\ --destination-address-prefixes ${dst_address_prefixes} \\ --destination-port-ranges ${dst_port_ranges} \\ --protocol ${protocol} \u5024 \u8a2d\u5b9a\u4f8b *-address-prefixes IP\u30a2\u30c9\u30ec\u30b9( 192.168.0.0/24 \u306a\u3069)\u3084 VirtualNetwork \u306a\u3069\u30b5\u30fc\u30d3\u30b9\u30bf\u30b0 *-port-ranges \u30dd\u30fc\u30c8\u756a\u53f7(\u5024\u306e\u307f\u3001\u7bc4\u56f2\u6307\u5b9a 1024-4096 \u306a\u3069)\u3001 *","title":"\u30eb\u30fc\u30eb\u4f5c\u6210"},{"location":"Misc/az/#public-ip","text":"","title":"public ip"},{"location":"Misc/az/#_10","text":"az network public-ip list \\ --resoure-group ${resource_group} \u5fc5\u8981\u306a\u30a2\u30c9\u30ec\u30b9\u306f --query \u3067\u53d6\u308a\u51fa\u3059\u3002 az network public-ip list \\ --resoure-group ${resource_group} \\ --query \"[?id=='$publicip_id'].ipAddress\" \\ --o tsv","title":"\u30a2\u30c9\u30ec\u30b9\u4e00\u89a7"},{"location":"Misc/az/#dns","text":"","title":"DNS"},{"location":"Misc/az/#_11","text":"az network dns record-set a add-record \\ --resoure-group ${resource_group} \\ --zone-name \"example.org\" \\ --ipv4-address ${publicip_address} \\ --record-set-name ${recordset_name}","title":"\u30ec\u30b3\u30fc\u30c9\u4f5c\u6210"},{"location":"Misc/az/#private-dns","text":"","title":"Private DNS"},{"location":"Misc/az/#_12","text":"az network private-dns zone create \\ --resoure-group ${resource_group} \\ --name \"private.example.org\"","title":"\u30be\u30fc\u30f3\u4f5c\u6210"},{"location":"Misc/az/#a","text":"az network private-dns record-set a add-record \\ --resoure-group ${resource_group} \\ --zone-name \"private.example.org\" --ipv4-adderss ${ipaddr} \\ --record-set-name hostname","title":"A\u30ec\u30b3\u30fc\u30c9\u4f5c\u6210"},{"location":"Misc/az/#a_1","text":"az network private-dns record-set a delete \\ --resoure-group ${resource_group} \\ --zone-name \"private.example.org\" --name hostname y/n\u3092\u805e\u304b\u308c\u308b\u304c\u3001 -y \u3092\u4ed8\u4e0e\u3059\u308c\u3070\u5f37\u5236\u524a\u9664","title":"A\u30ec\u30b3\u30fc\u30c9\u524a\u9664"},{"location":"Misc/az/#_13","text":"\u30be\u30fc\u30f3\u3068\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u540c\u3058\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u3067\u3042\u308c\u3070\u3001 --virtual-network \u306f\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u540d\u3060\u3051\u3067\u826f\u3044\u3002 az network private-dns link vnet create \\ --zone \"private.example.org\" \\ --resource-group ${resource_group} \\ --virtual-network ${vnet_name} \\ --name ${link_name}","title":"\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u306e\u30ea\u30f3\u30af\u4f5c\u6210"},{"location":"Misc/az/#application-gateway","text":"","title":"Application Gateway"},{"location":"Misc/az/#skustandard-v2waf-v2","text":"Azure Application Gateway WAF \u30dd\u30ea\u30b7\u30fc\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b | Microsoft Learn \u57fa\u672c\u69cb\u6587\u306f az network application-gateway update --resource-group ${rg} --name ${appgw} --sku WAF_v2 \u3060\u304c\u3001\u3053\u308c\u3060\u3051\u3060\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002 \u300cWAF v2\u306b\u5909\u66f4\u300d\u3068\u300cWAF\u30dd\u30ea\u30b7\u30fc\u306e\u8a2d\u5b9a\u300d\u3092\u540c\u6642\u306b\u884c\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002 # WAF\u30dd\u30ea\u30b7\u30fc\u306e\u4f5c\u6210 az network application-gateway waf-policy create \\ --name ${waf_policy_name} \\ --resource-group ${resource_group} \\ --version 3.2 # WAF\u30dd\u30ea\u30b7\u30fc\u8a2d\u5b9a az network application-gateway waf-policy policy-setting update \\ --policy-name ${waf_policy_name} \\ --resource-group ${resource_group} \\ --request-body-check ${check} \\ --mode ${waf_mode} \\ --state ${waf_state} # WAF\u306eSKU\u3092WAF_v2\u306b\u66f4\u65b0 waf_id=$(az network application-gateway waf-policy show -g ${resource_group} -n ${waf_policy_name} --query id -o tsv) az network application-gateway update \\ --name ${appgw_name} \\ --resource-group ${resouce_group} \\ --sku WAF_v2 \\ --set sku.tier=WAF_v2 \\ --set firewallPolicy.id=${waf_id}","title":"SKU\u3092Standard v2\u304b\u3089WAF v2\u306b\u5909\u66f4\u3059\u308b"},{"location":"Misc/az/#storage-account","text":"","title":"storage account"},{"location":"Misc/az/#_14","text":"az storage file | Microsoft Learn","title":"\u30d5\u30a1\u30a4\u30eb\u5171\u6709"},{"location":"Misc/az/#_15","text":"az storage file | Microsoft Learn az storage file list \\ --account-name ${account_name} \\ --account-key ${account_key} \\ --share-name ${share_name}","title":"\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7"},{"location":"Misc/az/#_16","text":"az storage file | Microsoft Learn az storage file download \\ --path ${shared_file_path} \\ --dest ${output_dir_name} \\ --share-name ${share_name} \\ --account-name ${account_name} \\ --account-key ${account_key} dest \u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f\u300c\u30d1\u30b9\u300d\u3068\u66f8\u304b\u308c\u3066\u3044\u308b\u304c\u3001\u5b9f\u969b\u306b\u52d5\u304b\u3059\u3068\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306b\u306a\u308b\u3002 ( dest\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d / \u5143\u306e\u30d5\u30a1\u30a4\u30eb\u540d \u3067\u4fdd\u5b58\u3055\u308c\u308b)","title":"\u30d5\u30a1\u30a4\u30eb\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"},{"location":"Misc/az/#blob","text":"az storage blob | Microsoft Learn az storage blob download \\ --container-name ${container_name} \\ --name ${blob_filepath} \\ --file ${output_dir_name} \\ --account-name ${storage_account} \\ --account-key ${account_key} container_name \u306f\u30b3\u30f3\u30c6\u30ca\u30fc\u306e\u540d\u79f0\u3001 blob_filepath \u306f\u30b3\u30f3\u30c6\u30ca\u30fc\u5185\u306b\u304a\u3051\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3001 output_dir_name \u306f\u51fa\u529b\u5148(\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u540d)","title":"\u30d5\u30a1\u30a4\u30ebBlob\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"},{"location":"Misc/az/#_17","text":"Azure Storage \u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u304a\u3088\u3073\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u69cb\u6210\u3059\u308b | Microsoft Learn","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3"},{"location":"Misc/az/#_18","text":"az storage account update \\ --resource-group ${resource_group} \\ --name ${storage_account_name} \\ --default-action Deny","title":"\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u62d2\u5426\u8a2d\u5b9a"},{"location":"Misc/az/#vnet_2","text":"az storage account network-rule add \\ --resource-group ${resource_group} \\ --account-name ${storage_account_name} \\ --subnet ${subnet_id} \u305f\u3060\u3057\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u30b5\u30d6\u30cd\u30c3\u30c8\u5074\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u30dd\u30ea\u30b7\u30fc\u8a2d\u5b9a\u304c\u5fc5\u8981 az network vnet subnet update \\ --name ${subnet} \\ --vnet-name ${vnet} \\ --resource-group ${resource_group} \\ --service-endpoints Microsoft.Storage","title":"VNET/\u30b5\u30d6\u30cd\u30c3\u30c8\u3092\u8ffd\u52a0"},{"location":"Misc/az/#ip","text":"az storage account network-rule add \\ --resource-group ${resource_group} \\ --account-name ${storage_account_name} \\ --ip-address ${ip_address}","title":"\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u8ffd\u52a0"},{"location":"Misc/az/#_19","text":"az storage account keys | Microsoft Learn az storage account keys list \\ --resoure-group ${resource_group} \\ --account-name ${storage_account_name} 2\u3064\u30d2\u30c3\u30c8\u3059\u308b\u306f\u305a\u306a\u306e\u3067\u3001 --query '[0].value' -o tsv \u3068\u304b\u3084\u308c\u3070\u53d6\u308a\u51fa\u305b\u308b\u3002","title":"\u30ad\u30fc\u306e\u53d6\u5f97"},{"location":"Misc/az/#aks","text":"","title":"AKS"},{"location":"Misc/az/#_20","text":"az aks list [-g <resource-group>]","title":"\u30af\u30e9\u30b9\u30bf\u30fc\u4e00\u89a7"},{"location":"Misc/az/#_21","text":"az aks get-versions --query 'orchestrators[].orchestratorVersion' \u30ed\u30b1\u30fc\u30eb\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u4ee5\u4e0b az aks get-versions -l eastus --query 'orchestrators[].orchestratorVersion'","title":"\u4f7f\u7528\u53ef\u80fd\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d"},{"location":"Misc/az/#kubeconfig","text":"az aks get-credentials \\ --resoure-group ${resource_group} \\ --name ${cluster_name} --overwrite-existing \u3092\u4ed8\u4e0e\u3059\u308b\u3068\u78ba\u8a8d\u7121\u3057\u3067\u4e0a\u66f8\u304d\u3055\u308c\u308b\u3002","title":"KUBECONFIG\u306e\u53d6\u5f97"},{"location":"Misc/az/#_22","text":"az aks nodepool | Microsoft Learn az aks nodepool add \\ --resoure-group ${resource_group} \\ --name ${nodepool_name} \\ --cluster-name ${cluster_name} \\ --kubernetes-version ${k8s_version} \\ --mode User \\ --os-type Linux \\ --vnet-subnet-id ${vnet_subnet_id} \\ --node-vm-size Standard_B2s \\ --node-count 2 \\ --max-pods 32","title":"\u30ce\u30fc\u30c9\u30d7\u30fc\u30eb\u306e\u8ffd\u52a0"},{"location":"Misc/az/#_23","text":"az aks nodepool show -g ${resource_group} --cluster-name ${cluster_name} -n ${nodepool_name}","title":"\u30ce\u30fc\u30c9\u30d7\u30fc\u30eb\u306e\u8a73\u7d30"},{"location":"Misc/az/#_24","text":"az aks scale \\ --resoure-group ${resource_group} \\ --name ${nodepool_name} \\ --nodepool-name ${nodepool_name} \\ --node-count 3","title":"\u30ce\u30fc\u30c9\u306e\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0"},{"location":"Misc/azure/","text":"Azure \u5404\u30b5\u30fc\u30d3\u30b9\u6982\u8981 Azure Communication Services \u3068\u306f | Microsoft Learn Azure Communication Services \u30e1\u30fc\u30eb\u306e\u6982\u8981 - An Azure Communication Services concept article | Microsoft Learn \u30af\u30a4\u30c3\u30af \u30b9\u30bf\u30fc\u30c8 - Azure Communication Services \u3092\u4f7f\u7528\u3057\u3066\u96fb\u5b50\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u65b9\u6cd5 - An Azure Communication Services Quickstart | Microsoft Learn \u30af\u30a4\u30c3\u30af \u30b9\u30bf\u30fc\u30c8: Azure Communication Services \u3067\u30e1\u30fc\u30eb\u901a\u4fe1\u30b5\u30fc\u30d3\u30b9\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u3066\u7ba1\u7406\u3059\u308b - An Azure Communication Services quickstart | Microsoft Learn Azure \u306e\u30b5\u30fc\u30d0\u30fc\u30ec\u30b9 \u30b3\u30f3\u30c6\u30ca\u30fc - Azure Container Instances | Microsoft Learn Cloud Shell Azure Cloud Shell \u306b\u95a2\u3057\u3066\u3088\u304f\u3042\u308b\u3054\u8cea\u554f (FAQ) | Microsoft Learn \u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u78ba\u8a8d \u74b0\u5883\u5909\u6570\u306b\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b\u3002 echo $ACC_STORAGE_PROFILE AKS \u76e3\u8996\u8a2d\u5b9a Azure Kubernetes Service (AKS) \u30af\u30e9\u30b9\u30bf\u30fc\u306e\u76e3\u8996\u3092\u6709\u52b9\u306b\u3059\u308b - Azure Monitor | Microsoft Learn Kubernetes \u30af\u30e9\u30b9\u30bf\u30fc\u306e\u76e3\u8996\u3092\u7121\u52b9\u306b\u3059\u308b - Azure Monitor | Microsoft Learn Monitor / Log Analytics AKS/Monitor \u30b3\u30f3\u30c6\u30ca\u30fc\u5206\u6790\u60c5\u5831\u304b\u3089\u306e\u30af\u30a8\u30ea \u30ed\u30b0 - Azure Monitor | Microsoft Learn Container insights \u3092\u4f7f\u7528\u3057\u3066 Kubernetes \u30af\u30e9\u30b9\u30bf\u30fc\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u76e3\u8996\u3059\u308b - Azure Monitor | Microsoft Learn \u53ce\u96c6\u3059\u308b\u30b3\u30f3\u30c6\u30ca\u30fc\u30ed\u30b0\u306e\u8a2d\u5b9a\u5909\u66f4 AKS\u30af\u30e9\u30b9\u30bf\u30fc\u306e\u30e1\u30cb\u30e5\u30fc\u306e\u300c\u76e3\u8996\u300d\u304b\u3089\u3001\u4e0a\u90e8\u306e\u300c\u30e2\u30cb\u30bf\u30fc\u306e\u8a2d\u5b9a\u300d\u62bc\u4e0b\u3002 \u3053\u308c\u3067\u30c7\u30d7\u30ed\u30a4\u6642\u306b\u9078\u629e\u3059\u308bPrometheus/Grafana\u3084\u30b3\u30f3\u30c6\u30ca\u30fc\u30ed\u30b0\u306e\u8a2d\u5b9a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3002 \u53ce\u96c6\u983b\u5ea6\u3084\u5bfe\u8c61\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306a\u3069\u3092\u3053\u3053\u304b\u3089\u9078\u629e\u3002 \u30af\u30a8\u30ea \u4f7f\u7528\u53ef\u80fd\u306aCounterName\u306e\u4e00\u89a7 Perf | where ObjectName == \"K8SContainer\" | summarize count () by CounterName CounterName\u306e\u4e00\u89a7\u3068\u305d\u308c\u305e\u308c\u306e\u4ef6\u6570\u304c\u51fa\u529b\u3055\u308c\u308b","title":"Azure"},{"location":"Misc/azure/#azure","text":"","title":"Azure"},{"location":"Misc/azure/#_1","text":"Azure Communication Services \u3068\u306f | Microsoft Learn Azure Communication Services \u30e1\u30fc\u30eb\u306e\u6982\u8981 - An Azure Communication Services concept article | Microsoft Learn \u30af\u30a4\u30c3\u30af \u30b9\u30bf\u30fc\u30c8 - Azure Communication Services \u3092\u4f7f\u7528\u3057\u3066\u96fb\u5b50\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u65b9\u6cd5 - An Azure Communication Services Quickstart | Microsoft Learn \u30af\u30a4\u30c3\u30af \u30b9\u30bf\u30fc\u30c8: Azure Communication Services \u3067\u30e1\u30fc\u30eb\u901a\u4fe1\u30b5\u30fc\u30d3\u30b9\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u3066\u7ba1\u7406\u3059\u308b - An Azure Communication Services quickstart | Microsoft Learn Azure \u306e\u30b5\u30fc\u30d0\u30fc\u30ec\u30b9 \u30b3\u30f3\u30c6\u30ca\u30fc - Azure Container Instances | Microsoft Learn","title":"\u5404\u30b5\u30fc\u30d3\u30b9\u6982\u8981"},{"location":"Misc/azure/#cloud-shell","text":"Azure Cloud Shell \u306b\u95a2\u3057\u3066\u3088\u304f\u3042\u308b\u3054\u8cea\u554f (FAQ) | Microsoft Learn","title":"Cloud Shell"},{"location":"Misc/azure/#_2","text":"\u74b0\u5883\u5909\u6570\u306b\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b\u3002 echo $ACC_STORAGE_PROFILE","title":"\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u78ba\u8a8d"},{"location":"Misc/azure/#aks","text":"","title":"AKS"},{"location":"Misc/azure/#_3","text":"Azure Kubernetes Service (AKS) \u30af\u30e9\u30b9\u30bf\u30fc\u306e\u76e3\u8996\u3092\u6709\u52b9\u306b\u3059\u308b - Azure Monitor | Microsoft Learn Kubernetes \u30af\u30e9\u30b9\u30bf\u30fc\u306e\u76e3\u8996\u3092\u7121\u52b9\u306b\u3059\u308b - Azure Monitor | Microsoft Learn","title":"\u76e3\u8996\u8a2d\u5b9a"},{"location":"Misc/azure/#monitor-log-analytics","text":"","title":"Monitor / Log Analytics"},{"location":"Misc/azure/#aksmonitor","text":"\u30b3\u30f3\u30c6\u30ca\u30fc\u5206\u6790\u60c5\u5831\u304b\u3089\u306e\u30af\u30a8\u30ea \u30ed\u30b0 - Azure Monitor | Microsoft Learn Container insights \u3092\u4f7f\u7528\u3057\u3066 Kubernetes \u30af\u30e9\u30b9\u30bf\u30fc\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u76e3\u8996\u3059\u308b - Azure Monitor | Microsoft Learn","title":"AKS/Monitor"},{"location":"Misc/azure/#_4","text":"AKS\u30af\u30e9\u30b9\u30bf\u30fc\u306e\u30e1\u30cb\u30e5\u30fc\u306e\u300c\u76e3\u8996\u300d\u304b\u3089\u3001\u4e0a\u90e8\u306e\u300c\u30e2\u30cb\u30bf\u30fc\u306e\u8a2d\u5b9a\u300d\u62bc\u4e0b\u3002 \u3053\u308c\u3067\u30c7\u30d7\u30ed\u30a4\u6642\u306b\u9078\u629e\u3059\u308bPrometheus/Grafana\u3084\u30b3\u30f3\u30c6\u30ca\u30fc\u30ed\u30b0\u306e\u8a2d\u5b9a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3002 \u53ce\u96c6\u983b\u5ea6\u3084\u5bfe\u8c61\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306a\u3069\u3092\u3053\u3053\u304b\u3089\u9078\u629e\u3002","title":"\u53ce\u96c6\u3059\u308b\u30b3\u30f3\u30c6\u30ca\u30fc\u30ed\u30b0\u306e\u8a2d\u5b9a\u5909\u66f4"},{"location":"Misc/azure/#_5","text":"","title":"\u30af\u30a8\u30ea"},{"location":"Misc/azure/#countername","text":"Perf | where ObjectName == \"K8SContainer\" | summarize count () by CounterName CounterName\u306e\u4e00\u89a7\u3068\u305d\u308c\u305e\u308c\u306e\u4ef6\u6570\u304c\u51fa\u529b\u3055\u308c\u308b","title":"\u4f7f\u7528\u53ef\u80fd\u306aCounterName\u306e\u4e00\u89a7"},{"location":"Misc/backlog/","text":"Backlog ID\u78ba\u8a8d \u30d7\u30ed\u30b8\u30a7\u30af\u30c8ID \u300c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u8a2d\u5b9a\u300d\u306eURL\u306eQueryString\u3067\u78ba\u8a8d( ?projectId=nnnnnn \u304c\u3064\u3044\u3066\u3044\u308b) REST \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4e00\u89a7 https://${BACKLOG_SPACE}.backlog.com/api/v2/projects?apiKey=$ { BACKLOG_APIKEY } \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30e1\u30f3\u30d0\u30fc\u4e00\u89a7 https://${BACKLOG_SPACE}.backlog.com/api/v2/projects/${PROJECT_KEY}/users?apiKey=$ { BACKLOG_APIKEY } ${PROJECT_KEY} \u306fID\u3067\u3082\u53ef \u8ab2\u984c\u4e00\u89a7 \u8ab2\u984c\u4e00\u89a7\u306e\u53d6\u5f97 | Backlog Developer API | Nulab curl -LO \"https://${BACKLOG_SPACE}.backlog.com/api/v2/issues?count=${COUNT}&startDateUntil=${YYYY_mm_dd}&projectId[]=${PROJECT_ID}&statusId[]=1&statusId[]=2&apiKey=${BACKLOG_APIKEY}\"","title":"Backlog"},{"location":"Misc/backlog/#backlog","text":"","title":"Backlog"},{"location":"Misc/backlog/#id","text":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8ID \u300c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u8a2d\u5b9a\u300d\u306eURL\u306eQueryString\u3067\u78ba\u8a8d( ?projectId=nnnnnn \u304c\u3064\u3044\u3066\u3044\u308b)","title":"ID\u78ba\u8a8d"},{"location":"Misc/backlog/#rest","text":"","title":"REST"},{"location":"Misc/backlog/#_1","text":"https://${BACKLOG_SPACE}.backlog.com/api/v2/projects?apiKey=$ { BACKLOG_APIKEY }","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4e00\u89a7"},{"location":"Misc/backlog/#_2","text":"https://${BACKLOG_SPACE}.backlog.com/api/v2/projects/${PROJECT_KEY}/users?apiKey=$ { BACKLOG_APIKEY } ${PROJECT_KEY} \u306fID\u3067\u3082\u53ef","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30e1\u30f3\u30d0\u30fc\u4e00\u89a7"},{"location":"Misc/backlog/#_3","text":"\u8ab2\u984c\u4e00\u89a7\u306e\u53d6\u5f97 | Backlog Developer API | Nulab curl -LO \"https://${BACKLOG_SPACE}.backlog.com/api/v2/issues?count=${COUNT}&startDateUntil=${YYYY_mm_dd}&projectId[]=${PROJECT_ID}&statusId[]=1&statusId[]=2&apiKey=${BACKLOG_APIKEY}\"","title":"\u8ab2\u984c\u4e00\u89a7"},{"location":"Misc/bsky/","text":"Bluesky API \u6295\u7a3f \u6295\u7a3f\u306e\u57fa\u672c\u306f\u300c\u30bb\u30c3\u30b7\u30e7\u30f3\u4f5c\u6210\u300d\u3057\u3066\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u5024\u3092\u4f7f\u3063\u3066\u300c\u6295\u7a3f\u300d\u306e2\u56de\u306e\u901a\u4fe1\u304c\u5fc5\u8981\u3002 Get Started\u306b\u30b3\u30fc\u30c9\u4f8b\u304c\u3042\u308b\u3002 Get Started | Bluesky \u30bb\u30c3\u30b7\u30e7\u30f3\u4f5c\u6210 $BLUESKY_HANDLE \u306f\u30e6\u30fc\u30b6\u30fc\u540d( .bsky.social\u3068\u304b)\u3001 $BLUESKY_PASSWORD \u306f\u30a2\u30d7\u30ea\u30d1\u30b9\u30ef\u30fc\u30c9 curl -X POST https://bsky.social/xrpc/com.atproto.server.createSession \\ -H \"Content-Type: application/json\" \\ -d '{\"identifier\": \"'\"$BLUESKY_HANDLE\"'\", \"password\": \"'\"$BLUESKY_PASSWORD\"'\"}' \u6210\u529f\u3059\u308c\u3070\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306eJSON\u306b accessJwt \u3068\u3044\u3046\u30ad\u30fc\u304c\u3042\u308a\u3001\u3053\u306e\u5024\u304c\u6295\u7a3f\u3092\u884c\u3046\u969b\u306e\u30d9\u30a2\u30e9\u30c8\u30fc\u30af\u30f3\u3068\u306a\u308b\u3002 JavaScript\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u3002 // user_id: \u30e6\u30fc\u30b6\u30fcID // password: \u30a2\u30d7\u30ea\u30d1\u30b9\u30ef\u30fc\u30c9 const url = \"https://bsky.social/xrpc/com.atproto.server.createSession\" ; const headers = new Headers(); headers.append( 'Content-Type' , 'application/json' ); const body = JSON .stringify({ identifier : user_id, password : password }); const res = await fetch(url, { method : \"POST\" , body : body, headers : headers }); const response = await res.json(); console.log(response.accessJwt); \u6295\u7a3f \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f com.atproto.repo.createRecord \u3067\u3001 $ACCESS_JWT \u306f\u30bb\u30c3\u30b7\u30e7\u30f3\u4f5c\u6210\u3067\u5f97\u305f accessJwt \u306e\u5024\u3002 curl -X POST https://bsky.social/xrpc/com.atproto.repo.createRecord \\ -H \"Authorization: Bearer $ACCESS_JWT\" \\ -H \"Content-Type: application/json\" \\ -d \"{\\\"repo\\\": \\\"$BLUESKY_HANDLE\\\", \\\"collection\\\": \\\"app.bsky.feed.post\\\", \\\"record\\\": {\\\"text\\\": \\\"Hello world! I posted this via the API.\\\", \\\"createdAt\\\": \\\"$(date -u +%Y-%m-%dT%H:%M:%SZ)\\\"}}\" createdAt \u306b\u306f\u5b9f\u884c\u6642\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u30bb\u30c3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u4e0a\u8a18\u30b5\u30f3\u30d7\u30eb\u306f\u79d2\u307e\u3067\u3060\u304c\u3001\u30df\u30ea\u79d2\u304c\u5165\u3063\u3066\u3044\u3066\u3082\u304b\u307e\u308f\u306a\u3044\u3002 JavaScript\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u3002 // accessJwt: session id // user_id: \u30e6\u30fc\u30b6\u30fcID // message: \u6295\u7a3f\u30e1\u30c3\u30bb\u30fc\u30b8\u672c\u6587 const url = \"https://bsky.social/xrpc/com.atproto.repo.createRecord\" ; const headers = new Headers(); headers.append( 'Authorization' , \"Bearer \" + accessJwt); headers.append( 'Content-Type' , 'application/json' ); let body = JSON .stringify({ repo : user_id, collection : \"app.bsky.feed.post\" , record : { text : message, createdAt : new Date ().toISOString(), } }); const res = await fetch(url, { method : \"POST\" , body : body, headers : headers }); \u30ea\u30f3\u30af\u4ed8\u304d URL\u6587\u5b57\u5217\u306e\u30ea\u30f3\u30af\u3092\u6709\u52b9\u306b\u3059\u308b\u306b\u306f\u30d0\u30a4\u30c8\u6570\u3067\u30c6\u30ad\u30b9\u30c8\u4f4d\u7f6e\u306e\u30ea\u30f3\u30af\u90e8\u5206\u3092\u6307\u5b9a\u3057\u3001\u30ea\u30c3\u30c1\u30c6\u30ad\u30b9\u30c8\u3068\u3057\u3066\u6295\u7a3f\u3059\u308b\u3002 \u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3068\u3053\u308d\u306f\u540c\u3058\u3067\u3001\u6295\u7a3f\u6642\u306e\u30ea\u30af\u30a8\u30b9\u30c8Body\u306e\u30d1\u30e9\u30e1\u30bf\u304c\u5897\u3048\u308b\u3002 facets \u306b\u6307\u5b9a\u3059\u308b\u4f4d\u7f6e\u3068URL\u304c\u672c\u6587\u30c6\u30ad\u30b9\u30c8\u4e2d\u306e\u30ea\u30f3\u30af\u306b\u306a\u308b\u4ed5\u69d8\u306e\u305f\u3081\u3001\u672c\u6587\u306bURL\u304c\u3042\u308b\u5fc5\u8981\u306f\u306a\u3044\u3002 Links, mentions, and rich text | Bluesky let body = JSON .stringify({ repo : user_id, collection : \"app.bsky.feed.post\" , record : { text : message, createdAt : new Date ().toISOString(), facets = [ { index : { byteStart : \uff1c message\u4e2d\u306e\u30ea\u30f3\u30afURL\u306e\u958b\u59cb\u30d0\u30a4\u30c8\u4f4d\u7f6e \uff1e , byteEnd : \uff1c message\u4e2d\u306e\u30ea\u30f3\u30afURL\u306e\u7d42\u4e86\u30d0\u30a4\u30c8\u4f4d\u7f6e \uff1e }, features : [{ $type : 'app.bsky.richtext.facet#link' , uri : \uff1c URL \uff1e }] } ] } }); await fetch(url, { method : \"POST\" , body : body, headers : headers }); \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u540d(via) \u516c\u5f0f\u306b\u306f\u306a\u3044\u30d1\u30e9\u30e1\u30bf\u3067\u3001\u4e00\u90e8\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u975e\u516c\u5f0f\u306b\u4f7f\u3063\u3066\u3044\u308b\u3002 via \u306b\u6307\u5b9a\u3059\u308b\u3002 const body = { repo : bsky_id, collection : \"app.bsky.feed.post\" , record : { text : message, createdAt : new Date ().toISOString(), $type : \"app.bsky.feed.post\" , via : 'NJGK' } };","title":"Bluesky API"},{"location":"Misc/bsky/#bluesky-api","text":"","title":"Bluesky API"},{"location":"Misc/bsky/#_1","text":"\u6295\u7a3f\u306e\u57fa\u672c\u306f\u300c\u30bb\u30c3\u30b7\u30e7\u30f3\u4f5c\u6210\u300d\u3057\u3066\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u5024\u3092\u4f7f\u3063\u3066\u300c\u6295\u7a3f\u300d\u306e2\u56de\u306e\u901a\u4fe1\u304c\u5fc5\u8981\u3002 Get Started\u306b\u30b3\u30fc\u30c9\u4f8b\u304c\u3042\u308b\u3002 Get Started | Bluesky","title":"\u6295\u7a3f"},{"location":"Misc/bsky/#_2","text":"$BLUESKY_HANDLE \u306f\u30e6\u30fc\u30b6\u30fc\u540d( .bsky.social\u3068\u304b)\u3001 $BLUESKY_PASSWORD \u306f\u30a2\u30d7\u30ea\u30d1\u30b9\u30ef\u30fc\u30c9 curl -X POST https://bsky.social/xrpc/com.atproto.server.createSession \\ -H \"Content-Type: application/json\" \\ -d '{\"identifier\": \"'\"$BLUESKY_HANDLE\"'\", \"password\": \"'\"$BLUESKY_PASSWORD\"'\"}' \u6210\u529f\u3059\u308c\u3070\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306eJSON\u306b accessJwt \u3068\u3044\u3046\u30ad\u30fc\u304c\u3042\u308a\u3001\u3053\u306e\u5024\u304c\u6295\u7a3f\u3092\u884c\u3046\u969b\u306e\u30d9\u30a2\u30e9\u30c8\u30fc\u30af\u30f3\u3068\u306a\u308b\u3002 JavaScript\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u3002 // user_id: \u30e6\u30fc\u30b6\u30fcID // password: \u30a2\u30d7\u30ea\u30d1\u30b9\u30ef\u30fc\u30c9 const url = \"https://bsky.social/xrpc/com.atproto.server.createSession\" ; const headers = new Headers(); headers.append( 'Content-Type' , 'application/json' ); const body = JSON .stringify({ identifier : user_id, password : password }); const res = await fetch(url, { method : \"POST\" , body : body, headers : headers }); const response = await res.json(); console.log(response.accessJwt);","title":"\u30bb\u30c3\u30b7\u30e7\u30f3\u4f5c\u6210"},{"location":"Misc/bsky/#_3","text":"\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f com.atproto.repo.createRecord \u3067\u3001 $ACCESS_JWT \u306f\u30bb\u30c3\u30b7\u30e7\u30f3\u4f5c\u6210\u3067\u5f97\u305f accessJwt \u306e\u5024\u3002 curl -X POST https://bsky.social/xrpc/com.atproto.repo.createRecord \\ -H \"Authorization: Bearer $ACCESS_JWT\" \\ -H \"Content-Type: application/json\" \\ -d \"{\\\"repo\\\": \\\"$BLUESKY_HANDLE\\\", \\\"collection\\\": \\\"app.bsky.feed.post\\\", \\\"record\\\": {\\\"text\\\": \\\"Hello world! I posted this via the API.\\\", \\\"createdAt\\\": \\\"$(date -u +%Y-%m-%dT%H:%M:%SZ)\\\"}}\" createdAt \u306b\u306f\u5b9f\u884c\u6642\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u30bb\u30c3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u4e0a\u8a18\u30b5\u30f3\u30d7\u30eb\u306f\u79d2\u307e\u3067\u3060\u304c\u3001\u30df\u30ea\u79d2\u304c\u5165\u3063\u3066\u3044\u3066\u3082\u304b\u307e\u308f\u306a\u3044\u3002 JavaScript\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u3002 // accessJwt: session id // user_id: \u30e6\u30fc\u30b6\u30fcID // message: \u6295\u7a3f\u30e1\u30c3\u30bb\u30fc\u30b8\u672c\u6587 const url = \"https://bsky.social/xrpc/com.atproto.repo.createRecord\" ; const headers = new Headers(); headers.append( 'Authorization' , \"Bearer \" + accessJwt); headers.append( 'Content-Type' , 'application/json' ); let body = JSON .stringify({ repo : user_id, collection : \"app.bsky.feed.post\" , record : { text : message, createdAt : new Date ().toISOString(), } }); const res = await fetch(url, { method : \"POST\" , body : body, headers : headers });","title":"\u6295\u7a3f"},{"location":"Misc/bsky/#_4","text":"URL\u6587\u5b57\u5217\u306e\u30ea\u30f3\u30af\u3092\u6709\u52b9\u306b\u3059\u308b\u306b\u306f\u30d0\u30a4\u30c8\u6570\u3067\u30c6\u30ad\u30b9\u30c8\u4f4d\u7f6e\u306e\u30ea\u30f3\u30af\u90e8\u5206\u3092\u6307\u5b9a\u3057\u3001\u30ea\u30c3\u30c1\u30c6\u30ad\u30b9\u30c8\u3068\u3057\u3066\u6295\u7a3f\u3059\u308b\u3002 \u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3068\u3053\u308d\u306f\u540c\u3058\u3067\u3001\u6295\u7a3f\u6642\u306e\u30ea\u30af\u30a8\u30b9\u30c8Body\u306e\u30d1\u30e9\u30e1\u30bf\u304c\u5897\u3048\u308b\u3002 facets \u306b\u6307\u5b9a\u3059\u308b\u4f4d\u7f6e\u3068URL\u304c\u672c\u6587\u30c6\u30ad\u30b9\u30c8\u4e2d\u306e\u30ea\u30f3\u30af\u306b\u306a\u308b\u4ed5\u69d8\u306e\u305f\u3081\u3001\u672c\u6587\u306bURL\u304c\u3042\u308b\u5fc5\u8981\u306f\u306a\u3044\u3002 Links, mentions, and rich text | Bluesky let body = JSON .stringify({ repo : user_id, collection : \"app.bsky.feed.post\" , record : { text : message, createdAt : new Date ().toISOString(), facets = [ { index : { byteStart : \uff1c message\u4e2d\u306e\u30ea\u30f3\u30afURL\u306e\u958b\u59cb\u30d0\u30a4\u30c8\u4f4d\u7f6e \uff1e , byteEnd : \uff1c message\u4e2d\u306e\u30ea\u30f3\u30afURL\u306e\u7d42\u4e86\u30d0\u30a4\u30c8\u4f4d\u7f6e \uff1e }, features : [{ $type : 'app.bsky.richtext.facet#link' , uri : \uff1c URL \uff1e }] } ] } }); await fetch(url, { method : \"POST\" , body : body, headers : headers });","title":"\u30ea\u30f3\u30af\u4ed8\u304d"},{"location":"Misc/bsky/#via","text":"\u516c\u5f0f\u306b\u306f\u306a\u3044\u30d1\u30e9\u30e1\u30bf\u3067\u3001\u4e00\u90e8\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u975e\u516c\u5f0f\u306b\u4f7f\u3063\u3066\u3044\u308b\u3002 via \u306b\u6307\u5b9a\u3059\u308b\u3002 const body = { repo : bsky_id, collection : \"app.bsky.feed.post\" , record : { text : message, createdAt : new Date ().toISOString(), $type : \"app.bsky.feed.post\" , via : 'NJGK' } };","title":"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u540d(via)"},{"location":"Misc/chrome/","text":"Chrome \u540c\u671f\u6642\u306e\u30db\u30b9\u30c8\u540d \u300c\u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u306e\u30bf\u30d6\u300d\u3067\u30db\u30b9\u30c8\u540d\u304c\u6b63\u3057\u304f\u306a\u3044\u5834\u5408\u3001\u4e00\u5ea6Chrome\u306e\u30ed\u30b0\u30a4\u30f3\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u540c\u671f\u3092\u89e3\u9664\u2192\u518d\u5ea6\u540c\u671f\u3059\u308c\u3070\u30db\u30b9\u30c8\u540d\u304c\u6b63\u3057\u304f\u306a\u308b\u3002 (Chrome\u3067\u540c\u671f\u3092\u884c\u3063\u305f\u6642\u70b9\u306e\u30db\u30b9\u30c8\u540d\u304c\u4f7f\u308f\u308c\u7d9a\u3051\u308b\u3063\u307d\u3044\uff1f) \u30b5\u30a4\u30c8\u5185\u691c\u7d22\u30ab\u30b9\u30bf\u30de\u30a4\u30ba \u30a2\u30c9\u30ec\u30b9\u30d0\u30fc\u306b\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u4f5c\u6210\u3057\u3066\u3001\u7279\u5b9a\u30b5\u30a4\u30c8\u3078\u30af\u30a8\u30ea\u30fc\u3092\u6295\u3052\u308b\u8a2d\u5b9a\u3002 [\u8a2d\u5b9a]->[\u691c\u7d22\u30a8\u30f3\u30b8\u30f3]->[\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3068\u30b5\u30a4\u30c8\u5185\u691c\u7d22\u3092\u7ba1\u7406\u3059\u308b]->[\u30b5\u30a4\u30c8\u5185\u691c\u7d22]\u3067\u300c\u8ffd\u52a0\u300d \u540d\u524d: \u8a2d\u5b9a\u540d \u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8 URL (query) \u3092\u8a2d\u5b9a\u3059\u308b\u3002(\u30a2\u30c9\u30ec\u30b9\u30d0\u30fc\u306b\u5165\u529b\u3057\u305f\u691c\u7d22\u7528\u6587\u5b57\u5217\u306f %s \u3067\u6307\u5b9a\u3067\u304d\u308b) DevTools \u30da\u30fc\u30b8\u9077\u79fb\u3057\u3066\u3082\u30ed\u30b0\u3092\u7d99\u7d9a\u3059\u308b \u8a2d\u5b9a\u306e\u300cConsole\u300d\u30ab\u30c6\u30b4\u30ea\u306b\u3042\u308b\u300cPreserve log upon navigation\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3059\u308b","title":"Chrome"},{"location":"Misc/chrome/#chrome","text":"","title":"Chrome"},{"location":"Misc/chrome/#_1","text":"\u300c\u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u306e\u30bf\u30d6\u300d\u3067\u30db\u30b9\u30c8\u540d\u304c\u6b63\u3057\u304f\u306a\u3044\u5834\u5408\u3001\u4e00\u5ea6Chrome\u306e\u30ed\u30b0\u30a4\u30f3\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u540c\u671f\u3092\u89e3\u9664\u2192\u518d\u5ea6\u540c\u671f\u3059\u308c\u3070\u30db\u30b9\u30c8\u540d\u304c\u6b63\u3057\u304f\u306a\u308b\u3002 (Chrome\u3067\u540c\u671f\u3092\u884c\u3063\u305f\u6642\u70b9\u306e\u30db\u30b9\u30c8\u540d\u304c\u4f7f\u308f\u308c\u7d9a\u3051\u308b\u3063\u307d\u3044\uff1f)","title":"\u540c\u671f\u6642\u306e\u30db\u30b9\u30c8\u540d"},{"location":"Misc/chrome/#_2","text":"\u30a2\u30c9\u30ec\u30b9\u30d0\u30fc\u306b\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u4f5c\u6210\u3057\u3066\u3001\u7279\u5b9a\u30b5\u30a4\u30c8\u3078\u30af\u30a8\u30ea\u30fc\u3092\u6295\u3052\u308b\u8a2d\u5b9a\u3002 [\u8a2d\u5b9a]->[\u691c\u7d22\u30a8\u30f3\u30b8\u30f3]->[\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3068\u30b5\u30a4\u30c8\u5185\u691c\u7d22\u3092\u7ba1\u7406\u3059\u308b]->[\u30b5\u30a4\u30c8\u5185\u691c\u7d22]\u3067\u300c\u8ffd\u52a0\u300d \u540d\u524d: \u8a2d\u5b9a\u540d \u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8 URL (query) \u3092\u8a2d\u5b9a\u3059\u308b\u3002(\u30a2\u30c9\u30ec\u30b9\u30d0\u30fc\u306b\u5165\u529b\u3057\u305f\u691c\u7d22\u7528\u6587\u5b57\u5217\u306f %s \u3067\u6307\u5b9a\u3067\u304d\u308b)","title":"\u30b5\u30a4\u30c8\u5185\u691c\u7d22\u30ab\u30b9\u30bf\u30de\u30a4\u30ba"},{"location":"Misc/chrome/#devtools","text":"","title":"DevTools"},{"location":"Misc/chrome/#_3","text":"\u8a2d\u5b9a\u306e\u300cConsole\u300d\u30ab\u30c6\u30b4\u30ea\u306b\u3042\u308b\u300cPreserve log upon navigation\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3059\u308b","title":"\u30da\u30fc\u30b8\u9077\u79fb\u3057\u3066\u3082\u30ed\u30b0\u3092\u7d99\u7d9a\u3059\u308b"},{"location":"Misc/cygwin/","text":"Cygwin link FAQ: Cygwin FAQ \u30d1\u30c3\u30b1\u30fc\u30b8 putclip / getclip cygutils-extra \u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u5165\u3063\u3066\u3044\u308b\u3002","title":"Cygwin"},{"location":"Misc/cygwin/#cygwin","text":"","title":"Cygwin"},{"location":"Misc/cygwin/#link","text":"FAQ: Cygwin FAQ","title":"link"},{"location":"Misc/cygwin/#_1","text":"","title":"\u30d1\u30c3\u30b1\u30fc\u30b8"},{"location":"Misc/cygwin/#putclip-getclip","text":"cygutils-extra \u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u5165\u3063\u3066\u3044\u308b\u3002","title":"putclip / getclip"},{"location":"Misc/esxi/","text":"ESXi ovftool \u3053\u306e\u8fba\u304b\u3089\u3002 4.4.0: Open Virtualization Format Tool (ovftool) - VMware {code} 4.6.0: Open Virtualization Format (OVF) Tool - VMware {code} OVF\u30a8\u30af\u30b9\u30dd\u30fc\u30c8 ovftool.exe --noImageFiles vi:<ESXi\u30e6\u30fc\u30b6\u30fc\u540d>:<ESXi\u30d1\u30b9\u30ef\u30fc\u30c9>@<ESXi\u30a2\u30c9\u30ec\u30b9>/<VM\u540d> \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u30d1\u30b9 \u5b9f\u884c\u4f8b .\\ovftool.exe --noImageFiles vi://root:********@192.168.*.*/cloud-dev E:\\data\\image","title":"ESXi"},{"location":"Misc/esxi/#esxi","text":"","title":"ESXi"},{"location":"Misc/esxi/#ovftool","text":"\u3053\u306e\u8fba\u304b\u3089\u3002 4.4.0: Open Virtualization Format Tool (ovftool) - VMware {code} 4.6.0: Open Virtualization Format (OVF) Tool - VMware {code}","title":"ovftool"},{"location":"Misc/esxi/#ovf","text":"ovftool.exe --noImageFiles vi:<ESXi\u30e6\u30fc\u30b6\u30fc\u540d>:<ESXi\u30d1\u30b9\u30ef\u30fc\u30c9>@<ESXi\u30a2\u30c9\u30ec\u30b9>/<VM\u540d> \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u30d1\u30b9 \u5b9f\u884c\u4f8b .\\ovftool.exe --noImageFiles vi://root:********@192.168.*.*/cloud-dev E:\\data\\image","title":"OVF\u30a8\u30af\u30b9\u30dd\u30fc\u30c8"},{"location":"Misc/firefox/","text":"Firefox \u540c\u671f\u3057\u305f\u5225\u7aef\u672b\u306e\u30bf\u30d6\u3092\u3059\u3079\u3066\u958b\u304f \u30a6\u30a4\u30f3\u30c9\u30a6\u30bf\u30a4\u30c8\u30eb\u30d0\u30fc\u306e \u2228 \u62bc\u4e0b\u3067\u300c\u4ed6\u306e\u7aef\u672b\u304b\u3089\u306e\u30bf\u30d6\u300d\u30af\u30ea\u30c3\u30af\u3067\u540c\u671f\u30bf\u30d6\u306e\u30b5\u30a4\u30c9\u30d0\u30fc\u304c\u958b\u304f\u306e\u3067\u3001\u305d\u3053\u3067\u7aef\u672b\u540d\u53f3\u30af\u30ea\u30c3\u30af\u3067\u300c\u3059\u3079\u3066\u3092\u30bf\u30d6\u3067\u958b\u304f\u300d","title":"Firefox"},{"location":"Misc/firefox/#firefox","text":"","title":"Firefox"},{"location":"Misc/firefox/#_1","text":"\u30a6\u30a4\u30f3\u30c9\u30a6\u30bf\u30a4\u30c8\u30eb\u30d0\u30fc\u306e \u2228 \u62bc\u4e0b\u3067\u300c\u4ed6\u306e\u7aef\u672b\u304b\u3089\u306e\u30bf\u30d6\u300d\u30af\u30ea\u30c3\u30af\u3067\u540c\u671f\u30bf\u30d6\u306e\u30b5\u30a4\u30c9\u30d0\u30fc\u304c\u958b\u304f\u306e\u3067\u3001\u305d\u3053\u3067\u7aef\u672b\u540d\u53f3\u30af\u30ea\u30c3\u30af\u3067\u300c\u3059\u3079\u3066\u3092\u30bf\u30d6\u3067\u958b\u304f\u300d","title":"\u540c\u671f\u3057\u305f\u5225\u7aef\u672b\u306e\u30bf\u30d6\u3092\u3059\u3079\u3066\u958b\u304f"},{"location":"Misc/gas/","text":"Google Apps Script Spreadsheet \u30b7\u30fc\u30c8\u306e\u8aad\u307f\u8fbc\u307f var ss = SpreadsheetApp.getActiveSpreadsheet(); var sheet = ss.getSheetByName( \"\u30b7\u30fc\u30c81\" ); \u30bb\u30eb\u306b\u30a2\u30af\u30bb\u30b9 // \u53c2\u7167 var val = sheet.getRange( \"B10\" ).getValue(); // \u66f4\u65b0 sheet.getRange( \"B10\" ).setValue( \"\u3053\u3053\u306fB10\" ) HTTP\u901a\u4fe1 UrlFetchApp.fetch() \u3092\u4f7f\u3046\u3002 Get const resp = UrlFetchApp.fetch(url);","title":"Google Apps Script"},{"location":"Misc/gas/#google-apps-script","text":"","title":"Google Apps Script"},{"location":"Misc/gas/#spreadsheet","text":"","title":"Spreadsheet"},{"location":"Misc/gas/#_1","text":"var ss = SpreadsheetApp.getActiveSpreadsheet(); var sheet = ss.getSheetByName( \"\u30b7\u30fc\u30c81\" );","title":"\u30b7\u30fc\u30c8\u306e\u8aad\u307f\u8fbc\u307f"},{"location":"Misc/gas/#_2","text":"// \u53c2\u7167 var val = sheet.getRange( \"B10\" ).getValue(); // \u66f4\u65b0 sheet.getRange( \"B10\" ).setValue( \"\u3053\u3053\u306fB10\" )","title":"\u30bb\u30eb\u306b\u30a2\u30af\u30bb\u30b9"},{"location":"Misc/gas/#http","text":"UrlFetchApp.fetch() \u3092\u4f7f\u3046\u3002","title":"HTTP\u901a\u4fe1"},{"location":"Misc/gas/#get","text":"const resp = UrlFetchApp.fetch(url);","title":"Get"},{"location":"Misc/github/","text":"GitHub \u30ea\u30dd\u30b8\u30c8\u30ea \u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u306e\u5909\u66f4 \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u300cSettings\u300d->\u300cDefault branch\u300d\u3067\u5bfe\u8c61\u3092\u9078\u629e\u3059\u308b\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u3092\u5909\u66f4\u3059\u308b - GitHub Docs \u30e9\u30a4\u30bb\u30f3\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u8ffd\u52a0 \u30ea\u30dd\u30b8\u30c8\u30ea\u3078\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u8ffd\u52a0 - GitHub Docs \u300c\u65b0\u898f\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u300d\u3067\u30d5\u30a1\u30a4\u30eb\u540d LICENSE \u3092\u8ffd\u52a0\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u9078\u629e\u3059\u308b\u30dc\u30bf\u30f3\u304c\u8868\u793a\u3055\u308c\u308b\u3002 \u30d6\u30e9\u30f3\u30c1 \u30d6\u30e9\u30f3\u30c1\u4f5c\u6210 \u30ea\u30dd\u30b8\u30c8\u30ea\u5185\u3067\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u304a\u3088\u3073\u524a\u9664\u3059\u308b - GitHub Docs GitHub\u4e0a\u3067\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u300cView all branches\u300d\u753b\u9762\u3067\u300cNew branch\u300d\u62bc\u4e0b\u3059\u308b\u3002 \u3042\u308b\u3044\u306f\u30d6\u30e9\u30f3\u30c1\u9078\u629e\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u3067\u4f5c\u6210\u3057\u305f\u3044\u30d6\u30e9\u30f3\u30c1\u540d\u3092\u5165\u529b\u3057\u3066Create\u3092\u62bc\u4e0b\u3002 \u8a2d\u5b9a 2\u8981\u7d20\u8a8d\u8a3c\u3092\u8a2d\u5b9a 2 \u8981\u7d20\u8a8d\u8a3c\u3092\u8a2d\u5b9a\u3059\u308b - GitHub Docs git clone\u306e\u8a8d\u8a3c HTTPS GitHub\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u306f\u8a8d\u8a3c\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u500b\u4eba\u7528\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002 \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u8a8d\u8a3c\u3059\u308b HTTPS URL \u3092\u4f7f\u3063\u3066\u30af\u30ed\u30fc\u30f3\u3092\u4f5c\u6210\u3059\u308b \u30c8\u30fc\u30af\u30f3\u306e\u4f5c\u6210\u306f\u3001 \u500b\u4eba\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u7528\u3059\u308b - GitHub Docs \u3092\u53c2\u7167\u3002 Settings -> Developer settings -> Personal access tokens -> Tokens(classic)\u3067\u3001\u300cGenerate new token (classic)\u300d\u62bc\u4e0b\u3057\u3001Scope\u306e repo \u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u4f5c\u6210\u3057\u305f\u30c8\u30fc\u30af\u30f3\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002 \u30e6\u30fc\u30b6\u30fc\u540d\u306fGitHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3092\u4f7f\u7528\u3059\u308b\u3002 \u66f8\u5f0f \u81ea\u52d5\u30ea\u30f3\u30af \u81ea\u52d5\u30ea\u30f3\u30af\u3055\u308c\u305f\u53c2\u7167\u3068 URL - GitHub Docs PR issue\u3068\u306e\u95a2\u9023\u4ed8\u3051 Pull Request\u3092Issue\u306b\u30ea\u30f3\u30af\u3059\u308b - GitHub Docs \u30de\u30fc\u30b8\u3067\u81ea\u52d5\u30af\u30ed\u30fc\u30ba\u3059\u308b\u30ad\u30fc\u30ef\u30fc\u30c9 close closes closed fix fixes fixed resolve resolves resolved \u30ec\u30d3\u30e5\u30fc \u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u63d0\u6848\u3055\u308c\u305f\u5909\u66f4\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b - GitHub Docs \u5fc5\u9808\u30ec\u30d3\u30e5\u30fc\u3067\u306e\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u627f\u8a8d - GitHub Docs \u30b3\u30e1\u30f3\u30c8\u5165\u529b\u306e\u3042\u3068\u306b[Submit review]\u3092\u5fd8\u308c\u306a\u3044\u3053\u3068\u3002 Request changes / \u8ffd\u52a0\u4fee\u6b63\u3057\u3066\u307b\u3057\u3044\u5834\u5408 Approve / \u554f\u984c\u306a\u3044\u5834\u5408 Comment / \u305d\u306e\u4ed6 Approve \u306e\u6642\u70b9\u3067\u300cPR\u306e\u30de\u30fc\u30b8\u300d\u3092\u884c\u3046\u306e\u3067\u306f\u306a\u304f\u3001\u300cPR\u3092\u30de\u30fc\u30b8\u3057\u3066\u3082\u3044\u3044\u3088\u300d\u3068\u3044\u3046\u72b6\u614b\u306b\u79fb\u884c\u3059\u308b\u3002 (\u30de\u30fc\u30b8\u306f\u5225\u9014\u30de\u30fc\u30b8\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b) suggested change \u305d\u306e\u5834\u3067\u4fee\u6b63\u30b3\u30df\u30c3\u30c8\u3092\u9001\u308b\u306b\u306f\u3001\u5bfe\u8c61\u884c\u3092\u9078\u629e\u3057\u3066\u300cCommit suggestion\u300d\u62bc\u4e0b\u3001\u30c6\u30ad\u30b9\u30c8\u30d5\u30a3\u30fc\u30eb\u30c9\u306b suggestion \u3068\u3044\u3046\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u304c\u5165\u308b\u306e\u3067\u3001\u305d\u306e\u5185\u5bb9\u3092\u6b63\u3057\u3044\u3082\u306e\u306b\u4fee\u6b63\u3059\u308b \u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3078\u306e\u30b3\u30e1\u30f3\u30c8 - GitHub Docs \u4fee\u6b63\u3092\u53d6\u308a\u8fbc\u3080\u5074\u306f\u300cCommit Suggestion\u300d\u62bc\u4e0b\u3057\u3066\u30b3\u30df\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u53cd\u6620\u3059\u308b\u3002 \u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u306e\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3092\u53d6\u308a\u8fbc\u3080 - GitHub Docs PR\u30de\u30fc\u30b8\u6642\u306e\u30d6\u30e9\u30f3\u30c1\u81ea\u52d5\u524a\u9664 \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\u304b\u3089\u3002 \u30d6\u30e9\u30f3\u30c1\u306e\u81ea\u52d5\u7684\u524a\u9664\u3092\u7ba1\u7406\u3059\u308b - GitHub Docs PR\u4f5c\u6210\u5f8c\u306b\u30b3\u30df\u30c3\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408 PR\u304copen\u306e\u307e\u307e\u30ea\u30b8\u30a7\u30af\u30c8\u3068\u304b\u3055\u308c\u3066\u306a\u3044\u306a\u3089\u3001\u8ffd\u3044push\u3059\u308c\u3070\u81ea\u52d5\u7684\u306b\u53cd\u6620\u3055\u308c\u308b\u3002 Release \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30ea\u30ea\u30fc\u30b9\u3092\u7ba1\u7406\u3059\u308b - GitHub Docs web\u3067tag\u4f5c\u6210\u3068release\u4f5c\u6210 \u307e\u305a\u30ea\u30ea\u30fc\u30b9\u4e00\u89a7\u30da\u30fc\u30b8\u3078\u9077\u79fb\u3001[Draft a new release]\u62bc\u4e0b\u3057\u3001[Choose a tag]\u304b\u3089[Find or create a new tag]\u306b\u4f5c\u6210\u3059\u308b\u30bf\u30b0\u540d\u3092\u5165\u529b\u3057\u3066Create\u3059\u308b\u3002 [Generate release notes]\u62bc\u4e0b\u3059\u308b\u3068\u3001\u305d\u308c\u3063\u307d\u3044\u60c5\u5831\u304c\u81ea\u52d5\u5165\u529b\u3055\u308c\u308b\u306e\u3067\u305d\u308c\u3092\u7de8\u96c6\u3002 \u4e0b\u90e8\u306e\"Attach binaries by dropping them here or selecting them\"\u306bzip\u306a\u3069\u306e\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070\u6dfb\u4ed8\u3059\u308b\u3002 \u3042\u3068\u306f[Publish release]\u3059\u308c\u3070tag\u3068release\u304c\u4f5c\u6210\u3055\u308c\u516c\u958b\u3055\u308c\u308b\u3002 API \u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u3092\u53d6\u5f97\u3059\u308b https://api.github.com/repos/{owner}/{repo} \u3092 GET \u3059\u308b\u3068\u3001\u5bfe\u8c61\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002 JSON\u5f62\u5f0f\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u3046\u3061\u3001 default_branch \u30ad\u30fc\u306e\u5024\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u304c\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b\u3002 $ curl https://api.github.com/repos/netbox-community/ansible_modules { \"id\": 204365310, \"node_id\": \"MDEwOlJlcG9zaXRvcnkyMDQzNjUzMTA=\", \"name\": \"ansible_modules\", \"full_name\": \"netbox-community/ansible_modules\", \"private\": false, : : \"visibility\": \"public\", \"forks\": 123, \"open_issues\": 46, \"watchers\": 200, \"default_branch\": \"devel\", : : } diff \u30b3\u30df\u30c3\u30c8\u3092\u6bd4\u8f03\u3059\u308b - GitHub Docs \u30b3\u30df\u30c3\u30c8\u3092\u6bd4\u8f03\u3059\u308b\u306b\u306f\u3001 <\u30ea\u30dd\u30b8\u30c8\u30eaURL>/compare/SHA\u30b3\u30fc\u30c9A..SHA\u30b3\u30fc\u30c9B \u3092\u958b\u304f\u3002 \u4f8b\uff1a Comparing 3474..faf3 \u00b7 zaki-lknr/docs \u540c\u3058\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u3066 ^ \u3084 ~n \u3082\u6307\u5b9a\u3067\u304d\u308b\u3002 https://github.com/zaki-lknr/docs/compare/faf3~2..faf3 https://github.com/zaki-lknr/docs/compare/faf3%5E%5E..faf3 GitHub Actions \u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u624b\u52d5\u5b9f\u884c https://docs.github.com/ja/actions/managing-workflow-runs-and-deployments/managing-workflow-runs/manually-running-a-workflow \u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3068\u30b8\u30e7\u30d6\u306e\u518d\u5b9f\u884c \u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u5b9f\u884c\u7d50\u679c\u4e00\u89a7\u304b\u3089\u6307\u5b9a\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u958b\u304d\u3001\u753b\u9762\u53f3\u4e0a\u306e\u300cRe-run all jobs\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\uff4b","title":"GitHub"},{"location":"Misc/github/#github","text":"","title":"GitHub"},{"location":"Misc/github/#_1","text":"","title":"\u30ea\u30dd\u30b8\u30c8\u30ea"},{"location":"Misc/github/#_2","text":"\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u300cSettings\u300d->\u300cDefault branch\u300d\u3067\u5bfe\u8c61\u3092\u9078\u629e\u3059\u308b\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u3092\u5909\u66f4\u3059\u308b - GitHub Docs","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u306e\u5909\u66f4"},{"location":"Misc/github/#_3","text":"\u30ea\u30dd\u30b8\u30c8\u30ea\u3078\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u8ffd\u52a0 - GitHub Docs \u300c\u65b0\u898f\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u300d\u3067\u30d5\u30a1\u30a4\u30eb\u540d LICENSE \u3092\u8ffd\u52a0\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u9078\u629e\u3059\u308b\u30dc\u30bf\u30f3\u304c\u8868\u793a\u3055\u308c\u308b\u3002","title":"\u30e9\u30a4\u30bb\u30f3\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u8ffd\u52a0"},{"location":"Misc/github/#_4","text":"","title":"\u30d6\u30e9\u30f3\u30c1"},{"location":"Misc/github/#_5","text":"\u30ea\u30dd\u30b8\u30c8\u30ea\u5185\u3067\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u304a\u3088\u3073\u524a\u9664\u3059\u308b - GitHub Docs GitHub\u4e0a\u3067\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u300cView all branches\u300d\u753b\u9762\u3067\u300cNew branch\u300d\u62bc\u4e0b\u3059\u308b\u3002 \u3042\u308b\u3044\u306f\u30d6\u30e9\u30f3\u30c1\u9078\u629e\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u3067\u4f5c\u6210\u3057\u305f\u3044\u30d6\u30e9\u30f3\u30c1\u540d\u3092\u5165\u529b\u3057\u3066Create\u3092\u62bc\u4e0b\u3002","title":"\u30d6\u30e9\u30f3\u30c1\u4f5c\u6210"},{"location":"Misc/github/#_6","text":"","title":"\u8a2d\u5b9a"},{"location":"Misc/github/#2","text":"2 \u8981\u7d20\u8a8d\u8a3c\u3092\u8a2d\u5b9a\u3059\u308b - GitHub Docs","title":"2\u8981\u7d20\u8a8d\u8a3c\u3092\u8a2d\u5b9a"},{"location":"Misc/github/#git-clone","text":"","title":"git clone\u306e\u8a8d\u8a3c"},{"location":"Misc/github/#https","text":"GitHub\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u306f\u8a8d\u8a3c\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u500b\u4eba\u7528\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002 \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u8a8d\u8a3c\u3059\u308b HTTPS URL \u3092\u4f7f\u3063\u3066\u30af\u30ed\u30fc\u30f3\u3092\u4f5c\u6210\u3059\u308b \u30c8\u30fc\u30af\u30f3\u306e\u4f5c\u6210\u306f\u3001 \u500b\u4eba\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u7528\u3059\u308b - GitHub Docs \u3092\u53c2\u7167\u3002 Settings -> Developer settings -> Personal access tokens -> Tokens(classic)\u3067\u3001\u300cGenerate new token (classic)\u300d\u62bc\u4e0b\u3057\u3001Scope\u306e repo \u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u4f5c\u6210\u3057\u305f\u30c8\u30fc\u30af\u30f3\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002 \u30e6\u30fc\u30b6\u30fc\u540d\u306fGitHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3092\u4f7f\u7528\u3059\u308b\u3002","title":"HTTPS"},{"location":"Misc/github/#_7","text":"","title":"\u66f8\u5f0f"},{"location":"Misc/github/#_8","text":"\u81ea\u52d5\u30ea\u30f3\u30af\u3055\u308c\u305f\u53c2\u7167\u3068 URL - GitHub Docs","title":"\u81ea\u52d5\u30ea\u30f3\u30af"},{"location":"Misc/github/#pr","text":"","title":"PR"},{"location":"Misc/github/#issue","text":"Pull Request\u3092Issue\u306b\u30ea\u30f3\u30af\u3059\u308b - GitHub Docs","title":"issue\u3068\u306e\u95a2\u9023\u4ed8\u3051"},{"location":"Misc/github/#_9","text":"close closes closed fix fixes fixed resolve resolves resolved","title":"\u30de\u30fc\u30b8\u3067\u81ea\u52d5\u30af\u30ed\u30fc\u30ba\u3059\u308b\u30ad\u30fc\u30ef\u30fc\u30c9"},{"location":"Misc/github/#_10","text":"\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u63d0\u6848\u3055\u308c\u305f\u5909\u66f4\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b - GitHub Docs \u5fc5\u9808\u30ec\u30d3\u30e5\u30fc\u3067\u306e\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u627f\u8a8d - GitHub Docs \u30b3\u30e1\u30f3\u30c8\u5165\u529b\u306e\u3042\u3068\u306b[Submit review]\u3092\u5fd8\u308c\u306a\u3044\u3053\u3068\u3002 Request changes / \u8ffd\u52a0\u4fee\u6b63\u3057\u3066\u307b\u3057\u3044\u5834\u5408 Approve / \u554f\u984c\u306a\u3044\u5834\u5408 Comment / \u305d\u306e\u4ed6 Approve \u306e\u6642\u70b9\u3067\u300cPR\u306e\u30de\u30fc\u30b8\u300d\u3092\u884c\u3046\u306e\u3067\u306f\u306a\u304f\u3001\u300cPR\u3092\u30de\u30fc\u30b8\u3057\u3066\u3082\u3044\u3044\u3088\u300d\u3068\u3044\u3046\u72b6\u614b\u306b\u79fb\u884c\u3059\u308b\u3002 (\u30de\u30fc\u30b8\u306f\u5225\u9014\u30de\u30fc\u30b8\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3059\u308b)","title":"\u30ec\u30d3\u30e5\u30fc"},{"location":"Misc/github/#suggested-change","text":"\u305d\u306e\u5834\u3067\u4fee\u6b63\u30b3\u30df\u30c3\u30c8\u3092\u9001\u308b\u306b\u306f\u3001\u5bfe\u8c61\u884c\u3092\u9078\u629e\u3057\u3066\u300cCommit suggestion\u300d\u62bc\u4e0b\u3001\u30c6\u30ad\u30b9\u30c8\u30d5\u30a3\u30fc\u30eb\u30c9\u306b suggestion \u3068\u3044\u3046\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u304c\u5165\u308b\u306e\u3067\u3001\u305d\u306e\u5185\u5bb9\u3092\u6b63\u3057\u3044\u3082\u306e\u306b\u4fee\u6b63\u3059\u308b \u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3078\u306e\u30b3\u30e1\u30f3\u30c8 - GitHub Docs \u4fee\u6b63\u3092\u53d6\u308a\u8fbc\u3080\u5074\u306f\u300cCommit Suggestion\u300d\u62bc\u4e0b\u3057\u3066\u30b3\u30df\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u53cd\u6620\u3059\u308b\u3002 \u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u306e\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3092\u53d6\u308a\u8fbc\u3080 - GitHub Docs","title":"suggested change"},{"location":"Misc/github/#pr_1","text":"\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\u304b\u3089\u3002 \u30d6\u30e9\u30f3\u30c1\u306e\u81ea\u52d5\u7684\u524a\u9664\u3092\u7ba1\u7406\u3059\u308b - GitHub Docs","title":"PR\u30de\u30fc\u30b8\u6642\u306e\u30d6\u30e9\u30f3\u30c1\u81ea\u52d5\u524a\u9664"},{"location":"Misc/github/#pr_2","text":"PR\u304copen\u306e\u307e\u307e\u30ea\u30b8\u30a7\u30af\u30c8\u3068\u304b\u3055\u308c\u3066\u306a\u3044\u306a\u3089\u3001\u8ffd\u3044push\u3059\u308c\u3070\u81ea\u52d5\u7684\u306b\u53cd\u6620\u3055\u308c\u308b\u3002","title":"PR\u4f5c\u6210\u5f8c\u306b\u30b3\u30df\u30c3\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408"},{"location":"Misc/github/#release","text":"\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30ea\u30ea\u30fc\u30b9\u3092\u7ba1\u7406\u3059\u308b - GitHub Docs","title":"Release"},{"location":"Misc/github/#webtagrelease","text":"\u307e\u305a\u30ea\u30ea\u30fc\u30b9\u4e00\u89a7\u30da\u30fc\u30b8\u3078\u9077\u79fb\u3001[Draft a new release]\u62bc\u4e0b\u3057\u3001[Choose a tag]\u304b\u3089[Find or create a new tag]\u306b\u4f5c\u6210\u3059\u308b\u30bf\u30b0\u540d\u3092\u5165\u529b\u3057\u3066Create\u3059\u308b\u3002 [Generate release notes]\u62bc\u4e0b\u3059\u308b\u3068\u3001\u305d\u308c\u3063\u307d\u3044\u60c5\u5831\u304c\u81ea\u52d5\u5165\u529b\u3055\u308c\u308b\u306e\u3067\u305d\u308c\u3092\u7de8\u96c6\u3002 \u4e0b\u90e8\u306e\"Attach binaries by dropping them here or selecting them\"\u306bzip\u306a\u3069\u306e\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070\u6dfb\u4ed8\u3059\u308b\u3002 \u3042\u3068\u306f[Publish release]\u3059\u308c\u3070tag\u3068release\u304c\u4f5c\u6210\u3055\u308c\u516c\u958b\u3055\u308c\u308b\u3002","title":"web\u3067tag\u4f5c\u6210\u3068release\u4f5c\u6210"},{"location":"Misc/github/#api","text":"","title":"API"},{"location":"Misc/github/#_11","text":"https://api.github.com/repos/{owner}/{repo} \u3092 GET \u3059\u308b\u3068\u3001\u5bfe\u8c61\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002 JSON\u5f62\u5f0f\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u3046\u3061\u3001 default_branch \u30ad\u30fc\u306e\u5024\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u304c\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b\u3002 $ curl https://api.github.com/repos/netbox-community/ansible_modules { \"id\": 204365310, \"node_id\": \"MDEwOlJlcG9zaXRvcnkyMDQzNjUzMTA=\", \"name\": \"ansible_modules\", \"full_name\": \"netbox-community/ansible_modules\", \"private\": false, : : \"visibility\": \"public\", \"forks\": 123, \"open_issues\": 46, \"watchers\": 200, \"default_branch\": \"devel\", : : }","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u30d6\u30e9\u30f3\u30c1\u3092\u53d6\u5f97\u3059\u308b"},{"location":"Misc/github/#diff","text":"\u30b3\u30df\u30c3\u30c8\u3092\u6bd4\u8f03\u3059\u308b - GitHub Docs \u30b3\u30df\u30c3\u30c8\u3092\u6bd4\u8f03\u3059\u308b\u306b\u306f\u3001 <\u30ea\u30dd\u30b8\u30c8\u30eaURL>/compare/SHA\u30b3\u30fc\u30c9A..SHA\u30b3\u30fc\u30c9B \u3092\u958b\u304f\u3002 \u4f8b\uff1a Comparing 3474..faf3 \u00b7 zaki-lknr/docs \u540c\u3058\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u3066 ^ \u3084 ~n \u3082\u6307\u5b9a\u3067\u304d\u308b\u3002 https://github.com/zaki-lknr/docs/compare/faf3~2..faf3 https://github.com/zaki-lknr/docs/compare/faf3%5E%5E..faf3","title":"diff"},{"location":"Misc/github/#github-actions","text":"","title":"GitHub Actions"},{"location":"Misc/github/#_12","text":"https://docs.github.com/ja/actions/managing-workflow-runs-and-deployments/managing-workflow-runs/manually-running-a-workflow","title":"\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u624b\u52d5\u5b9f\u884c"},{"location":"Misc/github/#_13","text":"\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u5b9f\u884c\u7d50\u679c\u4e00\u89a7\u304b\u3089\u6307\u5b9a\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u958b\u304d\u3001\u753b\u9762\u53f3\u4e0a\u306e\u300cRe-run all jobs\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\uff4b","title":"\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3068\u30b8\u30e7\u30d6\u306e\u518d\u5b9f\u884c"},{"location":"Misc/gitlab/","text":"GitLab \u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u60c5\u5831 Upgrading GitLab | GitLab","title":"GitLab"},{"location":"Misc/gitlab/#gitlab","text":"","title":"GitLab"},{"location":"Misc/gitlab/#_1","text":"Upgrading GitLab | GitLab","title":"\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u60c5\u5831"},{"location":"Misc/googledrive/","text":"Google Drive \u30ad\u30fc\u30d0\u30a4\u30f3\u30c9 \u76f4\u524d\u306e\u64cd\u4f5c\u306e\u7e70\u308a\u8fd4\u3057 \u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8\u3068\u304b\u3067 Ctrl-y \u73fe\u5728\u65e5\u4ed8 (\u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8) Ctrl + : \u73fe\u5728\u6642\u523b (\u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8) Ctrl + Shift + : \u30b3\u30d4\u30fc\u3057\u305f\u884c\u306e\u633f\u5165 (\u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8) \u6a5f\u80fd\u3068\u3057\u3066\u306a\u3044\u306e\u3067\u300c\u884c\u306e\u633f\u5165\u300d\u3068\u300c\u8cbc\u308a\u4ed8\u3051\u300d\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002 \u307e\u305a\u30b3\u30d4\u30fc\u3057\u305f\u3044\u884c\u3092\u9078\u629e\u3057\u3066\u30b3\u30d4\u30fc \u9078\u629e\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067 Alt-i -> r -> r \u3067\u884c\u306e\u8ffd\u52a0(\u9078\u629e\u884c\u9078\u629e\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u9078\u629e\u884c\u6570\u5206\u304c\u8ffd\u52a0\u3055\u308c\u308b) \u6700\u5f8c\u306b\u30da\u30fc\u30b9\u30c8 \u3053\u308c\u3067\u300c\u633f\u5165\u300d\u52d5\u4f5c\u306b\u306a\u308b \u30b9\u30e9\u30a4\u30c9 \u8868\u306e\u884c\u30fb\u5217\u8ffd\u52a0 \u8868\u306e\u30bb\u30eb\u90e8\u5206\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30e1\u30cb\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u300c\u884c\u3092\u4e0b\u306b\u633f\u5165\u300d\u306a\u3069\u9078\u629e\u3059\u308b\u3002 \u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8 CSV\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 \u30e1\u30cb\u30e5\u30fc\u306e\u300c\u30d5\u30a1\u30a4\u30eb\u300d\u2192\u300c\u30a4\u30f3\u30dd\u30fc\u30c8\u300d\u3067\u300c\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u300d\u304b\u3089CSV\u30d5\u30a1\u30a4\u30eb\u3092D&D\u3059\u308b\u3002 \u65b0\u3057\u3044\u30d5\u30a1\u30a4\u30eb\u306b\u3059\u308b\u304b\u3001\u73fe\u5728\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u65b0\u898f\u306e\u30b7\u30fc\u30c8\u304b\u3001\u8ffd\u8a18\u3059\u308b\u304b\u7b49\u306f\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5f8c\u306b\u9078\u629e\u3067\u304d\u308b\u3002","title":"Google Drive"},{"location":"Misc/googledrive/#google-drive","text":"","title":"Google Drive"},{"location":"Misc/googledrive/#_1","text":"","title":"\u30ad\u30fc\u30d0\u30a4\u30f3\u30c9"},{"location":"Misc/googledrive/#_2","text":"\u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8\u3068\u304b\u3067 Ctrl-y","title":"\u76f4\u524d\u306e\u64cd\u4f5c\u306e\u7e70\u308a\u8fd4\u3057"},{"location":"Misc/googledrive/#_3","text":"Ctrl + :","title":"\u73fe\u5728\u65e5\u4ed8 (\u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8)"},{"location":"Misc/googledrive/#_4","text":"Ctrl + Shift + :","title":"\u73fe\u5728\u6642\u523b (\u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8)"},{"location":"Misc/googledrive/#_5","text":"\u6a5f\u80fd\u3068\u3057\u3066\u306a\u3044\u306e\u3067\u300c\u884c\u306e\u633f\u5165\u300d\u3068\u300c\u8cbc\u308a\u4ed8\u3051\u300d\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002 \u307e\u305a\u30b3\u30d4\u30fc\u3057\u305f\u3044\u884c\u3092\u9078\u629e\u3057\u3066\u30b3\u30d4\u30fc \u9078\u629e\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067 Alt-i -> r -> r \u3067\u884c\u306e\u8ffd\u52a0(\u9078\u629e\u884c\u9078\u629e\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u9078\u629e\u884c\u6570\u5206\u304c\u8ffd\u52a0\u3055\u308c\u308b) \u6700\u5f8c\u306b\u30da\u30fc\u30b9\u30c8 \u3053\u308c\u3067\u300c\u633f\u5165\u300d\u52d5\u4f5c\u306b\u306a\u308b","title":"\u30b3\u30d4\u30fc\u3057\u305f\u884c\u306e\u633f\u5165 (\u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8)"},{"location":"Misc/googledrive/#_6","text":"","title":"\u30b9\u30e9\u30a4\u30c9"},{"location":"Misc/googledrive/#_7","text":"\u8868\u306e\u30bb\u30eb\u90e8\u5206\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30e1\u30cb\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u300c\u884c\u3092\u4e0b\u306b\u633f\u5165\u300d\u306a\u3069\u9078\u629e\u3059\u308b\u3002","title":"\u8868\u306e\u884c\u30fb\u5217\u8ffd\u52a0"},{"location":"Misc/googledrive/#_8","text":"","title":"\u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8"},{"location":"Misc/googledrive/#csv","text":"\u30e1\u30cb\u30e5\u30fc\u306e\u300c\u30d5\u30a1\u30a4\u30eb\u300d\u2192\u300c\u30a4\u30f3\u30dd\u30fc\u30c8\u300d\u3067\u300c\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u300d\u304b\u3089CSV\u30d5\u30a1\u30a4\u30eb\u3092D&D\u3059\u308b\u3002 \u65b0\u3057\u3044\u30d5\u30a1\u30a4\u30eb\u306b\u3059\u308b\u304b\u3001\u73fe\u5728\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u65b0\u898f\u306e\u30b7\u30fc\u30c8\u304b\u3001\u8ffd\u8a18\u3059\u308b\u304b\u7b49\u306f\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5f8c\u306b\u9078\u629e\u3067\u304d\u308b\u3002","title":"CSV\u306e\u30a4\u30f3\u30dd\u30fc\u30c8"},{"location":"Misc/jq/","text":"jq \u7279\u5b9a\u306e\u5024\u3092\u53d6\u5f97 command | jq '.list[0].key' \u914d\u5217\u8981\u7d20\u3092\u5168\u3066\u51fa\u529b command | jq '.list[].key' \u51fa\u529b\u304b\u3089\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u524a\u9664 -r \u3092\u4ed8\u4e0e command | jq -r '.list[0].key'","title":"jq"},{"location":"Misc/jq/#jq","text":"","title":"jq"},{"location":"Misc/jq/#_1","text":"command | jq '.list[0].key'","title":"\u7279\u5b9a\u306e\u5024\u3092\u53d6\u5f97"},{"location":"Misc/jq/#_2","text":"command | jq '.list[].key'","title":"\u914d\u5217\u8981\u7d20\u3092\u5168\u3066\u51fa\u529b"},{"location":"Misc/jq/#_3","text":"-r \u3092\u4ed8\u4e0e command | jq -r '.list[0].key'","title":"\u51fa\u529b\u304b\u3089\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u524a\u9664"},{"location":"Misc/microsoft/","text":"Microsoft Office Word \u8868\u4f5c\u6210\u6642\u306e\u8868\u756a\u53f7\u81ea\u52d5\u5165\u529b \u300c\u53c2\u8003\u8cc7\u6599\u300d->\u300c\u56f3\u8868\u756a\u53f7\u306e\u633f\u5165\u300d->\u300c\u81ea\u52d5\u8a2d\u5b9a\u300d\u3067\u300c\u56f3\u8868\u756a\u53f7\u306e\u81ea\u52d5\u8a2d\u5b9a\u300d\u30c0\u30a4\u30a2\u30ed\u30b0\u3067\u300cMicrosoft Word\u306e\u8868\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\u3002 \u8868\u756a\u53f7\u306e\u4f4d\u7f6e\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u4e0a\u4e0b\u3092\u9078\u629e\u3059\u308b\u3002 \u30c6\u30ad\u30b9\u30c8\u306e\u30bb\u30f3\u30bf\u30ea\u30f3\u30b0\u7b49\u306f\u300c\u30b9\u30bf\u30a4\u30eb\u306e\u5909\u66f4\u300d\u3067\u8a2d\u5b9a\u3059\u308b\u3002 \u56f3\u756a\u53f7\u306e\u633f\u5165 \u300c\u53c2\u8003\u8cc7\u6599\u300d->\u300c\u56f3\u8868\u756a\u53f7\u306e\u633f\u5165\u300d Edge Browser \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u306e\u8d77\u52d5 \u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b \"C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe\" \u305f\u3060\u30d1\u30b9\u304c\u901a\u3063\u3066\u306a\u3044\u306e\u3067\u3001 msedge \u3092\u5b9f\u884c\u3057\u3066\u3082\u8d77\u52d5\u306f\u3057\u306a\u3044\u3002 \u30d1\u30b9\u6307\u5b9a\u3059\u308b\u304b\u30d5\u30eb\u30d1\u30b9\u6307\u5b9a\u3057\u3066\u3082\u8d77\u52d5\u3059\u308b\u3051\u3069\u3001Edge\u8d77\u52d5\u306e\u305f\u3081\u306e microsoft-edge: \u30b9\u30ad\u30fc\u30e0\u304c\u7528\u610f\u3055\u308c\u3066\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u4f7f\u3063\u3066\u8d77\u52d5\u3067\u304d\u308b\u3002 PS > start microsoft-edge:https://www.google.com Windows 10\u30df\u30cbTips(86) Microsoft Edge\u3092\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u8d77\u52d5\u3059\u308b | \u30de\u30a4\u30ca\u30d3\u30cb\u30e5\u30fc\u30b9","title":"Microsoft"},{"location":"Misc/microsoft/#microsoft","text":"","title":"Microsoft"},{"location":"Misc/microsoft/#office","text":"","title":"Office"},{"location":"Misc/microsoft/#word","text":"","title":"Word"},{"location":"Misc/microsoft/#_1","text":"\u300c\u53c2\u8003\u8cc7\u6599\u300d->\u300c\u56f3\u8868\u756a\u53f7\u306e\u633f\u5165\u300d->\u300c\u81ea\u52d5\u8a2d\u5b9a\u300d\u3067\u300c\u56f3\u8868\u756a\u53f7\u306e\u81ea\u52d5\u8a2d\u5b9a\u300d\u30c0\u30a4\u30a2\u30ed\u30b0\u3067\u300cMicrosoft Word\u306e\u8868\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\u3002 \u8868\u756a\u53f7\u306e\u4f4d\u7f6e\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u4e0a\u4e0b\u3092\u9078\u629e\u3059\u308b\u3002 \u30c6\u30ad\u30b9\u30c8\u306e\u30bb\u30f3\u30bf\u30ea\u30f3\u30b0\u7b49\u306f\u300c\u30b9\u30bf\u30a4\u30eb\u306e\u5909\u66f4\u300d\u3067\u8a2d\u5b9a\u3059\u308b\u3002","title":"\u8868\u4f5c\u6210\u6642\u306e\u8868\u756a\u53f7\u81ea\u52d5\u5165\u529b"},{"location":"Misc/microsoft/#_2","text":"\u300c\u53c2\u8003\u8cc7\u6599\u300d->\u300c\u56f3\u8868\u756a\u53f7\u306e\u633f\u5165\u300d","title":"\u56f3\u756a\u53f7\u306e\u633f\u5165"},{"location":"Misc/microsoft/#edge-browser","text":"","title":"Edge Browser"},{"location":"Misc/microsoft/#_3","text":"\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b \"C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe\" \u305f\u3060\u30d1\u30b9\u304c\u901a\u3063\u3066\u306a\u3044\u306e\u3067\u3001 msedge \u3092\u5b9f\u884c\u3057\u3066\u3082\u8d77\u52d5\u306f\u3057\u306a\u3044\u3002 \u30d1\u30b9\u6307\u5b9a\u3059\u308b\u304b\u30d5\u30eb\u30d1\u30b9\u6307\u5b9a\u3057\u3066\u3082\u8d77\u52d5\u3059\u308b\u3051\u3069\u3001Edge\u8d77\u52d5\u306e\u305f\u3081\u306e microsoft-edge: \u30b9\u30ad\u30fc\u30e0\u304c\u7528\u610f\u3055\u308c\u3066\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u4f7f\u3063\u3066\u8d77\u52d5\u3067\u304d\u308b\u3002 PS > start microsoft-edge:https://www.google.com Windows 10\u30df\u30cbTips(86) Microsoft Edge\u3092\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u8d77\u52d5\u3059\u308b | \u30de\u30a4\u30ca\u30d3\u30cb\u30e5\u30fc\u30b9","title":"\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u306e\u8d77\u52d5"},{"location":"Misc/mise/","text":"mise \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Fedora dnf \u3067\u5165\u308c\u3089\u308c\u308b\u3002 sudo dnf install -y dnf-plugins-core sudo dnf config-manager addrepo --from-repofile=https://mise.jdx.dev/rpm/mise.repo sudo dnf install -y mise \u521d\u671f\u8a2d\u5b9a mise \u306e\u30d1\u30b9\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306b\u3088\u3063\u3066\u8aad\u307f\u66ff\u3048\u308b\u3002 dnf \u3067\u5165\u308c\u305f\u5834\u5408\u306f /usr/bin/mise \u306b\u3042\u308b\u306e\u3067 completion Error: usage CLI not found. This is required for completions to work in mise. See https://usage.jdx.dev for more information. \u3053\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408\u306f zaki@cloud-dev2:~$ mise plugins install usage mise plugin:usage \u2713 https://github.com/jdx/mise-usage.git#fe3888a zaki@cloud-dev2:~$ mise use -g usage mise usage@2.0.3 \u2713 installed mise ~/.config/mise/config.toml tools: usage@2.0.3 https://github.com/jdx/mise/issues/1710 \u30d1\u30c3\u30b1\u30fc\u30b8\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7 (\u4f8b) Python 3.12.8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb zaki@cloud-dev2:~$ mise install python@3.12.8 mise hint use multiple versions simultaneously with mise use python@3.12 python@3.11 mise hint installing precompiled python from astral-sh/python-build-standalone if you experience issues with this python (e.g.: running poetry), switch to python-build by running mise settings python.compile=1 mise python@3.12.8 \u2713 installed \u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u3067\u3053\u306epython\u3092\u6709\u52b9\u306b\u3059\u308b zaki@cloud-dev2:~/tmp$ mise use python@3.12.8 mise ~/tmp/mise.toml tools: python@3.12.8 zaki@cloud-dev2:~/tmp$ which python ~/.local/share/mise/installs/python/3.12.8/bin/python zaki@cloud-dev2:~/tmp$ cd zaki@cloud-dev2:~$ which python /usr/bin/python \u30e6\u30fc\u30b6\u30fc\u74b0\u5883\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u3053\u306epython\u3092\u6709\u52b9\u306b\u3059\u308b zaki@cloud-dev2:~/local/tmp$ mise use -g python@3.12.8 mise WARN python is defined in ~/local/tmp/mise.toml which overrides the global config (~/.config/mise/config.toml) mise ~/.config/mise/config.toml tools: python@3.12.8 zaki@cloud-dev2:~/local/tmp$ which python ~/.local/share/mise/installs/python/3.12.8/bin/python zaki@cloud-dev2:~/local/tmp$ cd zaki@cloud-dev2:~$ which python ~/.local/share/mise/installs/python/3.12.8/bin/python zaki@cloud-dev2:~$ zaki@cloud-dev2:~$ sudo su - \u6700\u7d42\u30ed\u30b0\u30a4\u30f3: 2024/08/13 (\u706b) 10:16:16 JST \u7aef\u672b:pts/1 root@cloud-dev2:~# which python /usr/bin/python root@cloud-dev2:~#","title":"mise"},{"location":"Misc/mise/#mise","text":"","title":"mise"},{"location":"Misc/mise/#_1","text":"","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Misc/mise/#fedora","text":"dnf \u3067\u5165\u308c\u3089\u308c\u308b\u3002 sudo dnf install -y dnf-plugins-core sudo dnf config-manager addrepo --from-repofile=https://mise.jdx.dev/rpm/mise.repo sudo dnf install -y mise","title":"Fedora"},{"location":"Misc/mise/#_2","text":"mise \u306e\u30d1\u30b9\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306b\u3088\u3063\u3066\u8aad\u307f\u66ff\u3048\u308b\u3002 dnf \u3067\u5165\u308c\u305f\u5834\u5408\u306f /usr/bin/mise \u306b\u3042\u308b\u306e\u3067","title":"\u521d\u671f\u8a2d\u5b9a"},{"location":"Misc/mise/#completion","text":"Error: usage CLI not found. This is required for completions to work in mise. See https://usage.jdx.dev for more information. \u3053\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408\u306f zaki@cloud-dev2:~$ mise plugins install usage mise plugin:usage \u2713 https://github.com/jdx/mise-usage.git#fe3888a zaki@cloud-dev2:~$ mise use -g usage mise usage@2.0.3 \u2713 installed mise ~/.config/mise/config.toml tools: usage@2.0.3 https://github.com/jdx/mise/issues/1710","title":"completion"},{"location":"Misc/mise/#_3","text":"","title":"\u30d1\u30c3\u30b1\u30fc\u30b8\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7"},{"location":"Misc/mise/#python-3128","text":"zaki@cloud-dev2:~$ mise install python@3.12.8 mise hint use multiple versions simultaneously with mise use python@3.12 python@3.11 mise hint installing precompiled python from astral-sh/python-build-standalone if you experience issues with this python (e.g.: running poetry), switch to python-build by running mise settings python.compile=1 mise python@3.12.8 \u2713 installed","title":"(\u4f8b) Python 3.12.8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Misc/mise/#python","text":"zaki@cloud-dev2:~/tmp$ mise use python@3.12.8 mise ~/tmp/mise.toml tools: python@3.12.8 zaki@cloud-dev2:~/tmp$ which python ~/.local/share/mise/installs/python/3.12.8/bin/python zaki@cloud-dev2:~/tmp$ cd zaki@cloud-dev2:~$ which python /usr/bin/python","title":"\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u3067\u3053\u306epython\u3092\u6709\u52b9\u306b\u3059\u308b"},{"location":"Misc/mise/#python_1","text":"zaki@cloud-dev2:~/local/tmp$ mise use -g python@3.12.8 mise WARN python is defined in ~/local/tmp/mise.toml which overrides the global config (~/.config/mise/config.toml) mise ~/.config/mise/config.toml tools: python@3.12.8 zaki@cloud-dev2:~/local/tmp$ which python ~/.local/share/mise/installs/python/3.12.8/bin/python zaki@cloud-dev2:~/local/tmp$ cd zaki@cloud-dev2:~$ which python ~/.local/share/mise/installs/python/3.12.8/bin/python zaki@cloud-dev2:~$ zaki@cloud-dev2:~$ sudo su - \u6700\u7d42\u30ed\u30b0\u30a4\u30f3: 2024/08/13 (\u706b) 10:16:16 JST \u7aef\u672b:pts/1 root@cloud-dev2:~# which python /usr/bin/python root@cloud-dev2:~#","title":"\u30e6\u30fc\u30b6\u30fc\u74b0\u5883\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u3053\u306epython\u3092\u6709\u52b9\u306b\u3059\u308b"},{"location":"Misc/mkdocs/","text":"MkDocs Configuration - MkDocs Getting started - Material for MkDocs Deploying Your Docs - MkDocs \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u69cb\u7bc9\u5411\u3051\u9759\u7684\u30b5\u30a4\u30c8\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u300eMkDocs\u300f\u53ca\u3073\u300eMaterial for MkDocs\u300f\u306e\u500b\u4eba\u7684\u5c0e\u5165\uff06\u8a2d\u5b9a\u307e\u3068\u3081 | DevelopersIO GitHub Pages\u8a2d\u5b9a \u624b\u52d5\u5b9f\u884c\u3057\u3066GitHub Pages\u516c\u958b \u30bd\u30fc\u30b9markdown\u7528\u30ea\u30dd\u30b8\u30c8\u30ea\u306f\u65e2\u306b\u5b58\u5728\u3057\u3001\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067 $ mkdocs gh-deploy --clean INFO - Cleaning site directory INFO - Building documentation to directory: /home/zaki/src/github-pages/site INFO - Documentation built in 0.19 seconds WARNING - Version check skipped: No version specified in previous deployment. INFO - Copying '/home/zaki/src/github-pages/site' to 'gh-pages' branch and pushing to GitHub. INFO - Your documentation should shortly be available at: https://zaki-lknr.github.io/pages/ \u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306b gh-pages \u30d6\u30e9\u30f3\u30c1\u304c\u4f5c\u6210\u3055\u308c\u3001\u3053\u3053\u306b\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30b3\u30f3\u30c6\u30f3\u30c4\u304cpush\u3055\u308c\u3066\u4ee5\u4e0b\u306eURL\u306b\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u516c\u958b\u3055\u308c\u305f\u3002 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306f\u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u306b\u306a\u3063\u3066\u3044\u308b\u3002 https://zaki-lknr.github.io/pages/ GitHub Actions\u9023\u643a MkDocs \u3067\u4f5c\u3063\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092 GitHub Actions \u3092\u4f7f\u3063\u3066 GitHub Pages \u306b\u30c7\u30d7\u30ed\u30a4\u3057\u3088\u3046 | ultra code \u4ee5\u4e0b\u3092\u7528\u610f \u30bd\u30fc\u30b9markdown\u7528\u30ea\u30dd\u30b8\u30c8\u30ea \u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u306f\u4efb\u610f GitHub Pages\u516c\u958b\u30b3\u30f3\u30c6\u30f3\u30c4\u7528\u30ea\u30dd\u30b8\u30c8\u30ea \u3053\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u306f <GitHub\u30e6\u30fc\u30b6\u30fc\u540d>.github.io \u306b\u3059\u308b GitHub Pages\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3067\u516c\u958b \u516c\u958b\u7528\u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u3092 .github.io \u306b\u3059\u308c\u3070OK\u3060\u3063\u305f\u3002 \u8a73\u7d30\u306f\u672a\u78ba\u8a8d\u3002 Github pages\u3067\u610f\u5730\u3067\u3082\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30eb\u30fc\u30c8\u306b\u3059\u308b | Matsuura Tomoya|\u677e\u6d66\u77e5\u4e5f \u30b3\u30f3\u30c6\u30f3\u30c4\u8a2d\u5b9a \u8272\u8a2d\u5b9a Changing the colors - Material for MkDocs MKDocs \u2013 \u57fa\u672c\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u914d\u8272\u8a2d\u5b9a\u65b9\u6cd5 | DevelopersIO \u30b3\u30fc\u30c9\u30cf\u30a4\u30e9\u30a4\u30c8 MKDocs \u2013 \u62e1\u5f35\u30d7\u30e9\u30b0\u30a4\u30f3\u96c6(1) | DevelopersIO \u3042\u3068\u3067\u516c\u5f0f\u3082\u30c1\u30a7\u30c3\u30af\u3059\u308b\u304b\u3002\u3002 \u3053\u306e\u8fba\u304b\u306a: Code blocks - Material for MkDocs \u65e5\u672c\u8a9e\u691c\u7d22 material\u30c6\u30fc\u30de\u306e\u5834\u5408 Material for MkDocs \u3092\u65e5\u672c\u8a9e\u5bfe\u5fdc\u3057\u305f\u8a71\uff06\u521d\u3081\u3066\u306eOSS\u30b3\u30f3\u30c8\u30ea\u30d3\u30e5\u30fc\u30c8 - miyalog Google Analytics\u8a2d\u5b9a Setting up site analytics - Material for MkDocs google_analytics : - UA-XXXXXXXX-X - auto \u53d6\u308a\u6d88\u3057\u7dda\u306e\u6709\u52b9\u5316 Material for MkDocs\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068(?)\u3001 ~~ \u306b\u3088\u308b\u53d6\u308a\u6d88\u3057\u7dda\u304c\u52d5\u4f5c\u3057\u306a\u3044\u3002 \u4ee5\u4e0b\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u3068\u6709\u52b9\u306b\u306a\u308b\u3002 markdown_extensions : - pymdownx.tilde","title":"MkDocs"},{"location":"Misc/mkdocs/#mkdocs","text":"Configuration - MkDocs Getting started - Material for MkDocs Deploying Your Docs - MkDocs \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u69cb\u7bc9\u5411\u3051\u9759\u7684\u30b5\u30a4\u30c8\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u300eMkDocs\u300f\u53ca\u3073\u300eMaterial for MkDocs\u300f\u306e\u500b\u4eba\u7684\u5c0e\u5165\uff06\u8a2d\u5b9a\u307e\u3068\u3081 | DevelopersIO","title":"MkDocs"},{"location":"Misc/mkdocs/#github-pages","text":"","title":"GitHub Pages\u8a2d\u5b9a"},{"location":"Misc/mkdocs/#github-pages_1","text":"\u30bd\u30fc\u30b9markdown\u7528\u30ea\u30dd\u30b8\u30c8\u30ea\u306f\u65e2\u306b\u5b58\u5728\u3057\u3001\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067 $ mkdocs gh-deploy --clean INFO - Cleaning site directory INFO - Building documentation to directory: /home/zaki/src/github-pages/site INFO - Documentation built in 0.19 seconds WARNING - Version check skipped: No version specified in previous deployment. INFO - Copying '/home/zaki/src/github-pages/site' to 'gh-pages' branch and pushing to GitHub. INFO - Your documentation should shortly be available at: https://zaki-lknr.github.io/pages/ \u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306b gh-pages \u30d6\u30e9\u30f3\u30c1\u304c\u4f5c\u6210\u3055\u308c\u3001\u3053\u3053\u306b\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30b3\u30f3\u30c6\u30f3\u30c4\u304cpush\u3055\u308c\u3066\u4ee5\u4e0b\u306eURL\u306b\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u516c\u958b\u3055\u308c\u305f\u3002 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306f\u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u306b\u306a\u3063\u3066\u3044\u308b\u3002 https://zaki-lknr.github.io/pages/","title":"\u624b\u52d5\u5b9f\u884c\u3057\u3066GitHub Pages\u516c\u958b"},{"location":"Misc/mkdocs/#github-actions","text":"MkDocs \u3067\u4f5c\u3063\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092 GitHub Actions \u3092\u4f7f\u3063\u3066 GitHub Pages \u306b\u30c7\u30d7\u30ed\u30a4\u3057\u3088\u3046 | ultra code \u4ee5\u4e0b\u3092\u7528\u610f \u30bd\u30fc\u30b9markdown\u7528\u30ea\u30dd\u30b8\u30c8\u30ea \u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u306f\u4efb\u610f GitHub Pages\u516c\u958b\u30b3\u30f3\u30c6\u30f3\u30c4\u7528\u30ea\u30dd\u30b8\u30c8\u30ea \u3053\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u306f <GitHub\u30e6\u30fc\u30b6\u30fc\u540d>.github.io \u306b\u3059\u308b","title":"GitHub Actions\u9023\u643a"},{"location":"Misc/mkdocs/#github-pages_2","text":"\u516c\u958b\u7528\u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u3092 .github.io \u306b\u3059\u308c\u3070OK\u3060\u3063\u305f\u3002 \u8a73\u7d30\u306f\u672a\u78ba\u8a8d\u3002 Github pages\u3067\u610f\u5730\u3067\u3082\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30eb\u30fc\u30c8\u306b\u3059\u308b | Matsuura Tomoya|\u677e\u6d66\u77e5\u4e5f","title":"GitHub Pages\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3067\u516c\u958b"},{"location":"Misc/mkdocs/#_1","text":"","title":"\u30b3\u30f3\u30c6\u30f3\u30c4\u8a2d\u5b9a"},{"location":"Misc/mkdocs/#_2","text":"Changing the colors - Material for MkDocs MKDocs \u2013 \u57fa\u672c\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u914d\u8272\u8a2d\u5b9a\u65b9\u6cd5 | DevelopersIO","title":"\u8272\u8a2d\u5b9a"},{"location":"Misc/mkdocs/#_3","text":"MKDocs \u2013 \u62e1\u5f35\u30d7\u30e9\u30b0\u30a4\u30f3\u96c6(1) | DevelopersIO \u3042\u3068\u3067\u516c\u5f0f\u3082\u30c1\u30a7\u30c3\u30af\u3059\u308b\u304b\u3002\u3002 \u3053\u306e\u8fba\u304b\u306a: Code blocks - Material for MkDocs","title":"\u30b3\u30fc\u30c9\u30cf\u30a4\u30e9\u30a4\u30c8"},{"location":"Misc/mkdocs/#_4","text":"material\u30c6\u30fc\u30de\u306e\u5834\u5408 Material for MkDocs \u3092\u65e5\u672c\u8a9e\u5bfe\u5fdc\u3057\u305f\u8a71\uff06\u521d\u3081\u3066\u306eOSS\u30b3\u30f3\u30c8\u30ea\u30d3\u30e5\u30fc\u30c8 - miyalog","title":"\u65e5\u672c\u8a9e\u691c\u7d22"},{"location":"Misc/mkdocs/#google-analytics","text":"Setting up site analytics - Material for MkDocs google_analytics : - UA-XXXXXXXX-X - auto","title":"Google Analytics\u8a2d\u5b9a"},{"location":"Misc/mkdocs/#_5","text":"Material for MkDocs\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068(?)\u3001 ~~ \u306b\u3088\u308b\u53d6\u308a\u6d88\u3057\u7dda\u304c\u52d5\u4f5c\u3057\u306a\u3044\u3002 \u4ee5\u4e0b\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u3068\u6709\u52b9\u306b\u306a\u308b\u3002 markdown_extensions : - pymdownx.tilde","title":"\u53d6\u308a\u6d88\u3057\u7dda\u306e\u6709\u52b9\u5316"},{"location":"Misc/network/","text":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af \u7528\u8a9e VRRP VRRP\u3068\u306f \u30a2\u30c9\u30d0\u30bf\u30a4\u30ba \u5e83\u544a\u30fb\u5e83\u5831\u3059\u308b\u306e\u610f\u5473 DHCP\u30b9\u30cc\u30fc\u30d4\u30f3\u30b0 \u5bfe\u5fdc\u3057\u305f\u30b9\u30a4\u30c3\u30c1\u3067\u300c\u4fe1\u983c\u3067\u304d\u308b\u30dd\u30fc\u30c8\u300d\u4ee5\u5916\u306eDHCP\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u906e\u65ad\u3059\u308b\u3053\u3068\u3067\u3001\u4e0d\u6b63\u306aDHCP\u30b5\u30fc\u30d0\u30fc\u306e\u306a\u308a\u3059\u307e\u3057\u7b49\u3092\u9632\u3050 Cisco CLI \u7ba1\u7406\u7cfb \u6607\u683c ios>enable Password: rt-center# show interfaces \u3068\u304b\u5b9f\u884c\u3059\u308b\u306b\u306f\u6607\u683c\u3059\u308b\u3002 \u5143\u306e\u30e6\u30fc\u30b6\u30fc\u30e2\u30fc\u30c9\u306b\u623b\u308b\u306b\u306f disable \u3092\u5b9f\u884c\u3002 \u518d\u8d77\u52d5 router1#reload System configuration has been modified. Save? [yes/no]: yes Building configuration... [OK] Proceed with reload? [confirm] Connection to 10.1.1.254 closed by remote host. Connection to 10.1.1.254 closed. \u53c2\u7167 \u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u60c5\u5831\u3092\u898b\u308b show interfaces \u3068\u304b\u3001 ios# show ip interface brief Interface IP-Address OK? Method Status Protocol GigabitEthernet1 10.1.1.254 YES DHCP up up GigabitEthernet2 10.1.2.254 YES DHCP up up Loopback0 10.255.255.1 YES TFTP up up VirtualPortGroup0 192.168.35.101 YES TFTP up up \u3068\u304b\u3002 \u8a2d\u5b9a \u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3078\u79fb\u884c ios#configure terminal Enter configuration commands, one per line. End with CNTL/Z. ios(config)# \u30db\u30b9\u30c8\u540d\u5909\u66f4 ios(config)#hostname router1 router1(config)# \u8a2d\u5b9a\u306e\u4fdd\u5b58 write \u3067\u3001 running-config \u304c startup-config \u3078\u30b3\u30d4\u30fc\u3055\u308c\u308b\u3002 router#write Building configuration... [OK] router# \u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a SSH\u63a5\u7d9a\u3059\u308b\u306b\u306f\u5fc5\u8981\u3002 \u4ee5\u4e0b\u306f cisco \u30e6\u30fc\u30b6\u30fc\u306b\u30d1\u30b9\u30ef\u30fc\u30c9 curry_tabetai \u3092\u30bb\u30c3\u30c8 router(config)#username cisco password curry_tabetai WARNING: Command has been added to the configuration using a type 0 password. However, recommended to migrate to strong type-6 encryption router(config)# \u7279\u6a29\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u8a2d\u5b9a enable \u5b9f\u884c\u6642\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092 cisco \u306b\u8a2d\u5b9a\u3002 SSH\u63a5\u7d9a\u6642\u306f\u3053\u308c\u3092\u30bb\u30c3\u30c8\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u6607\u683c\u3067\u304d\u306a\u3044\u3002 router(config)#enable secret cisco router(config)# SSH\u63a5\u7d9a\u6642\u306e\u8a8d\u8a3c\u8a2d\u5b9a router(config)#line vty 0 4 router(config-line)#login local login local \u304c\u5fc5\u8981\u3002 \u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u8a2d\u5b9a \u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u8a2d\u5b9a\u30e2\u30fc\u30c9\u3078\u79fb\u884c \u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u304b\u3089\u3055\u3089\u306b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u6307\u5b9a router#configure terminal router(config)#interface Ethernet0/1 router(config-if)# \u3068\u304b router1#configure terminal router1(config)#interface GigabitEthernet 2 IP\u30a2\u30c9\u30ec\u30b9\u306e\u8a2d\u5b9a\u3068\u6709\u52b9\u5316 shutdown \u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306f\u3001 no shutdown \u3067\u6709\u52b9\u5316\u3055\u308c\u308b\u3002 router(config)#interface Ethernet0/2 router(config-if)#ip address 10.0.0.1 255.255.255.0 router(config-if)#no shutdown router(config-if)#end router# router#show ip interface brief Interface IP-Address OK? Method Status Protocol Ethernet0/0 192.168.10.1 YES NVRAM up up Ethernet0/1 unassigned YES NVRAM administratively down down Ethernet0/2 10.0.0.1 YES manual up up Ethernet0/3 192.168.0.35 YES manual up up router# \u30b3\u30de\u30f3\u30c9\u6295\u5165\u3057\u305f\u6642\u70b9\u3067\u6709\u52b9\u306b\u306a\u308b\u304c\u3001\u8a2d\u5b9a\u304c\u4fdd\u5b58\u3055\u308c\u3066\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3053\u306e\u307e\u307e\u518d\u8d77\u52d5\u3059\u308b\u3068\u8a2d\u5b9a\u306f\u6d88\u3048\u308b\u3002 \u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u7121\u52b9\u5316 shutdown \u3092\u4f7f\u3046\u3002 \u4ee5\u4e0b\u306fGigabitEthernet 2\u3092\u7121\u52b9\u5316\u3059\u308b\u5834\u5408\u3002 router1(config)#interface GigabitEthernet 2 router1(config-if)#shutdown router1(config-if)# \u305d\u306e\u4ed6 \u6587\u5b57\u5217\u691c\u7d22(grep) include \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u3002\u6b63\u898f\u8868\u73fe\u53ef router#show interfaces | include [Ee]th Ethernet0/0 is up, line protocol is up Ethernet0/1 is administratively down, line protocol is down Ethernet0/2 is up, line protocol is up Ethernet0/3 is up, line protocol is up router# DevNet\u306eCSR1000v (Always-On) DevNet Sandbox - Lab Catalog - Dashboard \u4e0a\u8a18\u304b\u3089\"CSR100v\"\u3067\u691c\u7d22\u3057\u3066\u898b\u3064\u304b\u308b\u3082\u306e\u306e\u3046\u3061\"Always-On\"\u306b\u306a\u3063\u3066\u3044\u308b\u3082\u306e\u3092\u5229\u7528\u3059\u308b\u3002 \u30ea\u30f3\u30af\u3092\u958b\u3051\u3070Overview\u306e\u9805\u306b\u63a5\u7d9a\u60c5\u5831\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3002 Junos root\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b set system root-authentication plain-text-password \u3092\u5b9f\u884c\u3059\u308b\u3002 [edit] root# [edit] root# set system root-authentication plain-text-password New password: Retype new password: [edit] root# \u30db\u30b9\u30c8\u540d\u306e\u8a2d\u5b9a [edit] root# set system host-name srx100-demo [edit] root# commit [edit] root@srx100-demo# \u30da\u30fc\u30b8\u30e3\u30fc\u306e\u7121\u52b9\u5316 terminal length 0 \u76f8\u5f53\u306e\u64cd\u4f5c\u306f\u4ee5\u4e0b\u3002 set cli screen-length 0 \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3 root\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066 cli \u3092\u5b9f\u884c\u3002 root@SRX% cli \u305d\u306e\u5f8c request system power-off \u3092\u5b9f\u884c\u3059\u308b\u3002 request system power-off Power Off the system ? [yes,no] (no) yes SmartCS NW\u6a5f\u5668\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u30dd\u30fc\u30c8\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u30b5\u30fc\u30d0\u30fc\u3002 2\u901a\u308a\u306e\u30a2\u30af\u30bb\u30b9\u65b9\u6cd5\u304c\u3042\u308b\u3002 \u30c0\u30a4\u30ec\u30af\u30c8\u30e2\u30fc\u30c9 SmartCS\u306e\u7279\u5b9a\u30dd\u30fc\u30c8\u3078ssh\u3059\u308b\u3068\u3001\u63a5\u7d9a\u3057\u3066\u3044\u308bTTY\u3078\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b \u30bb\u30ec\u30af\u30c8\u30e2\u30fc\u30c9 SmartCS\u306e\u4ee3\u8868\u30dd\u30fc\u30c8(22/TCP\u306essh)\u3078\u307e\u305a\u30a2\u30af\u30bb\u30b9\u3057\u3001\u305d\u3053\u304b\u3089TTY\u3092\u9078\u629e VyOS \u521d\u671f\u30d1\u30b9\u30ef\u30fc\u30c9 username: vyos password: vyos \u8a2d\u5b9a\u30e2\u30fc\u30c9 vyos@vyos:~$ configure [edit] vyos@vyos# \u8a2d\u5b9a\u3092\u53cd\u6620\u3059\u308b\u306b\u306f commit \u3092\u5b9f\u884c\u3002\u4fdd\u5b58\u306f save \u53cd\u6620\u305b\u305a\u306b\u7834\u68c4\u3059\u308b\u306b\u306f discard \u3092\u5b9f\u884c\u3002 \u8a2d\u5b9a\u30e2\u30fc\u30c9\u3092\u629c\u3051\u308b\u306b\u306f exit \u30ea\u30d6\u30fc\u30c8 save\u3055\u308c\u3066\u3044\u306a\u3044\u8a2d\u5b9a\u304c\u306a\u304f\u3066\u3082\u306a\u305c\u304b\u8b66\u544a\u304c\u3067\u308b\u3002 vyos@vyos:~$ reboot Warning: there are unsaved configuration changes! Run 'save' command if you do not want to lose those changes after reboot/shutdown. Are you sure you want to reboot this system (vyos)? [y/N] y Broadcast message from root@vyos on pts/1 (Fri 2025-02-14 07:09:44 UTC): The system will reboot now! Connection to vyos closed by remote host. Connection to vyos closed.","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af"},{"location":"Misc/network/#_1","text":"","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af"},{"location":"Misc/network/#_2","text":"VRRP VRRP\u3068\u306f \u30a2\u30c9\u30d0\u30bf\u30a4\u30ba \u5e83\u544a\u30fb\u5e83\u5831\u3059\u308b\u306e\u610f\u5473 DHCP\u30b9\u30cc\u30fc\u30d4\u30f3\u30b0 \u5bfe\u5fdc\u3057\u305f\u30b9\u30a4\u30c3\u30c1\u3067\u300c\u4fe1\u983c\u3067\u304d\u308b\u30dd\u30fc\u30c8\u300d\u4ee5\u5916\u306eDHCP\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u906e\u65ad\u3059\u308b\u3053\u3068\u3067\u3001\u4e0d\u6b63\u306aDHCP\u30b5\u30fc\u30d0\u30fc\u306e\u306a\u308a\u3059\u307e\u3057\u7b49\u3092\u9632\u3050","title":"\u7528\u8a9e"},{"location":"Misc/network/#cisco","text":"","title":"Cisco"},{"location":"Misc/network/#cli","text":"","title":"CLI"},{"location":"Misc/network/#_3","text":"","title":"\u7ba1\u7406\u7cfb"},{"location":"Misc/network/#_4","text":"ios>enable Password: rt-center# show interfaces \u3068\u304b\u5b9f\u884c\u3059\u308b\u306b\u306f\u6607\u683c\u3059\u308b\u3002 \u5143\u306e\u30e6\u30fc\u30b6\u30fc\u30e2\u30fc\u30c9\u306b\u623b\u308b\u306b\u306f disable \u3092\u5b9f\u884c\u3002","title":"\u6607\u683c"},{"location":"Misc/network/#_5","text":"router1#reload System configuration has been modified. Save? [yes/no]: yes Building configuration... [OK] Proceed with reload? [confirm] Connection to 10.1.1.254 closed by remote host. Connection to 10.1.1.254 closed.","title":"\u518d\u8d77\u52d5"},{"location":"Misc/network/#_6","text":"","title":"\u53c2\u7167"},{"location":"Misc/network/#_7","text":"show interfaces \u3068\u304b\u3001 ios# show ip interface brief Interface IP-Address OK? Method Status Protocol GigabitEthernet1 10.1.1.254 YES DHCP up up GigabitEthernet2 10.1.2.254 YES DHCP up up Loopback0 10.255.255.1 YES TFTP up up VirtualPortGroup0 192.168.35.101 YES TFTP up up \u3068\u304b\u3002","title":"\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u60c5\u5831\u3092\u898b\u308b"},{"location":"Misc/network/#_8","text":"","title":"\u8a2d\u5b9a"},{"location":"Misc/network/#_9","text":"ios#configure terminal Enter configuration commands, one per line. End with CNTL/Z. ios(config)#","title":"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3078\u79fb\u884c"},{"location":"Misc/network/#_10","text":"ios(config)#hostname router1 router1(config)#","title":"\u30db\u30b9\u30c8\u540d\u5909\u66f4"},{"location":"Misc/network/#_11","text":"write \u3067\u3001 running-config \u304c startup-config \u3078\u30b3\u30d4\u30fc\u3055\u308c\u308b\u3002 router#write Building configuration... [OK] router#","title":"\u8a2d\u5b9a\u306e\u4fdd\u5b58"},{"location":"Misc/network/#_12","text":"SSH\u63a5\u7d9a\u3059\u308b\u306b\u306f\u5fc5\u8981\u3002 \u4ee5\u4e0b\u306f cisco \u30e6\u30fc\u30b6\u30fc\u306b\u30d1\u30b9\u30ef\u30fc\u30c9 curry_tabetai \u3092\u30bb\u30c3\u30c8 router(config)#username cisco password curry_tabetai WARNING: Command has been added to the configuration using a type 0 password. However, recommended to migrate to strong type-6 encryption router(config)#","title":"\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a"},{"location":"Misc/network/#_13","text":"enable \u5b9f\u884c\u6642\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092 cisco \u306b\u8a2d\u5b9a\u3002 SSH\u63a5\u7d9a\u6642\u306f\u3053\u308c\u3092\u30bb\u30c3\u30c8\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u6607\u683c\u3067\u304d\u306a\u3044\u3002 router(config)#enable secret cisco router(config)#","title":"\u7279\u6a29\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u8a2d\u5b9a"},{"location":"Misc/network/#ssh","text":"router(config)#line vty 0 4 router(config-line)#login local login local \u304c\u5fc5\u8981\u3002","title":"SSH\u63a5\u7d9a\u6642\u306e\u8a8d\u8a3c\u8a2d\u5b9a"},{"location":"Misc/network/#_14","text":"","title":"\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u8a2d\u5b9a"},{"location":"Misc/network/#_15","text":"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u304b\u3089\u3055\u3089\u306b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u6307\u5b9a router#configure terminal router(config)#interface Ethernet0/1 router(config-if)# \u3068\u304b router1#configure terminal router1(config)#interface GigabitEthernet 2","title":"\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u8a2d\u5b9a\u30e2\u30fc\u30c9\u3078\u79fb\u884c"},{"location":"Misc/network/#ip","text":"shutdown \u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306f\u3001 no shutdown \u3067\u6709\u52b9\u5316\u3055\u308c\u308b\u3002 router(config)#interface Ethernet0/2 router(config-if)#ip address 10.0.0.1 255.255.255.0 router(config-if)#no shutdown router(config-if)#end router# router#show ip interface brief Interface IP-Address OK? Method Status Protocol Ethernet0/0 192.168.10.1 YES NVRAM up up Ethernet0/1 unassigned YES NVRAM administratively down down Ethernet0/2 10.0.0.1 YES manual up up Ethernet0/3 192.168.0.35 YES manual up up router# \u30b3\u30de\u30f3\u30c9\u6295\u5165\u3057\u305f\u6642\u70b9\u3067\u6709\u52b9\u306b\u306a\u308b\u304c\u3001\u8a2d\u5b9a\u304c\u4fdd\u5b58\u3055\u308c\u3066\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3053\u306e\u307e\u307e\u518d\u8d77\u52d5\u3059\u308b\u3068\u8a2d\u5b9a\u306f\u6d88\u3048\u308b\u3002","title":"IP\u30a2\u30c9\u30ec\u30b9\u306e\u8a2d\u5b9a\u3068\u6709\u52b9\u5316"},{"location":"Misc/network/#_16","text":"shutdown \u3092\u4f7f\u3046\u3002 \u4ee5\u4e0b\u306fGigabitEthernet 2\u3092\u7121\u52b9\u5316\u3059\u308b\u5834\u5408\u3002 router1(config)#interface GigabitEthernet 2 router1(config-if)#shutdown router1(config-if)#","title":"\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u7121\u52b9\u5316"},{"location":"Misc/network/#_17","text":"","title":"\u305d\u306e\u4ed6"},{"location":"Misc/network/#grep","text":"include \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u3002\u6b63\u898f\u8868\u73fe\u53ef router#show interfaces | include [Ee]th Ethernet0/0 is up, line protocol is up Ethernet0/1 is administratively down, line protocol is down Ethernet0/2 is up, line protocol is up Ethernet0/3 is up, line protocol is up router#","title":"\u6587\u5b57\u5217\u691c\u7d22(grep)"},{"location":"Misc/network/#devnetcsr1000v-always-on","text":"DevNet Sandbox - Lab Catalog - Dashboard \u4e0a\u8a18\u304b\u3089\"CSR100v\"\u3067\u691c\u7d22\u3057\u3066\u898b\u3064\u304b\u308b\u3082\u306e\u306e\u3046\u3061\"Always-On\"\u306b\u306a\u3063\u3066\u3044\u308b\u3082\u306e\u3092\u5229\u7528\u3059\u308b\u3002 \u30ea\u30f3\u30af\u3092\u958b\u3051\u3070Overview\u306e\u9805\u306b\u63a5\u7d9a\u60c5\u5831\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3002","title":"DevNet\u306eCSR1000v (Always-On)"},{"location":"Misc/network/#junos","text":"","title":"Junos"},{"location":"Misc/network/#root","text":"set system root-authentication plain-text-password \u3092\u5b9f\u884c\u3059\u308b\u3002 [edit] root# [edit] root# set system root-authentication plain-text-password New password: Retype new password: [edit] root#","title":"root\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b"},{"location":"Misc/network/#_18","text":"[edit] root# set system host-name srx100-demo [edit] root# commit [edit] root@srx100-demo#","title":"\u30db\u30b9\u30c8\u540d\u306e\u8a2d\u5b9a"},{"location":"Misc/network/#_19","text":"terminal length 0 \u76f8\u5f53\u306e\u64cd\u4f5c\u306f\u4ee5\u4e0b\u3002 set cli screen-length 0","title":"\u30da\u30fc\u30b8\u30e3\u30fc\u306e\u7121\u52b9\u5316"},{"location":"Misc/network/#_20","text":"root\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066 cli \u3092\u5b9f\u884c\u3002 root@SRX% cli \u305d\u306e\u5f8c request system power-off \u3092\u5b9f\u884c\u3059\u308b\u3002 request system power-off Power Off the system ? [yes,no] (no) yes","title":"\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3"},{"location":"Misc/network/#smartcs","text":"NW\u6a5f\u5668\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u30dd\u30fc\u30c8\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u30b5\u30fc\u30d0\u30fc\u3002 2\u901a\u308a\u306e\u30a2\u30af\u30bb\u30b9\u65b9\u6cd5\u304c\u3042\u308b\u3002 \u30c0\u30a4\u30ec\u30af\u30c8\u30e2\u30fc\u30c9 SmartCS\u306e\u7279\u5b9a\u30dd\u30fc\u30c8\u3078ssh\u3059\u308b\u3068\u3001\u63a5\u7d9a\u3057\u3066\u3044\u308bTTY\u3078\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b \u30bb\u30ec\u30af\u30c8\u30e2\u30fc\u30c9 SmartCS\u306e\u4ee3\u8868\u30dd\u30fc\u30c8(22/TCP\u306essh)\u3078\u307e\u305a\u30a2\u30af\u30bb\u30b9\u3057\u3001\u305d\u3053\u304b\u3089TTY\u3092\u9078\u629e","title":"SmartCS"},{"location":"Misc/network/#vyos","text":"","title":"VyOS"},{"location":"Misc/network/#_21","text":"username: vyos password: vyos","title":"\u521d\u671f\u30d1\u30b9\u30ef\u30fc\u30c9"},{"location":"Misc/network/#_22","text":"vyos@vyos:~$ configure [edit] vyos@vyos# \u8a2d\u5b9a\u3092\u53cd\u6620\u3059\u308b\u306b\u306f commit \u3092\u5b9f\u884c\u3002\u4fdd\u5b58\u306f save \u53cd\u6620\u305b\u305a\u306b\u7834\u68c4\u3059\u308b\u306b\u306f discard \u3092\u5b9f\u884c\u3002 \u8a2d\u5b9a\u30e2\u30fc\u30c9\u3092\u629c\u3051\u308b\u306b\u306f exit","title":"\u8a2d\u5b9a\u30e2\u30fc\u30c9"},{"location":"Misc/network/#_23","text":"save\u3055\u308c\u3066\u3044\u306a\u3044\u8a2d\u5b9a\u304c\u306a\u304f\u3066\u3082\u306a\u305c\u304b\u8b66\u544a\u304c\u3067\u308b\u3002 vyos@vyos:~$ reboot Warning: there are unsaved configuration changes! Run 'save' command if you do not want to lose those changes after reboot/shutdown. Are you sure you want to reboot this system (vyos)? [y/N] y Broadcast message from root@vyos on pts/1 (Fri 2025-02-14 07:09:44 UTC): The system will reboot now! Connection to vyos closed by remote host. Connection to vyos closed.","title":"\u30ea\u30d6\u30fc\u30c8"},{"location":"Misc/openssl/","text":"openssl \u79d8\u5bc6\u9375\u4f5c\u6210 RSA\u79d8\u5bc6\u9375 openssl genrsa > private.key \u9375\u9577\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u5f15\u6570\u306b\u6307\u5b9a $ openssl genrsa 4096 > private.key $ openssl rsa -text -noout -in private.key Private-Key: (4096 bit, 2 primes) : : \u8a3c\u660e\u66f8\u4f5c\u6210 \u30d7\u30e9\u30a4\u30d9\u30fc\u30c8CA\u4f5c\u6210\u3068\u7f72\u540d \u203b OpenSSL 3 \u3067\u306f openssl genrsa \u306fdeprecated\u306b\u306a\u3063\u3066\u3044\u308b \u306a\u3063\u3066\u306a\u304b\u3063\u305f genrsa is not really deprecated although documented so \u00b7 Issue #21055 \u00b7 openssl/openssl genpkey \u4f7f\u3046\u5834\u5408\u306f\u4ee5\u4e0b\u3002 # key\u4f5c\u6210 openssl genpkey -algorithm rsa -out ca.key # crt\u4f5c\u6210 openssl req -new -x509 -days 3650 -key ca.key -subj \"/CN=example.org/\" -out ca.crt csr\u3092\u4f5c\u3089\u305a\u306b\u4e00\u6c17\u306bcrt\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u306f\u2191\u306e\u901a\u308a\u3002 csr\u3082\u4f5c\u308b\u306b\u306f\u4ee5\u4e0b(\u751f\u6210\u60c5\u5831\u306b\u82e5\u5e72\u306e\u5dee\u7570\u306f\u3042\u308b\u3051\u3069) # csr\u4f5c\u6210 openssl req -new -key ca.key -subj \"/CN=example.org/\" -out ca.csr # crt\u4f5c\u6210 openssl x509 -req -in ca.csr -signkey ca.key -days 3650 -out ca.crt \u4f5c\u6210\u3057\u305fCA\u3067\u7f72\u540d\u3057\u305f\u8a3c\u660e\u66f8\u4f5c\u6210 openssl req -newkey rsa -nodes -sha256 -keyout server.key -x509 -days 365 -out server.crt -subj '/CN=example.org/' -addext \"subjectAltName=DNS:example.org,DNS:*.example.org\" -CA ca.crt -CAkey ca.key \u30aa\u30ec\u30aa\u30ec\u8a3c\u660e\u66f8\u4f5c\u6210(CommonName) openssl req -newkey rsa:4096 -nodes -sha256 -keyout /path/to/example.org.key -x509 -days 365 -out /path/to/example.org.crt -subj '/CN=example.org/' Alternative Name\u6307\u5b9a\u306e\u30aa\u30ec\u30aa\u30ec\u8a3c\u660e\u66f8 appserv \u3068 appserv.example.org \u3044\u3046\u540d\u524d\u306eSAN\u3092\u8ffd\u52a0\u3059\u308b\u5834\u5408\u3002 openssl req -newkey rsa:4096 -nodes -sha256 -keyout server.key -x509 -days 365 -out server.crt -subj '/C=JP/' -addext \"subjectAltName=DNS:appserv,DNS:appserv.example.org\" \u56fd\u3084\u90fd\u9053\u5e9c\u770c\u7b49\u306e\u6307\u5b9a openssl req ... -subj '/C=JP/ST=Tokyo/L=Daiba/CN=example.org' C(Country Name): \u56fd(2\u6587\u5b57) ST(State or Province Name): \u90fd\u9053\u5e9c\u770c L(Locality Name): \u5e02\u533a\u753a\u6751 O(Organization Name): \u7d44\u7e54\u540d OU(Organization Unit Name): \u90e8\u9580\u540d CN(Common Name): FQDN \u30d5\u30a1\u30a4\u30eb\u5185\u5bb9\u78ba\u8a8d RSA\u79d8\u5bc6\u9375\u306e\u78ba\u8a8d -----BEGIN RSA PRIVATE KEY----- MIIJKAIBAAKCAgEAntBW2JpzhtCgXGjKsR........ : : ..... -----END RSA PRIVATE KEY----- \u3053\u3093\u306a\u5185\u5bb9\u306e\u300cBEGIN RSA PRIVATE KEY\u300d\u3067\u59cb\u307e\u3063\u3066END\u307e\u3067\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u3067\u78ba\u8a8d\u3002 # openssl rsa -text -noout -in account.key CSR(\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42)\u306e\u78ba\u8a8d -----BEGIN CERTIFICATE REQUEST----- MIIEkDCCAngCAQAwHDEaMB........ : : ..... -----END CERTIFICATE REQUEST----- \u300cBEGIN CERTIFICATE REQUEST\u300d\u3067\u59cb\u307e\u3063\u3066END\u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u3067\u78ba\u8a8d\u3002 # openssl req -text -noout -in server.csr \u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d -----BEGIN CERTIFICATE----- MIIGKTCCBRGg....... : : .... -----END CERTIFICATE----- \u300cBEGIN CERTIFICATE\u300d\u3067\u59cb\u307e\u3063\u3066END\u3067\u7d42\u308f\u3063\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3001x509\u3092\u6307\u5b9a\u3057\u3066\u78ba\u8a8d\u3002 # openssl x509 -text -noout -in server.crt","title":"openssl"},{"location":"Misc/openssl/#openssl","text":"","title":"openssl"},{"location":"Misc/openssl/#_1","text":"","title":"\u79d8\u5bc6\u9375\u4f5c\u6210"},{"location":"Misc/openssl/#rsa","text":"openssl genrsa > private.key \u9375\u9577\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u5f15\u6570\u306b\u6307\u5b9a $ openssl genrsa 4096 > private.key $ openssl rsa -text -noout -in private.key Private-Key: (4096 bit, 2 primes) : :","title":"RSA\u79d8\u5bc6\u9375"},{"location":"Misc/openssl/#_2","text":"","title":"\u8a3c\u660e\u66f8\u4f5c\u6210"},{"location":"Misc/openssl/#ca","text":"\u203b OpenSSL 3 \u3067\u306f openssl genrsa \u306fdeprecated\u306b\u306a\u3063\u3066\u3044\u308b \u306a\u3063\u3066\u306a\u304b\u3063\u305f genrsa is not really deprecated although documented so \u00b7 Issue #21055 \u00b7 openssl/openssl genpkey \u4f7f\u3046\u5834\u5408\u306f\u4ee5\u4e0b\u3002 # key\u4f5c\u6210 openssl genpkey -algorithm rsa -out ca.key # crt\u4f5c\u6210 openssl req -new -x509 -days 3650 -key ca.key -subj \"/CN=example.org/\" -out ca.crt csr\u3092\u4f5c\u3089\u305a\u306b\u4e00\u6c17\u306bcrt\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u306f\u2191\u306e\u901a\u308a\u3002 csr\u3082\u4f5c\u308b\u306b\u306f\u4ee5\u4e0b(\u751f\u6210\u60c5\u5831\u306b\u82e5\u5e72\u306e\u5dee\u7570\u306f\u3042\u308b\u3051\u3069) # csr\u4f5c\u6210 openssl req -new -key ca.key -subj \"/CN=example.org/\" -out ca.csr # crt\u4f5c\u6210 openssl x509 -req -in ca.csr -signkey ca.key -days 3650 -out ca.crt \u4f5c\u6210\u3057\u305fCA\u3067\u7f72\u540d\u3057\u305f\u8a3c\u660e\u66f8\u4f5c\u6210 openssl req -newkey rsa -nodes -sha256 -keyout server.key -x509 -days 365 -out server.crt -subj '/CN=example.org/' -addext \"subjectAltName=DNS:example.org,DNS:*.example.org\" -CA ca.crt -CAkey ca.key","title":"\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8CA\u4f5c\u6210\u3068\u7f72\u540d"},{"location":"Misc/openssl/#commonname","text":"openssl req -newkey rsa:4096 -nodes -sha256 -keyout /path/to/example.org.key -x509 -days 365 -out /path/to/example.org.crt -subj '/CN=example.org/'","title":"\u30aa\u30ec\u30aa\u30ec\u8a3c\u660e\u66f8\u4f5c\u6210(CommonName)"},{"location":"Misc/openssl/#alternative-name","text":"appserv \u3068 appserv.example.org \u3044\u3046\u540d\u524d\u306eSAN\u3092\u8ffd\u52a0\u3059\u308b\u5834\u5408\u3002 openssl req -newkey rsa:4096 -nodes -sha256 -keyout server.key -x509 -days 365 -out server.crt -subj '/C=JP/' -addext \"subjectAltName=DNS:appserv,DNS:appserv.example.org\"","title":"Alternative Name\u6307\u5b9a\u306e\u30aa\u30ec\u30aa\u30ec\u8a3c\u660e\u66f8"},{"location":"Misc/openssl/#_3","text":"openssl req ... -subj '/C=JP/ST=Tokyo/L=Daiba/CN=example.org' C(Country Name): \u56fd(2\u6587\u5b57) ST(State or Province Name): \u90fd\u9053\u5e9c\u770c L(Locality Name): \u5e02\u533a\u753a\u6751 O(Organization Name): \u7d44\u7e54\u540d OU(Organization Unit Name): \u90e8\u9580\u540d CN(Common Name): FQDN","title":"\u56fd\u3084\u90fd\u9053\u5e9c\u770c\u7b49\u306e\u6307\u5b9a"},{"location":"Misc/openssl/#_4","text":"","title":"\u30d5\u30a1\u30a4\u30eb\u5185\u5bb9\u78ba\u8a8d"},{"location":"Misc/openssl/#rsa_1","text":"-----BEGIN RSA PRIVATE KEY----- MIIJKAIBAAKCAgEAntBW2JpzhtCgXGjKsR........ : : ..... -----END RSA PRIVATE KEY----- \u3053\u3093\u306a\u5185\u5bb9\u306e\u300cBEGIN RSA PRIVATE KEY\u300d\u3067\u59cb\u307e\u3063\u3066END\u307e\u3067\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u3067\u78ba\u8a8d\u3002 # openssl rsa -text -noout -in account.key","title":"RSA\u79d8\u5bc6\u9375\u306e\u78ba\u8a8d"},{"location":"Misc/openssl/#csr","text":"-----BEGIN CERTIFICATE REQUEST----- MIIEkDCCAngCAQAwHDEaMB........ : : ..... -----END CERTIFICATE REQUEST----- \u300cBEGIN CERTIFICATE REQUEST\u300d\u3067\u59cb\u307e\u3063\u3066END\u3067\u7d42\u308f\u308b\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u3067\u78ba\u8a8d\u3002 # openssl req -text -noout -in server.csr","title":"CSR(\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42)\u306e\u78ba\u8a8d"},{"location":"Misc/openssl/#_5","text":"-----BEGIN CERTIFICATE----- MIIGKTCCBRGg....... : : .... -----END CERTIFICATE----- \u300cBEGIN CERTIFICATE\u300d\u3067\u59cb\u307e\u3063\u3066END\u3067\u7d42\u308f\u3063\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3001x509\u3092\u6307\u5b9a\u3057\u3066\u78ba\u8a8d\u3002 # openssl x509 -text -noout -in server.crt","title":"\u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d"},{"location":"Misc/postgresql/","text":"PostgreSQL CLI DB\u306b\u63a5\u7d9a $ psql -d <DB\u540d> -U <\u30e6\u30fc\u30b6\u30fc\u540d> SQL\u5b9f\u884c\u6642\u306e\u30da\u30fc\u30b8\u30e3\u3092\u7121\u52b9\u306b\u3059\u308b\u306b\u306f \u74b0\u5883\u5909\u6570 PAGER \u306b cat \u3092\u30bb\u30c3\u30c8\u3059\u308b $ export PAGER = cat $ psql -d <DB\u540d> -U <\u30e6\u30fc\u30b6\u30fc\u540d> \u8a2d\u5b9a\u4e00\u89a7 \u8d77\u52d5\u30aa\u30d7\u30b7\u30e7\u30f3(\u30d1\u30e9\u30e1\u30bf)\u985e\u306f\u3053\u308c\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 show all; \u62e1\u5f35\u4e00\u89a7 select * from pg_available_extensions; DB\u4e00\u89a7 \\l \u30c6\u30fc\u30d6\u30eb\u4e00\u89a7 \\dt \u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9 \\d <table-name>","title":"PostgreSQL"},{"location":"Misc/postgresql/#postgresql","text":"","title":"PostgreSQL"},{"location":"Misc/postgresql/#cli","text":"","title":"CLI"},{"location":"Misc/postgresql/#db","text":"$ psql -d <DB\u540d> -U <\u30e6\u30fc\u30b6\u30fc\u540d>","title":"DB\u306b\u63a5\u7d9a"},{"location":"Misc/postgresql/#sql","text":"\u74b0\u5883\u5909\u6570 PAGER \u306b cat \u3092\u30bb\u30c3\u30c8\u3059\u308b $ export PAGER = cat $ psql -d <DB\u540d> -U <\u30e6\u30fc\u30b6\u30fc\u540d>","title":"SQL\u5b9f\u884c\u6642\u306e\u30da\u30fc\u30b8\u30e3\u3092\u7121\u52b9\u306b\u3059\u308b\u306b\u306f"},{"location":"Misc/postgresql/#_1","text":"\u8d77\u52d5\u30aa\u30d7\u30b7\u30e7\u30f3(\u30d1\u30e9\u30e1\u30bf)\u985e\u306f\u3053\u308c\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 show all;","title":"\u8a2d\u5b9a\u4e00\u89a7"},{"location":"Misc/postgresql/#_2","text":"select * from pg_available_extensions;","title":"\u62e1\u5f35\u4e00\u89a7"},{"location":"Misc/postgresql/#db_1","text":"\\l","title":"DB\u4e00\u89a7"},{"location":"Misc/postgresql/#_3","text":"\\dt","title":"\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7"},{"location":"Misc/postgresql/#_4","text":"\\d <table-name>","title":"\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9"},{"location":"Misc/proxmox/","text":"Proxmox (PVE) UI\u3067VM\u306eIP\u30a2\u30c9\u30ec\u30b9\u78ba\u8a8d VM\u306e\u300c\u30b5\u30de\u30ea\u30fc\u300d\u3067IP\u30a2\u30c9\u30ec\u30b9\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u5b9f\u884c\u3059\u308b \u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u300cQEMU Guest Agent\u300d\u3092\u6709\u52b9\u306b\u3059\u308b VM\u3067 qemu-guest-agent \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u30b5\u30fc\u30d3\u30b9\u3092\u6709\u52b9\u306b\u3059\u308b ovf\u30a4\u30f3\u30dd\u30fc\u30c8 qm importovf <VM ID> <OVF\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9> <VM\u7528\u30b9\u30c8\u30ec\u30fc\u30b8\u540d> \u5b9f\u884c\u4f8b root@pve:~# qm importovf 201 /mnt/pve/pecorino/archive/export/fedora-node/fedora-node.ovf wdblue1000gb Logical volume \"vm-201-disk-0\" created. transferred 0.0 B of 20.0 GiB (0.00%) transferred 204.8 MiB of 20.0 GiB (1.00%) transferred 409.6 MiB of 20.0 GiB (2.00%) : : transferred 20.0 GiB of 20.0 GiB (100.00%) root@pve:~# VM\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u95a2\u9023 root@pve:~# ls -F /etc/pve/nodes/pve/qemu-server 100.conf 102.conf 202.conf 301.conf 303.conf 101.conf 201.conf 203.conf 302.conf \u4e2d\u8eab\u306f root@pve:~# cat /etc/pve/nodes/pve/qemu-server/301.conf boot: order=scsi0 cores: 2 memory: 4096 name: k8su-master net0: e1000=CA:0D:8C:5E:46:C3,bridge=vmbr0,firewall=1 scsi0: wdblue1000gb:vm-301-disk-0 scsihw: pvscsi smbios1: uuid=b9b7f350-0b74-46df-bd59-0318fc99372c vmgenid: 5e1f1e65-0eb0-4cd1-867c-277b48d91616 \u5b9f\u30c7\u30fc\u30bf\u306f\u3053\u308c\u304b\u306a\uff1f root@pve:/# ls -l /dev/wdblue1000gb/vm-301-disk-0 lrwxrwxrwx 1 root root 8 Aug 5 10:13 /dev/wdblue1000gb/vm-301-disk-0 -> ../dm-15 root@pve:/# ls -l /dev/dm-15 brw-rw---- 1 root disk 253, 15 Aug 5 10:13 /dev/dm-15 root@pve:/# file /dev/dm-15 /dev/dm-15: block special (253/15) \u30cd\u30c3\u30c8\u30ef\u30fc\u30af OVS Bridge\u4f5c\u6210 openvswitch-switch\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u306a\u306e\u3067\u3001\u4e8b\u524d\u306b\u30ce\u30fc\u30c9\u3067 apt-get install openvswitch-switch \u3092\u5b9f\u884c\u3057\u3066\u304a\u304f\u3002 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30e1\u30cb\u30e5\u30fc\u306e\u300c\u4f5c\u6210\u300d\u3067\u300cOVS Bridge\u300d\u3092\u9078\u629e\u3057\u3001\u540d\u524d\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3001\u30b3\u30e1\u30f3\u30c8\u3068IPv4/CIDR\u3092\u5165\u529b\u3057\u3066\u300c\u4f5c\u6210\u300d\u62bc\u4e0b\u3059\u308b\u3002 \u5dee\u5206\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067OK\u3067\u3042\u308c\u3070\u753b\u9762\u4e0a\u90e8\u306e\u300c\u8a2d\u5b9a\u3092\u9069\u7528\u300d\u62bc\u4e0b \u30d6\u30ea\u30c3\u30b8\u30dd\u30fc\u30c8\u7121\u3057\u3067\u4f5c\u6210\u3057\u305f\u30d6\u30ea\u30c3\u30b8\u306b\u7269\u7406\u30dd\u30fc\u30c8\u3092\u8ffd\u52a0 UI\u3067Linux Bridge\u306e\u300c\u30d6\u30ea\u30c3\u30b8\u30dd\u30fc\u30c8\u300d\u306b\u30dd\u30fc\u30c8\u540d\u3092\u8ffd\u52a0\u3057\u300cOK\u300d\u62bc\u4e0b\u3002 \u753b\u9762\u4e0b\u90e8\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u3002 ## \u5909\u66f4\u3092\u4fdd\u7559\u4e2d (\u6709\u52b9\u306b\u3059\u308b\u306b\u306f\u518d\u8d77\u52d5\u304b\u3001 'Apply Configuration' (needs ifupdown2)\u3092\u4f7f\u7528) --- /etc/network/interfaces 2023-05-21 15:33:29.906403987 +0900 +++ /etc/network/interfaces.new 2023-10-17 09:10:38.701832421 +0900 @@ -29,7 +29,7 @@ auto vmbr1 iface vmbr1 inet static address 172.16.0.1/23 - bridge-ports none + bridge-ports enp3s0 bridge-stp off bridge-fd 0 #private-network-1 \u5909\u66f4\u3092\u9069\u7528\u3059\u308b\u306b\u306f\u753b\u9762\u4e0a\u90e8\u306e\u300c\u8a2d\u5b9a\u3092\u9069\u7528\u300d\u62bc\u4e0b \u30b9\u30c8\u30ec\u30fc\u30b8 VM\u306e\u30c7\u30fc\u30bf\u9818\u57df\u3092\u5225\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u79fb\u52d5 VM\u306e\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u8a2d\u5b9a\u3067\u3001\u30cf\u30fc\u30c9\u30c7\u30a3\u30b9\u30af\u3092\u9078\u629e\u3001\u300c\u30c7\u30a3\u30b9\u30af\u306e\u52d5\u4f5c\u300d\u30e1\u30cb\u30e5\u30fc\u306e\u300c\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u79fb\u52d5\u300d\u3067\u3001\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u3001VM\u306e\u30c7\u30fc\u30bf\u9818\u57df\u3092\u5225\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u79fb\u52d5\u3067\u304d\u308b\u3002 \u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb /etc/pve/storage.cfg \u306b\u3042\u308b\u3002 root@pve:~# cat /etc/pve/storage.cfg dir: local path /var/lib/vz content iso,vztmpl,backup shared 0 lvmthin: local-lvm thinpool data vgname pve content rootdir,images nfs: pecorino export /share path /mnt/pve/pecorino server *.*.*.* content iso,backup prune-backups keep-all=1 \u767b\u9332\u6e08\u307f\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u8a2d\u5b9a\u5909\u66f4 \u7528\u9014\u3068\u304bNFS\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u304b\u3092\u5909\u66f4\u3059\u308b\u306b\u306f\u3001\u30ce\u30fc\u30c9\u3067\u3082\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u3082\u306a\u304f\u300c\u30c7\u30fc\u30bf\u30bb\u30f3\u30bf\u30fc\u300d\u304b\u3089\u3002 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3068\u30ea\u30b9\u30c8\u30a2 \u30ea\u30b9\u30c8\u30a2 VM\u524a\u9664\u6e08\u307f\u306e\u5834\u5408\u306fCLI\u3067\u5b9f\u884c\u3059\u308b\u3002 \u4ee5\u4e0b\u306f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30c7\u30fc\u30bf\u3092VM ID:500\u3068\u3057\u3066\u30ea\u30b9\u30c8\u30a2\u3002 root@pve:~# qmrestore /mnt/pve/pecorino-dev/dump/vzdump-qemu-500-2023_09_05-15_29_11.vma.zst 500 restore vma archive: zstd -q -d -c /mnt/pve/pecorino-dev/dump/vzdump-qemu-500-2023_09_05-15_29_11.vma.zst | vma extract -v -r /var/tmp/vzdumptmp177197.fifo - /var/tmp/vzdumptmp177197 CFG: size: 458 name: qemu-server.conf DEV: dev_id=1 size: 17179869184 devname: drive-scsi0 CTIME: Tue Sep 5 15:29:21 2023 Logical volume \"vm-500-disk-0\" created. new volume ID is 'WDS100T2BA0A:vm-500-disk-0' map 'drive-scsi0' to '/dev/WDS100T2BA0A/vm-500-disk-0' (write zeros = 0) progress 1% (read 171835392 bytes, duration 1 sec) progress 2% (read 343605248 bytes, duration 2 sec) progress 3% (read 515440640 bytes, duration 4 sec) : progress 100% (read 17179869184 bytes, duration 20 sec) total bytes read 17179869184, sparse bytes 12563259392 (73.1%) space reduction due to 4K zero blocks 2.95% rescan volumes... \u30b9\u30c8\u30ec\u30fc\u30b8\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u6642\u3068\u540c\u3058\u3068\u3053\u308d\u3078\u30ea\u30b9\u30c8\u30a2\u3055\u308c\u308b\uff1f\u305d\u308c\u3068\u3082\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u306a\uff1f --storage \u3067\u6307\u5b9a\u3067\u304d\u305d\u3046 Web UI\u3067\u30ea\u30b9\u30c8\u30a2\u3059\u308b\u5834\u5408\u306f\u3001VM\u306e\u30e1\u30cb\u30e5\u30fc\u3067\u306a\u304f\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u30ea\u30b9\u30c8\u30a2\u3092\u9078\u3076\u3068\u3001\u5168\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30c7\u30fc\u30bf\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u305d\u3053\u304b\u3089\u30ea\u30b9\u30c8\u30a2\u3092\u884c\u3046\u3002 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30c7\u30fc\u30bf\u306e\u5b9f\u30c7\u30fc\u30bf\u4fdd\u5b58\u5148 \u5185\u8535\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5834\u5408\u306f /var/lib/vz/dump/ root@pve:~# ls /var/lib/vz/dump/ vzdump-qemu-500-2023_09_24-01_05_17.log vzdump-qemu-500-2023_09_24-01_05_17.vma.zst vzdump-qemu-500-2023_09_24-01_05_17.vma.zst.notes : : \u5916\u90e8\u306e\u5834\u5408\u306f\u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8\u914d\u4e0b\u306e dump \u4ee5\u4e0b root@pve:~# ls /mnt/pve/pecorino/dump/ vzdump-qemu-116-2023_09_04-18_23_48.log vzdump-qemu-116-2023_09_04-18_23_48.vma.zst vzdump-qemu-116-2023_09_04-18_23_48.vma.zst.notes vzdump-qemu-116-2023_09_05-23_58_49.log vzdump-qemu-116-2023_09_05-23_58_49.vma.zst vzdump-qemu-116-2023_09_05-23_58_49.vma.zst.notes : : \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u5148\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5909\u66f4 8.3.3\u6642\u70b9\u3067UI\u3067\u306e\u64cd\u4f5c\u306f\u306a\u3055\u305d\u3046\u3002 \u4e0a\u8a18\u306e\u30d1\u30b9\u60c5\u5831\u3092\u53c2\u7167\u306b mv \u3067\u79fb\u52d5\u3059\u308b\u3002 CLI VM\u4e00\u89a7 qm list ID\u3001VM\u540d\u3001\u8d77\u52d5\u72b6\u614b\u3001RAM\u30b5\u30a4\u30ba\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30a4\u30ba\u306a\u3069\u304c\u4e00\u89a7\u3067\u51fa\u529b\u3055\u308c\u308b\u3002 \u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u30ce\u30fc\u30c9\u5358\u4f4d\u3067\u51fa\u529b\u3055\u308c\u308b\u3002 VM\u8a73\u7d30(qemu-guest-agent\u4f7f\u7528) qemu-guest-agent\u304c\u52d5\u4f5c\u3057\u3066\u3044\u308bVM\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u3002 NIC\u60c5\u5831\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 # qm guest cmd 710 network-get-interfaces [ { \"hardware-address\" : \"00:00:00:00:00:00\", \"ip-addresses\" : [ { \"ip-address\" : \"127.0.0.1\", \"ip-address-type\" : \"ipv4\", \"prefix\" : 8 }, ... ] }, { \"hardware-address\" : \"bc:24:11:d6:b0:61\", \"ip-addresses\" : [ { \"ip-address\" : \"192.168.0.201\", \"ip-address-type\" : \"ipv4\", \"prefix\" : 24 }, { \"ip-address\" : \"fe80::be24:11ff:fed6:b061\", \"ip-address-type\" : \"ipv6\", \"prefix\" : 64 } ], ... \u4f7f\u3048\u308b\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u306f qm help \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 qm(1) ( qm guest \u306e\u30d8\u30eb\u30d7\u306f\u7121\u3055\u3052\u2026) VM\u524a\u9664 qm destroy <vmid> --destroy-unreferenced-disks=1 \u30db\u30b9\u30c8\u540d\u5909\u66f4 root@pve:~# hostnamectl set-hostname pve01 root@pve:~# \u4ed6\u306e\u5909\u66f4\u30d5\u30a1\u30a4\u30eb(\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u30db\u30b9\u30c8\u540d\u306e\u8a18\u8ff0\u304c\u3042\u308b\u3082\u306e\u3092\u63a2\u3059) /etc/hosts /etc/hostname /etc/postfix/main.cf /etc/pve/storage.cfg VM\u3068\u30ce\u30fc\u30c9\u5b9a\u7fa9 root@pve01:~# ls -lF /etc/pve/nodes/ total 0 drwxr-xr-x 2 root www-data 0 May 14 2023 pve/ \u3057\u3070\u3089\u304f\u5f85\u6a5f\u3059\u308b\u3068\u3001\u65b0\u30db\u30b9\u30c8\u540d\u306e\u30ce\u30fc\u30c9\u304c\u751f\u3048\u308b\u304c\u4e2d\u8eab\u306f\u30d6\u30e9\u30f3\u30af root@pve01:~# ls -lF /etc/pve/nodes/ total 0 drwxr-xr-x 2 root www-data 0 May 14 2023 pve/ drwxr-xr-x 2 root www-data 0 Jan 5 14:51 pve01/ root@pve01:~# find /etc/pve/nodes/pve01/ /etc/pve/nodes/pve01/ /etc/pve/nodes/pve01/qemu-server /etc/pve/nodes/pve01/lxc \u5ff5\u306e\u305f\u3081\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 root@pve01:~# cp -a /etc/pve/nodes/pve node-backup/ root@pve01:~# ls -lF node-backup/ total 4 drwxr-xr-x 6 root www-data 4096 May 14 2023 pve/ root@pve01:~# VM\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3092\u79fb\u52d5 root@pve01:~# mv /etc/pve/nodes/pve/qemu-server/* /etc/pve/nodes/pve01/qemu-server/ root@pve01:~# root@pve01:~# ls /etc/pve/nodes/pve01/qemu-server/ 101.conf 116.conf 201.conf 210.conf 303.conf 312.conf 703.conf 709.conf 712.conf 9002.conf 9011.conf 111.conf 119.conf 202.conf 301.conf 310.conf 313.conf 707.conf 710.conf 9000.conf 9003.conf 9020.conf 114.conf 121.conf 203.conf 302.conf 311.conf 702.conf 708.conf 711.conf 9001.conf 9010.conf","title":"Proxmox (PVE)"},{"location":"Misc/proxmox/#proxmox-pve","text":"","title":"Proxmox (PVE)"},{"location":"Misc/proxmox/#uivmip","text":"VM\u306e\u300c\u30b5\u30de\u30ea\u30fc\u300d\u3067IP\u30a2\u30c9\u30ec\u30b9\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u5b9f\u884c\u3059\u308b \u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u300cQEMU Guest Agent\u300d\u3092\u6709\u52b9\u306b\u3059\u308b VM\u3067 qemu-guest-agent \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u30b5\u30fc\u30d3\u30b9\u3092\u6709\u52b9\u306b\u3059\u308b","title":"UI\u3067VM\u306eIP\u30a2\u30c9\u30ec\u30b9\u78ba\u8a8d"},{"location":"Misc/proxmox/#ovf","text":"qm importovf <VM ID> <OVF\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9> <VM\u7528\u30b9\u30c8\u30ec\u30fc\u30b8\u540d> \u5b9f\u884c\u4f8b root@pve:~# qm importovf 201 /mnt/pve/pecorino/archive/export/fedora-node/fedora-node.ovf wdblue1000gb Logical volume \"vm-201-disk-0\" created. transferred 0.0 B of 20.0 GiB (0.00%) transferred 204.8 MiB of 20.0 GiB (1.00%) transferred 409.6 MiB of 20.0 GiB (2.00%) : : transferred 20.0 GiB of 20.0 GiB (100.00%) root@pve:~#","title":"ovf\u30a4\u30f3\u30dd\u30fc\u30c8"},{"location":"Misc/proxmox/#vm","text":"root@pve:~# ls -F /etc/pve/nodes/pve/qemu-server 100.conf 102.conf 202.conf 301.conf 303.conf 101.conf 201.conf 203.conf 302.conf \u4e2d\u8eab\u306f root@pve:~# cat /etc/pve/nodes/pve/qemu-server/301.conf boot: order=scsi0 cores: 2 memory: 4096 name: k8su-master net0: e1000=CA:0D:8C:5E:46:C3,bridge=vmbr0,firewall=1 scsi0: wdblue1000gb:vm-301-disk-0 scsihw: pvscsi smbios1: uuid=b9b7f350-0b74-46df-bd59-0318fc99372c vmgenid: 5e1f1e65-0eb0-4cd1-867c-277b48d91616 \u5b9f\u30c7\u30fc\u30bf\u306f\u3053\u308c\u304b\u306a\uff1f root@pve:/# ls -l /dev/wdblue1000gb/vm-301-disk-0 lrwxrwxrwx 1 root root 8 Aug 5 10:13 /dev/wdblue1000gb/vm-301-disk-0 -> ../dm-15 root@pve:/# ls -l /dev/dm-15 brw-rw---- 1 root disk 253, 15 Aug 5 10:13 /dev/dm-15 root@pve:/# file /dev/dm-15 /dev/dm-15: block special (253/15)","title":"VM\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u95a2\u9023"},{"location":"Misc/proxmox/#_1","text":"","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af"},{"location":"Misc/proxmox/#ovs-bridge","text":"openvswitch-switch\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u306a\u306e\u3067\u3001\u4e8b\u524d\u306b\u30ce\u30fc\u30c9\u3067 apt-get install openvswitch-switch \u3092\u5b9f\u884c\u3057\u3066\u304a\u304f\u3002 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30e1\u30cb\u30e5\u30fc\u306e\u300c\u4f5c\u6210\u300d\u3067\u300cOVS Bridge\u300d\u3092\u9078\u629e\u3057\u3001\u540d\u524d\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3001\u30b3\u30e1\u30f3\u30c8\u3068IPv4/CIDR\u3092\u5165\u529b\u3057\u3066\u300c\u4f5c\u6210\u300d\u62bc\u4e0b\u3059\u308b\u3002 \u5dee\u5206\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067OK\u3067\u3042\u308c\u3070\u753b\u9762\u4e0a\u90e8\u306e\u300c\u8a2d\u5b9a\u3092\u9069\u7528\u300d\u62bc\u4e0b","title":"OVS Bridge\u4f5c\u6210"},{"location":"Misc/proxmox/#_2","text":"UI\u3067Linux Bridge\u306e\u300c\u30d6\u30ea\u30c3\u30b8\u30dd\u30fc\u30c8\u300d\u306b\u30dd\u30fc\u30c8\u540d\u3092\u8ffd\u52a0\u3057\u300cOK\u300d\u62bc\u4e0b\u3002 \u753b\u9762\u4e0b\u90e8\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u3002 ## \u5909\u66f4\u3092\u4fdd\u7559\u4e2d (\u6709\u52b9\u306b\u3059\u308b\u306b\u306f\u518d\u8d77\u52d5\u304b\u3001 'Apply Configuration' (needs ifupdown2)\u3092\u4f7f\u7528) --- /etc/network/interfaces 2023-05-21 15:33:29.906403987 +0900 +++ /etc/network/interfaces.new 2023-10-17 09:10:38.701832421 +0900 @@ -29,7 +29,7 @@ auto vmbr1 iface vmbr1 inet static address 172.16.0.1/23 - bridge-ports none + bridge-ports enp3s0 bridge-stp off bridge-fd 0 #private-network-1 \u5909\u66f4\u3092\u9069\u7528\u3059\u308b\u306b\u306f\u753b\u9762\u4e0a\u90e8\u306e\u300c\u8a2d\u5b9a\u3092\u9069\u7528\u300d\u62bc\u4e0b","title":"\u30d6\u30ea\u30c3\u30b8\u30dd\u30fc\u30c8\u7121\u3057\u3067\u4f5c\u6210\u3057\u305f\u30d6\u30ea\u30c3\u30b8\u306b\u7269\u7406\u30dd\u30fc\u30c8\u3092\u8ffd\u52a0"},{"location":"Misc/proxmox/#_3","text":"","title":"\u30b9\u30c8\u30ec\u30fc\u30b8"},{"location":"Misc/proxmox/#vm_1","text":"VM\u306e\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u8a2d\u5b9a\u3067\u3001\u30cf\u30fc\u30c9\u30c7\u30a3\u30b9\u30af\u3092\u9078\u629e\u3001\u300c\u30c7\u30a3\u30b9\u30af\u306e\u52d5\u4f5c\u300d\u30e1\u30cb\u30e5\u30fc\u306e\u300c\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u79fb\u52d5\u300d\u3067\u3001\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u3001VM\u306e\u30c7\u30fc\u30bf\u9818\u57df\u3092\u5225\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u79fb\u52d5\u3067\u304d\u308b\u3002","title":"VM\u306e\u30c7\u30fc\u30bf\u9818\u57df\u3092\u5225\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u79fb\u52d5"},{"location":"Misc/proxmox/#_4","text":"/etc/pve/storage.cfg \u306b\u3042\u308b\u3002 root@pve:~# cat /etc/pve/storage.cfg dir: local path /var/lib/vz content iso,vztmpl,backup shared 0 lvmthin: local-lvm thinpool data vgname pve content rootdir,images nfs: pecorino export /share path /mnt/pve/pecorino server *.*.*.* content iso,backup prune-backups keep-all=1","title":"\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb"},{"location":"Misc/proxmox/#_5","text":"\u7528\u9014\u3068\u304bNFS\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u304b\u3092\u5909\u66f4\u3059\u308b\u306b\u306f\u3001\u30ce\u30fc\u30c9\u3067\u3082\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u3082\u306a\u304f\u300c\u30c7\u30fc\u30bf\u30bb\u30f3\u30bf\u30fc\u300d\u304b\u3089\u3002","title":"\u767b\u9332\u6e08\u307f\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u8a2d\u5b9a\u5909\u66f4"},{"location":"Misc/proxmox/#_6","text":"","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3068\u30ea\u30b9\u30c8\u30a2"},{"location":"Misc/proxmox/#_7","text":"VM\u524a\u9664\u6e08\u307f\u306e\u5834\u5408\u306fCLI\u3067\u5b9f\u884c\u3059\u308b\u3002 \u4ee5\u4e0b\u306f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30c7\u30fc\u30bf\u3092VM ID:500\u3068\u3057\u3066\u30ea\u30b9\u30c8\u30a2\u3002 root@pve:~# qmrestore /mnt/pve/pecorino-dev/dump/vzdump-qemu-500-2023_09_05-15_29_11.vma.zst 500 restore vma archive: zstd -q -d -c /mnt/pve/pecorino-dev/dump/vzdump-qemu-500-2023_09_05-15_29_11.vma.zst | vma extract -v -r /var/tmp/vzdumptmp177197.fifo - /var/tmp/vzdumptmp177197 CFG: size: 458 name: qemu-server.conf DEV: dev_id=1 size: 17179869184 devname: drive-scsi0 CTIME: Tue Sep 5 15:29:21 2023 Logical volume \"vm-500-disk-0\" created. new volume ID is 'WDS100T2BA0A:vm-500-disk-0' map 'drive-scsi0' to '/dev/WDS100T2BA0A/vm-500-disk-0' (write zeros = 0) progress 1% (read 171835392 bytes, duration 1 sec) progress 2% (read 343605248 bytes, duration 2 sec) progress 3% (read 515440640 bytes, duration 4 sec) : progress 100% (read 17179869184 bytes, duration 20 sec) total bytes read 17179869184, sparse bytes 12563259392 (73.1%) space reduction due to 4K zero blocks 2.95% rescan volumes... \u30b9\u30c8\u30ec\u30fc\u30b8\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u6642\u3068\u540c\u3058\u3068\u3053\u308d\u3078\u30ea\u30b9\u30c8\u30a2\u3055\u308c\u308b\uff1f\u305d\u308c\u3068\u3082\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u306a\uff1f --storage \u3067\u6307\u5b9a\u3067\u304d\u305d\u3046 Web UI\u3067\u30ea\u30b9\u30c8\u30a2\u3059\u308b\u5834\u5408\u306f\u3001VM\u306e\u30e1\u30cb\u30e5\u30fc\u3067\u306a\u304f\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u30ea\u30b9\u30c8\u30a2\u3092\u9078\u3076\u3068\u3001\u5168\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30c7\u30fc\u30bf\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u305d\u3053\u304b\u3089\u30ea\u30b9\u30c8\u30a2\u3092\u884c\u3046\u3002","title":"\u30ea\u30b9\u30c8\u30a2"},{"location":"Misc/proxmox/#_8","text":"\u5185\u8535\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5834\u5408\u306f /var/lib/vz/dump/ root@pve:~# ls /var/lib/vz/dump/ vzdump-qemu-500-2023_09_24-01_05_17.log vzdump-qemu-500-2023_09_24-01_05_17.vma.zst vzdump-qemu-500-2023_09_24-01_05_17.vma.zst.notes : : \u5916\u90e8\u306e\u5834\u5408\u306f\u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8\u914d\u4e0b\u306e dump \u4ee5\u4e0b root@pve:~# ls /mnt/pve/pecorino/dump/ vzdump-qemu-116-2023_09_04-18_23_48.log vzdump-qemu-116-2023_09_04-18_23_48.vma.zst vzdump-qemu-116-2023_09_04-18_23_48.vma.zst.notes vzdump-qemu-116-2023_09_05-23_58_49.log vzdump-qemu-116-2023_09_05-23_58_49.vma.zst vzdump-qemu-116-2023_09_05-23_58_49.vma.zst.notes : :","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30c7\u30fc\u30bf\u306e\u5b9f\u30c7\u30fc\u30bf\u4fdd\u5b58\u5148"},{"location":"Misc/proxmox/#_9","text":"8.3.3\u6642\u70b9\u3067UI\u3067\u306e\u64cd\u4f5c\u306f\u306a\u3055\u305d\u3046\u3002 \u4e0a\u8a18\u306e\u30d1\u30b9\u60c5\u5831\u3092\u53c2\u7167\u306b mv \u3067\u79fb\u52d5\u3059\u308b\u3002","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u5148\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5909\u66f4"},{"location":"Misc/proxmox/#cli","text":"","title":"CLI"},{"location":"Misc/proxmox/#vm_2","text":"qm list ID\u3001VM\u540d\u3001\u8d77\u52d5\u72b6\u614b\u3001RAM\u30b5\u30a4\u30ba\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30a4\u30ba\u306a\u3069\u304c\u4e00\u89a7\u3067\u51fa\u529b\u3055\u308c\u308b\u3002 \u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u30ce\u30fc\u30c9\u5358\u4f4d\u3067\u51fa\u529b\u3055\u308c\u308b\u3002","title":"VM\u4e00\u89a7"},{"location":"Misc/proxmox/#vmqemu-guest-agent","text":"qemu-guest-agent\u304c\u52d5\u4f5c\u3057\u3066\u3044\u308bVM\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u3002 NIC\u60c5\u5831\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 # qm guest cmd 710 network-get-interfaces [ { \"hardware-address\" : \"00:00:00:00:00:00\", \"ip-addresses\" : [ { \"ip-address\" : \"127.0.0.1\", \"ip-address-type\" : \"ipv4\", \"prefix\" : 8 }, ... ] }, { \"hardware-address\" : \"bc:24:11:d6:b0:61\", \"ip-addresses\" : [ { \"ip-address\" : \"192.168.0.201\", \"ip-address-type\" : \"ipv4\", \"prefix\" : 24 }, { \"ip-address\" : \"fe80::be24:11ff:fed6:b061\", \"ip-address-type\" : \"ipv6\", \"prefix\" : 64 } ], ... \u4f7f\u3048\u308b\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u306f qm help \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 qm(1) ( qm guest \u306e\u30d8\u30eb\u30d7\u306f\u7121\u3055\u3052\u2026)","title":"VM\u8a73\u7d30(qemu-guest-agent\u4f7f\u7528)"},{"location":"Misc/proxmox/#vm_3","text":"qm destroy <vmid> --destroy-unreferenced-disks=1","title":"VM\u524a\u9664"},{"location":"Misc/proxmox/#_10","text":"root@pve:~# hostnamectl set-hostname pve01 root@pve:~# \u4ed6\u306e\u5909\u66f4\u30d5\u30a1\u30a4\u30eb(\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u30db\u30b9\u30c8\u540d\u306e\u8a18\u8ff0\u304c\u3042\u308b\u3082\u306e\u3092\u63a2\u3059) /etc/hosts /etc/hostname /etc/postfix/main.cf /etc/pve/storage.cfg VM\u3068\u30ce\u30fc\u30c9\u5b9a\u7fa9 root@pve01:~# ls -lF /etc/pve/nodes/ total 0 drwxr-xr-x 2 root www-data 0 May 14 2023 pve/ \u3057\u3070\u3089\u304f\u5f85\u6a5f\u3059\u308b\u3068\u3001\u65b0\u30db\u30b9\u30c8\u540d\u306e\u30ce\u30fc\u30c9\u304c\u751f\u3048\u308b\u304c\u4e2d\u8eab\u306f\u30d6\u30e9\u30f3\u30af root@pve01:~# ls -lF /etc/pve/nodes/ total 0 drwxr-xr-x 2 root www-data 0 May 14 2023 pve/ drwxr-xr-x 2 root www-data 0 Jan 5 14:51 pve01/ root@pve01:~# find /etc/pve/nodes/pve01/ /etc/pve/nodes/pve01/ /etc/pve/nodes/pve01/qemu-server /etc/pve/nodes/pve01/lxc \u5ff5\u306e\u305f\u3081\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 root@pve01:~# cp -a /etc/pve/nodes/pve node-backup/ root@pve01:~# ls -lF node-backup/ total 4 drwxr-xr-x 6 root www-data 4096 May 14 2023 pve/ root@pve01:~# VM\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3092\u79fb\u52d5 root@pve01:~# mv /etc/pve/nodes/pve/qemu-server/* /etc/pve/nodes/pve01/qemu-server/ root@pve01:~# root@pve01:~# ls /etc/pve/nodes/pve01/qemu-server/ 101.conf 116.conf 201.conf 210.conf 303.conf 312.conf 703.conf 709.conf 712.conf 9002.conf 9011.conf 111.conf 119.conf 202.conf 301.conf 310.conf 313.conf 707.conf 710.conf 9000.conf 9003.conf 9020.conf 114.conf 121.conf 203.conf 302.conf 311.conf 702.conf 708.conf 711.conf 9001.conf 9010.conf","title":"\u30db\u30b9\u30c8\u540d\u5909\u66f4"},{"location":"Misc/qnap/","text":"QNAP \u30c7\u30a3\u30b9\u30af\u4ea4\u63db [\u30b9\u30c8\u30ec\u30fc\u30b8&\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8]->[\u30c7\u30a3\u30b9\u30af]\u3067\u5bfe\u8c61\u3092\u9078\u629e\u3057\u3066[\u30a2\u30af\u30b7\u30e7\u30f3]->[\u53d6\u308a\u5916\u3059] \u30c7\u30a3\u30b9\u30af\u3092\u4ea4\u63db\u3059\u308b RAID \u30b0\u30eb\u30fc\u30d7\u5185\u306e\u6545\u969c\u3057\u305f\u30c7\u30a3\u30b9\u30af\u3092\u4ea4\u63db\u3059\u308b\u306b\u306f\u3069\u3046\u3059\u308c\u3070\u3088\u3044\u3067\u3059\u304b\uff1f | QNAP \u5916\u4ed8\u3051USB HDD \u7e4b\u3052\u3070\u305d\u306e\u307e\u307e\u4f7f\u3048\u308b\u3002\u5c11\u306a\u304f\u3068\u3082EXT4\u3067\u306fLinux\u3067\u4f7f\u3063\u3066\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u305d\u306e\u307e\u307e\u30de\u30a6\u30f3\u30c8\u30fb\u5171\u6709\u3067\u304d\u308b\u3002 \u305f\u3060\u3057\u30b9\u30c8\u30ec\u30fc\u30b8\u30d7\u30fc\u30eb\u306b\u306f\u4f7f\u3048\u306a\u3044\u3002 \u5171\u6709\u540d\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u30e9\u30d9\u30eb\u540d\u3002 \u5909\u66f4\u3059\u308b\u306b\u306f\u300c\u30b9\u30c8\u30ec\u30fc\u30b8\uff06\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u300d\u306e\u300c\u30b9\u30c8\u30ec\u30fc\u30b8\u60c5\u5831\u300d\u304b\u3089\u3002\u305f\u3060\u3057\u5909\u66f4\u3059\u308b\u3068\u5404\u7a2e\u8a2d\u5b9a\u304c\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u308b\u3002 CIFS\u5171\u6709\u6642\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u306b\u306f\u300c\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u300d->\u300c\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u2015\u300d\u306e\u300c\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u7de8\u96c6\u300d\u304b\u3089\u3002 \u3067\u3082\u30ea\u30d6\u30fc\u30c8\u3057\u305f\u3089\u6d88\u3048\u308b\uff1f \u8a2d\u5b9a \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a \u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb->\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u4eee\u60f3\u30b9\u30a4\u30c3\u30c1\u306e\u753b\u9762\u3067\u3001\u5bfe\u8c61\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u300c\uff1a\u300d\u30e1\u30cb\u30e5\u30fc\u306eConfigure\u304b\u3089\u3002 NFS \u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u306e\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d3\u30b9\u300d\u2192\u300cWin/Mac/NFS/WebDAV\u300d\u3067\u307e\u305aNFS\u30b5\u30fc\u30d3\u30b9\u3092\u6709\u52b9\u5316\u3002 \u30b5\u30fc\u30d3\u30b9\u3092\u6709\u52b9\u5316\u3057\u305f\u3089\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u6bce\u306bNFS\u30a2\u30af\u30bb\u30b9\u6a29\u3092\u300c\u6a29\u9650\u8a2d\u5b9a\u300d\u2192\u300c\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u30fc\u300d\u3067\u300c\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u30fc\u6a29\u9650\u306e\u8a2d\u5b9a\u300d\u62bc\u4e0b\u3057\u3066\u8a2d\u5b9a\u3059\u308b\u3002 NFS\u306e\u6a29\u9650\u306e\u7de8\u96c6\u753b\u9762\u306f\u4e0a\u90e8\u306e\u6a29\u9650\u30bf\u30a4\u30d7\u306e\u300cNFS\u30db\u30b9\u30c8\u306e\u30a2\u30af\u30bb\u30b9\u300d\u304b\u3089\u3002 \u30b3\u30f3\u30c6\u30ca AppCenter\u3067\u300cContainer Station\u300d\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Container Station | LXC\u3001Docker\u3001Kata\u30b3\u30f3\u30c6\u30ca\u306b\u5bfe\u5fdc | QNAP","title":"QNAP"},{"location":"Misc/qnap/#qnap","text":"","title":"QNAP"},{"location":"Misc/qnap/#_1","text":"[\u30b9\u30c8\u30ec\u30fc\u30b8&\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8]->[\u30c7\u30a3\u30b9\u30af]\u3067\u5bfe\u8c61\u3092\u9078\u629e\u3057\u3066[\u30a2\u30af\u30b7\u30e7\u30f3]->[\u53d6\u308a\u5916\u3059] \u30c7\u30a3\u30b9\u30af\u3092\u4ea4\u63db\u3059\u308b RAID \u30b0\u30eb\u30fc\u30d7\u5185\u306e\u6545\u969c\u3057\u305f\u30c7\u30a3\u30b9\u30af\u3092\u4ea4\u63db\u3059\u308b\u306b\u306f\u3069\u3046\u3059\u308c\u3070\u3088\u3044\u3067\u3059\u304b\uff1f | QNAP","title":"\u30c7\u30a3\u30b9\u30af\u4ea4\u63db"},{"location":"Misc/qnap/#usb-hdd","text":"\u7e4b\u3052\u3070\u305d\u306e\u307e\u307e\u4f7f\u3048\u308b\u3002\u5c11\u306a\u304f\u3068\u3082EXT4\u3067\u306fLinux\u3067\u4f7f\u3063\u3066\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u305d\u306e\u307e\u307e\u30de\u30a6\u30f3\u30c8\u30fb\u5171\u6709\u3067\u304d\u308b\u3002 \u305f\u3060\u3057\u30b9\u30c8\u30ec\u30fc\u30b8\u30d7\u30fc\u30eb\u306b\u306f\u4f7f\u3048\u306a\u3044\u3002 \u5171\u6709\u540d\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u30e9\u30d9\u30eb\u540d\u3002 \u5909\u66f4\u3059\u308b\u306b\u306f\u300c\u30b9\u30c8\u30ec\u30fc\u30b8\uff06\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u300d\u306e\u300c\u30b9\u30c8\u30ec\u30fc\u30b8\u60c5\u5831\u300d\u304b\u3089\u3002\u305f\u3060\u3057\u5909\u66f4\u3059\u308b\u3068\u5404\u7a2e\u8a2d\u5b9a\u304c\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u308b\u3002 CIFS\u5171\u6709\u6642\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u306b\u306f\u300c\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u300d->\u300c\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u2015\u300d\u306e\u300c\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u7de8\u96c6\u300d\u304b\u3089\u3002 \u3067\u3082\u30ea\u30d6\u30fc\u30c8\u3057\u305f\u3089\u6d88\u3048\u308b\uff1f","title":"\u5916\u4ed8\u3051USB HDD"},{"location":"Misc/qnap/#_2","text":"","title":"\u8a2d\u5b9a"},{"location":"Misc/qnap/#_3","text":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb->\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u4eee\u60f3\u30b9\u30a4\u30c3\u30c1\u306e\u753b\u9762\u3067\u3001\u5bfe\u8c61\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u300c\uff1a\u300d\u30e1\u30cb\u30e5\u30fc\u306eConfigure\u304b\u3089\u3002","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a"},{"location":"Misc/qnap/#nfs","text":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u306e\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d3\u30b9\u300d\u2192\u300cWin/Mac/NFS/WebDAV\u300d\u3067\u307e\u305aNFS\u30b5\u30fc\u30d3\u30b9\u3092\u6709\u52b9\u5316\u3002 \u30b5\u30fc\u30d3\u30b9\u3092\u6709\u52b9\u5316\u3057\u305f\u3089\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u6bce\u306bNFS\u30a2\u30af\u30bb\u30b9\u6a29\u3092\u300c\u6a29\u9650\u8a2d\u5b9a\u300d\u2192\u300c\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u30fc\u300d\u3067\u300c\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u30fc\u6a29\u9650\u306e\u8a2d\u5b9a\u300d\u62bc\u4e0b\u3057\u3066\u8a2d\u5b9a\u3059\u308b\u3002 NFS\u306e\u6a29\u9650\u306e\u7de8\u96c6\u753b\u9762\u306f\u4e0a\u90e8\u306e\u6a29\u9650\u30bf\u30a4\u30d7\u306e\u300cNFS\u30db\u30b9\u30c8\u306e\u30a2\u30af\u30bb\u30b9\u300d\u304b\u3089\u3002","title":"NFS"},{"location":"Misc/qnap/#_4","text":"AppCenter\u3067\u300cContainer Station\u300d\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Container Station | LXC\u3001Docker\u3001Kata\u30b3\u30f3\u30c6\u30ca\u306b\u5bfe\u5fdc | QNAP","title":"\u30b3\u30f3\u30c6\u30ca"},{"location":"Misc/slack/","text":"Slack \u30ad\u30fc\u30dc\u30fc\u30c9\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8 Windows\u57fa\u6e96 \u9805\u76ee \u64cd\u4f5c \u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u4e00\u89a7\u306e\u8868\u793aon/off Ctrl + / (\u4f1a\u8a71\u30c4\u30ea\u30fc\u306a\u3069\u306e)\u53f3\u30b5\u30a4\u30c9\u753b\u9762\u306eon/off Ctrl + . (\u30c1\u30e3\u30f3\u30cd\u30eb\u4e00\u89a7\u306a\u3069\u306e)\u5de6\u30b5\u30a4\u30c9\u30d0\u30fcon/off Ctrl + Shift + d \u30b9\u30ec\u30c3\u30c9\u306e\u8868\u793a Ctrl + Shift + t \u30c1\u30e3\u30f3\u30cd\u30eb\u306a\u3069\u306e\u79fb\u52d5 Ctrl + k \u30db\u30fc\u30e0 Ctrl + Shfit + 1 DM Ctrl + Shift + 2 \u5f8c\u3067 Ctrl + Shift + 4 \u5168\u54e1\u3078\u306e\u901a\u77e5 \u30c1\u30e3\u30f3\u30cd\u30eb\u3084\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u306b\u901a\u77e5\u3059\u308b | Slack \u3053\u308c\u3089\u306e\u30e1\u30f3\u30b7\u30e7\u30f3\u3067\u306f\u3001\u901a\u77e5\u304c\u4e00\u6642\u505c\u6b62\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3084\u3001\u30b9\u30ec\u30c3\u30c9\u3067\u4f7f\u7528\u3055\u308c\u305f\u5834\u5408\u306f\u30e1\u30f3\u30d0\u30fc\u306b\u901a\u77e5\u3057\u307e\u305b\u3093\u3002 @here \u7b49\u306f\u30b9\u30ec\u30c3\u30c9\u5185\u3067\u4f7f\u3046\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002","title":"Slack"},{"location":"Misc/slack/#slack","text":"","title":"Slack"},{"location":"Misc/slack/#_1","text":"Windows\u57fa\u6e96 \u9805\u76ee \u64cd\u4f5c \u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u4e00\u89a7\u306e\u8868\u793aon/off Ctrl + / (\u4f1a\u8a71\u30c4\u30ea\u30fc\u306a\u3069\u306e)\u53f3\u30b5\u30a4\u30c9\u753b\u9762\u306eon/off Ctrl + . (\u30c1\u30e3\u30f3\u30cd\u30eb\u4e00\u89a7\u306a\u3069\u306e)\u5de6\u30b5\u30a4\u30c9\u30d0\u30fcon/off Ctrl + Shift + d \u30b9\u30ec\u30c3\u30c9\u306e\u8868\u793a Ctrl + Shift + t \u30c1\u30e3\u30f3\u30cd\u30eb\u306a\u3069\u306e\u79fb\u52d5 Ctrl + k \u30db\u30fc\u30e0 Ctrl + Shfit + 1 DM Ctrl + Shift + 2 \u5f8c\u3067 Ctrl + Shift + 4","title":"\u30ad\u30fc\u30dc\u30fc\u30c9\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8"},{"location":"Misc/slack/#_2","text":"\u30c1\u30e3\u30f3\u30cd\u30eb\u3084\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u306b\u901a\u77e5\u3059\u308b | Slack \u3053\u308c\u3089\u306e\u30e1\u30f3\u30b7\u30e7\u30f3\u3067\u306f\u3001\u901a\u77e5\u304c\u4e00\u6642\u505c\u6b62\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3084\u3001\u30b9\u30ec\u30c3\u30c9\u3067\u4f7f\u7528\u3055\u308c\u305f\u5834\u5408\u306f\u30e1\u30f3\u30d0\u30fc\u306b\u901a\u77e5\u3057\u307e\u305b\u3093\u3002 @here \u7b49\u306f\u30b9\u30ec\u30c3\u30c9\u5185\u3067\u4f7f\u3046\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002","title":"\u5168\u54e1\u3078\u306e\u901a\u77e5"},{"location":"Misc/sql/","text":"SQL table \u30c6\u30fc\u30d6\u30eb\u306e\u524a\u9664 DROP TABLE table_name1, table_name2, table_name3;","title":"SQL"},{"location":"Misc/sql/#sql","text":"","title":"SQL"},{"location":"Misc/sql/#table","text":"","title":"table"},{"location":"Misc/sql/#_1","text":"DROP TABLE table_name1, table_name2, table_name3;","title":"\u30c6\u30fc\u30d6\u30eb\u306e\u524a\u9664"},{"location":"Misc/sqlite/","text":"SQLite3 \u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f file \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 $ file /path/to/data.db file /path/to/data.db: SQLite 3.x database, last written using SQLite version 3043002, file counter 127, database pages 31, cookie 0x58, schema 4, UTF-8, DB\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f sqlite3 /path/to/data.db","title":"SQLite3"},{"location":"Misc/sqlite/#sqlite3","text":"","title":"SQLite3"},{"location":"Misc/sqlite/#_1","text":"file \u3067\u78ba\u8a8d\u3067\u304d\u308b\u3002 $ file /path/to/data.db file /path/to/data.db: SQLite 3.x database, last written using SQLite version 3043002, file counter 127, database pages 31, cookie 0x58, schema 4, UTF-8,","title":"\u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f"},{"location":"Misc/sqlite/#db","text":"sqlite3 /path/to/data.db","title":"DB\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f"},{"location":"Misc/terraform/","text":"Terraform \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Install Terraform | Terraform - HashiCorp Learn apt $ sudo apt-get update && sudo apt-get install -y gnupg software-properties-common curl $ curl -fsSL https://apt.releases.hashicorp.com/gpg | sudo apt-key add - $ sudo apt-add-repository \"deb [arch=amd64] https://apt.releases.hashicorp.com $( lsb_release -cs ) main\" $ sudo apt-get update && sudo apt-get install terraform CLI \u30d5\u30a9\u30fc\u30de\u30c3\u30bf standard style\u3078\u5909\u63db\u3059\u308b\u3002 terraform fmt -recursive -recursive \u7121\u3057\u306e\u5834\u5408\u306f\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u307f\u304c\u5bfe\u8c61 provider\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d terraform providers -version \u3068\u3044\u308f\u308c\u3066\u308b\u3051\u3069 providers \u304c\u7121\u304f\u3066\u3082\u51fa\u529b\u306f\u540c\u3058\u3002 provider\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9 tf\u30d5\u30a1\u30a4\u30eb\u306eprovicers\u306e\u5b9a\u7fa9\u3067\u6307\u5b9a\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u66f4\u3057\u3066\u3001\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3002 terraform init -upgrade \u30ea\u30bd\u30fc\u30b9\u4e00\u89a7 terraform state list tfstate\u306e\u78ba\u8a8d terraform state pull stdout\u3078tfstate\u306e\u5185\u5bb9\u304c\u51fa\u529b\u3055\u308c\u308b\u306e\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u3078\u4fdd\u5b58\u3059\u308c\u3070\u30af\u30e9\u30a6\u30c9\u306b\u914d\u7f6e\u3057\u3066\u3044\u308b\u5834\u5408\u306etfstate\u30821\u30b3\u30de\u30f3\u30c9\u3067\u53d6\u5f97\u3067\u304d\u308b\u3002 workspace \u73fe\u5728\u306eworkspace $ terraform workspace show default \u4e00\u89a7 $ terraform workspace list default * 1 2 \u5909\u66f4 workspace 2 \u306b\u5909\u66f4 $ terraform workspace select 2 Switched to workspace \"2\". \u8a2d\u5b9a\u5024\u306f .terraform/environment \u306b\u8a18\u9332\u3055\u308c\u308b\u3002 variable \u5f15\u6570 terraform plan -var='enable_wan=false' \u30c7\u30d0\u30c3\u30b0\u30ed\u30b0 verbose\u30aa\u30d7\u30b7\u30e7\u30f3\u7684\u306a\u3082\u306e\u306f\u306a\u304f\u3001\u5909\u6570\u6307\u5b9a\u3059\u308b\u3002 TF_LOG=DEBUG terraform command Debugging | Terraform | HashiCorp Developer \u6307\u5b9a\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u307f\u51e6\u7406 -target=module.\u30e2\u30b8\u30e5\u30fc\u30eb\u540d \u3067\u6307\u5b9a\u53ef\u80fd terraform plan -target=module.my-module backend\u8a2d\u5b9a S3 backend\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0 terraform { required_providers { aws = { source = \"hashicorp/aws\" version = \"~> 3.0\" } } backend \"s3\" { bucket = \"bucket-name\" key = \"terraform.tfstate\" region = \"ap-northeast-1\" } } provider \"aws\" { region = \"ap-northeast-1\" } \u3082\u3068\u3082\u3068\u30ed\u30fc\u30ab\u30eb\u3067tfstate\u4f5c\u3063\u3066\u3044\u305f\u72b6\u614b\u304b\u3089S3\u3078\u79fb\u884c\u3059\u308b\u5834\u5408\u306f\u3001 S3\u30d0\u30b1\u30c3\u30c8\u4f5c\u6210 tfstate\u3092S3\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 \u30bd\u30fc\u30b9\u306b backend \u5b9a\u7fa9\u8ffd\u52a0 (\u30d0\u30b1\u30c3\u30c8\u540d\u30fb\u30ad\u30fc(\u30d5\u30a1\u30a4\u30eb)\u540d\u30fb\u30ea\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a) \u3053\u3053\u307e\u3067\u306f\u30bb\u30c3\u30c8\u3067\u3002 \u3067\u3001 \u30ed\u30fc\u30ab\u30eb\u306etfstate\u3092\u9000\u907f terraform init \u5b9f\u884c (S3\u8a2d\u5b9a\u304c\u53cd\u6620\u3055\u308c\u308b) terraform plan \u3067\u5dee\u5206\u304c\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d \u3067\u3044\u3051\u308b\u3002 S3 + DynamoDB\u3067\u306e\u30ed\u30c3\u30af DynamoDB\u3067\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210 \u540d\u524d\u306f\u4efb\u610f \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30ad\u30fc\u306f LockID \u305d\u306e\u4ed6\u306f\u30c7\u30d5\u30a9\u30eb\u30c8 \u3042\u3068\u306f\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u8a2d\u5b9a\u306b\u4ee5\u4e0b\u8ffd\u52a0 backend \"s3\" { bucket = S 3 \u30d0\u30b1\u30c3\u30c8\u540d key = \"terraform.tfstate\" region = \u30ea\u30fc\u30b8\u30e7\u30f3 dynamodb_table = DynamoDB\u30c6\u30fc\u30d6\u30eb\u540d encrypt = true } \u30ed\u30c3\u30af\u3057\u305f\u307e\u307e\u306b\u306a\u3063\u305f\u5834\u5408\u306e\u89e3\u9664 \u51e6\u7406\u4e2d\u306e\u5f37\u5236\u4e2d\u65ad\u3084\u3001\u5b9f\u884c\u30db\u30b9\u30c8\u306e\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u306a\u3069\u3067\u3001\u30ed\u30c3\u30af\u72b6\u614b\u306e\u307e\u307e\u306b\u306a\u308b\u3068\u3001\u6b21\u306eTerraform\u5b9f\u884c\u306f\u3067\u304d\u306a\u304f\u306a\u308b\u3002 \u89e3\u9664\u3059\u308b\u306b\u306f terraform force-unlock ID \u3092\u5b9f\u884c\u3059\u308b\u3002 ID\u306f\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u4e2d\u306e\u4ee5\u4e0b\u306e\u5024 Error message: operation error DynamoDB: PutItem, https response error StatusCode: 400, RequestID: .... ConditionalCheckFailedException: The conditional request failed Lock Info: ID: ******** Path: /path/to/terraform.tfstate Operation: OperationTypeApply Who: ... Version: 1.9.1 Created: ... Info: \u69cb\u6587 count EC2\u30923\u3064\u7acb\u3066Name\u30bf\u30b0\u306b\u9023\u756a\u3092\u632f\u308b resource \"aws_instance\" \"cloud-vm\" { count = 3 instance_type = \"t2.medium\" : tags = { Name = \"cloud-${count.index}\" } } EIP\u306e\u4ed8\u4e0e\u3068\u9023\u52d5\u3055\u305b\u308b\u306b\u306f\u3001 element function \u3092\u4f7f\u3063\u3066\u8981\u7d20\u3092\u53c2\u7167\u3059\u308b\u3002 resource \"aws_eip\" \"cloud-eip\" { count = 3 instance = \"${element(aws_instance.cloud-vm.*.id, count.index)}\" depends_on = [ aws_internet_gateway.igw ] } \u5909\u6570 \u5909\u6570\u53c2\u7167 vm_ami_id \u3068\u3044\u3046\u5909\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u306a\u3089\u4ee5\u4e0b\u3002 ami = var.vm_ami_id \u88dc\u5b8c \u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb\u306e\u4e2d\u3067\u53c2\u7167\u3059\u308b\u5834\u5408\u306f\u300c\u88dc\u5b8c\u300d\u3067\u66f8\u5f0f\u306f\u4ee5\u4e0b\u3002 tags = { Name = \"${var.name_prefix}-server\" } \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 \u30a8\u30b9\u30b1\u30fc\u30d7 %{...} \u3068\u3044\u3046\u6587\u5b57\u3092\u305d\u306e\u307e\u307e\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f %%{...} curl -k https://localhost:6443 -w '%%{http_code}\\n' -sS -o /dev/null 2>/dev/null \u95a2\u6570 file file - Functions - Configuration Language | Terraform | HashiCorp Developer \u5f15\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u3092\u53d6\u308a\u8fbc\u3080\u3002 EC2\u306e\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf/Cloud-init\u306e\u30d5\u30a1\u30a4\u30eb\u3084\u3001\u30dd\u30ea\u30b7\u30fc\u306eJSON\u7b49\u3092\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u7fa9\u3067\u304d\u308b\u3002 resource \"aws_instance\" \"dev-vm\" { ami = ... instance_type = \"t2.medium\" key_name = aws_key_pair.key.id subnet_id = aws_subnet.subnet.id vpc_security_group_ids = [ aws_security_group.sg.id ] associate_public_ip_address = true user_data = file ( \"${path.module}/cloud-config.yaml\" ) ... } #cloud-config chpasswd : { expire : false } ssh_pwauth : true packages : - python3.12 templatefile file() \u306f\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u3092\u56fa\u5b9a\u5024\u3068\u3057\u3066\u8aad\u307f\u8fbc\u3080\u306e\u307f\u3060\u304c\u3001 templatefile() \u306a\u3089\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066\u5909\u6570\u3092\u5c55\u958b\u3059\u308b\u3002 user_data = templatefile ( \"${path.module}/user-data.sh\" , { git_username = var.git_username git_password = var.git_password }) user-data.sh #!/bin/bash -ex git clone https:// ${ git_username } : ${ git_password } @git.example.org/repos/apps /root/apps resource \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb VPC\u306e\u30d1\u30e9\u30e1\u30bf\u306e default_route_table_id \u3092\u53c2\u7167\u3059\u308b\u3002 route_table_ids = [ aws_vpc.my_vpc.default_route_table_id ] docs terraform-docs Terraform\u30b3\u30fc\u30c9\u304b\u3089\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u751f\u6210\u3059\u308b\u30c4\u30fc\u30eb\u3002 CLI\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u304c\u30b3\u30f3\u30c6\u30ca\u5b9f\u884c\u3067\u3082\u751f\u6210\u3067\u304d\u308b\u3002 Podman\u3067\u3042\u308c\u3070\u3001Terraform\u30b3\u30fc\u30c9\u306e\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u4ee5\u4e0b\u3092\u5b9f\u884c\u3059\u308c\u3070 README.md \u304c\u751f\u6210\u3055\u308c\u308b\u3002 podman run --rm -v \"$(pwd):/terraform-docs\" quay.io/terraform-docs/terraform-docs:0.18.0 markdown /terraform-docs --output-file README.md","title":"Terraform"},{"location":"Misc/terraform/#terraform","text":"","title":"Terraform"},{"location":"Misc/terraform/#_1","text":"Install Terraform | Terraform - HashiCorp Learn","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"Misc/terraform/#apt","text":"$ sudo apt-get update && sudo apt-get install -y gnupg software-properties-common curl $ curl -fsSL https://apt.releases.hashicorp.com/gpg | sudo apt-key add - $ sudo apt-add-repository \"deb [arch=amd64] https://apt.releases.hashicorp.com $( lsb_release -cs ) main\" $ sudo apt-get update && sudo apt-get install terraform","title":"apt"},{"location":"Misc/terraform/#cli","text":"","title":"CLI"},{"location":"Misc/terraform/#_2","text":"standard style\u3078\u5909\u63db\u3059\u308b\u3002 terraform fmt -recursive -recursive \u7121\u3057\u306e\u5834\u5408\u306f\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u307f\u304c\u5bfe\u8c61","title":"\u30d5\u30a9\u30fc\u30de\u30c3\u30bf"},{"location":"Misc/terraform/#provider","text":"terraform providers -version \u3068\u3044\u308f\u308c\u3066\u308b\u3051\u3069 providers \u304c\u7121\u304f\u3066\u3082\u51fa\u529b\u306f\u540c\u3058\u3002","title":"provider\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d"},{"location":"Misc/terraform/#provider_1","text":"tf\u30d5\u30a1\u30a4\u30eb\u306eprovicers\u306e\u5b9a\u7fa9\u3067\u6307\u5b9a\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5909\u66f4\u3057\u3066\u3001\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3002 terraform init -upgrade","title":"provider\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9"},{"location":"Misc/terraform/#_3","text":"terraform state list","title":"\u30ea\u30bd\u30fc\u30b9\u4e00\u89a7"},{"location":"Misc/terraform/#tfstate","text":"terraform state pull stdout\u3078tfstate\u306e\u5185\u5bb9\u304c\u51fa\u529b\u3055\u308c\u308b\u306e\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u3078\u4fdd\u5b58\u3059\u308c\u3070\u30af\u30e9\u30a6\u30c9\u306b\u914d\u7f6e\u3057\u3066\u3044\u308b\u5834\u5408\u306etfstate\u30821\u30b3\u30de\u30f3\u30c9\u3067\u53d6\u5f97\u3067\u304d\u308b\u3002","title":"tfstate\u306e\u78ba\u8a8d"},{"location":"Misc/terraform/#workspace","text":"","title":"workspace"},{"location":"Misc/terraform/#workspace_1","text":"$ terraform workspace show default","title":"\u73fe\u5728\u306eworkspace"},{"location":"Misc/terraform/#_4","text":"$ terraform workspace list default * 1 2","title":"\u4e00\u89a7"},{"location":"Misc/terraform/#_5","text":"workspace 2 \u306b\u5909\u66f4 $ terraform workspace select 2 Switched to workspace \"2\". \u8a2d\u5b9a\u5024\u306f .terraform/environment \u306b\u8a18\u9332\u3055\u308c\u308b\u3002","title":"\u5909\u66f4"},{"location":"Misc/terraform/#variable","text":"","title":"variable"},{"location":"Misc/terraform/#_6","text":"terraform plan -var='enable_wan=false'","title":"\u5f15\u6570"},{"location":"Misc/terraform/#_7","text":"verbose\u30aa\u30d7\u30b7\u30e7\u30f3\u7684\u306a\u3082\u306e\u306f\u306a\u304f\u3001\u5909\u6570\u6307\u5b9a\u3059\u308b\u3002 TF_LOG=DEBUG terraform command Debugging | Terraform | HashiCorp Developer","title":"\u30c7\u30d0\u30c3\u30b0\u30ed\u30b0"},{"location":"Misc/terraform/#_8","text":"-target=module.\u30e2\u30b8\u30e5\u30fc\u30eb\u540d \u3067\u6307\u5b9a\u53ef\u80fd terraform plan -target=module.my-module","title":"\u6307\u5b9a\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u307f\u51e6\u7406"},{"location":"Misc/terraform/#backend","text":"","title":"backend\u8a2d\u5b9a"},{"location":"Misc/terraform/#s3","text":"backend\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0 terraform { required_providers { aws = { source = \"hashicorp/aws\" version = \"~> 3.0\" } } backend \"s3\" { bucket = \"bucket-name\" key = \"terraform.tfstate\" region = \"ap-northeast-1\" } } provider \"aws\" { region = \"ap-northeast-1\" } \u3082\u3068\u3082\u3068\u30ed\u30fc\u30ab\u30eb\u3067tfstate\u4f5c\u3063\u3066\u3044\u305f\u72b6\u614b\u304b\u3089S3\u3078\u79fb\u884c\u3059\u308b\u5834\u5408\u306f\u3001 S3\u30d0\u30b1\u30c3\u30c8\u4f5c\u6210 tfstate\u3092S3\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 \u30bd\u30fc\u30b9\u306b backend \u5b9a\u7fa9\u8ffd\u52a0 (\u30d0\u30b1\u30c3\u30c8\u540d\u30fb\u30ad\u30fc(\u30d5\u30a1\u30a4\u30eb)\u540d\u30fb\u30ea\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a) \u3053\u3053\u307e\u3067\u306f\u30bb\u30c3\u30c8\u3067\u3002 \u3067\u3001 \u30ed\u30fc\u30ab\u30eb\u306etfstate\u3092\u9000\u907f terraform init \u5b9f\u884c (S3\u8a2d\u5b9a\u304c\u53cd\u6620\u3055\u308c\u308b) terraform plan \u3067\u5dee\u5206\u304c\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d \u3067\u3044\u3051\u308b\u3002","title":"S3"},{"location":"Misc/terraform/#s3-dynamodb","text":"DynamoDB\u3067\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210 \u540d\u524d\u306f\u4efb\u610f \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30ad\u30fc\u306f LockID \u305d\u306e\u4ed6\u306f\u30c7\u30d5\u30a9\u30eb\u30c8 \u3042\u3068\u306f\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u8a2d\u5b9a\u306b\u4ee5\u4e0b\u8ffd\u52a0 backend \"s3\" { bucket = S 3 \u30d0\u30b1\u30c3\u30c8\u540d key = \"terraform.tfstate\" region = \u30ea\u30fc\u30b8\u30e7\u30f3 dynamodb_table = DynamoDB\u30c6\u30fc\u30d6\u30eb\u540d encrypt = true }","title":"S3 + DynamoDB\u3067\u306e\u30ed\u30c3\u30af"},{"location":"Misc/terraform/#_9","text":"\u51e6\u7406\u4e2d\u306e\u5f37\u5236\u4e2d\u65ad\u3084\u3001\u5b9f\u884c\u30db\u30b9\u30c8\u306e\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u306a\u3069\u3067\u3001\u30ed\u30c3\u30af\u72b6\u614b\u306e\u307e\u307e\u306b\u306a\u308b\u3068\u3001\u6b21\u306eTerraform\u5b9f\u884c\u306f\u3067\u304d\u306a\u304f\u306a\u308b\u3002 \u89e3\u9664\u3059\u308b\u306b\u306f terraform force-unlock ID \u3092\u5b9f\u884c\u3059\u308b\u3002 ID\u306f\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u4e2d\u306e\u4ee5\u4e0b\u306e\u5024 Error message: operation error DynamoDB: PutItem, https response error StatusCode: 400, RequestID: .... ConditionalCheckFailedException: The conditional request failed Lock Info: ID: ******** Path: /path/to/terraform.tfstate Operation: OperationTypeApply Who: ... Version: 1.9.1 Created: ... Info:","title":"\u30ed\u30c3\u30af\u3057\u305f\u307e\u307e\u306b\u306a\u3063\u305f\u5834\u5408\u306e\u89e3\u9664"},{"location":"Misc/terraform/#_10","text":"","title":"\u69cb\u6587"},{"location":"Misc/terraform/#count","text":"EC2\u30923\u3064\u7acb\u3066Name\u30bf\u30b0\u306b\u9023\u756a\u3092\u632f\u308b resource \"aws_instance\" \"cloud-vm\" { count = 3 instance_type = \"t2.medium\" : tags = { Name = \"cloud-${count.index}\" } } EIP\u306e\u4ed8\u4e0e\u3068\u9023\u52d5\u3055\u305b\u308b\u306b\u306f\u3001 element function \u3092\u4f7f\u3063\u3066\u8981\u7d20\u3092\u53c2\u7167\u3059\u308b\u3002 resource \"aws_eip\" \"cloud-eip\" { count = 3 instance = \"${element(aws_instance.cloud-vm.*.id, count.index)}\" depends_on = [ aws_internet_gateway.igw ] }","title":"count"},{"location":"Misc/terraform/#_11","text":"","title":"\u5909\u6570"},{"location":"Misc/terraform/#_12","text":"vm_ami_id \u3068\u3044\u3046\u5909\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u306a\u3089\u4ee5\u4e0b\u3002 ami = var.vm_ami_id","title":"\u5909\u6570\u53c2\u7167"},{"location":"Misc/terraform/#_13","text":"\u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb\u306e\u4e2d\u3067\u53c2\u7167\u3059\u308b\u5834\u5408\u306f\u300c\u88dc\u5b8c\u300d\u3067\u66f8\u5f0f\u306f\u4ee5\u4e0b\u3002 tags = { Name = \"${var.name_prefix}-server\" }","title":"\u88dc\u5b8c"},{"location":"Misc/terraform/#_14","text":"","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"},{"location":"Misc/terraform/#_15","text":"%{...} \u3068\u3044\u3046\u6587\u5b57\u3092\u305d\u306e\u307e\u307e\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f %%{...} curl -k https://localhost:6443 -w '%%{http_code}\\n' -sS -o /dev/null 2>/dev/null","title":"\u30a8\u30b9\u30b1\u30fc\u30d7"},{"location":"Misc/terraform/#_16","text":"","title":"\u95a2\u6570"},{"location":"Misc/terraform/#file","text":"file - Functions - Configuration Language | Terraform | HashiCorp Developer \u5f15\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u3092\u53d6\u308a\u8fbc\u3080\u3002 EC2\u306e\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf/Cloud-init\u306e\u30d5\u30a1\u30a4\u30eb\u3084\u3001\u30dd\u30ea\u30b7\u30fc\u306eJSON\u7b49\u3092\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u7fa9\u3067\u304d\u308b\u3002 resource \"aws_instance\" \"dev-vm\" { ami = ... instance_type = \"t2.medium\" key_name = aws_key_pair.key.id subnet_id = aws_subnet.subnet.id vpc_security_group_ids = [ aws_security_group.sg.id ] associate_public_ip_address = true user_data = file ( \"${path.module}/cloud-config.yaml\" ) ... } #cloud-config chpasswd : { expire : false } ssh_pwauth : true packages : - python3.12","title":"file"},{"location":"Misc/terraform/#templatefile","text":"file() \u306f\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u3092\u56fa\u5b9a\u5024\u3068\u3057\u3066\u8aad\u307f\u8fbc\u3080\u306e\u307f\u3060\u304c\u3001 templatefile() \u306a\u3089\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066\u5909\u6570\u3092\u5c55\u958b\u3059\u308b\u3002 user_data = templatefile ( \"${path.module}/user-data.sh\" , { git_username = var.git_username git_password = var.git_password }) user-data.sh #!/bin/bash -ex git clone https:// ${ git_username } : ${ git_password } @git.example.org/repos/apps /root/apps","title":"templatefile"},{"location":"Misc/terraform/#resource","text":"","title":"resource"},{"location":"Misc/terraform/#_17","text":"VPC\u306e\u30d1\u30e9\u30e1\u30bf\u306e default_route_table_id \u3092\u53c2\u7167\u3059\u308b\u3002 route_table_ids = [ aws_vpc.my_vpc.default_route_table_id ]","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb"},{"location":"Misc/terraform/#docs","text":"terraform-docs Terraform\u30b3\u30fc\u30c9\u304b\u3089\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u751f\u6210\u3059\u308b\u30c4\u30fc\u30eb\u3002 CLI\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u304c\u30b3\u30f3\u30c6\u30ca\u5b9f\u884c\u3067\u3082\u751f\u6210\u3067\u304d\u308b\u3002 Podman\u3067\u3042\u308c\u3070\u3001Terraform\u30b3\u30fc\u30c9\u306e\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u4ee5\u4e0b\u3092\u5b9f\u884c\u3059\u308c\u3070 README.md \u304c\u751f\u6210\u3055\u308c\u308b\u3002 podman run --rm -v \"$(pwd):/terraform-docs\" quay.io/terraform-docs/terraform-docs:0.18.0 markdown /terraform-docs --output-file README.md","title":"docs"},{"location":"Misc/vault/","text":"HashiCorp Vault \u8a8d\u8a3c \u30ed\u30b0\u30a4\u30f3 vault login [\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3] \u30ed\u30b0\u30a4\u30f3\u4e2d\u306etoken\u60c5\u306e\u5831\u7b49 vault token lookup \u30c8\u30fc\u30af\u30f3\u3092\u7701\u7565\u3059\u308c\u3070\u5bfe\u8a71\u7684\u306b\u805e\u3044\u3066\u304f\u308b \u521d\u671f\u51e6\u7406 init vault operator init Unseal Key\u3068Root Token\u304c\u51fa\u529b\u3055\u308c\u308b\u306e\u3067\u30e1\u30e2\u3057\u3066\u304a\u304f unseal vault operator unseal Unseal key\u306e\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u308b\u306e\u3067 init \u5b9f\u884c\u6642\u306b\u51fa\u529b\u3055\u308c\u305f\u30ad\u30fc\u3092\u5165\u529b\u3059\u308b\u3002 Sealed true \u304c Sealed false \u306b\u306a\u308b\u307e\u3067\u7e70\u308a\u8fd4\u3059\u3002 secret engine secret\u4e00\u89a7 vault secrets list secret engine\u306e\u6709\u52b9\u5316 \u30c7\u30fc\u30bf\u4fdd\u6301\u7528\u306e\u5165\u308c\u7269\u3092\u4f5c\u308b\u30a4\u30e1\u30fc\u30b8\u3002 KV\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a8\u30f3\u30b8\u30f3\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 vault secrets enable -path=my-secret kv \u3053\u308c\u3067 my-secret \u3068\u3044\u3046\u30d1\u30b9\u306bKV\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a8\u30f3\u30b8\u30f3\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002 KV secret engine \u30ad\u30fc\u4e00\u89a7 vault kv list <secret-engine-name> \u30c7\u30fc\u30bf\u4fdd\u5b58 \u30c7\u30fc\u30bf\u306fkey-value\u5f62\u5f0f\u3002\u3084\u3084\u3053\u3057\u3044\u3051\u3069\u3002 vault kv put -mount=<secret-engine-name> <key-name> key1=value1 key2=value2 ... \u3053\u308c\u3082\u4e00\u7dd2 vault kv put <secret-engine-name>/<key-name> key1=value1 key2=value2 ... \u7e70\u308a\u8fd4\u3057\u5b9f\u884c\u3059\u308c\u3070version\u66f4\u65b0\u3055\u308c\u308b\u3002 \u30c7\u30fc\u30bf\u53c2\u7167 vault kv get -mount=<secret-engine-name> <key-name> \u3053\u308c\u3082\u4e00\u7dd2 vault kv get <secret-engine-name>/<key-name> REST\u3067\u3042\u308c\u3070 curl -H \"X-Vault-Token: ${token}\" http://server:port/v1/<secret-engine-name>/data/<key-name> curl -H \"X-Vault-Token: ${token}\" http://192.168.0.75:8200/v1/kv/data/zzz?version=1 \u3068\u304b\u3002 KV - Secrets Engines - HTTP API | Vault | HashiCorp Developer hvac Hashicorp Vault\u7528Python\u30e9\u30a4\u30d6\u30e9\u30ea hvac documentation hvac/hvac: :lock: Python 3.X client for HashiCorp Vault \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf \u8a3c\u660e\u66f8\u691c\u8a3c\u30aa\u30d5\u306f verify=False \u3092\u52a0\u3048\u308c\u3070OK import urllib3 import os import hvac urllib3 . disable_warnings() client = hvac . Client( url = 'https://vault.example.org' , token = os . environ[ 'VAULT_TOKEN' ], verify = False )","title":"HashiCorp Vault"},{"location":"Misc/vault/#hashicorp-vault","text":"","title":"HashiCorp Vault"},{"location":"Misc/vault/#_1","text":"","title":"\u8a8d\u8a3c"},{"location":"Misc/vault/#_2","text":"vault login [\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3]","title":"\u30ed\u30b0\u30a4\u30f3"},{"location":"Misc/vault/#token","text":"vault token lookup \u30c8\u30fc\u30af\u30f3\u3092\u7701\u7565\u3059\u308c\u3070\u5bfe\u8a71\u7684\u306b\u805e\u3044\u3066\u304f\u308b","title":"\u30ed\u30b0\u30a4\u30f3\u4e2d\u306etoken\u60c5\u306e\u5831\u7b49"},{"location":"Misc/vault/#_3","text":"","title":"\u521d\u671f\u51e6\u7406"},{"location":"Misc/vault/#init","text":"vault operator init Unseal Key\u3068Root Token\u304c\u51fa\u529b\u3055\u308c\u308b\u306e\u3067\u30e1\u30e2\u3057\u3066\u304a\u304f","title":"init"},{"location":"Misc/vault/#unseal","text":"vault operator unseal Unseal key\u306e\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u308b\u306e\u3067 init \u5b9f\u884c\u6642\u306b\u51fa\u529b\u3055\u308c\u305f\u30ad\u30fc\u3092\u5165\u529b\u3059\u308b\u3002 Sealed true \u304c Sealed false \u306b\u306a\u308b\u307e\u3067\u7e70\u308a\u8fd4\u3059\u3002","title":"unseal"},{"location":"Misc/vault/#secret-engine","text":"","title":"secret engine"},{"location":"Misc/vault/#secret","text":"vault secrets list","title":"secret\u4e00\u89a7"},{"location":"Misc/vault/#secret-engine_1","text":"\u30c7\u30fc\u30bf\u4fdd\u6301\u7528\u306e\u5165\u308c\u7269\u3092\u4f5c\u308b\u30a4\u30e1\u30fc\u30b8\u3002 KV\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a8\u30f3\u30b8\u30f3\u3067\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u901a\u308a\u3002 vault secrets enable -path=my-secret kv \u3053\u308c\u3067 my-secret \u3068\u3044\u3046\u30d1\u30b9\u306bKV\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a8\u30f3\u30b8\u30f3\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002","title":"secret engine\u306e\u6709\u52b9\u5316"},{"location":"Misc/vault/#kv-secret-engine","text":"","title":"KV secret engine"},{"location":"Misc/vault/#_4","text":"vault kv list <secret-engine-name>","title":"\u30ad\u30fc\u4e00\u89a7"},{"location":"Misc/vault/#_5","text":"\u30c7\u30fc\u30bf\u306fkey-value\u5f62\u5f0f\u3002\u3084\u3084\u3053\u3057\u3044\u3051\u3069\u3002 vault kv put -mount=<secret-engine-name> <key-name> key1=value1 key2=value2 ... \u3053\u308c\u3082\u4e00\u7dd2 vault kv put <secret-engine-name>/<key-name> key1=value1 key2=value2 ... \u7e70\u308a\u8fd4\u3057\u5b9f\u884c\u3059\u308c\u3070version\u66f4\u65b0\u3055\u308c\u308b\u3002","title":"\u30c7\u30fc\u30bf\u4fdd\u5b58"},{"location":"Misc/vault/#_6","text":"vault kv get -mount=<secret-engine-name> <key-name> \u3053\u308c\u3082\u4e00\u7dd2 vault kv get <secret-engine-name>/<key-name> REST\u3067\u3042\u308c\u3070 curl -H \"X-Vault-Token: ${token}\" http://server:port/v1/<secret-engine-name>/data/<key-name> curl -H \"X-Vault-Token: ${token}\" http://192.168.0.75:8200/v1/kv/data/zzz?version=1 \u3068\u304b\u3002 KV - Secrets Engines - HTTP API | Vault | HashiCorp Developer","title":"\u30c7\u30fc\u30bf\u53c2\u7167"},{"location":"Misc/vault/#hvac","text":"Hashicorp Vault\u7528Python\u30e9\u30a4\u30d6\u30e9\u30ea hvac documentation hvac/hvac: :lock: Python 3.X client for HashiCorp Vault","title":"hvac"},{"location":"Misc/vault/#_7","text":"\u8a3c\u660e\u66f8\u691c\u8a3c\u30aa\u30d5\u306f verify=False \u3092\u52a0\u3048\u308c\u3070OK import urllib3 import os import hvac urllib3 . disable_warnings() client = hvac . Client( url = 'https://vault.example.org' , token = os . environ[ 'VAULT_TOKEN' ], verify = False )","title":"\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf"},{"location":"Misc/vi/","text":"vi \u30ad\u30fc\u30d0\u30a4\u30f3\u30c9 \u30ad\u30fc \u52d5\u4f5c :e \u30d5\u30a1\u30a4\u30eb\u540d \u30d5\u30a1\u30a4\u30eb\u30aa\u30fc\u30d7\u30f3 :%d \u5168\u6d88\u3057 :noh \u691c\u7d22\u30cf\u30a4\u30e9\u30a4\u30c8\u306e\u89e3\u9664 D \u30ab\u30fc\u30bd\u30eb\u4f4d\u7f6e\u304b\u3089\u884c\u672b\u307e\u3067\u524a\u9664 dG \u30ab\u30fc\u30bd\u30eb\u884c\u304b\u3089\u6700\u7d42\u884c\u307e\u3067\u524a\u9664 ctrl-v \u3067\u9078\u629e\u958b\u59cb -> j / k \u3067\u9078\u629e\u884c\u6307\u5b9a -> shift-i \u9078\u629e\u884c\u5168\u3066\u3067\u633f\u5165\u30e2\u30fc\u30c9 \u77e9\u5f62\u9078\u629e d$ \u884c\u672b\u307e\u3067\u30ab\u30c3\u30c8 p \u30da\u30fc\u30b9\u30c8","title":"vi"},{"location":"Misc/vi/#vi","text":"","title":"vi"},{"location":"Misc/vi/#_1","text":"\u30ad\u30fc \u52d5\u4f5c :e \u30d5\u30a1\u30a4\u30eb\u540d \u30d5\u30a1\u30a4\u30eb\u30aa\u30fc\u30d7\u30f3 :%d \u5168\u6d88\u3057 :noh \u691c\u7d22\u30cf\u30a4\u30e9\u30a4\u30c8\u306e\u89e3\u9664 D \u30ab\u30fc\u30bd\u30eb\u4f4d\u7f6e\u304b\u3089\u884c\u672b\u307e\u3067\u524a\u9664 dG \u30ab\u30fc\u30bd\u30eb\u884c\u304b\u3089\u6700\u7d42\u884c\u307e\u3067\u524a\u9664 ctrl-v \u3067\u9078\u629e\u958b\u59cb -> j / k \u3067\u9078\u629e\u884c\u6307\u5b9a -> shift-i \u9078\u629e\u884c\u5168\u3066\u3067\u633f\u5165\u30e2\u30fc\u30c9 \u77e9\u5f62\u9078\u629e d$ \u884c\u672b\u307e\u3067\u30ab\u30c3\u30c8 p \u30da\u30fc\u30b9\u30c8","title":"\u30ad\u30fc\u30d0\u30a4\u30f3\u30c9"},{"location":"Misc/vscode/","text":"VS Code \u30b3\u30de\u30f3\u30c9 Ctrl + Shift + p \u3067\u30b3\u30de\u30f3\u30c9\u30d1\u30ec\u30c3\u30c8\u3092\u8d77\u52d5 \u30b3\u30de\u30f3\u30c9 \u6a5f\u80fd Developer: Reload Windows \u30a6\u30a4\u30f3\u30c9\u30a6\u306e\u518d\u8d77\u52d5(\u62e1\u5f35\u7b49\u306e\u518d\u8aad\u307f\u8fbc\u307f\u542b\u3080) \u62e1\u5f35 Markdown\u7cfb Markdown PDF - Visual Studio Marketplace markdownlint - Visual Studio Marketplace Text Tables - Visual Studio Marketplace Paste Image - Visual Studio Marketplace Markdown\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066\u3044\u308b\u72b6\u614b\u3067\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306e\u753b\u50cf\u3068\u304b\u3092 Ctrl-Alt-V \u3067\u30da\u30fc\u30b9\u30c8\u3059\u308b\u3053\u3068\u3067\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306b\u30d5\u30a1\u30a4\u30eb\u751f\u6210 & \u753b\u50cf\u8868\u793a\u306e\u30bf\u30b0\u304c\u633f\u5165\u3055\u308c\u308b \u8a2d\u5b9a\u7cfb Modelines - Visual Studio Marketplace \u30bd\u30fc\u30b9\u306e\u5148\u982d\u90e8\u5206\u306b # -*- mode: hogehoeg -*- \u3063\u3066\u66f8\u3044\u305f\u5185\u5bb9\u304c\u6709\u52b9\u306b\u306a\u308b \u88dc\u52a9 Bracket Pair Colorizer 2 - Visual Studio Marketplace \u62ec\u5f27\u306e\u958b\u59cb\u7d42\u4e86\u9593\u306e\u88dc\u52a9\u7dda\u8868\u793a indent-rainbow - Visual Studio Marketplace \u30a4\u30f3\u30c7\u30f3\u30c8\u30ec\u30d9\u30eb\u6bce\u306b\u30b9\u30da\u30fc\u30b9\u90e8\u5206\u3092\u30cf\u30a4\u30e9\u30a4\u30c8 TODO Highlight - Visual Studio Marketplace \u30d5\u30a1\u30a4\u30eb\u4e2d\u30c6\u30ad\u30b9\u30c8\u306e TODO: \u3068\u304b FIXME: \u3092\u30cf\u30a4\u30e9\u30a4\u30c8\u3057\u3066\u304f\u308c\u308b \u30c6\u30fc\u30de\u7cfb GitHub Theme - Visual Studio Marketplace Material Icon Theme - Visual Studio Marketplace \u8a2d\u5b9a \u81ea\u52d5\u540c\u671f\u8a2d\u5b9a\u3057\u3066\u308b\u304b\u3089\u500b\u5225\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306a\u304f\u306a\u3063\u305f\u2026\u3051\u3069\u3001\u30af\u30ed\u30fc\u30ba\u30c9\u306aPC\u306e\u8a2d\u5b9a\u7528\u306b\u3002 item value description files.autoSave afterDelay \u81ea\u52d5\u4fdd\u5b58 files.autoGuessEncoding true \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u3068\u304d\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u3092\u81ea\u52d5\u5224\u5225 editor.mouseWheelZoom true Ctrl+wheel\u3067\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u5909\u66f4 editor.renderWhitespace all \u30b9\u30da\u30fc\u30b9\u3084tab\u306e\u53ef\u8996\u5316 files.insertFinalNewline true \u30d5\u30a1\u30a4\u30eb\u672b\u5c3e\u306b\u6539\u884c\u3092\u4ed8\u3051\u308b \"files.insertFinalNewline\" : true , \"files.autoGuessEncoding\" : true , \"editor.renderControlCharacters\" : true , \"editor.renderWhitespace\" : \"all\" , \"files.autoSave\" : \"afterDelay\" , \"editor.suggestSelection\" : \"first\" , \"editor.wordSeparators\" : \"`~!@#$%^&*()-=+[{]}\\\\|;:'\\\",.<>/?\u3001\u3002\u3000\u300c\u300d\u300e\u300f\u3010\u3011\uff08\uff09\" , \"vsintellicode.modify.editor.suggestSelection\" : \"automaticallyOverrodeDefaultValue\" , \"window.zoomLevel\" : 0 , \"editor.mouseWheelZoom\" : true , \"terminal.integrated.scrollback\" : 100000 , \"markdownlint.config\" : { \"MD025\" : false , // \u898b\u51fa\u3057level1\u306f\u6587\u66f8\u4e2d\u306b\u4e00\u3064:off \"MD007\" : { \"indent\" : 4 }, // \u30ea\u30b9\u30c8\u306e\u30a4\u30f3\u30c7\u30f3\u30c8\u91cf \"MD040\" : false , // \u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u8a00\u8a9e\u6307\u5b9a }, \"files.watcherExclude\" : { \"**/venv*/**\" : true , \"**/env*/**\" : true , }, \u30bf\u30fc\u30df\u30ca\u30eb\u306e\u30b7\u30a7\u30eb\u3092cygwin\u306ezsh\u306b\u3059\u308b chere \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u308c\u3066\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u3002 \"terminal.integrated.shell.windows\" : \"C:\\\\cygwin64\\\\bin\\\\bash.exe\" , \"terminal.integrated.shellArgs.windows\" : [ \"/bin/xhere\" , \"/bin/zsh\" ], \u30bf\u30fc\u30df\u30ca\u30eb\u3092Git Bash\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u3059\u308b \"terminal.integrated.defaultProfile.windows\" : \"Git Bash\" , allowedUNCHosts CIFS\u4e0a\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3053\u3046\u3068\u3057\u305f\u3068\u304d\u306b\u30a8\u30e9\u30fc\u306b\u306a\u308b\u5834\u5408\u300cAllowed UNCHosts\u300d\u306b\u958b\u304d\u305f\u3044\u30b5\u30fc\u30d0\u30fc\u3092\u52a0\u3048\u3001VSCode\u3092\u518d\u8d77\u52d5\u3059\u308b\u3002 settings.json\u306b\u76f4\u63a5\u8a18\u8f09\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 \"security.allowedUNCHosts\" : [ \"file-server\" ], \u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8 \u203b windows\u524d\u63d0 \u30a8\u30c7\u30a3\u30bf \u64cd\u4f5c \u30ad\u30fc \u5206\u5272\u3057\u305f\u30a6\u30a4\u30f3\u30c9\u30a6\u3067\u30a6\u30a4\u30f3\u30c9\u30a6\u9593\u30ab\u30fc\u30bd\u30eb\u79fb\u52d5 Ctrl + k , Ctrl + \u79fb\u52d5\u5148\u753b\u9762\u306e\u65b9\u5411\u306e\u30ab\u30fc\u30bd\u30eb\u30ad\u30fc ( Ctrl + NUM \u306e\u65b9\u304c\u901f\u3044\u304b\u3082) \u8868\u793a\u4e2d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5225\u30a6\u30a4\u30f3\u30c9\u30a6\u3067\u958b\u304f Ctrl + k, o \u8868\u793a\u4e2d\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3057\u305f\u5225\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u3067\u958b\u304f Ctrl + Alt + \u5de6\u53f3\u30ad\u30fc \u3067\u96a3\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u306b\u79fb\u52d5 \u8868\u793a\u4e2d\u30d5\u30a1\u30a4\u30eb\u3092\u5de6\u53f3\u4e21\u65b9\u3067\u5206\u5272\u30aa\u30fc\u30d7\u30f3 Ctrl + K, Ctrl + Shift + \\ (\u30c8\u30b0\u30eb\u306a\u306e\u3067\u518d\u5b9f\u884c\u3067\u89e3\u9664) \u958b\u3044\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7 Ctrl + k, Ctrl + p \u5168\u3066\u306e\u30a8\u30c7\u30a3\u30bf\u3092\u9589\u3058\u308b Ctrl + k, w (\u672a\u4fdd\u5b58\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u3068\u4fdd\u7559) \u5168\u3066\u306e\u4fdd\u5b58\u6e08\u307f\u30a8\u30c7\u30a3\u30bf\u3092\u9589\u3058\u308b Ctrl + k, u \u30de\u30eb\u30c1\u30ab\u30fc\u30bd\u30eb \u64cd\u4f5c \u30ad\u30fc \u30ab\u30fc\u30bd\u30eb\u4e0a\u4e0b\u79fb\u52d5\u3068\u540c\u6642\u306b\u8d77\u70b9\u8ffd\u52a0 Ctrl + Alt + \u2191/\u2193 \u4efb\u610f\u306e\u4f4d\u7f6e\u3078\u8d77\u70b9\u8ffd\u52a0 Alt + \u30de\u30a6\u30b9\u30af\u30ea\u30c3\u30af \u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9 \u64cd\u4f5c \u30ad\u30fc \u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u3067\u958b\u304f Shift + Alt + R \u30bf\u30fc\u30df\u30ca\u30eb\u64cd\u4f5c \u64cd\u4f5c \u30ad\u30fc \u30bf\u30fc\u30df\u30ca\u30eb\u306e\u8868\u793a/\u975e\u8868\u793a Ctrl + @ \u30bf\u30fc\u30df\u30ca\u30eb\u3092\u958b\u3044\u305f\u307e\u307e\u30a8\u30c7\u30a3\u30bf\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u79fb\u52d5 Ctrl + 1 (\u6b63\u78ba\u306b\u306f\u30a8\u30c7\u30a3\u30bf\u30b0\u30eb\u30fc\u30d71\u306b\u79fb\u52d5) \u65b0\u3057\u3044\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u4f5c\u6210 Ctrl + Shift + @ \u5de6\u53f32\u5206\u5272\u3057\u305f\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u5de6\u53f3\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u884c\u304d\u6765\u3059\u308b Alt + \u2190 or Alt + \u2192 \u30bf\u30fc\u30df\u30ca\u30eb\u30da\u30a4\u30f3\u306e\u6700\u5927\u5316 \u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u7121\u3057 / \u30b3\u30de\u30f3\u30c9\u30d1\u30ec\u30c3\u30c8\u3067 View: Toggle Maxmized Panel \u30ad\u30fc\u30d0\u30a4\u30f3\u30c9\u8a2d\u5b9a \u30bf\u30fc\u30df\u30ca\u30eb\u306e\u30ad\u30fc\u30d0\u30a4\u30f3\u30c9 // \u65e2\u5b9a\u5024\u3092\u4e0a\u66f8\u304d\u3059\u308b\u306b\u306f\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u30ad\u30fc \u30d0\u30a4\u30f3\u30c9\u3092\u633f\u5165\u3057\u307e\u3059 [ { \"key\" : \"ctrl+a\" , \"command\" : \"cursorHome\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+e\" , \"command\" : \"cursorEnd\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+p\" , \"command\" : \"cursorUp\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+n\" , \"command\" : \"cursorDown\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+f\" , \"command\" : \"cursorRight\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+b\" , \"command\" : \"cursorLeft\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+alt+right\" , \"command\" : \"workbench.action.terminal.focusNext\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+alt+left\" , \"command\" : \"workbench.action.terminal.focusPrevious\" , \"when\" : \"terminalFocus\" }, ] terminal\u3067Ctrl-k\u304c\u6b21\u30b3\u30de\u30f3\u30c9\u5f85\u3061\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u5834\u5408\u306f\u4ee5\u4e0b\u3082\u8ffd\u52a0 { \"key\" : \"ctrl+k\" , \"command\" : \"deleteAllRight\" , \"when\" : \"terminalFocus\" } diff \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3 $ code -d <file1> <file2> \u30a2\u30af\u30c6\u30a3\u30d6\u306a\u30d5\u30a1\u30a4\u30eb\u3068open\u6e08\u307f\u30d5\u30a1\u30a4\u30eb \u30b3\u30de\u30f3\u30c9\u30d1\u30ec\u30c3\u30c8\u3067 File: Compare Active File with... \u3092\u9078\u629e\u3057\u3001\u6bd4\u8f03\u5bfe\u8c61\u3092\u9078\u629e\u3059\u308b\u3002 Remote SSH git clone\u306e\u8a8d\u8a3c \u901a\u5e38\u3060\u3068\u8a8d\u8a3c\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a\u3055\u308c\u308b\u64cd\u4f5c\u3067\u3053\u306e\u3088\u3046\u306b\u306a\u308b\u5834\u5408\u3001 Missing or invalid credentials. Error: connect ECONNREFUSED /run/user/1000/vscode-git-fce9cdb56d.sock at PipeConnectWrap.afterConnect [as oncomplete] (net.js:1146:16) { errno: -111, code: 'ECONNREFUSED', syscall: 'connect', address: '/run/user/1000/vscode-git-fce9cdb56d.sock' } Missing or invalid credentials. \u30a2\u30af\u30bb\u30b9\u3057\u3066\u308b\u30ea\u30e2\u30fc\u30c8\u74b0\u5883\u3078\u3001 GitLens \u3092\u5165\u308c\u3066Reload Window\u3059\u308c\u3070VS Code\u306e\u753b\u9762\u3067\u8a8d\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a\u3055\u308c\u3066\u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\u3067\u304d\u305f\u3002 Remote Container ubuntu / focal \u8d77\u52d5\u5f8c\u306e\u74b0\u5883 git \u521d\u3081\u304b\u3089\u3042\u308b\u306e\u3067 git clone \u306f\u3059\u3050\u3067\u304d\u308b\u3002 \u9375\u8a2d\u5b9a \u4f5c\u308b\u304b\u6301\u3063\u3066\u304f\u308b\u3002 ~/.ssh/config \u3082\u8a2d\u5b9a\u3002","title":"VS Code"},{"location":"Misc/vscode/#vs-code","text":"","title":"VS Code"},{"location":"Misc/vscode/#_1","text":"Ctrl + Shift + p \u3067\u30b3\u30de\u30f3\u30c9\u30d1\u30ec\u30c3\u30c8\u3092\u8d77\u52d5 \u30b3\u30de\u30f3\u30c9 \u6a5f\u80fd Developer: Reload Windows \u30a6\u30a4\u30f3\u30c9\u30a6\u306e\u518d\u8d77\u52d5(\u62e1\u5f35\u7b49\u306e\u518d\u8aad\u307f\u8fbc\u307f\u542b\u3080)","title":"\u30b3\u30de\u30f3\u30c9"},{"location":"Misc/vscode/#_2","text":"Markdown\u7cfb Markdown PDF - Visual Studio Marketplace markdownlint - Visual Studio Marketplace Text Tables - Visual Studio Marketplace Paste Image - Visual Studio Marketplace Markdown\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066\u3044\u308b\u72b6\u614b\u3067\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306e\u753b\u50cf\u3068\u304b\u3092 Ctrl-Alt-V \u3067\u30da\u30fc\u30b9\u30c8\u3059\u308b\u3053\u3068\u3067\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306b\u30d5\u30a1\u30a4\u30eb\u751f\u6210 & \u753b\u50cf\u8868\u793a\u306e\u30bf\u30b0\u304c\u633f\u5165\u3055\u308c\u308b \u8a2d\u5b9a\u7cfb Modelines - Visual Studio Marketplace \u30bd\u30fc\u30b9\u306e\u5148\u982d\u90e8\u5206\u306b # -*- mode: hogehoeg -*- \u3063\u3066\u66f8\u3044\u305f\u5185\u5bb9\u304c\u6709\u52b9\u306b\u306a\u308b \u88dc\u52a9 Bracket Pair Colorizer 2 - Visual Studio Marketplace \u62ec\u5f27\u306e\u958b\u59cb\u7d42\u4e86\u9593\u306e\u88dc\u52a9\u7dda\u8868\u793a indent-rainbow - Visual Studio Marketplace \u30a4\u30f3\u30c7\u30f3\u30c8\u30ec\u30d9\u30eb\u6bce\u306b\u30b9\u30da\u30fc\u30b9\u90e8\u5206\u3092\u30cf\u30a4\u30e9\u30a4\u30c8 TODO Highlight - Visual Studio Marketplace \u30d5\u30a1\u30a4\u30eb\u4e2d\u30c6\u30ad\u30b9\u30c8\u306e TODO: \u3068\u304b FIXME: \u3092\u30cf\u30a4\u30e9\u30a4\u30c8\u3057\u3066\u304f\u308c\u308b \u30c6\u30fc\u30de\u7cfb GitHub Theme - Visual Studio Marketplace Material Icon Theme - Visual Studio Marketplace","title":"\u62e1\u5f35"},{"location":"Misc/vscode/#_3","text":"\u81ea\u52d5\u540c\u671f\u8a2d\u5b9a\u3057\u3066\u308b\u304b\u3089\u500b\u5225\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306a\u304f\u306a\u3063\u305f\u2026\u3051\u3069\u3001\u30af\u30ed\u30fc\u30ba\u30c9\u306aPC\u306e\u8a2d\u5b9a\u7528\u306b\u3002 item value description files.autoSave afterDelay \u81ea\u52d5\u4fdd\u5b58 files.autoGuessEncoding true \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u3068\u304d\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u3092\u81ea\u52d5\u5224\u5225 editor.mouseWheelZoom true Ctrl+wheel\u3067\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u5909\u66f4 editor.renderWhitespace all \u30b9\u30da\u30fc\u30b9\u3084tab\u306e\u53ef\u8996\u5316 files.insertFinalNewline true \u30d5\u30a1\u30a4\u30eb\u672b\u5c3e\u306b\u6539\u884c\u3092\u4ed8\u3051\u308b \"files.insertFinalNewline\" : true , \"files.autoGuessEncoding\" : true , \"editor.renderControlCharacters\" : true , \"editor.renderWhitespace\" : \"all\" , \"files.autoSave\" : \"afterDelay\" , \"editor.suggestSelection\" : \"first\" , \"editor.wordSeparators\" : \"`~!@#$%^&*()-=+[{]}\\\\|;:'\\\",.<>/?\u3001\u3002\u3000\u300c\u300d\u300e\u300f\u3010\u3011\uff08\uff09\" , \"vsintellicode.modify.editor.suggestSelection\" : \"automaticallyOverrodeDefaultValue\" , \"window.zoomLevel\" : 0 , \"editor.mouseWheelZoom\" : true , \"terminal.integrated.scrollback\" : 100000 , \"markdownlint.config\" : { \"MD025\" : false , // \u898b\u51fa\u3057level1\u306f\u6587\u66f8\u4e2d\u306b\u4e00\u3064:off \"MD007\" : { \"indent\" : 4 }, // \u30ea\u30b9\u30c8\u306e\u30a4\u30f3\u30c7\u30f3\u30c8\u91cf \"MD040\" : false , // \u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u8a00\u8a9e\u6307\u5b9a }, \"files.watcherExclude\" : { \"**/venv*/**\" : true , \"**/env*/**\" : true , },","title":"\u8a2d\u5b9a"},{"location":"Misc/vscode/#cygwinzsh","text":"chere \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u308c\u3066\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u3002 \"terminal.integrated.shell.windows\" : \"C:\\\\cygwin64\\\\bin\\\\bash.exe\" , \"terminal.integrated.shellArgs.windows\" : [ \"/bin/xhere\" , \"/bin/zsh\" ],","title":"\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u30b7\u30a7\u30eb\u3092cygwin\u306ezsh\u306b\u3059\u308b"},{"location":"Misc/vscode/#git-bash","text":"\"terminal.integrated.defaultProfile.windows\" : \"Git Bash\" ,","title":"\u30bf\u30fc\u30df\u30ca\u30eb\u3092Git Bash\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u3059\u308b"},{"location":"Misc/vscode/#allowedunchosts","text":"CIFS\u4e0a\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3053\u3046\u3068\u3057\u305f\u3068\u304d\u306b\u30a8\u30e9\u30fc\u306b\u306a\u308b\u5834\u5408\u300cAllowed UNCHosts\u300d\u306b\u958b\u304d\u305f\u3044\u30b5\u30fc\u30d0\u30fc\u3092\u52a0\u3048\u3001VSCode\u3092\u518d\u8d77\u52d5\u3059\u308b\u3002 settings.json\u306b\u76f4\u63a5\u8a18\u8f09\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 \"security.allowedUNCHosts\" : [ \"file-server\" ],","title":"allowedUNCHosts"},{"location":"Misc/vscode/#_4","text":"\u203b windows\u524d\u63d0","title":"\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8"},{"location":"Misc/vscode/#_5","text":"\u64cd\u4f5c \u30ad\u30fc \u5206\u5272\u3057\u305f\u30a6\u30a4\u30f3\u30c9\u30a6\u3067\u30a6\u30a4\u30f3\u30c9\u30a6\u9593\u30ab\u30fc\u30bd\u30eb\u79fb\u52d5 Ctrl + k , Ctrl + \u79fb\u52d5\u5148\u753b\u9762\u306e\u65b9\u5411\u306e\u30ab\u30fc\u30bd\u30eb\u30ad\u30fc ( Ctrl + NUM \u306e\u65b9\u304c\u901f\u3044\u304b\u3082) \u8868\u793a\u4e2d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5225\u30a6\u30a4\u30f3\u30c9\u30a6\u3067\u958b\u304f Ctrl + k, o \u8868\u793a\u4e2d\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3057\u305f\u5225\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u3067\u958b\u304f Ctrl + Alt + \u5de6\u53f3\u30ad\u30fc \u3067\u96a3\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u306b\u79fb\u52d5 \u8868\u793a\u4e2d\u30d5\u30a1\u30a4\u30eb\u3092\u5de6\u53f3\u4e21\u65b9\u3067\u5206\u5272\u30aa\u30fc\u30d7\u30f3 Ctrl + K, Ctrl + Shift + \\ (\u30c8\u30b0\u30eb\u306a\u306e\u3067\u518d\u5b9f\u884c\u3067\u89e3\u9664) \u958b\u3044\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7 Ctrl + k, Ctrl + p \u5168\u3066\u306e\u30a8\u30c7\u30a3\u30bf\u3092\u9589\u3058\u308b Ctrl + k, w (\u672a\u4fdd\u5b58\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u3068\u4fdd\u7559) \u5168\u3066\u306e\u4fdd\u5b58\u6e08\u307f\u30a8\u30c7\u30a3\u30bf\u3092\u9589\u3058\u308b Ctrl + k, u","title":"\u30a8\u30c7\u30a3\u30bf"},{"location":"Misc/vscode/#_6","text":"\u64cd\u4f5c \u30ad\u30fc \u30ab\u30fc\u30bd\u30eb\u4e0a\u4e0b\u79fb\u52d5\u3068\u540c\u6642\u306b\u8d77\u70b9\u8ffd\u52a0 Ctrl + Alt + \u2191/\u2193 \u4efb\u610f\u306e\u4f4d\u7f6e\u3078\u8d77\u70b9\u8ffd\u52a0 Alt + \u30de\u30a6\u30b9\u30af\u30ea\u30c3\u30af","title":"\u30de\u30eb\u30c1\u30ab\u30fc\u30bd\u30eb"},{"location":"Misc/vscode/#_7","text":"\u64cd\u4f5c \u30ad\u30fc \u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u3067\u958b\u304f Shift + Alt + R","title":"\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9"},{"location":"Misc/vscode/#_8","text":"\u64cd\u4f5c \u30ad\u30fc \u30bf\u30fc\u30df\u30ca\u30eb\u306e\u8868\u793a/\u975e\u8868\u793a Ctrl + @ \u30bf\u30fc\u30df\u30ca\u30eb\u3092\u958b\u3044\u305f\u307e\u307e\u30a8\u30c7\u30a3\u30bf\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u79fb\u52d5 Ctrl + 1 (\u6b63\u78ba\u306b\u306f\u30a8\u30c7\u30a3\u30bf\u30b0\u30eb\u30fc\u30d71\u306b\u79fb\u52d5) \u65b0\u3057\u3044\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u4f5c\u6210 Ctrl + Shift + @ \u5de6\u53f32\u5206\u5272\u3057\u305f\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u5de6\u53f3\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u884c\u304d\u6765\u3059\u308b Alt + \u2190 or Alt + \u2192 \u30bf\u30fc\u30df\u30ca\u30eb\u30da\u30a4\u30f3\u306e\u6700\u5927\u5316 \u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u7121\u3057 / \u30b3\u30de\u30f3\u30c9\u30d1\u30ec\u30c3\u30c8\u3067 View: Toggle Maxmized Panel","title":"\u30bf\u30fc\u30df\u30ca\u30eb\u64cd\u4f5c"},{"location":"Misc/vscode/#_9","text":"\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u30ad\u30fc\u30d0\u30a4\u30f3\u30c9 // \u65e2\u5b9a\u5024\u3092\u4e0a\u66f8\u304d\u3059\u308b\u306b\u306f\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u30ad\u30fc \u30d0\u30a4\u30f3\u30c9\u3092\u633f\u5165\u3057\u307e\u3059 [ { \"key\" : \"ctrl+a\" , \"command\" : \"cursorHome\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+e\" , \"command\" : \"cursorEnd\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+p\" , \"command\" : \"cursorUp\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+n\" , \"command\" : \"cursorDown\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+f\" , \"command\" : \"cursorRight\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+b\" , \"command\" : \"cursorLeft\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+alt+right\" , \"command\" : \"workbench.action.terminal.focusNext\" , \"when\" : \"terminalFocus\" }, { \"key\" : \"ctrl+alt+left\" , \"command\" : \"workbench.action.terminal.focusPrevious\" , \"when\" : \"terminalFocus\" }, ] terminal\u3067Ctrl-k\u304c\u6b21\u30b3\u30de\u30f3\u30c9\u5f85\u3061\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u5834\u5408\u306f\u4ee5\u4e0b\u3082\u8ffd\u52a0 { \"key\" : \"ctrl+k\" , \"command\" : \"deleteAllRight\" , \"when\" : \"terminalFocus\" }","title":"\u30ad\u30fc\u30d0\u30a4\u30f3\u30c9\u8a2d\u5b9a"},{"location":"Misc/vscode/#diff","text":"","title":"diff"},{"location":"Misc/vscode/#_10","text":"$ code -d <file1> <file2>","title":"\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3"},{"location":"Misc/vscode/#open","text":"\u30b3\u30de\u30f3\u30c9\u30d1\u30ec\u30c3\u30c8\u3067 File: Compare Active File with... \u3092\u9078\u629e\u3057\u3001\u6bd4\u8f03\u5bfe\u8c61\u3092\u9078\u629e\u3059\u308b\u3002","title":"\u30a2\u30af\u30c6\u30a3\u30d6\u306a\u30d5\u30a1\u30a4\u30eb\u3068open\u6e08\u307f\u30d5\u30a1\u30a4\u30eb"},{"location":"Misc/vscode/#remote-ssh","text":"","title":"Remote SSH"},{"location":"Misc/vscode/#git-clone","text":"\u901a\u5e38\u3060\u3068\u8a8d\u8a3c\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a\u3055\u308c\u308b\u64cd\u4f5c\u3067\u3053\u306e\u3088\u3046\u306b\u306a\u308b\u5834\u5408\u3001 Missing or invalid credentials. Error: connect ECONNREFUSED /run/user/1000/vscode-git-fce9cdb56d.sock at PipeConnectWrap.afterConnect [as oncomplete] (net.js:1146:16) { errno: -111, code: 'ECONNREFUSED', syscall: 'connect', address: '/run/user/1000/vscode-git-fce9cdb56d.sock' } Missing or invalid credentials. \u30a2\u30af\u30bb\u30b9\u3057\u3066\u308b\u30ea\u30e2\u30fc\u30c8\u74b0\u5883\u3078\u3001 GitLens \u3092\u5165\u308c\u3066Reload Window\u3059\u308c\u3070VS Code\u306e\u753b\u9762\u3067\u8a8d\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a\u3055\u308c\u3066\u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\u3067\u304d\u305f\u3002","title":"git clone\u306e\u8a8d\u8a3c"},{"location":"Misc/vscode/#remote-container","text":"","title":"Remote Container"},{"location":"Misc/vscode/#ubuntu-focal","text":"","title":"ubuntu / focal"},{"location":"Misc/vscode/#_11","text":"","title":"\u8d77\u52d5\u5f8c\u306e\u74b0\u5883"},{"location":"Misc/vscode/#git","text":"\u521d\u3081\u304b\u3089\u3042\u308b\u306e\u3067 git clone \u306f\u3059\u3050\u3067\u304d\u308b\u3002","title":"git"},{"location":"Misc/vscode/#_12","text":"\u4f5c\u308b\u304b\u6301\u3063\u3066\u304f\u308b\u3002 ~/.ssh/config \u3082\u8a2d\u5b9a\u3002","title":"\u9375\u8a2d\u5b9a"},{"location":"Misc/windows/","text":"Windows \u8a2d\u5b9a \u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7 %HOME%\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup \u3082\u3057\u304f\u306f shell:startup \u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002 \u30c7\u30a3\u30b9\u30d7\u30ec\u30a4 \u30e2\u30cb\u30bf\u30fc\u51fa\u529b\u6642\u306b\u4f59\u767d\u304c\u3067\u304d\u308b\u5834\u5408\u306e\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u306f\u300c\u30a4\u30f3\u30c6\u30eb \u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30b9\u30fb\u30b3\u30de\u30f3\u30c9\u30fb\u30bb\u30f3\u30bf\u30fc\u300d\u3092\u8d77\u52d5\u3057\u3001\u300c\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u300d\u30e1\u30cb\u30e5\u30fc\u306e\u300c\u30b9\u30b1\u30fc\u30eb\u300d\u3067\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u306e\u8a2d\u5b9a\u3092\u898b\u76f4\u3059\u3002 \u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u753b\u9762\u306e\u5468\u308a\u304c\u8868\u793a\u3055\u308c\u305a\u3001\u9ed2\u67a0\u304c\u3067\u304d\u308b | \u30a2\u30a4\u30fb\u30aa\u30fc\u30fb\u30c7\u30fc\u30bf\u6a5f\u5668 I-O DATA \u8a3c\u660e\u66f8\u7ba1\u7406 certmgr.msc \u3067\u8d77\u52d5\u3002 PrintScreen\u3067SnippingTool\u3092\u7121\u52b9 win11\u3067\u30c7\u30d5\u30a9\u30eb\u30c8SnippingTool\u304c\u8d77\u52d5\u3059\u308b\u306e\u3092\u6291\u6b62\u3059\u308b\u306b\u306f\u3001\u8a2d\u5b9a->\u30a2\u30af\u30bb\u30b7\u30d3\u30ea\u30c6\u30a3->\u30ad\u30fc\u30dc\u30fc\u30c9->\u300cPrintScreen\u30ad\u30fc\u3092\u4f7f\u7528\u3057\u3066\u753b\u9762\u30ad\u30e3\u30d7\u30c1\u30e3\u3092\u958b\u304f\u300d\u3092\u30aa\u30d5 (Win+Shift+S\u3067\u306f\u5f15\u304d\u7d9a\u304d\u8d77\u52d5\u3059\u308b) \u8a55\u4fa1\u7248 Windows10 \u5fc5\u8981\u4e8b\u9805\u3092\u5165\u529b\u3057\u3066\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fISO\u306f\u3001\u30e9\u30a4\u30bb\u30f3\u30b9\u30ad\u30fc\u5165\u529b\u304c\u306a\u304f90\u65e5\u691c\u8a3c\u306b\u4f7f\u7528\u3067\u304d\u308b\u3002 Microsoft Evaluation Center \u3067 Windows 10 Enterprise \u3092\u8a66\u3059 network \u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u78ba\u8a8d route print -4 \u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u30eb\u30fc\u30c8\u306e\u8ffd\u52a0 route add 192.168.0.0 mask 255.255.255.0 172.16.1.0 -p IPv6\u6709\u52b9/\u7121\u52b9 \u300c\u8a2d\u5b9a\u300d\u2192\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u300d\u2192\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u8a73\u7d30\u8a2d\u5b9a\u300d\u2192\u5bfe\u8c61\u306e\u30a2\u30c0\u30d7\u30bf\u3092\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u3057\u300c\u305d\u306e\u4ed6\u306e\u30a2\u30c0\u30d7\u30bf\u30fc\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u7de8\u96c6\u300d \u3053\u3053\u304b\u3089\u300c\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30d7\u30ed\u30c8\u30b3\u30eb\u30d0\u30fc\u30b8\u30e7\u30f3 6\u300d\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5909\u66f4\u3059\u308b\u3002 DHCP\u30a2\u30c9\u30ec\u30b9\u306e\u518d\u53d6\u5f97 /release \u3067\u89e3\u653e\u3057 /renew \u3067\u53d6\u5f97\u3059\u308b ipconfig /release ipconfig /renew disk diskpart \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u64cd\u4f5c \u8d77\u52d5 diskpart OEM\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u524a\u9664 \u300c\u30c7\u30a3\u30b9\u30af\u306e\u7ba1\u7406\u300d\u3067\u306f\u524a\u9664\u3067\u304d\u306a\u3044\u306e\u3067 diskpart \u3067\u524a\u9664\u3059\u308b list disk \u3067\u30c7\u30a3\u30b9\u30af\u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u3092\u78ba\u8a8d select disk * \u3067\u51e6\u7406\u5bfe\u8c61\u30c7\u30a3\u30b9\u30af\u3092\u9078\u629e list partition \u3067\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u4e00\u89a7\u3092\u78ba\u8a8d select partition * \u3067\u51e6\u7406\u5bfe\u8c61\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u9078\u629e delete partition override \u3067\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u524a\u9664 Microsoft DiskPart \u30d0\u30fc\u30b8\u30e7\u30f3 10.0.19041.964 Copyright (C) Microsoft Corporation. \u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc: DESKTOP-NV2IS83 DISKPART> list disk \u30c7\u30a3\u30b9\u30af \u72b6\u614b \u30b5\u30a4\u30ba \u7a7a\u304d \u30c0\u30a4\u30ca GPT ### \u30df\u30c3\u30af ------------ ------------- ------- ------- --- --- \u30c7\u30a3\u30b9\u30af 0 \u30aa\u30f3\u30e9\u30a4\u30f3 476 GB 1024 KB * \u30c7\u30a3\u30b9\u30af 1 \u30aa\u30f3\u30e9\u30a4\u30f3 28 GB 27 GB * DISKPART> select disk 1 \u30c7\u30a3\u30b9\u30af 1 \u304c\u9078\u629e\u3055\u308c\u307e\u3057\u305f\u3002 DISKPART> list partition Partition ### Type Size Offset ------------- ------------------ ------- ------- Partition 1 \u30d7\u30e9\u30a4\u30de\u30ea 224 KB 32 KB Partition 2 \u30b7\u30b9\u30c6\u30e0 2880 KB 256 KB Partition 3 OEM 1067 MB 3136 KB Partition 4 \u30d7\u30e9\u30a4\u30de\u30ea 300 KB 1070 MB \u52d5\u753b \u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u9332\u753b \u9332\u753b\u6642\u9593\u306e\u8a2d\u5b9a \u30b2\u30fc\u30e0\u30d0\u30fc\u306e\u9332\u753b\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u6700\u95772\u6642\u9593\u30022\u6642\u9593\u4ee5\u4e0a\u9332\u753b\u3059\u308b\u306b\u306f\u8a2d\u5b9a\u5909\u66f4\u304c\u5fc5\u8981\u3002 \u300cWindows\u306e\u8a2d\u5b9a\u300d->\u300c\u30b2\u30fc\u30e0\u300d->\u300c\u30ad\u30e3\u30d7\u30c1\u30e3\u300d\u3067\u3001\u300c\u8a18\u9332\u306e\u6700\u5927\u9577\u300d\u3092\u5909\u66f4\u3059\u308b\u3002 \u8a66\u3057\u3066\u306a\u3044\u3051\u3069\u6700\u95774\u6642\u9593\u304b\u306a\u3002 \u52d5\u753b\u306e\u7d50\u5408 AviUtl\u4f7f\u7528 1\u3064\u76ee\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u300c\u30d5\u30a1\u30a4\u30eb\u300d\u300c\u958b\u304f\u300d\u3067\u9078\u629e\u3002 2\u3064\u76ee\u4ee5\u964d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u9806\u306b\u300c\u30d5\u30a1\u30a4\u30eb\u300d\u300c\u8ffd\u52a0\u8aad\u307f\u8fbc\u307f\u300d \u6700\u5f8c\u306b\u300c\u30d5\u30a1\u30a4\u30eb\u300d\u300c\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u300d\u300cMP4 Export\u300d \u6e96\u5099\u3068\u3057\u3066mp4\u3092\u6271\u3046\u30d7\u30e9\u30b0\u30a4\u30f3(MP4Plugin)\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u304a\u304f\u3002 Terminal WindowsTerminal \u6307\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30ab\u30ec\u30f3\u30c8\u3067\u8d77\u52d5\u3059\u308b\u306b\u306f wt -d c:/path/to \u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u304b\u3089\u6307\u5b9a\u30d1\u30b9\u3067\u8d77\u52d5\u3059\u308b\u306b\u306f wt -d . \u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7 RDP\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u8d77\u52d5\u3067\u5168\u753b\u9762\u8868\u793a screen mode id:i: \u306e\u5024\u3092 2 \u306b\u3059\u308b\u3002(\u521d\u671f\u5024\u306f 1 \u306b\u306a\u3063\u3066\u308b\u306f\u305a) screen mode id:i:2 \u5168\u753b\u9762\u8868\u793a\u6642\u306b\u30ad\u30fc\u30dc\u30fc\u30c9\u64cd\u4f5c\u3092\u30ed\u30fc\u30ab\u30eb\u306b\u623b\u3059 \u4ee5\u4e0b\u3067\u63a5\u7d9a\u30d0\u30fc\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u79fb\u308b\u306e\u3067\u30ed\u30fc\u30ab\u30eb\u306e\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u304c\u64cd\u4f5c\u5bfe\u8c61\u306b\u306a\u308b\u3002\u3053\u308c\u3067Alt-Tab\u304c\u30ed\u30fc\u30ab\u30eb\u3067\u52b9\u304f\u3002 Ctrl + Alt + Home \u305f\u3060\u3057\u518d\u5ea6\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3057\u3066\u3082\u63a5\u7d9a\u30d0\u30fc\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u3042\u308b\u72b6\u614b\u306a\u306e\u3067\u3001\u30ea\u30e2\u30fc\u30c8\u306e\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306f\u30d5\u30a9\u30fc\u30ab\u30b9\u3055\u308c\u306a\u3044","title":"Windows"},{"location":"Misc/windows/#windows","text":"","title":"Windows"},{"location":"Misc/windows/#_1","text":"","title":"\u8a2d\u5b9a"},{"location":"Misc/windows/#_2","text":"%HOME%\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup \u3082\u3057\u304f\u306f shell:startup \u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3002","title":"\u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7"},{"location":"Misc/windows/#_3","text":"\u30e2\u30cb\u30bf\u30fc\u51fa\u529b\u6642\u306b\u4f59\u767d\u304c\u3067\u304d\u308b\u5834\u5408\u306e\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u306f\u300c\u30a4\u30f3\u30c6\u30eb \u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30b9\u30fb\u30b3\u30de\u30f3\u30c9\u30fb\u30bb\u30f3\u30bf\u30fc\u300d\u3092\u8d77\u52d5\u3057\u3001\u300c\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u300d\u30e1\u30cb\u30e5\u30fc\u306e\u300c\u30b9\u30b1\u30fc\u30eb\u300d\u3067\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u306e\u8a2d\u5b9a\u3092\u898b\u76f4\u3059\u3002 \u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u753b\u9762\u306e\u5468\u308a\u304c\u8868\u793a\u3055\u308c\u305a\u3001\u9ed2\u67a0\u304c\u3067\u304d\u308b | \u30a2\u30a4\u30fb\u30aa\u30fc\u30fb\u30c7\u30fc\u30bf\u6a5f\u5668 I-O DATA","title":"\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4"},{"location":"Misc/windows/#_4","text":"certmgr.msc \u3067\u8d77\u52d5\u3002","title":"\u8a3c\u660e\u66f8\u7ba1\u7406"},{"location":"Misc/windows/#printscreensnippingtool","text":"win11\u3067\u30c7\u30d5\u30a9\u30eb\u30c8SnippingTool\u304c\u8d77\u52d5\u3059\u308b\u306e\u3092\u6291\u6b62\u3059\u308b\u306b\u306f\u3001\u8a2d\u5b9a->\u30a2\u30af\u30bb\u30b7\u30d3\u30ea\u30c6\u30a3->\u30ad\u30fc\u30dc\u30fc\u30c9->\u300cPrintScreen\u30ad\u30fc\u3092\u4f7f\u7528\u3057\u3066\u753b\u9762\u30ad\u30e3\u30d7\u30c1\u30e3\u3092\u958b\u304f\u300d\u3092\u30aa\u30d5 (Win+Shift+S\u3067\u306f\u5f15\u304d\u7d9a\u304d\u8d77\u52d5\u3059\u308b)","title":"PrintScreen\u3067SnippingTool\u3092\u7121\u52b9"},{"location":"Misc/windows/#windows10","text":"\u5fc5\u8981\u4e8b\u9805\u3092\u5165\u529b\u3057\u3066\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fISO\u306f\u3001\u30e9\u30a4\u30bb\u30f3\u30b9\u30ad\u30fc\u5165\u529b\u304c\u306a\u304f90\u65e5\u691c\u8a3c\u306b\u4f7f\u7528\u3067\u304d\u308b\u3002 Microsoft Evaluation Center \u3067 Windows 10 Enterprise \u3092\u8a66\u3059","title":"\u8a55\u4fa1\u7248 Windows10"},{"location":"Misc/windows/#network","text":"","title":"network"},{"location":"Misc/windows/#_5","text":"route print -4","title":"\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u78ba\u8a8d"},{"location":"Misc/windows/#_6","text":"route add 192.168.0.0 mask 255.255.255.0 172.16.1.0 -p","title":"\u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u30eb\u30fc\u30c8\u306e\u8ffd\u52a0"},{"location":"Misc/windows/#ipv6","text":"\u300c\u8a2d\u5b9a\u300d\u2192\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u300d\u2192\u300c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u8a73\u7d30\u8a2d\u5b9a\u300d\u2192\u5bfe\u8c61\u306e\u30a2\u30c0\u30d7\u30bf\u3092\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u3057\u300c\u305d\u306e\u4ed6\u306e\u30a2\u30c0\u30d7\u30bf\u30fc\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u7de8\u96c6\u300d \u3053\u3053\u304b\u3089\u300c\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30d7\u30ed\u30c8\u30b3\u30eb\u30d0\u30fc\u30b8\u30e7\u30f3 6\u300d\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5909\u66f4\u3059\u308b\u3002","title":"IPv6\u6709\u52b9/\u7121\u52b9"},{"location":"Misc/windows/#dhcp","text":"/release \u3067\u89e3\u653e\u3057 /renew \u3067\u53d6\u5f97\u3059\u308b ipconfig /release ipconfig /renew","title":"DHCP\u30a2\u30c9\u30ec\u30b9\u306e\u518d\u53d6\u5f97"},{"location":"Misc/windows/#disk","text":"","title":"disk"},{"location":"Misc/windows/#diskpart","text":"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u64cd\u4f5c","title":"diskpart"},{"location":"Misc/windows/#_7","text":"diskpart","title":"\u8d77\u52d5"},{"location":"Misc/windows/#oem","text":"\u300c\u30c7\u30a3\u30b9\u30af\u306e\u7ba1\u7406\u300d\u3067\u306f\u524a\u9664\u3067\u304d\u306a\u3044\u306e\u3067 diskpart \u3067\u524a\u9664\u3059\u308b list disk \u3067\u30c7\u30a3\u30b9\u30af\u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u3092\u78ba\u8a8d select disk * \u3067\u51e6\u7406\u5bfe\u8c61\u30c7\u30a3\u30b9\u30af\u3092\u9078\u629e list partition \u3067\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u4e00\u89a7\u3092\u78ba\u8a8d select partition * \u3067\u51e6\u7406\u5bfe\u8c61\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u9078\u629e delete partition override \u3067\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u524a\u9664 Microsoft DiskPart \u30d0\u30fc\u30b8\u30e7\u30f3 10.0.19041.964 Copyright (C) Microsoft Corporation. \u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc: DESKTOP-NV2IS83 DISKPART> list disk \u30c7\u30a3\u30b9\u30af \u72b6\u614b \u30b5\u30a4\u30ba \u7a7a\u304d \u30c0\u30a4\u30ca GPT ### \u30df\u30c3\u30af ------------ ------------- ------- ------- --- --- \u30c7\u30a3\u30b9\u30af 0 \u30aa\u30f3\u30e9\u30a4\u30f3 476 GB 1024 KB * \u30c7\u30a3\u30b9\u30af 1 \u30aa\u30f3\u30e9\u30a4\u30f3 28 GB 27 GB * DISKPART> select disk 1 \u30c7\u30a3\u30b9\u30af 1 \u304c\u9078\u629e\u3055\u308c\u307e\u3057\u305f\u3002 DISKPART> list partition Partition ### Type Size Offset ------------- ------------------ ------- ------- Partition 1 \u30d7\u30e9\u30a4\u30de\u30ea 224 KB 32 KB Partition 2 \u30b7\u30b9\u30c6\u30e0 2880 KB 256 KB Partition 3 OEM 1067 MB 3136 KB Partition 4 \u30d7\u30e9\u30a4\u30de\u30ea 300 KB 1070 MB","title":"OEM\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u524a\u9664"},{"location":"Misc/windows/#_8","text":"","title":"\u52d5\u753b"},{"location":"Misc/windows/#_9","text":"","title":"\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u9332\u753b"},{"location":"Misc/windows/#_10","text":"\u30b2\u30fc\u30e0\u30d0\u30fc\u306e\u9332\u753b\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u6700\u95772\u6642\u9593\u30022\u6642\u9593\u4ee5\u4e0a\u9332\u753b\u3059\u308b\u306b\u306f\u8a2d\u5b9a\u5909\u66f4\u304c\u5fc5\u8981\u3002 \u300cWindows\u306e\u8a2d\u5b9a\u300d->\u300c\u30b2\u30fc\u30e0\u300d->\u300c\u30ad\u30e3\u30d7\u30c1\u30e3\u300d\u3067\u3001\u300c\u8a18\u9332\u306e\u6700\u5927\u9577\u300d\u3092\u5909\u66f4\u3059\u308b\u3002 \u8a66\u3057\u3066\u306a\u3044\u3051\u3069\u6700\u95774\u6642\u9593\u304b\u306a\u3002","title":"\u9332\u753b\u6642\u9593\u306e\u8a2d\u5b9a"},{"location":"Misc/windows/#_11","text":"AviUtl\u4f7f\u7528 1\u3064\u76ee\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u300c\u30d5\u30a1\u30a4\u30eb\u300d\u300c\u958b\u304f\u300d\u3067\u9078\u629e\u3002 2\u3064\u76ee\u4ee5\u964d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u9806\u306b\u300c\u30d5\u30a1\u30a4\u30eb\u300d\u300c\u8ffd\u52a0\u8aad\u307f\u8fbc\u307f\u300d \u6700\u5f8c\u306b\u300c\u30d5\u30a1\u30a4\u30eb\u300d\u300c\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u300d\u300cMP4 Export\u300d \u6e96\u5099\u3068\u3057\u3066mp4\u3092\u6271\u3046\u30d7\u30e9\u30b0\u30a4\u30f3(MP4Plugin)\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u304a\u304f\u3002","title":"\u52d5\u753b\u306e\u7d50\u5408"},{"location":"Misc/windows/#terminal","text":"","title":"Terminal"},{"location":"Misc/windows/#windowsterminal","text":"\u6307\u5b9a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30ab\u30ec\u30f3\u30c8\u3067\u8d77\u52d5\u3059\u308b\u306b\u306f wt -d c:/path/to \u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u304b\u3089\u6307\u5b9a\u30d1\u30b9\u3067\u8d77\u52d5\u3059\u308b\u306b\u306f wt -d .","title":"WindowsTerminal"},{"location":"Misc/windows/#_12","text":"","title":"\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7"},{"location":"Misc/windows/#rdp","text":"screen mode id:i: \u306e\u5024\u3092 2 \u306b\u3059\u308b\u3002(\u521d\u671f\u5024\u306f 1 \u306b\u306a\u3063\u3066\u308b\u306f\u305a) screen mode id:i:2","title":"RDP\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u8d77\u52d5\u3067\u5168\u753b\u9762\u8868\u793a"},{"location":"Misc/windows/#_13","text":"\u4ee5\u4e0b\u3067\u63a5\u7d9a\u30d0\u30fc\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u79fb\u308b\u306e\u3067\u30ed\u30fc\u30ab\u30eb\u306e\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u304c\u64cd\u4f5c\u5bfe\u8c61\u306b\u306a\u308b\u3002\u3053\u308c\u3067Alt-Tab\u304c\u30ed\u30fc\u30ab\u30eb\u3067\u52b9\u304f\u3002 Ctrl + Alt + Home \u305f\u3060\u3057\u518d\u5ea6\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3057\u3066\u3082\u63a5\u7d9a\u30d0\u30fc\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u3042\u308b\u72b6\u614b\u306a\u306e\u3067\u3001\u30ea\u30e2\u30fc\u30c8\u306e\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306f\u30d5\u30a9\u30fc\u30ab\u30b9\u3055\u308c\u306a\u3044","title":"\u5168\u753b\u9762\u8868\u793a\u6642\u306b\u30ad\u30fc\u30dc\u30fc\u30c9\u64cd\u4f5c\u3092\u30ed\u30fc\u30ab\u30eb\u306b\u623b\u3059"},{"location":"lang/bash/","text":"bash \u30b7\u30a7\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3 \u3010 set \u3011\u30b3\u30de\u30f3\u30c9\u2015\u2015\u30b7\u30a7\u30eb\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3001\u5909\u66f4\u3059\u308b\uff1aLinux\u57fa\u672c\u30b3\u30de\u30f3\u30c9Tips\uff08205\uff09 - \uff20IT set \u3084\u3001shebang\u3067 #!/bin/bash -u \u306a\u3069\u3067\u30bb\u30c3\u30c8\u3059\u308b \u672a\u5b9a\u7fa9\u5909\u6570\u4f7f\u7528\u6642\u306b\u30a8\u30e9\u30fc (-u) -u (nounset) [zaki@cloud-dev2 sh]$ cat set.sh # !/bin/bash -u echo $hoge [zaki@cloud-dev2 sh]$ ./set.sh ./set.sh: \u884c 3: hoge: \u672a\u5272\u308a\u5f53\u3066\u306e\u5909\u6570\u3067\u3059 [zaki@cloud-dev2 sh]$ export hoge =123 [zaki@cloud-dev2 sh]$ ./set.sh 123 \u30b3\u30de\u30f3\u30c9\u3068\u5f15\u6570\u3092\u8868\u793a (-x) $ cat option.sh # !/bin/bash -x ls / $ ./option.sh + ls / afs boot etc lib media opt root sbin sys usr bin dev home lib64 mnt proc run srv tmp var \u51fa\u529b\u306e\u5148\u982d\u6587\u5b57\u306f\u5909\u6570 PS4 \u3067\u6307\u5b9a\u3002 $ PS4 = \"---\" ./option.sh ---ls / afs boot etc lib media opt root sbin sys usr bin dev home lib64 mnt proc run srv tmp var set -* \u306e\u89e3\u9664 set -u \u3092\u89e3\u9664\u3059\u308b\u306b\u306f set +u \u7b97\u8853\u6f14\u7b97 $ echo $(( 1 + 3 + 2 + 4 + 3 )) 13 $ echo $(( 13 * 2 )) 26 $ echo $(( 13 / 3 )) 4 $ echo $(( 13 % 3 )) 1 \u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8 count=$((++count)) \u914d\u5217 $ list =( \"abc\" \"123\" \"xyz\" ) $ echo ${ list [1] } 123 \u95a2\u6570 \u5f15\u6570 #!/bin/bash function myfunc () { echo \"function arg1( $1 ) arg2( $2 )\" } myfunc a b \u623b\u308a\u5024 function myfunc () { echo \"function arg1( $1 ) arg2( $2 )\" return 1 } myfunc a b echo $? \u5236\u5fa1\u69cb\u6587 test/\u8a55\u4fa1 \u30aa\u30d7\u30b7\u30e7\u30f3 \u4f7f\u7528\u4f8b \u8aac\u660e -n [ -n string ] \u6587\u5b57\u5217\u9577\u304c\u975e\u30bc\u30ed\u3067\u3042\u308c\u3070 true -z [ -z string ] \u6587\u5b57\u5217\u9577\u304c\u30bc\u30ed\u3067\u308c\u3070 true -e [ -e filename ] \u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308c\u3070 true -r [ -r filename ] \u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u53d6\u308a\u6a29\u9650\u304c\u3042\u308c\u3070 true -w [ -w filename ] \u30d5\u30a1\u30a4\u30eb\u306e\u66f8\u304d\u8fbc\u307f\u6a29\u9650\u304c\u3042\u308c\u3070 true -x [ -x filename ] \u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u884c\u6a29\u9650\u304c\u3042\u308c\u3070 true -eq [ $n -eq 123 ] \u6570\u5024\u6bd4\u8f03(\u4e00\u81f4) -ne [ $n -ne 200 ] \u6570\u5024\u6bd4\u8f03(\u4e0d\u4e00\u81f4) == [ $s == \"abc\" ] \u6587\u5b57\u5217\u6bd4\u8f03(\u4e00\u81f4) != [ $s != \"xyz\" ] \u6587\u5b57\u5217\u6bd4\u8f03(\u4e0d\u4e00\u81f4) \u6587\u5b57\u5217\u4e00\u81f4\u306f = \u3082\u6709\u52b9\u3002 \u6587\u5b57\u5217\u306e\u7a7a\u6587\u5b57\u5224\u5b9a\u306f [ $s == \"\" ] \u306f\u4e0d\u53ef( $s \u304c\u7a7a\u306e\u5834\u5408 [ == \"\" ] \u3068\u89e3\u91c8\u3055\u308c\u308b) -z \u3092\u4f7f\u3046\u304b [ \"$s\" == \"\" ] \u3068\u66f8\u304f if if [ -z $value1 ] || [ -z $value2 ] ; then echo '$value1 or $value2 is not defined' elif [ -z $value3 ] ; then echo '$value3 is not defined' else echo OK fi case #!/bin/bash arg = \" $1 \" case $arg in start ) echo \"start\" ;; stop ) echo \"stop\" ;; reload|restart ) echo \"restart\" ;; st|status ) echo \"status\" ;; * ) echo \"unknown arg\" ;; esac \u30eb\u30fc\u30d7 \u914d\u5217\u8981\u7d20\u3092\u30eb\u30fc\u30d7\u51e6\u7406 #!/bin/bash list =( \"abc\" \"123\" \"xyz\" ) for item in ${ list [@] } ; do echo $item done \u30eb\u30fc\u30d7\u3067\u53c2\u7167(\u30a4\u30f3\u30c7\u30c3\u30af\u30b9) \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u5fc5\u8981\u3067\u3042\u308c\u3070\u3053\u3061\u3089\u3002 #!/bin/bash list =( \"abc\" \"123\" \"xyz\" ) for i in ${ !list[@] } ; do echo ${ list [ $i ] } done \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 abc 123 xyz n\u304b\u3089m\u307e\u3067( seq \u5229\u7528) #!/bin/bash for i in $( seq 1 3 ) ; do echo $i done \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b 1 2 3 n\u304b\u3089m\u307e\u3067(\u30d6\u30ec\u30fc\u30b9) for i in {1 ..10 } ; do echo $i done while\u3067\u7121\u9650\u30eb\u30fc\u30d7 while : do # \u51e6\u7406 done \u30d5\u30a1\u30a4\u30eb\u30921\u884c\u305a\u3064 while read line do # ${line}\u306b\u884c\u304c\u5165\u3063\u3066\u3044\u308b done < \"/path/to/file.txt\" \u30b3\u30de\u30f3\u30c9\u306e\u7d50\u679c\u30921\u884c\u305a\u3064 command | filter | while read line do # ${line}\u306e\u51e6\u7406 done \u9014\u4e2d\u3067\u629c\u3051\u308b break \u6b21\u306e\u30eb\u30fc\u30d7 continue","title":"bash"},{"location":"lang/bash/#bash","text":"","title":"bash"},{"location":"lang/bash/#_1","text":"\u3010 set \u3011\u30b3\u30de\u30f3\u30c9\u2015\u2015\u30b7\u30a7\u30eb\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3001\u5909\u66f4\u3059\u308b\uff1aLinux\u57fa\u672c\u30b3\u30de\u30f3\u30c9Tips\uff08205\uff09 - \uff20IT set \u3084\u3001shebang\u3067 #!/bin/bash -u \u306a\u3069\u3067\u30bb\u30c3\u30c8\u3059\u308b","title":"\u30b7\u30a7\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3"},{"location":"lang/bash/#-u","text":"-u (nounset) [zaki@cloud-dev2 sh]$ cat set.sh # !/bin/bash -u echo $hoge [zaki@cloud-dev2 sh]$ ./set.sh ./set.sh: \u884c 3: hoge: \u672a\u5272\u308a\u5f53\u3066\u306e\u5909\u6570\u3067\u3059 [zaki@cloud-dev2 sh]$ export hoge =123 [zaki@cloud-dev2 sh]$ ./set.sh 123","title":"\u672a\u5b9a\u7fa9\u5909\u6570\u4f7f\u7528\u6642\u306b\u30a8\u30e9\u30fc (-u)"},{"location":"lang/bash/#-x","text":"$ cat option.sh # !/bin/bash -x ls / $ ./option.sh + ls / afs boot etc lib media opt root sbin sys usr bin dev home lib64 mnt proc run srv tmp var \u51fa\u529b\u306e\u5148\u982d\u6587\u5b57\u306f\u5909\u6570 PS4 \u3067\u6307\u5b9a\u3002 $ PS4 = \"---\" ./option.sh ---ls / afs boot etc lib media opt root sbin sys usr bin dev home lib64 mnt proc run srv tmp var","title":"\u30b3\u30de\u30f3\u30c9\u3068\u5f15\u6570\u3092\u8868\u793a (-x)"},{"location":"lang/bash/#set-","text":"set -u \u3092\u89e3\u9664\u3059\u308b\u306b\u306f set +u","title":"set -* \u306e\u89e3\u9664"},{"location":"lang/bash/#_2","text":"$ echo $(( 1 + 3 + 2 + 4 + 3 )) 13 $ echo $(( 13 * 2 )) 26 $ echo $(( 13 / 3 )) 4 $ echo $(( 13 % 3 )) 1 \u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8 count=$((++count))","title":"\u7b97\u8853\u6f14\u7b97"},{"location":"lang/bash/#_3","text":"$ list =( \"abc\" \"123\" \"xyz\" ) $ echo ${ list [1] } 123","title":"\u914d\u5217"},{"location":"lang/bash/#_4","text":"","title":"\u95a2\u6570"},{"location":"lang/bash/#_5","text":"#!/bin/bash function myfunc () { echo \"function arg1( $1 ) arg2( $2 )\" } myfunc a b","title":"\u5f15\u6570"},{"location":"lang/bash/#_6","text":"function myfunc () { echo \"function arg1( $1 ) arg2( $2 )\" return 1 } myfunc a b echo $?","title":"\u623b\u308a\u5024"},{"location":"lang/bash/#_7","text":"","title":"\u5236\u5fa1\u69cb\u6587"},{"location":"lang/bash/#test","text":"\u30aa\u30d7\u30b7\u30e7\u30f3 \u4f7f\u7528\u4f8b \u8aac\u660e -n [ -n string ] \u6587\u5b57\u5217\u9577\u304c\u975e\u30bc\u30ed\u3067\u3042\u308c\u3070 true -z [ -z string ] \u6587\u5b57\u5217\u9577\u304c\u30bc\u30ed\u3067\u308c\u3070 true -e [ -e filename ] \u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308c\u3070 true -r [ -r filename ] \u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u53d6\u308a\u6a29\u9650\u304c\u3042\u308c\u3070 true -w [ -w filename ] \u30d5\u30a1\u30a4\u30eb\u306e\u66f8\u304d\u8fbc\u307f\u6a29\u9650\u304c\u3042\u308c\u3070 true -x [ -x filename ] \u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u884c\u6a29\u9650\u304c\u3042\u308c\u3070 true -eq [ $n -eq 123 ] \u6570\u5024\u6bd4\u8f03(\u4e00\u81f4) -ne [ $n -ne 200 ] \u6570\u5024\u6bd4\u8f03(\u4e0d\u4e00\u81f4) == [ $s == \"abc\" ] \u6587\u5b57\u5217\u6bd4\u8f03(\u4e00\u81f4) != [ $s != \"xyz\" ] \u6587\u5b57\u5217\u6bd4\u8f03(\u4e0d\u4e00\u81f4) \u6587\u5b57\u5217\u4e00\u81f4\u306f = \u3082\u6709\u52b9\u3002 \u6587\u5b57\u5217\u306e\u7a7a\u6587\u5b57\u5224\u5b9a\u306f [ $s == \"\" ] \u306f\u4e0d\u53ef( $s \u304c\u7a7a\u306e\u5834\u5408 [ == \"\" ] \u3068\u89e3\u91c8\u3055\u308c\u308b) -z \u3092\u4f7f\u3046\u304b [ \"$s\" == \"\" ] \u3068\u66f8\u304f","title":"test/\u8a55\u4fa1"},{"location":"lang/bash/#if","text":"if [ -z $value1 ] || [ -z $value2 ] ; then echo '$value1 or $value2 is not defined' elif [ -z $value3 ] ; then echo '$value3 is not defined' else echo OK fi","title":"if"},{"location":"lang/bash/#case","text":"#!/bin/bash arg = \" $1 \" case $arg in start ) echo \"start\" ;; stop ) echo \"stop\" ;; reload|restart ) echo \"restart\" ;; st|status ) echo \"status\" ;; * ) echo \"unknown arg\" ;; esac","title":"case"},{"location":"lang/bash/#_8","text":"","title":"\u30eb\u30fc\u30d7"},{"location":"lang/bash/#_9","text":"#!/bin/bash list =( \"abc\" \"123\" \"xyz\" ) for item in ${ list [@] } ; do echo $item done","title":"\u914d\u5217\u8981\u7d20\u3092\u30eb\u30fc\u30d7\u51e6\u7406"},{"location":"lang/bash/#_10","text":"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u5fc5\u8981\u3067\u3042\u308c\u3070\u3053\u3061\u3089\u3002 #!/bin/bash list =( \"abc\" \"123\" \"xyz\" ) for i in ${ !list[@] } ; do echo ${ list [ $i ] } done \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 abc 123 xyz","title":"\u30eb\u30fc\u30d7\u3067\u53c2\u7167(\u30a4\u30f3\u30c7\u30c3\u30af\u30b9)"},{"location":"lang/bash/#nmseq","text":"#!/bin/bash for i in $( seq 1 3 ) ; do echo $i done \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b 1 2 3","title":"n\u304b\u3089m\u307e\u3067(seq\u5229\u7528)"},{"location":"lang/bash/#nm","text":"for i in {1 ..10 } ; do echo $i done","title":"n\u304b\u3089m\u307e\u3067(\u30d6\u30ec\u30fc\u30b9)"},{"location":"lang/bash/#while","text":"while : do # \u51e6\u7406 done","title":"while\u3067\u7121\u9650\u30eb\u30fc\u30d7"},{"location":"lang/bash/#1","text":"while read line do # ${line}\u306b\u884c\u304c\u5165\u3063\u3066\u3044\u308b done < \"/path/to/file.txt\"","title":"\u30d5\u30a1\u30a4\u30eb\u30921\u884c\u305a\u3064"},{"location":"lang/bash/#1_1","text":"command | filter | while read line do # ${line}\u306e\u51e6\u7406 done","title":"\u30b3\u30de\u30f3\u30c9\u306e\u7d50\u679c\u30921\u884c\u305a\u3064"},{"location":"lang/bash/#_11","text":"break","title":"\u9014\u4e2d\u3067\u629c\u3051\u308b"},{"location":"lang/bash/#_12","text":"continue","title":"\u6b21\u306e\u30eb\u30fc\u30d7"},{"location":"lang/html/","text":"html \u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u30c7\u30b6\u30a4\u30f3 \u30d8\u30c3\u30c0\u306b\u3053\u308c\u3092\u5165\u308c\u308b\u306e\u304c\u57fa\u672c < meta name = \"viewport\" content = \"width=device-width, initial-scale=1.0\" /> tag meta \u6587\u5b57\u30b3\u30fc\u30c9\u6307\u5b9a <!DOCTYPE html> < html > < head > < meta charset = \"utf-8\" > \u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a\u3092\u3044\u3058\u308c\u306a\u3044\u5834\u5408\u306a\u3069\u3067\u3002 form \u30d5\u30a1\u30a4\u30eb\u30c0\u30a4\u30a2\u30ed\u30b0\u306e\u8907\u6570\u9078\u629e < input type = \"file\" multiple /> css \u5225\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f @import \u3092\u4f7f\u3046\u3002 @import - CSS: \u30ab\u30b9\u30b1\u30fc\u30c7\u30a3\u30f3\u30b0\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8 | MDN \u30ab\u30fc\u30bd\u30eb\u5909\u66f4 \u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u6642\u306b\u30ea\u30f3\u30af\u306e\u30b9\u30bf\u30a4\u30eb\u306b\u3059\u308b . link_style { cursor : pointer ; } \u3053\u306e\u30b9\u30bf\u30a4\u30eb\u3092\u30d6\u30ed\u30c3\u30af\u306b\u4f7f\u3046\u3068\u3001\u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u6642\u306b\u30ea\u30f3\u30af\u306e\u30b9\u30bf\u30a4\u30eb\u306b\u306a\u308b\u3002\u30af\u30ea\u30c3\u30af\u3057\u3066js\u306e\u30b3\u30fc\u30c9\u5b9f\u884c\u306a\u3069\u3055\u305b\u305f\u3044\u3068\u304d\u306b\u4f7f\u3048\u308b\u3002 \u9078\u629e\u53ef\u80fd\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u4e00\u89a7\u306f\u4ee5\u4e0b CSS3\u3067\u4f7f\u3048\u308b35+\u03b1\u7a2e\u985e\u306e\u30ab\u30fc\u30bd\u30eb\u306e\u4e00\u89a7\u8868\u3002\uff08CSS \u304a\u308c\u304a\u308c Advent Calendar 2012 \u2013 07\u65e5\u76ee\uff09 | Ginpen.com \u30c6\u30ad\u30b9\u30c8\u88c5\u98fe (text-decoration) \u4e0b\u7dda . text_decoration { text-decoration : underline ; }","title":"html"},{"location":"lang/html/#html","text":"","title":"html"},{"location":"lang/html/#_1","text":"\u30d8\u30c3\u30c0\u306b\u3053\u308c\u3092\u5165\u308c\u308b\u306e\u304c\u57fa\u672c < meta name = \"viewport\" content = \"width=device-width, initial-scale=1.0\" />","title":"\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u30c7\u30b6\u30a4\u30f3"},{"location":"lang/html/#tag","text":"","title":"tag"},{"location":"lang/html/#meta","text":"","title":"meta"},{"location":"lang/html/#_2","text":"<!DOCTYPE html> < html > < head > < meta charset = \"utf-8\" > \u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a\u3092\u3044\u3058\u308c\u306a\u3044\u5834\u5408\u306a\u3069\u3067\u3002","title":"\u6587\u5b57\u30b3\u30fc\u30c9\u6307\u5b9a"},{"location":"lang/html/#form","text":"","title":"form"},{"location":"lang/html/#_3","text":"< input type = \"file\" multiple />","title":"\u30d5\u30a1\u30a4\u30eb\u30c0\u30a4\u30a2\u30ed\u30b0\u306e\u8907\u6570\u9078\u629e"},{"location":"lang/html/#css","text":"","title":"css"},{"location":"lang/html/#_4","text":"@import \u3092\u4f7f\u3046\u3002 @import - CSS: \u30ab\u30b9\u30b1\u30fc\u30c7\u30a3\u30f3\u30b0\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8 | MDN","title":"\u5225\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f"},{"location":"lang/html/#_5","text":"\u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u6642\u306b\u30ea\u30f3\u30af\u306e\u30b9\u30bf\u30a4\u30eb\u306b\u3059\u308b . link_style { cursor : pointer ; } \u3053\u306e\u30b9\u30bf\u30a4\u30eb\u3092\u30d6\u30ed\u30c3\u30af\u306b\u4f7f\u3046\u3068\u3001\u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u6642\u306b\u30ea\u30f3\u30af\u306e\u30b9\u30bf\u30a4\u30eb\u306b\u306a\u308b\u3002\u30af\u30ea\u30c3\u30af\u3057\u3066js\u306e\u30b3\u30fc\u30c9\u5b9f\u884c\u306a\u3069\u3055\u305b\u305f\u3044\u3068\u304d\u306b\u4f7f\u3048\u308b\u3002 \u9078\u629e\u53ef\u80fd\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u4e00\u89a7\u306f\u4ee5\u4e0b CSS3\u3067\u4f7f\u3048\u308b35+\u03b1\u7a2e\u985e\u306e\u30ab\u30fc\u30bd\u30eb\u306e\u4e00\u89a7\u8868\u3002\uff08CSS \u304a\u308c\u304a\u308c Advent Calendar 2012 \u2013 07\u65e5\u76ee\uff09 | Ginpen.com","title":"\u30ab\u30fc\u30bd\u30eb\u5909\u66f4"},{"location":"lang/html/#text-decoration","text":"\u4e0b\u7dda . text_decoration { text-decoration : underline ; }","title":"\u30c6\u30ad\u30b9\u30c8\u88c5\u98fe (text-decoration)"},{"location":"lang/js/","text":"JavaScript \u74b0\u5883\u30fb\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u5bfe\u5fdc\u72b6\u6cc1 ECMAScript 5 compatibility table ECMAScript 6 compatibility table ECMAScript 2016+ compatibility table \u5b9f\u88c5 \u5236\u5fa1\u69cb\u6587 if else if (val > 0 ) { console.log( 'plus' ); } else if (val < 0 ) { console.log( 'minus' ); } else { console.log( 'else' ); } for index\u3092\u4f7f\u3063\u305f\u666e\u901a\u306efor\u6587 let items = [ 1 , 2 , 3 , 4 , 5 ]; for ( let i = 0 ; i < items.length; i ++ ) { console.log(items[i]); } \u914d\u5217\u51e6\u7406\u306eforeach\u30bf\u30a4\u30d7\u306f of \u3092\u4f7f\u3046\u3002 for ( const item of items) { console.log(item); } break \u30eb\u30fc\u30d7\u3092\u629c\u3051\u308b continue \u6b21\u306e\u30eb\u30fc\u30d7\u3078 \u6570\u5024 \u56db\u6368\u4e94\u5165 Math .round(double_value); \u6587\u5b57\u5217 \u6570\u5024\u304b\u3089\u6587\u5b57\u3078\u306e\u5909\u63db String (number_value); \u6587\u5b57\u5217\u304b\u3089\u6570\u5024\u3078\u306e\u5909\u63db Number (string_value); Date\u3078\u306e\u5909\u63db \u30b3\u30fc\u30c9\u4e0a\u5358\u7d14\u306a\u5909\u63db\u306f\u3001\u6c7a\u3081\u3089\u308c\u305f\u66f8\u5f0f\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u305d\u306e\u307e\u307eDate\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3067\u304d\u308b\u3002 date_str = \"2024.12.26 23:39:22.12345\" ; date = new Date (date_str); console.log(date); // 2024-12-26T14:39:22.123Z \u533a\u5207\u308a\u6587\u5b57\u304c\u306a\u3044\u5834\u5408\u3084\u300124\u6642\u306a\u3069\u306f Invalid Date \u3068\u306a\u308b\u3002 padStart()\u30670\u57cb\u3081 padStart() \u30e1\u30bd\u30c3\u30c9\u306f\u3001\u7d50\u679c\u306e\u6587\u5b57\u5217\u304c\u6307\u5b9a\u3057\u305f\u9577\u3055\u306b\u306a\u308b\u3088\u3046\u306b\u3001\u73fe\u5728\u306e\u6587\u5b57\u5217\u3092\u4ed6\u306e\u6587\u5b57\u5217\u3067\uff08\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u7e70\u308a\u8fd4\u3057\u3066\uff09\u5ef6\u9577\u3057\u307e\u3059\u3002\u5ef6\u9577\u306f\u3001\u73fe\u5728\u306e\u6587\u5b57\u5217\u306e\u5148\u982d\u304b\u3089\u9069\u7528\u3055\u308c\u307e\u3059\u3002 const d = new Date (); const s = d.getFullYear().toString().padStart( 4 , \"0\" ) + \"-\" + (d.getMonth() +1 ).toString().padStart( 2 , \"0\" ) + \"-\" + d.getDate().toString().padStart( 2 , \"0\" ) + \" \" + d.getHours().toString().padStart( 2 , \"0\" ) + \":\" + d.getMinutes().toString().padStart( 2 , \"0\" ) + \":\" + d.getSeconds().toString().padStart( 2 , \"0\" ); console.log(s); \u3053\u308c\u3067\u73fe\u5728\u6642\u523b\u306e YYYY-mm-dd HH:MM:ss \u5f62\u5f0f(0\u57cb\u3081)\u306b\u306a\u308b\u3002 https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/String/padStart \u6587\u5b57\u5217\u9577 \u6587\u5b57\u6570\u306f length \u30e1\u30bd\u30c3\u30c9\u3002 const sample_str = '\u5b8c\u5168\u306b\u3068\u304d\u3081\u3044\u3061\u3083\u3063\u305f' ; console.log(sample_str.length); \u51fa\u529b\u306f 11 \u6587\u5b57\u5217\u306e\u7e70\u308a\u8fd4\u3057 str = 'abc' ; console.log(str.repeat( 3 )); // \u7d50\u679c\u306f \"abcabcabc\" \u90e8\u5206\u6587\u5b57\u5217 substring substring(\u958b\u59cb\u4f4d\u7f6e, \u7d42\u4e86\u4f4d\u7f6e) \u3092\u4f7f\u3046\u3002(\u7d42\u4e86\u4f4d\u7f6e\u306f\u300c\u3053\u3053\u4ee5\u964d\u306f\u9664\u5916\u300d) str = 'hello world' ; console.log(str.substring( 3 , 8 )); \u51fa\u529b\u306f lo wo \u5f15\u6570\u304c\u4e00\u3064\u306e\u5834\u5408\u306f\u3001\u305d\u306e\u4f4d\u7f6e\u304b\u3089\u6700\u5f8c\u307e\u3067\u3002 console.log(str.substring( 3 )); // \u51fa\u529b\u306f \"lo world\" \u7b2c2\u5f15\u6570\u306e\u8ca0\u6570\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306e\u52d5\u4f5c\u306f\u4ee5\u4e0b substring() \u306f\u8ca0\u6570\u3042\u308b\u3044\u306f NaN \u304c\u6307\u5b9a\u3055\u308c\u305f\u3089 0 \u3068\u3057\u3066\u51e6\u7406 \u7b2c1\u5f15\u6570\u3088\u308a\u7b2c2\u5f15\u6570\u304c\u5c0f\u3055\u3044\u5834\u5408\u306f\u30012\u3064\u306e\u5f15\u6570\u3092\u4ea4\u63db\u3057\u3066\u51e6\u7406 str = 'hello world' ; console.log(str.substring( 3 , -2 )); // \"hel\" \u3088\u3063\u3066\u3001 substring(3, -2) \u306e\u51e6\u7406\u306f\u3001 substring(0, 3) \u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u308b\u3002 slice str = 'hello world' ; console.log(str.slice( 3 , 8 )); // \"lo wo\" \u57fa\u672c\u7684\u306b\u306f substring() \u3068\u540c\u3058 str = 'hello world' ; console.log(str.slice( 3 )); // \"lo world\" \u7b2c1\u5f15\u6570\u304c\u8ca0\u6570\u306e\u5834\u5408\u306f\u672b\u5c3e\u304b\u3089\u3002 str = 'hello world' ; console.log(str.slice( -3 )); // \"rld\" \u7b2c2\u5f15\u6570\u306b\u8ca0\u6570\u3092\u6307\u5b9a\u3059\u308b\u3068\u672b\u5c3e\u304b\u3089\u6570\u3048\u308b\u3002 str = 'hello world' ; console.log(str.slice( 3 , -2 )); // \"lo wor\" \u7b2c2\u5f15\u6570\u304c\u7b2c1\u5f15\u6570\u3088\u308a\u5c0f\u3055\u3044\u5834\u5408\u306f\u7a7a\u6587\u5b57\u306b\u306a\u308b str = 'hello world' ; console.log(str.slice( 3 , 1 ).length); // 0 substr (\u975e\u63a8\u5968) String.prototype.substr() - JavaScript | MDN \u3053\u306e\u6a5f\u80fd\u306f\u975e\u63a8\u5968\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u307e\u3060\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30d6\u30e9\u30a6\u30b6\u30fc\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u3059\u3067\u306b\u95a2\u9023\u3059\u308b\u30a6\u30a7\u30d6\u6a19\u6e96\u304b\u3089\u524a\u9664\u3055\u308c\u3066\u3044\u308b\u304b\u3001\u524a\u9664\u306e\u624b\u7d9a\u304d\u4e2d\u3067\u3042\u308b\u304b\u3001\u4e92\u63db\u6027\u306e\u305f\u3081\u3060\u3051\u306b\u6b8b\u3055\u308c\u3066\u3044\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u5148\u982d\u304c\u6307\u5b9a\u306e\u6587\u5b57\u5217\u3067\u59cb\u307e\u3063\u3066\u3044\u308b\u304b val = 'http://www.example.org' ; if (val.startsWith( 'http' )) { console.log( 'valid' ); } else { console.log( 'invalid' ); } split const string = 'abc,def,ghi' ; const items = string.split( \",\" ); \u7d50\u679c\u306f [ 'abc', 'def', 'ghi' ] \u306b\u306a\u308b\u3002 String.prototype.split() - JavaScript | MDN \u6b63\u898f\u8868\u73fe\u3092\u4f7f\u3046\u5834\u5408\u306f\u305d\u306e\u307e\u307e\u3002 strings.split( /,\\s*/ ); \u6587\u5b57\u5217\u9577\u306e\u30d0\u30a4\u30c8\u63db\u7b97 string.length \u306f\u6587\u5b57\u6570\u3092\u8fd4\u3059\u3002 \u30d0\u30a4\u30c8\u6570\u3092\u5f97\u308b\u306b\u306f\u4ee5\u4e0b\u3002 const sample_str = '\u5b8c\u5168\u306b\u3068\u304d\u3081\u3044\u3061\u3083\u3063\u305f' ; const size = new Blob([sample_str]).size; console.log(size); \u7d50\u679c\u306f 33 URL\u6587\u5b57\u5217\u306eparse URL \u3092\u4f7f\u3046\u3068\u7c21\u5358 const url = 'https://www.swarmapp.com/zaki_hmkc/checkin/66ca6619c1e2dd41311a7dcb?s=UrwNh_CXxd93txmhWtdxCdPOTLQ' ; const url_obj = new URL(url); url_obj \u306e\u4e2d\u8eab\u306f\u4ee5\u4e0b\u306e\u901a\u308a URL { href : 'https://www.swarmapp.com/zaki_hmkc/checkin/66ca6619c1e2dd41311a7dcb?s=UrwNh_CXxd93txmhWtdxCdPOTLQ' , origin : 'https://www.swarmapp.com' , protocol : 'https:' , username : '' , password : '' , host : 'www.swarmapp.com' , hostname : 'www.swarmapp.com' , port : '' , pathname : '/zaki_hmkc/checkin/66ca6619c1e2dd41311a7dcb' , search : '?s=UrwNh_CXxd93txmhWtdxCdPOTLQ' , searchParams : URLSearchParams { 's' => 'UrwNh_CXxd93txmhWtdxCdPOTLQ' }, hash : '' } URL\u30a8\u30f3\u30b3\u30fc\u30c9 encodeURIComponent (string); \u6b63\u898f\u8868\u73fe \u6b63\u898f\u8868\u73fe - JavaScript | MDN \u5358\u7d14\u306a\u30de\u30c3\u30c1\u30f3\u30b0(test) true/false\u306e\u5224\u5b9a\u3060\u3051\u306a\u3089(String\u3067\u306a\u304fRegExp\u306e\u30e1\u30bd\u30c3\u30c9\u306e) test \u304c\u4f7f\u3048\u308b\u3002 sample = 'hello world' ; if ( /world/ .test(sample)) { console.log( \"match\" ); } \u30de\u30c3\u30c1\u3057\u305f\u7d50\u679c\u3092\u914d\u5217\u3067\u53c2\u7167\u3059\u308b(match) date_str = \"20241226\" ; if (r = date_str.match( /^(\\d{4})(\\d{2})(\\d{2})$/ )) { console.log(r); } \u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a [ '20241226', '2024', '12', '26', index: 0, input: '20241226 ', groups: undefined ] \u30de\u30c3\u30c1\u3057\u305f\u4f4d\u7f6e\u3092\u53d6\u5f97\u3059\u308b(search) search() \u3092\u4f7f\u3046\u3068\u3001\u6700\u521d\u306b\u30de\u30c3\u30c1\u3057\u305f\u4f4d\u7f6e\u3092\u8fd4\u3059\u3002 date_str = \"date: 20250209\" ; r = date_str.search( /\\d/ ); if (r != -1 ) { console.log(r); } \u30de\u30c3\u30c1\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u306f -1 \u304c\u8fd4\u308b\u3002 \u7f6e\u63db(replace) const sample_string = '......' ; const new_string = sample_string.replace( /regexp/gi , 'replace-string' ); switch\u6587\u3067\u4f7f\u3046 const str = '\u30c6\u30b9\u30c8\u3057\u305f\u3044\u6587\u5b57\u5217' ; switch ( true ) { case /^regexp1/ .test(str) : // ... break ; case /^regexp2/ .test(str) : // ... break ; default : break ; } \u914d\u5217 \u5b9a\u7fa9 sample_array = [ 1 , 2 , 3 ]; \u8981\u7d20\u306e\u8ffd\u52a0 push \u3067\u672b\u5c3e\u306b\u8ffd\u52a0\u3002 const result = []; for (...) { const item = { ... }; result.push(item); } \u8981\u7d20\u306e\u30af\u30ea\u30a2 const list = [ 1 , 2 , 3 , 4 , 5 ]; list.splice( 0 ); console.log(list); console.log(list.length); \u51fa\u529b\u306f [] \u3068 0 \u6700\u5f8c\u306e\u8981\u7d20 sample_array = [ 1 , 2 , 3 ]; console.log(sample_array.at( -1 )); \u7d50\u679c\u306f 3 \u8981\u7d20\u306e\u6709\u7121 status = get_http_status(); if ([ 200 , 201 , 202 , 203 ].includes(status)) { ... } join sample_array = [ 1 , 2 , 3 ]; console.log(sample_array.join()); \u5f15\u6570\u304c\u7a7a\u306e\u5834\u5408\u306f\u51fa\u529b\u306f 1,2,3 \u3068\u306a\u308b\u3002 \u5f15\u6570\u3092\u6307\u5b9a\u3059\u308c\u3070\u305d\u308c\u304c\u30c7\u30ea\u30df\u30bf\u3068\u306a\u308b\u3002 \u8f9e\u66f8 \u8f9e\u66f8\u306e\u5b9a\u7fa9 const data = { host : '192.168.0.1' , user : 'zaki' , home : '/home/zaki' } \u7a7a\u30c7\u30fc\u30bf const dict = {}; \u8981\u7d20\u306e\u8ffd\u52a0 \u305d\u306e\u307e\u307e\u8ffd\u52a0\u3059\u308c\u3070OK data.password = 'curry_tabetai' ; \u30ad\u30fc\u90e8\u5206\u306b\u8a18\u53f7\u3092\u542b\u3093\u3060\u308a\u5909\u6570\u53c2\u7167\u3057\u305f\u3044\u5834\u5408\u306f'[]'\u3092\u4f7f\u3046\u3002 data[foo.bar.buz.get( 'key' )] = foo.bar.buz.get( 'value' ); \u7a7a\u5224\u5b9a \u7279\u306b\u305d\u308c\u7528\u306e\u30e1\u30bd\u30c3\u30c9\u7b49\u306f\u7121\u3044\u3002 \u30ad\u30fc\u4e00\u89a7\u3092\u53d6\u308a\u51fa\u3057\u3066length\u3092\u898b\u308b\u306e\u304c\u30bb\u30aa\u30ea\u30fc if ( Object .keys(dict).length) { ... } \u95a2\u6570\u5b9a\u7fa9 \u6614\u306a\u304c\u3089\u306e\u5b9f\u88c5 function func(arg) { console.log(arg); } func( 'njgk' ); \u30a2\u30ed\u30fc\u95a2\u6570 \u2191\u306e func(arg){} \u5b9a\u7fa9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u3051\u308b const func = (arg) => { console.log(arg); } func( 'njgk' ); \u578b\u306e\u78ba\u8a8d typeof \u3092\u4f7f\u3046\u3002 console.log( \"type: \" + typeof (users)) \u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u5b58\u5728\u30c1\u30a7\u30c3\u30af in \u3092\u4f7f\u3046\u3002 let data = { host : '192.168.0.1' , user : 'zaki' , home : '/home/zaki' } if ( 'password' in data) { console.log( 'defined password' ); } else { console.log( 'not defined password' ); } \u3053\u308c\u306f not defined \u306e\u65b9\u304c\u52d5\u4f5c\u3059\u308b\u3002 \u6642\u523b\u51e6\u7406 let d = new Date (); console.log(d.toISOString()); \u7d50\u679c(\u306e\u66f8\u5f0f)\u306f 2024-08-17T10:28:28.466Z Date\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u5e74\u6708\u65e5\u6642\u5206\u79d2\u3092\u53d6\u5f97 const d = new Date (); console.log(d); console.log(d.getFullYear()); console.log(d.getMonth() + 1 ); console.log(d.getDate()); console.log(d.getHours()); console.log(d.getMinutes()); console.log(d.getSeconds()); \u51fa\u529b\u306f\u4ee5\u4e0b ( date \u306f\u300c2025\u5e74 2\u6708 8\u65e5 \u571f\u66dc\u65e5 22:44:42 JST\u300d) 2025-02-08T13:44:42.187Z 2025 2 8 22 44 42 \u65e5\u6642\u3092\u8868\u3059\u6587\u5b57\u5217\u304b\u3089Date\u578b \u5272\u3068\u30a2\u30d0\u30a6\u30c8\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\u3067\u304d\u308b\u3002 const str1 = \"2024/12/27 11:23:34\" ; const d1 = new Date (str1); console.log(d1); \u51fa\u529b\u306f\u4ee5\u4e0b 2024-12-27T02:23:34.000Z \u5b9f\u884c\u3057\u305f\u74b0\u5883\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u6642\u523b\u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u308b(JST\u3067\u3042\u308c\u3070\u3001\u65e5\u672c\u6642\u959311\u664223\u5206) \u4ee5\u4e0b\u306e\u5834\u5408\u306fJST\u306e12\u664223\u5206\u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u308b const str1 = \"2024-12-27T11:23:34+0800\" ; \u305d\u306e\u4ed6\u306b\u6709\u52b9\u306a\u66f8\u5f0f\u4f8b\u3068\u3057\u3066\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 str = \"2024-12-27 11:23:34\" ; str = \"2024.12.27 11:23:34\" ; str = \"2024-12-27T11:23:34\" ; str = \"2024-12-27T11:23:34+0900\" ; UNIX\u30bf\u30a4\u30e0\u304b\u3089Date\u578b // Date()\u306e\u5f15\u6570\u306f\u30df\u30ea\u79d2\u3067\u6307\u5b9a\u3059\u308b unix_date_sec = '1723426784' let datetime = new Date (unix_date_sec * 1000 ); console.log(datetime); console.log(datetime.toLocaleDateString()); console.log(datetime.toLocaleTimeString()); \u51fa\u529b\u306f\u4ee5\u4e0b 2024-08-12T01:39:44.000Z 2024/8/12 10:39:44 \u3042\u308bDate\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u7fcc\u65e5 const tomorrow = new Date (foobar_date); tomorrow.setDate(tomorrow.getDate() + 1 ); Date\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540c\u58eb\u306e\u5dee\u5206 Date\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540c\u58eb\u306e\u5dee\u5206\u306f\u30df\u30ea\u79d2 const today = new Date (); const tomorrow = new Date ().setDate(today.getDate() + 1 ); console.log(tomorrow - today); \u51fa\u529b\u306f86400000 \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u30aa\u30d5\u30bb\u30c3\u30c8\u53d6\u5f97 const d = new Date (); console.log(d.getTimezoneOffset()); console.log(d.getTimezoneOffset() / 60 ); OS\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u8a2d\u5b9a\u3067\u6c7a\u307e\u308b\u3002 \u5024\u306f\u5206\u3067\u5f97\u3089\u308c\u308b\u305f\u3081JST(GMT+0900)\u8a2d\u5b9a\u3067\u5b9f\u884c\u3059\u308b\u3068\u51fa\u529b\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 -540 -9 UTC\u306e\u6642\u523b\u60c5\u5831\u3092\u5f97\u308b getFullYear() \u306a\u3069\u306b\u5bfe\u5fdc\u3057\u305f getUTCFullYear() \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3002 const utc_datestr = d.getUTCFullYear().toString().padStart( 4 , \"0\" ) + \"/\" + (d.getUTCMonth() + 1 ).toString().padStart( 2 , \"0\" ) + \"/\" + d.getUTCDate().toString().padStart( 2 , \"0\" ); \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u6587\u5b57\u5217\u306e\u53d6\u5f97 const tz = Intl .DateTimeFormat().resolvedOptions().timeZon; console.log(tz); \u51fa\u529b\u306f\u4ee5\u4e0b Asia/Tokyo Intl.DateTimeFormat.prototype.resolvedOptions() - JavaScript | MDN \u975e\u540c\u671f\u51e6\u7406 Promise\u5909\u6570 resolve()\u3067\u4e2d\u8eab\u3092\u53d6\u308a\u51fa\u3059 let promise_value = async_func(); const promise = new Promise ((resolve) => { resolve(promise_value); }).then((val) => { console.log(val); // Promise\u3092resolve()\u3057\u305f\u306e\u3067\u53d6\u308c\u308b }) HTTP GET \u57fa\u672c\u306f\u3053\u308c\u3002 const resp = fetch(url); \u30ec\u30b9\u30dd\u30f3\u30b9 text\u5f62\u5f0f\u3067\u30ec\u30b9\u30dd\u30f3\u30b9body\u3092\u53d6\u308a\u51fa\u3059\u306b\u306f const body = resp.text(); REST\u306a\u3069\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u304cJSON\u5f62\u5f0f\u306e\u5834\u5408\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u53d6\u308a\u51fa\u3059\u3053\u3068\u3082\u3067\u304d\u308b\u3002 const obj = resp.json(); \u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9 if (res.status === 200 ) { // status\u304c200\u306e\u5834\u5408\u306e\u51e6\u7406 } \u30ea\u30af\u30a8\u30b9\u30c8\u30d8\u30c3\u30c0 const headers = new Headers(); headers.append( 'accept' , 'application/json' ); const res = await fetch(url, { headers : headers }); POST \u8f9e\u66f8\u578b\u30c7\u30fc\u30bf\u3092JSON\u5f62\u5f0f\u3067post\u3059\u308b\u3002 const headers = new Headers(); headers.append( 'Content-Type' , 'application/json' ); headers.append( 'Authorization' , 'Bearer ' + token); const payload = JSON .stringify(dict_param); const res = await fetch(url, { method : \"POST\" , body : payload, headers : headers }); \u30d5\u30a1\u30a4\u30eb \u30d6\u30e9\u30a6\u30b6JavaScript\u3067PC\u4e0a\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u3080 < input type = \"file\" id = \"file\" accept = \"image/*\" /> < div id = \"view\" ></ div > const file_blob = document .getElementById( \"file\" ).files[ 0 ]; const reader = new FileReader(); reader.readAsDataURL(file_blob); reader.onload = function () { const img = document .createElement( \"img\" ); img.src = reader.result; const div = document .getElementById( 'view' ); div.appendChild(img); } \u4f8b\u5916 throw\u3059\u308b const res = await fetch(url, { method : \"POST\" , body : body, headers : headers }); if ( ! res.ok) { throw new Error ( 'fetch failed: ' + await res.text()); } catch\u3059\u308b try { const res_img = await fetch(url); } catch (err) { throw new Error ( 'http access failed: ' + err + \"\\nurl: \" + url); } import DOM \u8981\u7d20\u306e\u53d6\u5f97 const niji = document .getElementById( \"niji\" ); \u3053\u308c\u3067html\u5185\u306e\u4ee5\u4e0b\u306e\u8981\u7d20\u304c\u53d6\u5f97\u3067\u304d\u308b\u3002 < div id = \"niji\" > \u8981\u7d20\u306e\u5e45\u30fb\u9ad8\u3055 let width = document .getElementById( \"niji\" ).clientWidth; let height = document .getElementById( \"niji\" ).clientHeight; \u8981\u7d20\u5225 button const btn = document .createElement( \"button\" ); btn.textContent = \"start\" ; btn.addEventListener( 'click' , ()=> { foobar(); }); img let image_item = document .createElement( \"img\" ); image_item.src = image_url; anchor const a = document .createElement( 'a' ); a.href = 'https://lovelive-anime.jp/nijigasaki/story.php' ; a.textContent = '\u8679\u30f6\u54b2' ; a.target = '_blank' ; textfield const field = document .createElement( \"input\" ) field.type = 'text' ; field.id = 'input_field' ; field.value = 'sample' ; checkbox const checkbox_item = document .createElement( \"input\" ); checkbox_item.type = 'checkbox' ; checkbox_item.id = 'sample' ; checkbox_item.name = 'sample' ; checkbox_item.value = 'sample' ; checkbox_item.checked = true ; \u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u30c1\u30a7\u30c3\u30af\u72b6\u614b\u3092\u53c2\u7167\u3059\u308b\u306b\u306f .checked \u3092\u898b\u308c\u3070OK label const label_item = document .createElement( \"label\" ); label_item.htmlFor = 'sample' ; label_item.textContent = '\u8a2d\u5b9a' ; id \u306e\u6307\u5b9a\u306f for \u3067\u306a\u304f htmlFor \u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3002 JS\u3067label\u8981\u7d20\u306bfor\u5c5e\u6027\u304c\u8ffd\u52a0\u3067\u304d\u306a\u3044 \u30e1\u30bd\u30c3\u30c9 textContent \u30c6\u30ad\u30b9\u30c8\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3002 \u66f8\u3044\u305f\u3068\u304a\u308a\u306b\u8868\u73fe\u3055\u308c\u308b\u305f\u3081\u3001html\u3092\u66f8\u3044\u3066\u3082\u30bf\u30b0\u304c\u305d\u306e\u307e\u307e\u8868\u793a\u3055\u308c\u308b\u3002 \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u3044\u3066\u3082\u3001\u30a2\u30f3\u30ab\u30fc\u3068\u3057\u3066\u306f\u6a5f\u80fd\u305b\u305a\u3001\u305d\u306e\u307e\u307e <a href='...'>not anchor text</a> \u3068\u8868\u793a\u3055\u308c\u308b\u3002 v.textContent = \"<a href='...'>not anchor text</a>\" ; \u8907\u6570\u306e\u5b50\u8981\u7d20\u3092\u5168\u3066\u524a\u9664\u3059\u308b const component = document .getElementById( \"component\" ); while (component.firstChild) { component.removeChild(component.firstChild); firstChild\u3067\u5b50\u8981\u7d20\u304c\u5b58\u5728\u3059\u308b\u9593\u306f\u305d\u306e\u5b50\u8981\u7d20\u3092\u524a\u9664\u3059\u308b\u3001\u3092\u30eb\u30fc\u30d7\u3067\u56de\u305b\u3070OK \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b50\u8981\u7d20\u30ea\u30b9\u30c8\u3067\u30eb\u30fc\u30d7\u3057\u3066\u3082\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3002 for ( const child of component.children) { component.removeChild(child); } \u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca \u30da\u30fc\u30b8\u306e\u8aad\u307f\u8fbc\u307f\u5f8c document .addEventListener( \"DOMContentLoaded\" , () => { // ... }); window\u95a2\u9023 \u753b\u9762\u9077\u79fb(\u540c\u753b\u9762) window .location.href = url; \u5148\u982d\u3078\u30b9\u30af\u30ed\u30fc\u30eb const scroll_to_top = () => { window .scroll({ top : 0 , behavior : \"smooth\" , }); } add: \u30bf\u30a4\u30c8\u30eb\u30d0\u30fc\u30bf\u30c3\u30d7\u3067\u5148\u982d\u306b\u79fb\u52d5\u304a\u8a66\u3057 #71 by zaki-lknr \u00b7 Pull Request #75 \u00b7 zaki-lknr/swarm-sgbt","title":"JavaScript"},{"location":"lang/js/#javascript","text":"","title":"JavaScript"},{"location":"lang/js/#_1","text":"ECMAScript 5 compatibility table ECMAScript 6 compatibility table ECMAScript 2016+ compatibility table","title":"\u74b0\u5883\u30fb\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u5bfe\u5fdc\u72b6\u6cc1"},{"location":"lang/js/#_2","text":"","title":"\u5b9f\u88c5"},{"location":"lang/js/#_3","text":"","title":"\u5236\u5fa1\u69cb\u6587"},{"location":"lang/js/#if-else","text":"if (val > 0 ) { console.log( 'plus' ); } else if (val < 0 ) { console.log( 'minus' ); } else { console.log( 'else' ); }","title":"if else"},{"location":"lang/js/#for","text":"index\u3092\u4f7f\u3063\u305f\u666e\u901a\u306efor\u6587 let items = [ 1 , 2 , 3 , 4 , 5 ]; for ( let i = 0 ; i < items.length; i ++ ) { console.log(items[i]); } \u914d\u5217\u51e6\u7406\u306eforeach\u30bf\u30a4\u30d7\u306f of \u3092\u4f7f\u3046\u3002 for ( const item of items) { console.log(item); }","title":"for"},{"location":"lang/js/#break","text":"\u30eb\u30fc\u30d7\u3092\u629c\u3051\u308b","title":"break"},{"location":"lang/js/#continue","text":"\u6b21\u306e\u30eb\u30fc\u30d7\u3078","title":"continue"},{"location":"lang/js/#_4","text":"","title":"\u6570\u5024"},{"location":"lang/js/#_5","text":"Math .round(double_value);","title":"\u56db\u6368\u4e94\u5165"},{"location":"lang/js/#_6","text":"","title":"\u6587\u5b57\u5217"},{"location":"lang/js/#_7","text":"String (number_value);","title":"\u6570\u5024\u304b\u3089\u6587\u5b57\u3078\u306e\u5909\u63db"},{"location":"lang/js/#_8","text":"Number (string_value);","title":"\u6587\u5b57\u5217\u304b\u3089\u6570\u5024\u3078\u306e\u5909\u63db"},{"location":"lang/js/#date","text":"\u30b3\u30fc\u30c9\u4e0a\u5358\u7d14\u306a\u5909\u63db\u306f\u3001\u6c7a\u3081\u3089\u308c\u305f\u66f8\u5f0f\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u305d\u306e\u307e\u307eDate\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3067\u304d\u308b\u3002 date_str = \"2024.12.26 23:39:22.12345\" ; date = new Date (date_str); console.log(date); // 2024-12-26T14:39:22.123Z \u533a\u5207\u308a\u6587\u5b57\u304c\u306a\u3044\u5834\u5408\u3084\u300124\u6642\u306a\u3069\u306f Invalid Date \u3068\u306a\u308b\u3002","title":"Date\u3078\u306e\u5909\u63db"},{"location":"lang/js/#padstart0","text":"padStart() \u30e1\u30bd\u30c3\u30c9\u306f\u3001\u7d50\u679c\u306e\u6587\u5b57\u5217\u304c\u6307\u5b9a\u3057\u305f\u9577\u3055\u306b\u306a\u308b\u3088\u3046\u306b\u3001\u73fe\u5728\u306e\u6587\u5b57\u5217\u3092\u4ed6\u306e\u6587\u5b57\u5217\u3067\uff08\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u7e70\u308a\u8fd4\u3057\u3066\uff09\u5ef6\u9577\u3057\u307e\u3059\u3002\u5ef6\u9577\u306f\u3001\u73fe\u5728\u306e\u6587\u5b57\u5217\u306e\u5148\u982d\u304b\u3089\u9069\u7528\u3055\u308c\u307e\u3059\u3002 const d = new Date (); const s = d.getFullYear().toString().padStart( 4 , \"0\" ) + \"-\" + (d.getMonth() +1 ).toString().padStart( 2 , \"0\" ) + \"-\" + d.getDate().toString().padStart( 2 , \"0\" ) + \" \" + d.getHours().toString().padStart( 2 , \"0\" ) + \":\" + d.getMinutes().toString().padStart( 2 , \"0\" ) + \":\" + d.getSeconds().toString().padStart( 2 , \"0\" ); console.log(s); \u3053\u308c\u3067\u73fe\u5728\u6642\u523b\u306e YYYY-mm-dd HH:MM:ss \u5f62\u5f0f(0\u57cb\u3081)\u306b\u306a\u308b\u3002 https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/String/padStart","title":"padStart()\u30670\u57cb\u3081"},{"location":"lang/js/#_9","text":"\u6587\u5b57\u6570\u306f length \u30e1\u30bd\u30c3\u30c9\u3002 const sample_str = '\u5b8c\u5168\u306b\u3068\u304d\u3081\u3044\u3061\u3083\u3063\u305f' ; console.log(sample_str.length); \u51fa\u529b\u306f 11","title":"\u6587\u5b57\u5217\u9577"},{"location":"lang/js/#_10","text":"str = 'abc' ; console.log(str.repeat( 3 )); // \u7d50\u679c\u306f \"abcabcabc\"","title":"\u6587\u5b57\u5217\u306e\u7e70\u308a\u8fd4\u3057"},{"location":"lang/js/#_11","text":"","title":"\u90e8\u5206\u6587\u5b57\u5217"},{"location":"lang/js/#substring","text":"substring(\u958b\u59cb\u4f4d\u7f6e, \u7d42\u4e86\u4f4d\u7f6e) \u3092\u4f7f\u3046\u3002(\u7d42\u4e86\u4f4d\u7f6e\u306f\u300c\u3053\u3053\u4ee5\u964d\u306f\u9664\u5916\u300d) str = 'hello world' ; console.log(str.substring( 3 , 8 )); \u51fa\u529b\u306f lo wo \u5f15\u6570\u304c\u4e00\u3064\u306e\u5834\u5408\u306f\u3001\u305d\u306e\u4f4d\u7f6e\u304b\u3089\u6700\u5f8c\u307e\u3067\u3002 console.log(str.substring( 3 )); // \u51fa\u529b\u306f \"lo world\" \u7b2c2\u5f15\u6570\u306e\u8ca0\u6570\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306e\u52d5\u4f5c\u306f\u4ee5\u4e0b substring() \u306f\u8ca0\u6570\u3042\u308b\u3044\u306f NaN \u304c\u6307\u5b9a\u3055\u308c\u305f\u3089 0 \u3068\u3057\u3066\u51e6\u7406 \u7b2c1\u5f15\u6570\u3088\u308a\u7b2c2\u5f15\u6570\u304c\u5c0f\u3055\u3044\u5834\u5408\u306f\u30012\u3064\u306e\u5f15\u6570\u3092\u4ea4\u63db\u3057\u3066\u51e6\u7406 str = 'hello world' ; console.log(str.substring( 3 , -2 )); // \"hel\" \u3088\u3063\u3066\u3001 substring(3, -2) \u306e\u51e6\u7406\u306f\u3001 substring(0, 3) \u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u308b\u3002","title":"substring"},{"location":"lang/js/#slice","text":"str = 'hello world' ; console.log(str.slice( 3 , 8 )); // \"lo wo\" \u57fa\u672c\u7684\u306b\u306f substring() \u3068\u540c\u3058 str = 'hello world' ; console.log(str.slice( 3 )); // \"lo world\" \u7b2c1\u5f15\u6570\u304c\u8ca0\u6570\u306e\u5834\u5408\u306f\u672b\u5c3e\u304b\u3089\u3002 str = 'hello world' ; console.log(str.slice( -3 )); // \"rld\" \u7b2c2\u5f15\u6570\u306b\u8ca0\u6570\u3092\u6307\u5b9a\u3059\u308b\u3068\u672b\u5c3e\u304b\u3089\u6570\u3048\u308b\u3002 str = 'hello world' ; console.log(str.slice( 3 , -2 )); // \"lo wor\" \u7b2c2\u5f15\u6570\u304c\u7b2c1\u5f15\u6570\u3088\u308a\u5c0f\u3055\u3044\u5834\u5408\u306f\u7a7a\u6587\u5b57\u306b\u306a\u308b str = 'hello world' ; console.log(str.slice( 3 , 1 ).length); // 0","title":"slice"},{"location":"lang/js/#substr","text":"String.prototype.substr() - JavaScript | MDN \u3053\u306e\u6a5f\u80fd\u306f\u975e\u63a8\u5968\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u307e\u3060\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30d6\u30e9\u30a6\u30b6\u30fc\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u3059\u3067\u306b\u95a2\u9023\u3059\u308b\u30a6\u30a7\u30d6\u6a19\u6e96\u304b\u3089\u524a\u9664\u3055\u308c\u3066\u3044\u308b\u304b\u3001\u524a\u9664\u306e\u624b\u7d9a\u304d\u4e2d\u3067\u3042\u308b\u304b\u3001\u4e92\u63db\u6027\u306e\u305f\u3081\u3060\u3051\u306b\u6b8b\u3055\u308c\u3066\u3044\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002","title":"substr (\u975e\u63a8\u5968)"},{"location":"lang/js/#_12","text":"val = 'http://www.example.org' ; if (val.startsWith( 'http' )) { console.log( 'valid' ); } else { console.log( 'invalid' ); }","title":"\u5148\u982d\u304c\u6307\u5b9a\u306e\u6587\u5b57\u5217\u3067\u59cb\u307e\u3063\u3066\u3044\u308b\u304b"},{"location":"lang/js/#split","text":"const string = 'abc,def,ghi' ; const items = string.split( \",\" ); \u7d50\u679c\u306f [ 'abc', 'def', 'ghi' ] \u306b\u306a\u308b\u3002 String.prototype.split() - JavaScript | MDN \u6b63\u898f\u8868\u73fe\u3092\u4f7f\u3046\u5834\u5408\u306f\u305d\u306e\u307e\u307e\u3002 strings.split( /,\\s*/ );","title":"split"},{"location":"lang/js/#_13","text":"string.length \u306f\u6587\u5b57\u6570\u3092\u8fd4\u3059\u3002 \u30d0\u30a4\u30c8\u6570\u3092\u5f97\u308b\u306b\u306f\u4ee5\u4e0b\u3002 const sample_str = '\u5b8c\u5168\u306b\u3068\u304d\u3081\u3044\u3061\u3083\u3063\u305f' ; const size = new Blob([sample_str]).size; console.log(size); \u7d50\u679c\u306f 33","title":"\u6587\u5b57\u5217\u9577\u306e\u30d0\u30a4\u30c8\u63db\u7b97"},{"location":"lang/js/#urlparse","text":"URL \u3092\u4f7f\u3046\u3068\u7c21\u5358 const url = 'https://www.swarmapp.com/zaki_hmkc/checkin/66ca6619c1e2dd41311a7dcb?s=UrwNh_CXxd93txmhWtdxCdPOTLQ' ; const url_obj = new URL(url); url_obj \u306e\u4e2d\u8eab\u306f\u4ee5\u4e0b\u306e\u901a\u308a URL { href : 'https://www.swarmapp.com/zaki_hmkc/checkin/66ca6619c1e2dd41311a7dcb?s=UrwNh_CXxd93txmhWtdxCdPOTLQ' , origin : 'https://www.swarmapp.com' , protocol : 'https:' , username : '' , password : '' , host : 'www.swarmapp.com' , hostname : 'www.swarmapp.com' , port : '' , pathname : '/zaki_hmkc/checkin/66ca6619c1e2dd41311a7dcb' , search : '?s=UrwNh_CXxd93txmhWtdxCdPOTLQ' , searchParams : URLSearchParams { 's' => 'UrwNh_CXxd93txmhWtdxCdPOTLQ' }, hash : '' }","title":"URL\u6587\u5b57\u5217\u306eparse"},{"location":"lang/js/#url","text":"encodeURIComponent (string);","title":"URL\u30a8\u30f3\u30b3\u30fc\u30c9"},{"location":"lang/js/#_14","text":"\u6b63\u898f\u8868\u73fe - JavaScript | MDN","title":"\u6b63\u898f\u8868\u73fe"},{"location":"lang/js/#test","text":"true/false\u306e\u5224\u5b9a\u3060\u3051\u306a\u3089(String\u3067\u306a\u304fRegExp\u306e\u30e1\u30bd\u30c3\u30c9\u306e) test \u304c\u4f7f\u3048\u308b\u3002 sample = 'hello world' ; if ( /world/ .test(sample)) { console.log( \"match\" ); }","title":"\u5358\u7d14\u306a\u30de\u30c3\u30c1\u30f3\u30b0(test)"},{"location":"lang/js/#match","text":"date_str = \"20241226\" ; if (r = date_str.match( /^(\\d{4})(\\d{2})(\\d{2})$/ )) { console.log(r); } \u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a [ '20241226', '2024', '12', '26', index: 0, input: '20241226 ', groups: undefined ]","title":"\u30de\u30c3\u30c1\u3057\u305f\u7d50\u679c\u3092\u914d\u5217\u3067\u53c2\u7167\u3059\u308b(match)"},{"location":"lang/js/#search","text":"search() \u3092\u4f7f\u3046\u3068\u3001\u6700\u521d\u306b\u30de\u30c3\u30c1\u3057\u305f\u4f4d\u7f6e\u3092\u8fd4\u3059\u3002 date_str = \"date: 20250209\" ; r = date_str.search( /\\d/ ); if (r != -1 ) { console.log(r); } \u30de\u30c3\u30c1\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u306f -1 \u304c\u8fd4\u308b\u3002","title":"\u30de\u30c3\u30c1\u3057\u305f\u4f4d\u7f6e\u3092\u53d6\u5f97\u3059\u308b(search)"},{"location":"lang/js/#replace","text":"const sample_string = '......' ; const new_string = sample_string.replace( /regexp/gi , 'replace-string' );","title":"\u7f6e\u63db(replace)"},{"location":"lang/js/#switch","text":"const str = '\u30c6\u30b9\u30c8\u3057\u305f\u3044\u6587\u5b57\u5217' ; switch ( true ) { case /^regexp1/ .test(str) : // ... break ; case /^regexp2/ .test(str) : // ... break ; default : break ; }","title":"switch\u6587\u3067\u4f7f\u3046"},{"location":"lang/js/#_15","text":"","title":"\u914d\u5217"},{"location":"lang/js/#_16","text":"sample_array = [ 1 , 2 , 3 ];","title":"\u5b9a\u7fa9"},{"location":"lang/js/#_17","text":"push \u3067\u672b\u5c3e\u306b\u8ffd\u52a0\u3002 const result = []; for (...) { const item = { ... }; result.push(item); }","title":"\u8981\u7d20\u306e\u8ffd\u52a0"},{"location":"lang/js/#_18","text":"const list = [ 1 , 2 , 3 , 4 , 5 ]; list.splice( 0 ); console.log(list); console.log(list.length); \u51fa\u529b\u306f [] \u3068 0","title":"\u8981\u7d20\u306e\u30af\u30ea\u30a2"},{"location":"lang/js/#_19","text":"sample_array = [ 1 , 2 , 3 ]; console.log(sample_array.at( -1 )); \u7d50\u679c\u306f 3","title":"\u6700\u5f8c\u306e\u8981\u7d20"},{"location":"lang/js/#_20","text":"status = get_http_status(); if ([ 200 , 201 , 202 , 203 ].includes(status)) { ... }","title":"\u8981\u7d20\u306e\u6709\u7121"},{"location":"lang/js/#join","text":"sample_array = [ 1 , 2 , 3 ]; console.log(sample_array.join()); \u5f15\u6570\u304c\u7a7a\u306e\u5834\u5408\u306f\u51fa\u529b\u306f 1,2,3 \u3068\u306a\u308b\u3002 \u5f15\u6570\u3092\u6307\u5b9a\u3059\u308c\u3070\u305d\u308c\u304c\u30c7\u30ea\u30df\u30bf\u3068\u306a\u308b\u3002","title":"join"},{"location":"lang/js/#_21","text":"","title":"\u8f9e\u66f8"},{"location":"lang/js/#_22","text":"const data = { host : '192.168.0.1' , user : 'zaki' , home : '/home/zaki' } \u7a7a\u30c7\u30fc\u30bf const dict = {};","title":"\u8f9e\u66f8\u306e\u5b9a\u7fa9"},{"location":"lang/js/#_23","text":"\u305d\u306e\u307e\u307e\u8ffd\u52a0\u3059\u308c\u3070OK data.password = 'curry_tabetai' ; \u30ad\u30fc\u90e8\u5206\u306b\u8a18\u53f7\u3092\u542b\u3093\u3060\u308a\u5909\u6570\u53c2\u7167\u3057\u305f\u3044\u5834\u5408\u306f'[]'\u3092\u4f7f\u3046\u3002 data[foo.bar.buz.get( 'key' )] = foo.bar.buz.get( 'value' );","title":"\u8981\u7d20\u306e\u8ffd\u52a0"},{"location":"lang/js/#_24","text":"\u7279\u306b\u305d\u308c\u7528\u306e\u30e1\u30bd\u30c3\u30c9\u7b49\u306f\u7121\u3044\u3002 \u30ad\u30fc\u4e00\u89a7\u3092\u53d6\u308a\u51fa\u3057\u3066length\u3092\u898b\u308b\u306e\u304c\u30bb\u30aa\u30ea\u30fc if ( Object .keys(dict).length) { ... }","title":"\u7a7a\u5224\u5b9a"},{"location":"lang/js/#_25","text":"","title":"\u95a2\u6570\u5b9a\u7fa9"},{"location":"lang/js/#_26","text":"function func(arg) { console.log(arg); } func( 'njgk' );","title":"\u6614\u306a\u304c\u3089\u306e\u5b9f\u88c5"},{"location":"lang/js/#_27","text":"\u2191\u306e func(arg){} \u5b9a\u7fa9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u3051\u308b const func = (arg) => { console.log(arg); } func( 'njgk' );","title":"\u30a2\u30ed\u30fc\u95a2\u6570"},{"location":"lang/js/#_28","text":"typeof \u3092\u4f7f\u3046\u3002 console.log( \"type: \" + typeof (users))","title":"\u578b\u306e\u78ba\u8a8d"},{"location":"lang/js/#_29","text":"in \u3092\u4f7f\u3046\u3002 let data = { host : '192.168.0.1' , user : 'zaki' , home : '/home/zaki' } if ( 'password' in data) { console.log( 'defined password' ); } else { console.log( 'not defined password' ); } \u3053\u308c\u306f not defined \u306e\u65b9\u304c\u52d5\u4f5c\u3059\u308b\u3002","title":"\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u5b58\u5728\u30c1\u30a7\u30c3\u30af"},{"location":"lang/js/#_30","text":"let d = new Date (); console.log(d.toISOString()); \u7d50\u679c(\u306e\u66f8\u5f0f)\u306f 2024-08-17T10:28:28.466Z","title":"\u6642\u523b\u51e6\u7406"},{"location":"lang/js/#date_1","text":"const d = new Date (); console.log(d); console.log(d.getFullYear()); console.log(d.getMonth() + 1 ); console.log(d.getDate()); console.log(d.getHours()); console.log(d.getMinutes()); console.log(d.getSeconds()); \u51fa\u529b\u306f\u4ee5\u4e0b ( date \u306f\u300c2025\u5e74 2\u6708 8\u65e5 \u571f\u66dc\u65e5 22:44:42 JST\u300d) 2025-02-08T13:44:42.187Z 2025 2 8 22 44 42","title":"Date\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u5e74\u6708\u65e5\u6642\u5206\u79d2\u3092\u53d6\u5f97"},{"location":"lang/js/#date_2","text":"\u5272\u3068\u30a2\u30d0\u30a6\u30c8\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\u3067\u304d\u308b\u3002 const str1 = \"2024/12/27 11:23:34\" ; const d1 = new Date (str1); console.log(d1); \u51fa\u529b\u306f\u4ee5\u4e0b 2024-12-27T02:23:34.000Z \u5b9f\u884c\u3057\u305f\u74b0\u5883\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u6642\u523b\u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u308b(JST\u3067\u3042\u308c\u3070\u3001\u65e5\u672c\u6642\u959311\u664223\u5206) \u4ee5\u4e0b\u306e\u5834\u5408\u306fJST\u306e12\u664223\u5206\u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u308b const str1 = \"2024-12-27T11:23:34+0800\" ; \u305d\u306e\u4ed6\u306b\u6709\u52b9\u306a\u66f8\u5f0f\u4f8b\u3068\u3057\u3066\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 str = \"2024-12-27 11:23:34\" ; str = \"2024.12.27 11:23:34\" ; str = \"2024-12-27T11:23:34\" ; str = \"2024-12-27T11:23:34+0900\" ;","title":"\u65e5\u6642\u3092\u8868\u3059\u6587\u5b57\u5217\u304b\u3089Date\u578b"},{"location":"lang/js/#unixdate","text":"// Date()\u306e\u5f15\u6570\u306f\u30df\u30ea\u79d2\u3067\u6307\u5b9a\u3059\u308b unix_date_sec = '1723426784' let datetime = new Date (unix_date_sec * 1000 ); console.log(datetime); console.log(datetime.toLocaleDateString()); console.log(datetime.toLocaleTimeString()); \u51fa\u529b\u306f\u4ee5\u4e0b 2024-08-12T01:39:44.000Z 2024/8/12 10:39:44","title":"UNIX\u30bf\u30a4\u30e0\u304b\u3089Date\u578b"},{"location":"lang/js/#date_3","text":"const tomorrow = new Date (foobar_date); tomorrow.setDate(tomorrow.getDate() + 1 );","title":"\u3042\u308bDate\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u7fcc\u65e5"},{"location":"lang/js/#date_4","text":"Date\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540c\u58eb\u306e\u5dee\u5206\u306f\u30df\u30ea\u79d2 const today = new Date (); const tomorrow = new Date ().setDate(today.getDate() + 1 ); console.log(tomorrow - today); \u51fa\u529b\u306f86400000","title":"Date\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540c\u58eb\u306e\u5dee\u5206"},{"location":"lang/js/#_31","text":"const d = new Date (); console.log(d.getTimezoneOffset()); console.log(d.getTimezoneOffset() / 60 ); OS\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u8a2d\u5b9a\u3067\u6c7a\u307e\u308b\u3002 \u5024\u306f\u5206\u3067\u5f97\u3089\u308c\u308b\u305f\u3081JST(GMT+0900)\u8a2d\u5b9a\u3067\u5b9f\u884c\u3059\u308b\u3068\u51fa\u529b\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 -540 -9","title":"\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u30aa\u30d5\u30bb\u30c3\u30c8\u53d6\u5f97"},{"location":"lang/js/#utc","text":"getFullYear() \u306a\u3069\u306b\u5bfe\u5fdc\u3057\u305f getUTCFullYear() \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3002 const utc_datestr = d.getUTCFullYear().toString().padStart( 4 , \"0\" ) + \"/\" + (d.getUTCMonth() + 1 ).toString().padStart( 2 , \"0\" ) + \"/\" + d.getUTCDate().toString().padStart( 2 , \"0\" );","title":"UTC\u306e\u6642\u523b\u60c5\u5831\u3092\u5f97\u308b"},{"location":"lang/js/#_32","text":"const tz = Intl .DateTimeFormat().resolvedOptions().timeZon; console.log(tz); \u51fa\u529b\u306f\u4ee5\u4e0b Asia/Tokyo Intl.DateTimeFormat.prototype.resolvedOptions() - JavaScript | MDN","title":"\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u6587\u5b57\u5217\u306e\u53d6\u5f97"},{"location":"lang/js/#_33","text":"","title":"\u975e\u540c\u671f\u51e6\u7406"},{"location":"lang/js/#promise","text":"resolve()\u3067\u4e2d\u8eab\u3092\u53d6\u308a\u51fa\u3059 let promise_value = async_func(); const promise = new Promise ((resolve) => { resolve(promise_value); }).then((val) => { console.log(val); // Promise\u3092resolve()\u3057\u305f\u306e\u3067\u53d6\u308c\u308b })","title":"Promise\u5909\u6570"},{"location":"lang/js/#http","text":"","title":"HTTP"},{"location":"lang/js/#get","text":"\u57fa\u672c\u306f\u3053\u308c\u3002 const resp = fetch(url);","title":"GET"},{"location":"lang/js/#_34","text":"text\u5f62\u5f0f\u3067\u30ec\u30b9\u30dd\u30f3\u30b9body\u3092\u53d6\u308a\u51fa\u3059\u306b\u306f const body = resp.text(); REST\u306a\u3069\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u304cJSON\u5f62\u5f0f\u306e\u5834\u5408\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u53d6\u308a\u51fa\u3059\u3053\u3068\u3082\u3067\u304d\u308b\u3002 const obj = resp.json();","title":"\u30ec\u30b9\u30dd\u30f3\u30b9"},{"location":"lang/js/#_35","text":"if (res.status === 200 ) { // status\u304c200\u306e\u5834\u5408\u306e\u51e6\u7406 }","title":"\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9"},{"location":"lang/js/#_36","text":"const headers = new Headers(); headers.append( 'accept' , 'application/json' ); const res = await fetch(url, { headers : headers });","title":"\u30ea\u30af\u30a8\u30b9\u30c8\u30d8\u30c3\u30c0"},{"location":"lang/js/#post","text":"\u8f9e\u66f8\u578b\u30c7\u30fc\u30bf\u3092JSON\u5f62\u5f0f\u3067post\u3059\u308b\u3002 const headers = new Headers(); headers.append( 'Content-Type' , 'application/json' ); headers.append( 'Authorization' , 'Bearer ' + token); const payload = JSON .stringify(dict_param); const res = await fetch(url, { method : \"POST\" , body : payload, headers : headers });","title":"POST"},{"location":"lang/js/#_37","text":"","title":"\u30d5\u30a1\u30a4\u30eb"},{"location":"lang/js/#javascriptpc","text":"< input type = \"file\" id = \"file\" accept = \"image/*\" /> < div id = \"view\" ></ div > const file_blob = document .getElementById( \"file\" ).files[ 0 ]; const reader = new FileReader(); reader.readAsDataURL(file_blob); reader.onload = function () { const img = document .createElement( \"img\" ); img.src = reader.result; const div = document .getElementById( 'view' ); div.appendChild(img); }","title":"\u30d6\u30e9\u30a6\u30b6JavaScript\u3067PC\u4e0a\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u3080"},{"location":"lang/js/#_38","text":"","title":"\u4f8b\u5916"},{"location":"lang/js/#throw","text":"const res = await fetch(url, { method : \"POST\" , body : body, headers : headers }); if ( ! res.ok) { throw new Error ( 'fetch failed: ' + await res.text()); }","title":"throw\u3059\u308b"},{"location":"lang/js/#catch","text":"try { const res_img = await fetch(url); } catch (err) { throw new Error ( 'http access failed: ' + err + \"\\nurl: \" + url); }","title":"catch\u3059\u308b"},{"location":"lang/js/#import","text":"","title":"import"},{"location":"lang/js/#dom","text":"","title":"DOM"},{"location":"lang/js/#_39","text":"const niji = document .getElementById( \"niji\" ); \u3053\u308c\u3067html\u5185\u306e\u4ee5\u4e0b\u306e\u8981\u7d20\u304c\u53d6\u5f97\u3067\u304d\u308b\u3002 < div id = \"niji\" >","title":"\u8981\u7d20\u306e\u53d6\u5f97"},{"location":"lang/js/#_40","text":"let width = document .getElementById( \"niji\" ).clientWidth; let height = document .getElementById( \"niji\" ).clientHeight;","title":"\u8981\u7d20\u306e\u5e45\u30fb\u9ad8\u3055"},{"location":"lang/js/#_41","text":"","title":"\u8981\u7d20\u5225"},{"location":"lang/js/#button","text":"const btn = document .createElement( \"button\" ); btn.textContent = \"start\" ; btn.addEventListener( 'click' , ()=> { foobar(); });","title":"button"},{"location":"lang/js/#img","text":"let image_item = document .createElement( \"img\" ); image_item.src = image_url;","title":"img"},{"location":"lang/js/#anchor","text":"const a = document .createElement( 'a' ); a.href = 'https://lovelive-anime.jp/nijigasaki/story.php' ; a.textContent = '\u8679\u30f6\u54b2' ; a.target = '_blank' ;","title":"anchor"},{"location":"lang/js/#textfield","text":"const field = document .createElement( \"input\" ) field.type = 'text' ; field.id = 'input_field' ; field.value = 'sample' ;","title":"textfield"},{"location":"lang/js/#checkbox","text":"const checkbox_item = document .createElement( \"input\" ); checkbox_item.type = 'checkbox' ; checkbox_item.id = 'sample' ; checkbox_item.name = 'sample' ; checkbox_item.value = 'sample' ; checkbox_item.checked = true ; \u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u30c1\u30a7\u30c3\u30af\u72b6\u614b\u3092\u53c2\u7167\u3059\u308b\u306b\u306f .checked \u3092\u898b\u308c\u3070OK","title":"checkbox"},{"location":"lang/js/#label","text":"const label_item = document .createElement( \"label\" ); label_item.htmlFor = 'sample' ; label_item.textContent = '\u8a2d\u5b9a' ; id \u306e\u6307\u5b9a\u306f for \u3067\u306a\u304f htmlFor \u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3002 JS\u3067label\u8981\u7d20\u306bfor\u5c5e\u6027\u304c\u8ffd\u52a0\u3067\u304d\u306a\u3044","title":"label"},{"location":"lang/js/#_42","text":"","title":"\u30e1\u30bd\u30c3\u30c9"},{"location":"lang/js/#textcontent","text":"\u30c6\u30ad\u30b9\u30c8\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3002 \u66f8\u3044\u305f\u3068\u304a\u308a\u306b\u8868\u73fe\u3055\u308c\u308b\u305f\u3081\u3001html\u3092\u66f8\u3044\u3066\u3082\u30bf\u30b0\u304c\u305d\u306e\u307e\u307e\u8868\u793a\u3055\u308c\u308b\u3002 \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u3044\u3066\u3082\u3001\u30a2\u30f3\u30ab\u30fc\u3068\u3057\u3066\u306f\u6a5f\u80fd\u305b\u305a\u3001\u305d\u306e\u307e\u307e <a href='...'>not anchor text</a> \u3068\u8868\u793a\u3055\u308c\u308b\u3002 v.textContent = \"<a href='...'>not anchor text</a>\" ;","title":"textContent"},{"location":"lang/js/#_43","text":"const component = document .getElementById( \"component\" ); while (component.firstChild) { component.removeChild(component.firstChild); firstChild\u3067\u5b50\u8981\u7d20\u304c\u5b58\u5728\u3059\u308b\u9593\u306f\u305d\u306e\u5b50\u8981\u7d20\u3092\u524a\u9664\u3059\u308b\u3001\u3092\u30eb\u30fc\u30d7\u3067\u56de\u305b\u3070OK \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b50\u8981\u7d20\u30ea\u30b9\u30c8\u3067\u30eb\u30fc\u30d7\u3057\u3066\u3082\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3002 for ( const child of component.children) { component.removeChild(child); }","title":"\u8907\u6570\u306e\u5b50\u8981\u7d20\u3092\u5168\u3066\u524a\u9664\u3059\u308b"},{"location":"lang/js/#_44","text":"","title":"\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca"},{"location":"lang/js/#_45","text":"document .addEventListener( \"DOMContentLoaded\" , () => { // ... });","title":"\u30da\u30fc\u30b8\u306e\u8aad\u307f\u8fbc\u307f\u5f8c"},{"location":"lang/js/#window","text":"","title":"window\u95a2\u9023"},{"location":"lang/js/#_46","text":"window .location.href = url;","title":"\u753b\u9762\u9077\u79fb(\u540c\u753b\u9762)"},{"location":"lang/js/#_47","text":"const scroll_to_top = () => { window .scroll({ top : 0 , behavior : \"smooth\" , }); } add: \u30bf\u30a4\u30c8\u30eb\u30d0\u30fc\u30bf\u30c3\u30d7\u3067\u5148\u982d\u306b\u79fb\u52d5\u304a\u8a66\u3057 #71 by zaki-lknr \u00b7 Pull Request #75 \u00b7 zaki-lknr/swarm-sgbt","title":"\u5148\u982d\u3078\u30b9\u30af\u30ed\u30fc\u30eb"},{"location":"lang/json/","text":"JSON JMESPath \u4ed5\u69d8: JMESPath Specification \u2014 JMESPath","title":"JSON"},{"location":"lang/json/#json","text":"","title":"JSON"},{"location":"lang/json/#jmespath","text":"\u4ed5\u69d8: JMESPath Specification \u2014 JMESPath","title":"JMESPath"},{"location":"lang/nodejs/","text":"Node.js \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Fedora40 dnf info nodejs : : \u540d\u524d : nodejs \u30a8\u30dd\u30c3\u30af : 1 \u30d0\u30fc\u30b8\u30e7\u30f3 : 20.12.2 \u30ea\u30ea\u30fc\u30b9 : 1.fc40 Arch : x86_64 : dnf \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002 $ sudo dnf install nodejs \u4f9d\u5b58\u95a2\u4fc2\u304c\u89e3\u6c7a\u3057\u307e\u3057\u305f\u3002 =============================================================================================================================== \u30d1\u30c3\u30b1\u30fc\u30b8 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30fc \u30d0\u30fc\u30b8\u30e7\u30f3 \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc \u30b5\u30a4\u30ba =============================================================================================================================== \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: nodejs x86_64 1:20.12.2-1.fc40 updates 51 k \u4f9d\u5b58\u95a2\u4fc2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: nodejs-cjs-module-lexer noarch 1.2.3-5.fc40 fedora 37 k nodejs-libs x86_64 1:20.12.2-1.fc40 updates 16 M nodejs-undici noarch 6.11.1-2.fc40 updates 292 k \u5f31\u3044\u4f9d\u5b58\u95a2\u4fc2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: nodejs-docs noarch 1:20.12.2-1.fc40 updates 8.2 M nodejs-full-i18n x86_64 1:20.12.2-1.fc40 updates 8.4 M nodejs-npm x86_64 1:10.5.0-1.20.12.2.1.fc40 updates 2.2 M \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u6982\u8981 =============================================================================================================================== \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb 7 \u30d1\u30c3\u30b1\u30fc\u30b8 \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30ba\u306e\u5408\u8a08: 35 M \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e\u30b5\u30a4\u30ba: 185 M \u3053\u308c\u3067\u3088\u308d\u3057\u3044\u3067\u3059\u304b? [y/N]: yarn\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb root\u6a29\u9650\u304c\u5fc5\u8981 $ npm install -g yarn npm ERR! code EACCES npm ERR! syscall mkdir npm ERR! path /usr/local/lib/node_modules npm ERR! errno -13 npm ERR! Error: EACCES: permission denied, mkdir '/usr/local/lib/node_modules' npm ERR! [Error: EACCES: permission denied, mkdir '/usr/local/lib/node_modules'] { npm ERR! errno: -13, npm ERR! code: 'EACCES', npm ERR! syscall: 'mkdir', npm ERR! path: '/usr/local/lib/node_modules' npm ERR! } npm ERR! npm ERR! The operation was rejected by your operating system. npm ERR! It is likely you do not have the permissions to access this file as the current user npm ERR! npm ERR! If you believe this might be a permissions issue, please double-check the npm ERR! permissions of the file and its containing directories, or try running npm ERR! the command again as root/Administrator. npm ERR! A complete log of this run can be found in: /home/zaki/.npm/_logs/2024-08-04T07_02_22_789Z-debug-0.log $ sudo npm install -g yarn added 1 package in 720ms npm notice npm notice New minor version of npm available! 10.5.0 -> 10.8.2 npm notice Changelog: https://github.com/npm/cli/releases/tag/v10.8.2 npm notice Run npm install -g npm@10.8.2 to update! npm notice $ which yarn /usr/local/bin/yarn \u5b9f\u884c ```js:hello-world.js function hello() { console.log(\"hello world\"); } hello(); ```console $ node hello-world.js hello world","title":"Node.js"},{"location":"lang/nodejs/#nodejs","text":"","title":"Node.js"},{"location":"lang/nodejs/#_1","text":"Fedora40 dnf info nodejs : : \u540d\u524d : nodejs \u30a8\u30dd\u30c3\u30af : 1 \u30d0\u30fc\u30b8\u30e7\u30f3 : 20.12.2 \u30ea\u30ea\u30fc\u30b9 : 1.fc40 Arch : x86_64 : dnf \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002 $ sudo dnf install nodejs \u4f9d\u5b58\u95a2\u4fc2\u304c\u89e3\u6c7a\u3057\u307e\u3057\u305f\u3002 =============================================================================================================================== \u30d1\u30c3\u30b1\u30fc\u30b8 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30fc \u30d0\u30fc\u30b8\u30e7\u30f3 \u30ea\u30dd\u30b8\u30c8\u30ea\u30fc \u30b5\u30a4\u30ba =============================================================================================================================== \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: nodejs x86_64 1:20.12.2-1.fc40 updates 51 k \u4f9d\u5b58\u95a2\u4fc2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: nodejs-cjs-module-lexer noarch 1.2.3-5.fc40 fedora 37 k nodejs-libs x86_64 1:20.12.2-1.fc40 updates 16 M nodejs-undici noarch 6.11.1-2.fc40 updates 292 k \u5f31\u3044\u4f9d\u5b58\u95a2\u4fc2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: nodejs-docs noarch 1:20.12.2-1.fc40 updates 8.2 M nodejs-full-i18n x86_64 1:20.12.2-1.fc40 updates 8.4 M nodejs-npm x86_64 1:10.5.0-1.20.12.2.1.fc40 updates 2.2 M \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u6982\u8981 =============================================================================================================================== \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb 7 \u30d1\u30c3\u30b1\u30fc\u30b8 \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30ba\u306e\u5408\u8a08: 35 M \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e\u30b5\u30a4\u30ba: 185 M \u3053\u308c\u3067\u3088\u308d\u3057\u3044\u3067\u3059\u304b? [y/N]:","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"lang/nodejs/#yarn","text":"root\u6a29\u9650\u304c\u5fc5\u8981 $ npm install -g yarn npm ERR! code EACCES npm ERR! syscall mkdir npm ERR! path /usr/local/lib/node_modules npm ERR! errno -13 npm ERR! Error: EACCES: permission denied, mkdir '/usr/local/lib/node_modules' npm ERR! [Error: EACCES: permission denied, mkdir '/usr/local/lib/node_modules'] { npm ERR! errno: -13, npm ERR! code: 'EACCES', npm ERR! syscall: 'mkdir', npm ERR! path: '/usr/local/lib/node_modules' npm ERR! } npm ERR! npm ERR! The operation was rejected by your operating system. npm ERR! It is likely you do not have the permissions to access this file as the current user npm ERR! npm ERR! If you believe this might be a permissions issue, please double-check the npm ERR! permissions of the file and its containing directories, or try running npm ERR! the command again as root/Administrator. npm ERR! A complete log of this run can be found in: /home/zaki/.npm/_logs/2024-08-04T07_02_22_789Z-debug-0.log $ sudo npm install -g yarn added 1 package in 720ms npm notice npm notice New minor version of npm available! 10.5.0 -> 10.8.2 npm notice Changelog: https://github.com/npm/cli/releases/tag/v10.8.2 npm notice Run npm install -g npm@10.8.2 to update! npm notice $ which yarn /usr/local/bin/yarn","title":"yarn\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"lang/nodejs/#_2","text":"```js:hello-world.js function hello() { console.log(\"hello world\"); } hello(); ```console $ node hello-world.js hello world","title":"\u5b9f\u884c"},{"location":"lang/powershell/","text":"PowerShell \u5b9f\u884c\u521d\u671f\u8a2d\u5b9a \u3053\u306e\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9f\u884c\u304c\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u30d5\u30a1\u30a4\u30eb C:\\path\\to\\foobar.ps1 \u3092\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u300cabout_Execution_Policies\u300d(https://go.microsoft.c om/fwlink/?LinkID=135170) \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 + CategoryInfo : \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 \u30a8\u30e9\u30fc: (: ) []\u3001ParentContainsErrorRecordException + FullyQualifiedErrorId : UnauthorizedAccess \u305d\u306e\u3068\u304d\u306b\u4e00\u6642\u7684\u306b\u8a31\u53ef\u3059\u308b\u306b\u306f PS> Set-ExecutionPolicy RemoteSigned -Scope Process \u30b7\u30b9\u30c6\u30e0\u30ef\u30a4\u30c9\u306b\u8a2d\u5b9a\u3059\u308b\u306b\u306f\u3001\u7ba1\u7406\u8005\u6a29\u9650\u3067 PS> Set-ExecutionPolicy RemoteSigned version\u78ba\u8a8d PS> $PSVersionTable help Get-Help \u3007\u3007 https://learn.microsoft.com/ja-jp/powershell/module/microsoft.powershell.core/get-help http\u30a2\u30af\u30bb\u30b9 curl/PowerShell\u3067HTTP\u30a2\u30af\u30bb\u30b9\u3044\u308d\u3044\u308d - Qiita \u30b3\u30de\u30f3\u30c9\u30ec\u30c3\u30c8 \u30d5\u30a1\u30a4\u30eb\u306e\u30cf\u30c3\u30b7\u30e5\u5024 Get-FileHash \u3067\u53d6\u308c\u308b\u3002 PS C:\\Users\\zakih\\Downloads> Get-FileHash .\\r2tokimeki-0.1.0.zip Algorithm Hash Path --------- ---- ---- SHA256 04B71F5099FDBC96A8497AD88D16C4169F978E931F0D59B7AAE3E2DC8B383CE1 C:\\Users\\zakih\\Downloads\\r2to... \u30b3\u30fc\u30c7\u30a3\u30f3\u30b0 \u578b \u914d\u5217 PS C:\\Users\\zaki> $list = @(1,2,3, \"foo\" , \"bar\" , \"baz\" ) PS C:\\Users\\zaki> $list 1 2 3 foo bar baz PS C:\\Users\\zaki> \u9023\u60f3\u914d\u5217 PS C:\\Users\\zaki> $dict = @{key1= \"value1\" ; key2=123} PS C:\\Users\\zaki> $dict Name Value ---- ----- key1 value1 key2 123 PS C:\\Users\\zaki> \u578b\u3092\u78ba\u8a8d\u3059\u308b GetType() \u3092\u4f7f\u7528\u3059\u308b\u3002 $flen_values .GetType() \u3053\u308c\u3067\u578b\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002 \u4f8b\u3048\u3070\u3053\u3093\u306a\u51fa\u529b\u306b\u306a\u308b\u3002 IsPublic IsSerial Name BaseType -------- -------- ---- -------- True True Byte[] System.Array \u30d5\u30a1\u30a4\u30eb\u60c5\u5831 Get-ItemProperty <FILE_PATH> Get-ItemProperty (Microsoft.PowerShell.Management) - PowerShell | Microsoft Learn \u4e00\u89a7\u8868\u793a PS C:\\Users\\zakih\\Desktop> Get-ItemProperty .\\P1490954.jpg | Format-List \u30c7\u30a3\u30ec\u30af\u30c8\u30ea: C:\\Users\\zakih\\Desktop Name : P1490954.jpg Length : 110922 CreationTime : 2025/01/23 17:39:18 LastWriteTime : 2025/01/23 17:39:18 LastAccessTime : 2025/04/06 12:00:01 Mode : -a---- LinkType : Target : {} VersionInfo : File: C:\\Users\\zakih\\Desktop\\P1490954.jpg InternalName: OriginalFilename: FileVersion: FileDescription: Product: ProductVersion: Debug: False Patched: False PreRelease: False PrivateBuild: False SpecialBuild: False Language: \u6307\u5b9a\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u307f -Name \u3092\u4f7f\u7528\u3002 PS C:\\Users\\zakih\\Desktop> Get-ItemProperty .\\P1490954.jpg -Name LastWriteTime LastWriteTime : 2025/01/23 17:39:18 PSPath : Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\zakih\\Desktop\\P1490954.jpg PSParentPath : Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\zakih\\Desktop PSChildName : P1490954.jpg PSDrive : C PSProvider : Microsoft.PowerShell.Core\\FileSystem \u3042\u308b\u3044\u306f\u76f4\u63a5\u53c2\u7167\u3002 PS C:\\Users\\zakih\\Desktop> ( Get-ItemProperty .\\P1490954.jpg).LastWriteTime 2025\u5e741\u670823\u65e5 17:39:18 \u66f4\u65b0 Set-ItemProperty (Microsoft.PowerShell.Management) - PowerShell | Microsoft Learn PS C:\\Users\\zakih\\Desktop> Set-ItemProperty .\\P1490954.jpg -Name LastWriteTime -Value '2025/4/6 15:10:32' PS C:\\Users\\zakih\\Desktop> Get-ItemProperty .\\P1490954.jpg -Name LastWriteTime LastWriteTime : 2025/04/06 15:10:32 PSPath : Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\zakih\\Desktop\\P1490954.jpg PSParentPath : Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\zakih\\Desktop PSChildName : P1490954.jpg PSDrive : C PSProvider : Microsoft.PowerShell.Core\\FileSystem Azure PowerShell Azure Az PowerShell\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Azure Az PowerShell \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b | Microsoft Learn Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force \u30b5\u30a4\u30f3\u30a4\u30f3 Connect-AzAccount \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u6307\u5b9a\u306e\u5fc5\u8981\u304c\u3042\u308b\u3002 Connect-AzAccount -TenantId ******** \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5207\u308a\u66ff\u3048 Select-AzContext ... \u30b5\u30a4\u30f3\u30a4\u30f3\u6e08\u307f\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306ftab\u3067\u30b5\u30b8\u30a7\u30b9\u30c8\u3067\u304d\u308b\u3002","title":"PowerShell"},{"location":"lang/powershell/#powershell","text":"","title":"PowerShell"},{"location":"lang/powershell/#_1","text":"\u3053\u306e\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9f\u884c\u304c\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u30d5\u30a1\u30a4\u30eb C:\\path\\to\\foobar.ps1 \u3092\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u300cabout_Execution_Policies\u300d(https://go.microsoft.c om/fwlink/?LinkID=135170) \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 + CategoryInfo : \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 \u30a8\u30e9\u30fc: (: ) []\u3001ParentContainsErrorRecordException + FullyQualifiedErrorId : UnauthorizedAccess \u305d\u306e\u3068\u304d\u306b\u4e00\u6642\u7684\u306b\u8a31\u53ef\u3059\u308b\u306b\u306f PS> Set-ExecutionPolicy RemoteSigned -Scope Process \u30b7\u30b9\u30c6\u30e0\u30ef\u30a4\u30c9\u306b\u8a2d\u5b9a\u3059\u308b\u306b\u306f\u3001\u7ba1\u7406\u8005\u6a29\u9650\u3067 PS> Set-ExecutionPolicy RemoteSigned","title":"\u5b9f\u884c\u521d\u671f\u8a2d\u5b9a"},{"location":"lang/powershell/#version","text":"PS> $PSVersionTable","title":"version\u78ba\u8a8d"},{"location":"lang/powershell/#help","text":"Get-Help \u3007\u3007 https://learn.microsoft.com/ja-jp/powershell/module/microsoft.powershell.core/get-help","title":"help"},{"location":"lang/powershell/#http","text":"curl/PowerShell\u3067HTTP\u30a2\u30af\u30bb\u30b9\u3044\u308d\u3044\u308d - Qiita","title":"http\u30a2\u30af\u30bb\u30b9"},{"location":"lang/powershell/#_2","text":"","title":"\u30b3\u30de\u30f3\u30c9\u30ec\u30c3\u30c8"},{"location":"lang/powershell/#_3","text":"Get-FileHash \u3067\u53d6\u308c\u308b\u3002 PS C:\\Users\\zakih\\Downloads> Get-FileHash .\\r2tokimeki-0.1.0.zip Algorithm Hash Path --------- ---- ---- SHA256 04B71F5099FDBC96A8497AD88D16C4169F978E931F0D59B7AAE3E2DC8B383CE1 C:\\Users\\zakih\\Downloads\\r2to...","title":"\u30d5\u30a1\u30a4\u30eb\u306e\u30cf\u30c3\u30b7\u30e5\u5024"},{"location":"lang/powershell/#_4","text":"","title":"\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0"},{"location":"lang/powershell/#_5","text":"","title":"\u578b"},{"location":"lang/powershell/#_6","text":"PS C:\\Users\\zaki> $list = @(1,2,3, \"foo\" , \"bar\" , \"baz\" ) PS C:\\Users\\zaki> $list 1 2 3 foo bar baz PS C:\\Users\\zaki>","title":"\u914d\u5217"},{"location":"lang/powershell/#_7","text":"PS C:\\Users\\zaki> $dict = @{key1= \"value1\" ; key2=123} PS C:\\Users\\zaki> $dict Name Value ---- ----- key1 value1 key2 123 PS C:\\Users\\zaki>","title":"\u9023\u60f3\u914d\u5217"},{"location":"lang/powershell/#_8","text":"GetType() \u3092\u4f7f\u7528\u3059\u308b\u3002 $flen_values .GetType() \u3053\u308c\u3067\u578b\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002 \u4f8b\u3048\u3070\u3053\u3093\u306a\u51fa\u529b\u306b\u306a\u308b\u3002 IsPublic IsSerial Name BaseType -------- -------- ---- -------- True True Byte[] System.Array","title":"\u578b\u3092\u78ba\u8a8d\u3059\u308b"},{"location":"lang/powershell/#_9","text":"Get-ItemProperty <FILE_PATH> Get-ItemProperty (Microsoft.PowerShell.Management) - PowerShell | Microsoft Learn","title":"\u30d5\u30a1\u30a4\u30eb\u60c5\u5831"},{"location":"lang/powershell/#_10","text":"PS C:\\Users\\zakih\\Desktop> Get-ItemProperty .\\P1490954.jpg | Format-List \u30c7\u30a3\u30ec\u30af\u30c8\u30ea: C:\\Users\\zakih\\Desktop Name : P1490954.jpg Length : 110922 CreationTime : 2025/01/23 17:39:18 LastWriteTime : 2025/01/23 17:39:18 LastAccessTime : 2025/04/06 12:00:01 Mode : -a---- LinkType : Target : {} VersionInfo : File: C:\\Users\\zakih\\Desktop\\P1490954.jpg InternalName: OriginalFilename: FileVersion: FileDescription: Product: ProductVersion: Debug: False Patched: False PreRelease: False PrivateBuild: False SpecialBuild: False Language:","title":"\u4e00\u89a7\u8868\u793a"},{"location":"lang/powershell/#_11","text":"-Name \u3092\u4f7f\u7528\u3002 PS C:\\Users\\zakih\\Desktop> Get-ItemProperty .\\P1490954.jpg -Name LastWriteTime LastWriteTime : 2025/01/23 17:39:18 PSPath : Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\zakih\\Desktop\\P1490954.jpg PSParentPath : Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\zakih\\Desktop PSChildName : P1490954.jpg PSDrive : C PSProvider : Microsoft.PowerShell.Core\\FileSystem \u3042\u308b\u3044\u306f\u76f4\u63a5\u53c2\u7167\u3002 PS C:\\Users\\zakih\\Desktop> ( Get-ItemProperty .\\P1490954.jpg).LastWriteTime 2025\u5e741\u670823\u65e5 17:39:18","title":"\u6307\u5b9a\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u307f"},{"location":"lang/powershell/#_12","text":"Set-ItemProperty (Microsoft.PowerShell.Management) - PowerShell | Microsoft Learn PS C:\\Users\\zakih\\Desktop> Set-ItemProperty .\\P1490954.jpg -Name LastWriteTime -Value '2025/4/6 15:10:32' PS C:\\Users\\zakih\\Desktop> Get-ItemProperty .\\P1490954.jpg -Name LastWriteTime LastWriteTime : 2025/04/06 15:10:32 PSPath : Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\zakih\\Desktop\\P1490954.jpg PSParentPath : Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\zakih\\Desktop PSChildName : P1490954.jpg PSDrive : C PSProvider : Microsoft.PowerShell.Core\\FileSystem","title":"\u66f4\u65b0"},{"location":"lang/powershell/#azure-powershell","text":"","title":"Azure PowerShell"},{"location":"lang/powershell/#azure-az-powershell","text":"Azure Az PowerShell \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b | Microsoft Learn Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force","title":"Azure Az PowerShell\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"lang/powershell/#_13","text":"Connect-AzAccount \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u6307\u5b9a\u306e\u5fc5\u8981\u304c\u3042\u308b\u3002 Connect-AzAccount -TenantId ********","title":"\u30b5\u30a4\u30f3\u30a4\u30f3"},{"location":"lang/powershell/#_14","text":"Select-AzContext ... \u30b5\u30a4\u30f3\u30a4\u30f3\u6e08\u307f\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306ftab\u3067\u30b5\u30b8\u30a7\u30b9\u30c8\u3067\u304d\u308b\u3002","title":"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5207\u308a\u66ff\u3048"},{"location":"lang/python/","text":"Python tool JSON\u6574\u5f62 $ ... | python -m json.tool http\u30b5\u30fc\u30d0 $ python3 -m http.server 8080 $ python2 -m SimpleHTTPServer 8080 \u30a4\u30f3\u30d5\u30e9\u7cfb\u30a8\u30f3\u30b8\u30cb\u30a2\u304c\u552f\u4e00\u899a\u3048\u308b\u3079\u304dPython\u306e\u4f7f\u3044\u65b9 - Qiita \u5b9f\u88c5 \u6f14\u7b97\u5b50 \u30bb\u30a4\u30a6\u30c1\u6f14\u7b97\u5b50(:=) \u4ee3\u5165\u3068\u8a55\u4fa1\u3092\u540c\u6642\u306b\u884c\u3046\u3002 while (items := get_items()): : : items \u304ctrue\u3067\u3042\u308b\u9593(\u30ea\u30b9\u30c8\u3092\u8fd4\u3059\u95a2\u6570\u3067\u3042\u308c\u3070\u7a7a\u3067\u306a\u3044\u9650\u308a)\u306f\u30eb\u30fc\u30d7\u3059\u308b\u3002 \u6bd4\u8f03(==) Python\u306f\u6587\u5b57\u5217\u3082 == \u3092\u4f7f\u3046\u3002 \u4ee5\u4e0b\u306e\u6bd4\u8f03\u51e6\u7406\u306f\u771f\u3002 string = \"foobar\" if string == \"foobar\" : print ( \"string is 'foobar'\" ) \u914d\u5217\u306e\u6bd4\u8f03\u3082 == \u3067\u884c\u3046\u3002\u4ee5\u4e0b\u306ftrue obj_list = [ 1 , 2 , 3 , \"abc\" ] if obj_list == [ 1 , 2 , 3 , \"abc\" ]: print ( \"true\" ) \u3068\u3044\u3046\u304b == \u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u6bd4\u8f03\u306b\u4f7f\u3048\u308b\u3063\u3066\u3053\u3068\u304b\u306a\u3002 \u5236\u5fa1\u69cb\u6587 for foreach\u5f0f\u306e\u30eb\u30fc\u30d7\u51e6\u7406\u306f\u4ee5\u4e0b\u3002 for item in items: # item\u306b\u30ea\u30b9\u30c8\u306e\u8981\u7d20\u304c\u30bb\u30c3\u30c8\u3055\u308c\u308b \u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u3067\u3082\u66f8\u3051\u308b\u3002 \u30eb\u30fc\u30d7\u51e6\u7406\u3057\u305f\u7d50\u679c\u3092\u30ea\u30b9\u30c8\u306b\u30bb\u30c3\u30c8\u3057\u305f\u3044\u5834\u5408\u306a\u3069\u3002 \u305d\u306e\u969b\u306f [...] \u3067\u56f2\u3080\u3002 result = [ .. item\u306b\u5bfe\u3059\u308b\u51e6\u7406 .. for item in items] BeautifulSoup\u3092\u4f7f\u3063\u305f\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u306e\u8a18\u8ff0\u4f8b links = [li . find( 'a' ) . get( 'href' ) for li in s . find_all( 'li' , class_ = 'toctree-l2' )] print (links) break \u30eb\u30fc\u30d7\u3092\u9014\u4e2d\u3067\u629c\u3051\u308b\u306b\u306f break continue \u6b21\u306e\u30eb\u30fc\u30d7\u3078\u98db\u3076\u306b\u306f continue exit Python\u306eexit\u306f\u7d44\u307f\u8fbc\u307f\u3067\u306a\u304f sys \u3092import\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 import sys sys . exit( 1 ) \u5909\u6570 \u74b0\u5883\u5909\u6570\u306e\u53c2\u7167 import os aws_access_key = os . environ . get( \"AWS_ACCESS_KEY_ID\" ) if aws_access_key is None : print ( \"AWS_ACCESS_KEY_ID not defined\" ) \u578b\u306e\u78ba\u8a8d type (value) isinstance()\u3067\u578b\u5224\u5b9a bool_val = True if ( isinstance (bool_val, bool )): print ( \"bool_val is bool\" ) int_val = 123 if ( isinstance (int_val, int )): print ( \"int_val is int\" ) list_val = [ 1 , 2 , 3 ] if ( isinstance (list_val, list )): print ( \"list_val is list\" ) dict_val = { \"key1\" : \"value1\" , \"key2\" : \"value2\" } if ( isinstance (dict_val, dict )): print ( \"dict_val is dict\" ) \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b bool_val is bool int_val is int list_val is list dict_val is dict list \u578b\u3067\u3082\u30b9\u30ab\u30e9\u30fc\u5024\u3067\u3082\u5f15\u6570\u306b\u53d6\u308c\u308b\u95a2\u6570\u306e\u5b9f\u88c5\u306a\u3069\u3067\u5b9f\u884c\u6642\u306b\u5224\u5b9a\u3001\u306a\u3069\u3067\u4f7f\u3048\u308b\u3002 None\u5224\u5b9a if data is not None : # data\u304cNone\u3067\u306a\u3044\u5834\u5408 \u5f15\u6570 \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570 sys.argv \u3092\u4f7f\u3046 import sys args = sys . argv print (args) print (args[ 0 ]) print (args[ 1 ]) $ ./argv.py hello ['./argv.py', 'hello'] ./argv.py hello \u95a2\u6570 main #!/usr/bin/python3 def func (): print ( \"begin func()\" ) if __name__ == \"__main__\" : print ( \"begin main()\" ) func() assert \u7279\u306b import \u306f\u4e0d\u8981\u3067\u4f7f\u7528\u53ef\u80fd # a\u306e\u5024\u304c10\u3067\u3042\u308b\u3053\u3068 assert (a == 10 ) \u914d\u5217 \u30ea\u30b9\u30c8\u306e\u5b9a\u7fa9 items = [ 'foo' , 'bar' , 'baz' , ] \u7a7a\u30ea\u30b9\u30c8 items = [] \u8981\u7d20\u306e\u8ffd\u52a0 \u30ea\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e append() \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3002 items . append( 'qux' ) \u30ea\u30b9\u30c8\u306e\u7d50\u5408 \u8907\u6570\u306e\u30ea\u30b9\u30c8\u3092\u7d50\u5408(1\u3064\u306e\u30ea\u30b9\u30c8\u306b\u5168\u8981\u7d20\u3092\u307e\u3068\u3081\u308b)\u3059\u308b\u306b\u306f + \u3092\u4f7f\u3046 list1 = [ 'foo' , 'bar' , 'baz' ] list2 = [ 1 , 2 , 3 ] print (list1 + list2) \u5b9f\u884c\u7d50\u679c\u306f ['foo', 'bar', 'baz', 1, 2, 3] \u306b\u306a\u308b\u3002 += \u3067\u4ee3\u5165\u3082\u53ef\u80fd\u3002 length array = [] array . append( '2' ) array . append( '3' ) array . append( '4' ) print ( len (array)) 3\u306b\u306a\u308b\u3002 \u7a7a\u5224\u5b9a \u7a7a\u306e\u914d\u5217\u5909\u6570\u306f\u305d\u308c\u81ea\u4f53\u304cFalse\u306b\u306a\u308b\u3002 empty_array = [] if not empty_array: print ( \"blank\" ) \u3042\u308b\u3044\u306f [] \u3068\u306e\u4e00\u81f4\u3067\u3082\u5224\u5b9a\u3067\u304d\u308b\u3002 if empty_array == []: print ( \"blank\" ) \u8981\u7d20\u306eindex array = [ 'curry' , 'beef' , 'chicken' , 'vegetable' ] beef_index = array . index( 'chicken' ) print (beef_index) \u5f15\u6570\u306b\u6307\u5b9a\u3057\u305f\u8981\u7d20\u304c\u914d\u5217\u4e2d\u306e\u4f55\u756a\u76ee\u306b\u3042\u308b\u304b\u3092\u8fd4\u3059\u3002\u4e0a\u8a18\u306e\u51fa\u529b\u306f 2 \u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306fValueError\u306b\u306a\u308b\u3002 array = [ 'curry' , 'beef' , 'chicken' , 'vegetable' ] beef_index = array . index( 'zzz' ) print (beef_index) $ python3 index.py Traceback (most recent call last): File \"index.py\", line 3, in <module> beef_index = array.index('zzz') ValueError: 'zzz' is not in list \u8981\u7d20\u306e\u6709\u7121 in \u3092\u4f7f\u3046\u3002 array = [ 'curry' , 'beef' , 'chicken' , 'vegetable' ] print ( 'curry' in array) print ( 'pork' in array) \u51fa\u529b\u306f\u4ee5\u4e0b\u306b\u306a\u308b\u3002 True False \u30b9\u30e9\u30a4\u30b9 array = [ 'curry' , 'beef' , 'chicken' , 'vegetable' ] print (array[ 2 :]) print (array[: 3 ]) print (array[ 1 : 2 ]) \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b $ python3 slice.py ['chicken', 'vegetable'] ['curry', 'beef', 'chicken'] ['beef'] \u66f8\u5f0f\u306f array[\u59cb\u70b9:\u7d42\u70b9] \u3002\u7701\u7565\u6642\u306f\u6700\u521d\u304b\u3089or\u6700\u5f8c\u307e\u3067\u3002 \u59cb\u70b9\u306findex\u3092\u300c\u542b\u3080\u300d\u304c\u3001\u7d42\u70b9\u306findex\u3092\u300c\u542b\u307e\u306a\u3044\u300d\u306e\u3067\u6ce8\u610f\u3002 (\u8981\u7d20\u306eindex\u3068\u3044\u3046\u3088\u308a\u3001\u533a\u5207\u308a\u4f4d\u7f6e\u306eindex\u3068\u898b\u306a\u3059\u3068\u826f\u3044) \u9023\u756a\u306e\u5b9a\u7fa9 range(\u958b\u59cb, \u7d42\u4e86) \u3092\u4f7f\u3046 r = range ( 0 , 9 ) \u3053\u308c\u3067 r \u306f [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] \u3068\u306a\u308b\u3002 \u6b63\u78ba\u306b\u306frange\u578b\u306e\u305f\u3081\u30ea\u30b9\u30c8\u3067\u306f\u306a\u3044\u304c\u3001 list(r) \u3092\u4f7f\u3046\u3068\u30ea\u30b9\u30c8\u306b\u306a\u308b\u3002 1\u5f15\u6570\u306e\u5834\u5408\u306f\u958b\u59cb 0 \u3068\u307f\u306a\u3055\u308c\u308b\u3002(0\u958b\u59cb\u306e\u5834\u5408\u306f\u7d42\u4e86\u306e\u5024\u306e\u307f\u3067OK\u3002\u2191\u306f range(9) \u3068\u540c\u5024) \u96c6\u5408 \u96c6\u5408\u306e\u5b9a\u7fa9 data_set = { 200 , 201 , 202 , 203 , 204 , 301 , 401 , 403 , 404 } print ( type (data_set)) # \u51fa\u529b\u306f <class 'set'> \u8f9e\u66f8 \u8f9e\u66f8\u306e\u5b9a\u7fa9 dict1 = { \"key1\" : \"value1\" , \"key2\" : \"value2\" } dict2 = dict (key1 = \"value1\" , key2 = \"value2\" ) \u3053\u306e\u5834\u5408\u3001 dict1 \u3068 dict2 \u306e\u4e2d\u8eab\u306f\u540c\u3058\u3002 dict1 == dict2 \u306e\u7d50\u679c\u3082true\u306b\u306a\u308b\u3002 \u30ad\u30fc\u3092\u4f7f\u3063\u305f\u5024\u3078\u306e\u30a2\u30af\u30bb\u30b9 dict1[ 'key1' ] \u305f\u3060\u3057\u30ad\u30fc\u304c\u7121\u3044\u5834\u5408\u306f KeyError \u4f8b\u5916\u306b\u306a\u308b\u3002 get() \u3092\u4f7f\u3048\u3070\u30ad\u30fc\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f None \u304c\u8fd4\u308b\u3002 dict1 . get( 'key1' ) \u8f9e\u66f8\u8981\u7d20\u306e\u30eb\u30fc\u30d7(\u30ad\u30fc\u3068\u5024\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u53d6\u5f97) sample_dict = { \"key1\" : \"value1\" , \"key2\" : \"value2\" , \"key3\" : \"value3\" , } for k, v in sample_dict . items(): print ( \"key: \" + k + \", value: \" + v) \u8f9e\u66f8.items() \u3067\u3001\u30ad\u30fc\u3068\u5024\u306e\u30da\u30a2\u306e\u30ea\u30b9\u30c8\u3092\u5f97\u3089\u308c\u308b\u306e\u3067\u3001\u3053\u308c\u3067\u30eb\u30fc\u30d7\u3067\u304d\u308b\u3002 \u4e0a\u306e\u30b3\u30fc\u30c9\u306e\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 key: key1, value: value1 key: key2, value: value2 key: key3, value: value3 \u8f9e\u66f8->YAML\u5316 import yaml print (yaml . dump(dict_data, default_flow_style = False )) \u5b50\u8981\u7d20\u304c\u30d5\u30ed\u30fc\u30b9\u30bf\u30a4\u30eb\u306b\u306a\u3063\u3066\u30d6\u30ed\u30c3\u30af\u30b9\u30bf\u30a4\u30eb\u306b\u306a\u3089\u306a\u3044\u5834\u5408\u306f default_flow_style \u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092 False \u6307\u5b9a\u3059\u308b\u3002 YAML\u30d5\u30a1\u30a4\u30eb->\u8f9e\u66f8\u5316 import yaml with open ( 'config.yaml' , 'r' ) as yml: config = yaml . safe_load(yml) \u3053\u308c\u3067 config \u5909\u6570\u306bYAML\u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u7fa9\u3057\u305f\u60c5\u5831\u304c\u8f9e\u66f8\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u30bb\u30c3\u30c8\u3055\u308c\u308b\u3002 \u8f9e\u66f8->JSON\u5316 import json print (json . dumps(dict_data)) JSON\u6587\u5b57\u5217->\u8f9e\u66f8(\u30aa\u30d6\u30b8\u30a7\u30af\u30c8) import json obj = json . loads(json_strings) YAML\u3068\u9055\u3063\u3066\u30e1\u30bd\u30c3\u30c9\u540d\u306f dumps() \u3067 s \u304c\u4ed8\u4e0e\u3055\u308c\u308b\u3002 dump() \u306f\u3001\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\u3092\u884c\u3046\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u5225\u306b\u5b58\u5728\u3059\u308b\u3002 JSON\u30d5\u30a1\u30a4\u30eb->\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 STDIN\u306e\u5834\u5408\u306f import json with sys . stdin as f: obj = json . load(f) \u6587\u5b57\u5217 \u6307\u5b9a\u6587\u5b57\u3067\u59cb\u307e\u308b\u304b if string_value . startswith( \"kube\" ): # \u6587\u5b57\u5217\u304c\"kube\"\u3067\u59cb\u307e\u308b\u5834\u5408 \u672b\u5c3e1\u6587\u5b57 sample_str[ -1 ] \u672b\u5c3e1\u6587\u5b57\u3092\u524a\u3063\u305f\u6587\u5b57\u5217 sample_str[: -1 ] splitlines() \u30c6\u30ad\u30b9\u30c8\u306e\u672b\u5c3e\u306b\u6539\u884c\u304c\u3042\u308b\u5834\u5408\u3001 split('\\n') \u3092\u4f7f\u3046\u3068\u672b\u5c3e\u306e\u6539\u884c\u3082\u30c7\u30ea\u30df\u30bf\u3068\u8a8d\u8b58\u3057\u3001\u30ea\u30b9\u30c8\u306e\u6700\u7d42\u8981\u7d20\u306f\u7a7a\u6587\u5b57\u306b\u306a\u308b\u304c\u3001 splitlines() \u3067\u3042\u308c\u3070\u672b\u5c3e\u306e\u6539\u884c\u5206\u306f\u7121\u8996\u3055\u308c\u308b\u3002\u884c\u3054\u3068\u306b\u51e6\u7406\u3057\u305f\u3044\u5834\u5408\u306f\u3053\u3061\u3089\u304c\u4fbf\u5229\u3002 \u30bc\u30ed\u30d1\u30c7\u30a3\u30f3\u30b0 \u6587\u5b57\u5217\u306ezfill()\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3002 \u5f15\u6570\u306e\u6570\u5024\u306e\u6841\u6570\u9577\u306b\u30bc\u30ed\u30d1\u30c7\u30a3\u30f3\u30b0\u3055\u308c\u305f\u6587\u5b57\u5217\u3092\u8fd4\u3059\u3002 int_sample = '123' str_sample = 'foo' print (int_sample . zfill( 8 )) print (str_sample . zfill( 8 )) \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u3002 00000123 00000foo \u6b63\u898f\u8868\u73fe\u51e6\u7406 re.search()\u3067\u6587\u5b57\u5217\u5224\u5b9a import re if re . search(regexp, string): # string\u304cregexp\u306b\u30de\u30c3\u30c1 re.match() \u306f\u5148\u982d\u304b\u3089\u30de\u30c3\u30c1\u3092\u884c\u3046\u305f\u3081\u3001\u6587\u5b57\u5217\u306e\u9014\u4e2d\u306b\u306f\u30de\u30c3\u30c1\u3057\u306a\u3044\u3002 re.sub()\u3067\u7f6e\u63db import re string = '/path/to/sample.txt' # s/a/A/ string = re . sub( r'a' , 'A' , string) print (string) # \u672b\u5c3e\u306e.txt\u3092\u524a\u308b string = re . sub( r'\\.txt$' , '' , string) print (string) # 't'\u3068'p'\u3092(t)\u304b(p)\u306b\u5909\u63db string = re . sub( r'([tp])' , r'(\\1)' , string) print (string) # r'...'\u3092\u4f7f\u308f\u306a\u3044\u5834\u5408\u306f'\\\\1'\u3068\u66f8\u304f # a\u3092\u5909\u63db\u3002\u305f\u3060\u3057\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u7121\u8996 string = re . sub( r'a' , r'_' , string, flags = re . IGNORECASE) print (string) # re.sub(pattern, repl, string, count=0, flags=0) \u306a\u306e\u3067\u3001count\u3092\u7701\u7565\u3059\u308b\u305f\u3081\u306b\u306f\"flags=\"\u3068\u3044\u3046\u540d\u524d\u4ed8\u304d\u5f15\u6570\u3092\u4f7f\u3046 \u4e0a\u8a18\u30b3\u30fc\u30c9\u306e\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 $ python replace.py /pAth/to/sAmple.txt /pAth/to/sAmple /(p)A(t)h/(t)o/sAm(p)le /(p)_(t)h/(t)o/s_m(p)le \u51fa\u529b \u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b import sys print ( \"error\" , file = sys . stderr) print\u3067\u6539\u884c\u7121\u3057 print ( \"sample\" , end = \"\" ) \u305f\u3060\u3057\u884c\u3054\u3068\u306b\u30d5\u30e9\u30c3\u30b7\u30e5\u3055\u308c\u308b\u305f\u3081\u3001\u30d7\u30ed\u30b0\u30ec\u30b9\u8868\u793a\u7684\u306b\u4f7f\u3046\u5834\u5408\u306f\u8ffd\u52a0\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u5fc5\u8981 print ( \".\" , end = \"\" , flush = True ) \u30d2\u30a2\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 print ( \"\"\" \u6771\u4eac\u30fb\u304a\u53f0\u5834\u306b\u3042\u308b\u3001\u81ea\u7531\u306a\u6821\u98a8\u3068\u5c02\u653b\u306e\u591a\u69d8\u3055\u3067\u4eba\u6c17\u306e\u9ad8\u6821\u300c\u8679\u30f6\u54b2\u5b66\u5712\u300d\u3002 \u30b9\u30af\u30fc\u30eb\u30a2\u30a4\u30c9\u30eb\u306e\u9b45\u529b\u306b\u3068\u304d\u3081\u3044\u305f\u666e\u901a\u79d12\u5e74\u306e\u9ad8\u54b2\u4f91\u306f\u3001 \u5e7c\u99b4\u67d3\u306e\u4e0a\u539f\u6b69\u5922\u3068\u3068\u3082\u306b\u300c\u30b9\u30af\u30fc\u30eb\u30a2\u30a4\u30c9\u30eb\u540c\u597d\u4f1a\u300d\u306e\u9580\u3092\u53e9\u304f\u3002 \"\"\" ) \u3053\u306e\u5834\u5408\u3001\u300c\u958b\u59cb\u306e \"\"\" \u300d\u306e\u3042\u3068\u306e\u6539\u884c\u3068\u3001\u300c\u7d42\u4e86\u306e \"\"\" \u300d\u306e\u624b\u524d\u306e\u6539\u884c\u3082\u542b\u307e\u308c\u308b\u3002 byte\u578b \u5909\u6570\u51fa\u529b\u3059\u308b\u3068 b'....' \u3068\u8868\u8a18\u3055\u308c\u51fa\u529b\u3055\u308c\u308b\u3002 byte_data = b'zzzzzzzz' print (byte_data) print ( len (byte_data)) print ( type (byte_data)) \u51fa\u529b\u306f\u4ee5\u4e0b\u3002 b'zzzzzzzz' 8 <class 'bytes'> byte -> string\u5909\u63db string_data = byte_data . decode() print (string_data) print ( type (string_data)) \u51fa\u529b\u306f <class 'str'> string -> byte\u5909\u63db byte_data = string_data . encode() print (byte_data) print ( type (byte_data)) \u3053\u308c\u3067\u51fa\u529b\u306f <class 'bytes'> path \u30e6\u30fc\u30b6\u30fc\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5c55\u958b os.path.expanduser \u3092\u4f7f\u3046\u3002 [zaki@cloud-dev2 ~]$ grep -e ^zaki -e ^root /etc/passwd root:x:0:0:root:/root:/bin/bash zaki:x:1000:1000:zaki:/home/zaki:/bin/bash \u3068\u3044\u3046\u30e6\u30fc\u30b6\u30fc\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 [zaki @cloud - dev2 ~ ] $ whoami zaki [zaki @cloud - dev2 ~ ] $ python Python 3.10.2 (main, Jan 17 2022 , 00 : 00 : 00 ) [GCC 11.2.1 20211203 (Red Hat 11.2.1-7 )] on linux Type \"help\" , \"copyright\" , \"credits\" or \"license\" for more information . >>> import os.path >>> print (os . path . expanduser( '~zaki' )) / home / zaki >>> print (os . path . expanduser( '~root' )) / root >>> print (os . path . expanduser( '~' )) / home / zaki >>> \u5916\u90e8\u30b3\u30de\u30f3\u30c9\u5b9f\u884c subprocess.run() \u3092\u4f7f\u3046\u3002( os.system \u306f\u3082\u3046\u4f7f\u308f\u306a\u3044) import subprocess ret = subprocess . run([ \"ls\" , \"-l\" ], capture_output = True , text = True ) print (ret . stdout) \u30ea\u30b9\u30c8\u3067\u306a\u304f\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u305f\u3044\u5834\u5408\u306f shell=True \u3092\u4ed8\u4e0e subprocess . run( \"ls -l\" , shell = True ) \u901a\u4fe1 HTTP(requests) requests \u3092\u4f7f\u3046\u3068\u697d\u3002 import requests r = requests . get( \"http://www.example.org\" ) POST \u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u306f data \u3067\u6307\u5b9a\u3059\u308b\u3002 \u8f9e\u66f8\u578b\u30c7\u30fc\u30bf\u3092JSON\u5f62\u5f0f\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u306b\u3059\u308b\u306a\u3089 json.dumps \u3092\u4f7f\u3046\u3068\u697d\u3002 payload = json . dumps(dict_params) headers = { 'Content-Type' : 'application/json' , 'Accept' : 'application/json' , 'Authorization' : 'Bearer ' + token } requests . post(url, data = payload, headers = headers) DELETE POST\u3068\u540c\u3058\u8981\u9818 requests . delete(url) \u30ea\u30af\u30a8\u30b9\u30c8\u30d8\u30c3\u30c0 headers = { 'Accept' : 'application/json' , 'Authorization' : 'Bearer ********' } requests . get(url, headers = headers) \u30ec\u30b9\u30dd\u30f3\u30b9 print (r . status_code) # \u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9(200\u306a\u3069) print (r . request) # Request\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 print (r . request . url) # \u30a2\u30af\u30bb\u30b9\u3057\u305fURL print (r . text) # \u30ec\u30b9\u30dd\u30f3\u30b9body REST API\u306e\u3088\u3046\u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u304cJSON\u5f62\u5f0f\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u5834\u5408\u306f\u3001 r.json() \u3092\u4f7f\u3046\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u5024\u3092\u3068\u308c\u308b\u3002 for item in r . json()[ 'items' ]: print (item[ 'metadata' ][ 'name' ]) SSL\u691c\u8a3c\u7121\u8996 r = requests . get( \"https://www.example.org\" , verify = False ) Basic\u8a8d\u8a3c requests . get(url, auth = HTTPBasicAuth(username, password)) \u63a5\u7d9a\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u8a2d\u5b9a timeout_sec = 3 requests . get(url, timeout = timeout_sec) \u63a5\u7d9a\u30a8\u30e9\u30fc\u306e\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0 \u4f8b\u5916\u304c\u767a\u751f\u3059\u308b\u306e\u3067\u305d\u308c\u3092catch\u3059\u308b\u3002 try : requests . post(url) except (requests . ConnectionError, requests . ConnectTimeout) as e: print (e) HTTP (urllib.request) requests\u3092\u8ffd\u52a0\u3067\u304d\u306a\u3044\u5834\u5408\u306a\u3069\u3002 GET import urllib.request url = 'https://example.org' header = { 'Authorization' : 'Bearer ' + token } req = urllib . request . Request(url, headers = headers) with urllib . request . urlopen(req) as res: j = json . load(res) POST Request\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\u6642\u306b\u9001\u4fe1\u3059\u308b\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3059\u308c\u3070POST\u30e1\u30bd\u30c3\u30c9\u306b\u306a\u308b\u3002 auth_data = { 'Username' : username, 'Password' : password, } auth_req = urllib . request . Request(auth_page, urllib . parse . urlencode(auth_data) . encode( 'ascii' )) with urllib . request . urlopen(auth_req) as auth_resp: print (auth_resp . read()) SSL\u691c\u8a3c\u7121\u8996 context = ssl . _create_univerified_context() r = urllib . request . Request(url, headers = headers) while urllib . request . urlopen(req, context = context) as res: ... \u4f8b\u5916 \u4f8b\u5916\u306e\u6355\u6349 try , except \u3092\u4f7f\u3046 try : # \u4f8b\u5916\u304c\u767a\u751f\u3059\u308b\u30b3\u30fc\u30c9 except RuntimeError as e: # \u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u51e6\u7406 # \u30a8\u30e9\u30fc\u60c5\u5831\u306f\"e\"\u306b\u5165\u3063\u3066\u3044\u308b print (e) \u6355\u6349\u3059\u308b\u4f8b\u5916\u304c\u8907\u6570\u306e\u5834\u5408\u306f\u3001 except \u3092\u8907\u6570\u4e26\u3079\u308b\u304b\u3001\u30ab\u30c3\u30b3\u3067\u307e\u3068\u3081\u308b\u3002 try : # \u4f8b\u5916\u304c\u767a\u751f\u3059\u308b\u30b3\u30fc\u30c9 except ( RuntimeError , TypeError ) as e: print (e) \u4f8b\u5916\u3092\u6295\u3052\u308b(raise) raise RuntimeError ( 'application error: ' + error_value) \u6a19\u6e96\u3067\u4f7f\u7528\u3067\u304d\u308b\u7d44\u307f\u8fbc\u307f\u4f8b\u5916\u306f\u4ee5\u4e0b\u3002 \u7d44\u307f\u8fbc\u307f\u4f8b\u5916 \u90e8\u5206\u9069\u7528(partial application) functiontools#partial() \u3092\u4f7f\u3046\u3002 \u5f15\u6570(\u306e\u4e00\u90e8\u3092)\u56fa\u5b9a\u3057\u305f\u95a2\u6570\u3092\u4f5c\u308b Python\u306efunctools.partial(\u90e8\u5206\u9069\u7528)\u3092\u89e3\u8aac\u3059\u308b - Qiita functools --- \u9ad8\u968e\u95a2\u6570\u3068\u547c\u3073\u51fa\u3057\u53ef\u80fd\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u64cd\u4f5c \u2014 Python 3.9.4 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3053\u3093\u306a\u611f\u3058\u3002 https://github.com/ansible/ansible/blob/stable-2.10/lib/ansible/playbook/base.py#L105-L114 method = \"_get_attr_ %s \" % attr_name if method in src_dict or method in dst_dict: getter = partial(_generic_g_method, attr_name) elif ( '_get_parent_attribute' in dst_dict or '_get_parent_attribute' in src_dict) and value . inherit: getter = partial(_generic_g_parent, attr_name) else : getter = partial(_generic_g, attr_name) setter = partial(_generic_s, attr_name) deleter = partial(_generic_d, attr_name) \u306a\u308b\u307b\u3069\u308f\u304b\u3089\u3093 [Ansible] \u305d\u306etag\u8a2d\u5b9a\u3001\u60f3\u5b9a\u901a\u308a\u306b\u52d5\u3044\u3066\u307e\u3059\u304b\uff1f (\u7d99\u627f\u6a5f\u80fd\u3068\u305d\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\u3059\u308b) - zaki work log \u30e1\u30bf\u30af\u30e9\u30b9 python\u3067\u8003\u3048\u308b\u30e1\u30bf\u30af\u30e9\u30b9\u3068\u306f\uff1f - Qiita __new__\u3068__init__\u3068\u30e1\u30bf\u30af\u30e9\u30b9\u3068 - Qiita \u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\u3092\u30b3\u30fc\u30c9\u3067\u52d5\u7684\u306b\u5b9f\u88c5\u3059\u308b\u611f\u3058\u3002 https://github.com/ansible/ansible/blob/stable-2.10/lib/ansible/playbook/base.py#L105-L114 method = \"_get_attr_ %s \" % attr_name if method in src_dict or method in dst_dict: getter = partial(_generic_g_method, attr_name) elif ( '_get_parent_attribute' in dst_dict or '_get_parent_attribute' in src_dict) and value . inherit: getter = partial(_generic_g_parent, attr_name) else : getter = partial(_generic_g, attr_name) setter = partial(_generic_s, attr_name) deleter = partial(_generic_d, attr_name) [Ansible] \u305d\u306etag\u8a2d\u5b9a\u3001\u60f3\u5b9a\u901a\u308a\u306b\u52d5\u3044\u3066\u307e\u3059\u304b\uff1f (\u7d99\u627f\u6a5f\u80fd\u3068\u305d\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\u3059\u308b) - zaki work log \u74b0\u5883 pip \u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a pip install ansible==9 \u300c\u4ee5\u4e0a\u300d\u306e\u5834\u5408\u306f\u4ee5\u4e0b pip install ansible>=8 requirements.txt\u306e\u5229\u7528 ansible==2.9.7 jmespath==0.10.0 \u3068\u3044\u3046\u5185\u5bb9\u306e requirements.txt \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u3053\u308c\u3067 $ pip install -r requirements.txt \u203b \u30d5\u30a1\u30a4\u30eb\u540d\u306f\u4efb\u610f pip\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8 venv\u3068\u304b\u4f5c\u3063\u305f\u76f4\u5f8c\u306f pip \u81ea\u4f53\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u306e\u3067(\u76ee\u7684\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u5165\u308c\u308b\u3068\u304d\u306b\u30a8\u30e9\u30fc\u306b\u306a\u308b\u524d\u306b\u5148\u306b)\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b \u203b \u305d\u3082\u305d\u3082venv\u4f5c\u6210\u6642\u306b --upgrade-deps \u3092\u3064\u3051\u3066\u304a\u3051\u3070\u81ea\u52d5\u66f4\u65b0\u3055\u308c\u3066\u74b0\u5883\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002 $ pip install --upgrade pip \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30b0\u30ec\u30fc\u30c9 \u57fa\u672c\u7684\u306b\u306f\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066\u4ee5\u4e0b\u3067OK $ pip install hogehoge =0 .0.1 requirements.txt \u8a18\u8f09\u306e\u5834\u5408\u3082\u3001\u8a18\u8f09\u3057\u305f\u6307\u5b9a\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u3082\u306e\u3088\u308a\u53e4\u3051\u308c\u3070\u81ea\u52d5\u3067\u66f4\u65b0\u3055\u308c\u308b\u3002 \u4ee5\u4e0b\u306f rich==11.0.0 \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u72b6\u614b\u3067 rich==9.5.1 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u306e\u30ed\u30b0\u3002 Installing collected packages: typing-extensions, rich Attempting uninstall: rich Found existing installation: rich 11.0.0 Uninstalling rich-11.0.0: Successfully uninstalled rich-11.0.0 Successfully installed rich-9.5.1 typing-extensions-3.10.0.2 \u30d1\u30c3\u30b1\u30fc\u30b8\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb $ pip uninstall docker Found existing installation: docker 5.0.3 Uninstalling docker-5.0.3: Would remove: /home/ubuntu/.local/lib/python3.8/site-packages/docker-5.0.3.dist-info/* /home/ubuntu/.local/lib/python3.8/site-packages/docker/* Proceed (y/n)? y Successfully uninstalled docker-5.0.3 -y \u3092\u4ed8\u3051\u308c\u3070\u5f37\u5236\u524a\u9664\u306b\u306a\u308b\u3063\u307d\u3044\u3002 Uninstall Options: -r, --requirement <file> Uninstall all the packages listed in the given requirements file. This option can be used multiple times. -y, --yes Don't ask for confirmation of uninstall deletions. \u5168\u3066\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb $ pip uninstall -r < ( pip freeze ) \u4f9d\u5b58\u95a2\u4fc2\u306e\u78ba\u8a8d $ pip show ansible-core : : Requires: cryptography, jinja2, packaging, PyYAML, resolvelib Required-by: ansible Required-by\u306e ansible \u306b\u3088\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3001\u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u3063\u3066 cryptography , jinja2 , packaging , PyYAML , resolvelib \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002 pyenv pyenv/pyenv: Simple Python version management \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb curl https://pyenv.run | bash \u8a2d\u5b9a\u8ffd\u52a0 cat <<'__EOL__' >> $HOME/.bashrc export PYENV_ROOT=\"$HOME/.pyenv\" command -v pyenv >/dev/null || export PATH=\"$PYENV_ROOT/bin:$PATH\" eval \"$(pyenv init -)\" __EOL__ . $HOME/.bashrc \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u4ee5\u4e0b\u306fUbuntu\u306e\u5834\u5408\u3002 sudo apt update; sudo apt install build-essential libssl-dev zlib1g-dev \\ libbz2-dev libreadline-dev libsqlite3-dev curl \\ libncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev \u305d\u306e\u4ed6\u306e\u74b0\u5883\u306fwiki\u53c2\u7167: https://github.com/pyenv/pyenv/wiki#suggested-build-environment Python\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb pyenv install 3.11.3 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306aPython\u306f pyenv install -l \u3067\u78ba\u8a8d python \u306e\u5207\u66ff pyenv global 3.11.3 \u5207\u66ff\u53ef\u80fd\u306aPython\u306f pyenv versions \u3067\u78ba\u8a8d venv \u4f5c\u6210 $ python3 -m venv venv/ansible \u4f5c\u6210\u6642\u306bpip\u3068setuptools\u3092\u66f4\u65b0\u3059\u308b $ python3 -m venv ~/venv/dev --upgrade-deps system\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30d1\u30b9\u3082\u53c2\u7167 $ python3 -m venv venv-sys --system-site-packages pyvenv RHEL8\u306b\u5165\u3063\u3066\u308b\u3084\u3064\u3002 [zaki@rhel8-node ~]$ pyvenv-3 venv3 WARNING: the pyenv script is deprecated in favour of `platform-python -m venv` [zaki@rhel8-node ~]$ . venv3/bin/activate (venv3) [zaki@rhel8-node ~]$ (venv3) [zaki@rhel8-node ~]$ pip install --upgrade pip Cache entry deserialization failed, entry ignored Collecting pip Downloading https://files.pythonhosted.org/packages/47/ca/f0d790b6e18b3a6f3bd5e80c2ee4edbb5807286c21cdd0862ca933f751dd/pip-21.1.3-py3-none-any.whl (1.5MB) 100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1.6MB 641kB/s Installing collected packages: pip Found existing installation: pip 9.0.3 Uninstalling pip-9.0.3: Successfully uninstalled pip-9.0.3 Successfully installed pip-21.1.3 (venv3) [zaki@rhel8-node ~]$ pip list Package Version ---------- ------- pip 21.1.3 setuptools 39.2.0 --system-site-packages \u3082\u4f75\u7528\u53ef [zaki@rhel8-node ~]$ pyvenv-3.6 venv --system-site-packages WARNING: the pyenv script is deprecated in favour of `platform-python -m venv` [zaki@rhel8-ansible-node ~]$ . venv/bin/activate (venv) [zaki@rhel8-node ~]$ pip list DEPRECATION: The default format will switch to columns in the future. You can use --format=(legacy|columns) (or define a format=(legacy|columns) in your pip.conf under the [list] section) to disable this warning. cffi (1.11.5) chardet (3.0.4) configobj (5.0.6) configshell-fb (1.1.28) cryptography (3.2.1) dbus-python (1.2.4) decorator (4.2.1) ethtool (0.14) : : RHEL / Ansible Ansible \u304c\u5229\u7528\u3059\u308b Python \u5b9f\u884c\u74b0\u5883 - \u8d64\u5e3d\u30a8\u30f3\u30b8\u30cb\u30a2\u30d6\u30ed\u30b0","title":"Python"},{"location":"lang/python/#python","text":"","title":"Python"},{"location":"lang/python/#tool","text":"","title":"tool"},{"location":"lang/python/#json","text":"$ ... | python -m json.tool","title":"JSON\u6574\u5f62"},{"location":"lang/python/#http","text":"$ python3 -m http.server 8080 $ python2 -m SimpleHTTPServer 8080 \u30a4\u30f3\u30d5\u30e9\u7cfb\u30a8\u30f3\u30b8\u30cb\u30a2\u304c\u552f\u4e00\u899a\u3048\u308b\u3079\u304dPython\u306e\u4f7f\u3044\u65b9 - Qiita","title":"http\u30b5\u30fc\u30d0"},{"location":"lang/python/#_1","text":"","title":"\u5b9f\u88c5"},{"location":"lang/python/#_2","text":"","title":"\u6f14\u7b97\u5b50"},{"location":"lang/python/#_3","text":"\u4ee3\u5165\u3068\u8a55\u4fa1\u3092\u540c\u6642\u306b\u884c\u3046\u3002 while (items := get_items()): : : items \u304ctrue\u3067\u3042\u308b\u9593(\u30ea\u30b9\u30c8\u3092\u8fd4\u3059\u95a2\u6570\u3067\u3042\u308c\u3070\u7a7a\u3067\u306a\u3044\u9650\u308a)\u306f\u30eb\u30fc\u30d7\u3059\u308b\u3002","title":"\u30bb\u30a4\u30a6\u30c1\u6f14\u7b97\u5b50(:=)"},{"location":"lang/python/#_4","text":"Python\u306f\u6587\u5b57\u5217\u3082 == \u3092\u4f7f\u3046\u3002 \u4ee5\u4e0b\u306e\u6bd4\u8f03\u51e6\u7406\u306f\u771f\u3002 string = \"foobar\" if string == \"foobar\" : print ( \"string is 'foobar'\" ) \u914d\u5217\u306e\u6bd4\u8f03\u3082 == \u3067\u884c\u3046\u3002\u4ee5\u4e0b\u306ftrue obj_list = [ 1 , 2 , 3 , \"abc\" ] if obj_list == [ 1 , 2 , 3 , \"abc\" ]: print ( \"true\" ) \u3068\u3044\u3046\u304b == \u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u6bd4\u8f03\u306b\u4f7f\u3048\u308b\u3063\u3066\u3053\u3068\u304b\u306a\u3002","title":"\u6bd4\u8f03(==)"},{"location":"lang/python/#_5","text":"","title":"\u5236\u5fa1\u69cb\u6587"},{"location":"lang/python/#for","text":"foreach\u5f0f\u306e\u30eb\u30fc\u30d7\u51e6\u7406\u306f\u4ee5\u4e0b\u3002 for item in items: # item\u306b\u30ea\u30b9\u30c8\u306e\u8981\u7d20\u304c\u30bb\u30c3\u30c8\u3055\u308c\u308b \u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u3067\u3082\u66f8\u3051\u308b\u3002 \u30eb\u30fc\u30d7\u51e6\u7406\u3057\u305f\u7d50\u679c\u3092\u30ea\u30b9\u30c8\u306b\u30bb\u30c3\u30c8\u3057\u305f\u3044\u5834\u5408\u306a\u3069\u3002 \u305d\u306e\u969b\u306f [...] \u3067\u56f2\u3080\u3002 result = [ .. item\u306b\u5bfe\u3059\u308b\u51e6\u7406 .. for item in items] BeautifulSoup\u3092\u4f7f\u3063\u305f\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u306e\u8a18\u8ff0\u4f8b links = [li . find( 'a' ) . get( 'href' ) for li in s . find_all( 'li' , class_ = 'toctree-l2' )] print (links)","title":"for"},{"location":"lang/python/#break","text":"\u30eb\u30fc\u30d7\u3092\u9014\u4e2d\u3067\u629c\u3051\u308b\u306b\u306f break","title":"break"},{"location":"lang/python/#continue","text":"\u6b21\u306e\u30eb\u30fc\u30d7\u3078\u98db\u3076\u306b\u306f continue","title":"continue"},{"location":"lang/python/#exit","text":"Python\u306eexit\u306f\u7d44\u307f\u8fbc\u307f\u3067\u306a\u304f sys \u3092import\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 import sys sys . exit( 1 )","title":"exit"},{"location":"lang/python/#_6","text":"","title":"\u5909\u6570"},{"location":"lang/python/#_7","text":"import os aws_access_key = os . environ . get( \"AWS_ACCESS_KEY_ID\" ) if aws_access_key is None : print ( \"AWS_ACCESS_KEY_ID not defined\" )","title":"\u74b0\u5883\u5909\u6570\u306e\u53c2\u7167"},{"location":"lang/python/#_8","text":"type (value)","title":"\u578b\u306e\u78ba\u8a8d"},{"location":"lang/python/#isinstance","text":"bool_val = True if ( isinstance (bool_val, bool )): print ( \"bool_val is bool\" ) int_val = 123 if ( isinstance (int_val, int )): print ( \"int_val is int\" ) list_val = [ 1 , 2 , 3 ] if ( isinstance (list_val, list )): print ( \"list_val is list\" ) dict_val = { \"key1\" : \"value1\" , \"key2\" : \"value2\" } if ( isinstance (dict_val, dict )): print ( \"dict_val is dict\" ) \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b bool_val is bool int_val is int list_val is list dict_val is dict list \u578b\u3067\u3082\u30b9\u30ab\u30e9\u30fc\u5024\u3067\u3082\u5f15\u6570\u306b\u53d6\u308c\u308b\u95a2\u6570\u306e\u5b9f\u88c5\u306a\u3069\u3067\u5b9f\u884c\u6642\u306b\u5224\u5b9a\u3001\u306a\u3069\u3067\u4f7f\u3048\u308b\u3002","title":"isinstance()\u3067\u578b\u5224\u5b9a"},{"location":"lang/python/#none","text":"if data is not None : # data\u304cNone\u3067\u306a\u3044\u5834\u5408","title":"None\u5224\u5b9a"},{"location":"lang/python/#_9","text":"","title":"\u5f15\u6570"},{"location":"lang/python/#_10","text":"sys.argv \u3092\u4f7f\u3046 import sys args = sys . argv print (args) print (args[ 0 ]) print (args[ 1 ]) $ ./argv.py hello ['./argv.py', 'hello'] ./argv.py hello","title":"\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570"},{"location":"lang/python/#_11","text":"","title":"\u95a2\u6570"},{"location":"lang/python/#main","text":"#!/usr/bin/python3 def func (): print ( \"begin func()\" ) if __name__ == \"__main__\" : print ( \"begin main()\" ) func()","title":"main"},{"location":"lang/python/#assert","text":"\u7279\u306b import \u306f\u4e0d\u8981\u3067\u4f7f\u7528\u53ef\u80fd # a\u306e\u5024\u304c10\u3067\u3042\u308b\u3053\u3068 assert (a == 10 )","title":"assert"},{"location":"lang/python/#_12","text":"","title":"\u914d\u5217"},{"location":"lang/python/#_13","text":"items = [ 'foo' , 'bar' , 'baz' , ] \u7a7a\u30ea\u30b9\u30c8 items = []","title":"\u30ea\u30b9\u30c8\u306e\u5b9a\u7fa9"},{"location":"lang/python/#_14","text":"\u30ea\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e append() \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3002 items . append( 'qux' )","title":"\u8981\u7d20\u306e\u8ffd\u52a0"},{"location":"lang/python/#_15","text":"\u8907\u6570\u306e\u30ea\u30b9\u30c8\u3092\u7d50\u5408(1\u3064\u306e\u30ea\u30b9\u30c8\u306b\u5168\u8981\u7d20\u3092\u307e\u3068\u3081\u308b)\u3059\u308b\u306b\u306f + \u3092\u4f7f\u3046 list1 = [ 'foo' , 'bar' , 'baz' ] list2 = [ 1 , 2 , 3 ] print (list1 + list2) \u5b9f\u884c\u7d50\u679c\u306f ['foo', 'bar', 'baz', 1, 2, 3] \u306b\u306a\u308b\u3002 += \u3067\u4ee3\u5165\u3082\u53ef\u80fd\u3002","title":"\u30ea\u30b9\u30c8\u306e\u7d50\u5408"},{"location":"lang/python/#length","text":"array = [] array . append( '2' ) array . append( '3' ) array . append( '4' ) print ( len (array)) 3\u306b\u306a\u308b\u3002","title":"length"},{"location":"lang/python/#_16","text":"\u7a7a\u306e\u914d\u5217\u5909\u6570\u306f\u305d\u308c\u81ea\u4f53\u304cFalse\u306b\u306a\u308b\u3002 empty_array = [] if not empty_array: print ( \"blank\" ) \u3042\u308b\u3044\u306f [] \u3068\u306e\u4e00\u81f4\u3067\u3082\u5224\u5b9a\u3067\u304d\u308b\u3002 if empty_array == []: print ( \"blank\" )","title":"\u7a7a\u5224\u5b9a"},{"location":"lang/python/#index","text":"array = [ 'curry' , 'beef' , 'chicken' , 'vegetable' ] beef_index = array . index( 'chicken' ) print (beef_index) \u5f15\u6570\u306b\u6307\u5b9a\u3057\u305f\u8981\u7d20\u304c\u914d\u5217\u4e2d\u306e\u4f55\u756a\u76ee\u306b\u3042\u308b\u304b\u3092\u8fd4\u3059\u3002\u4e0a\u8a18\u306e\u51fa\u529b\u306f 2 \u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306fValueError\u306b\u306a\u308b\u3002 array = [ 'curry' , 'beef' , 'chicken' , 'vegetable' ] beef_index = array . index( 'zzz' ) print (beef_index) $ python3 index.py Traceback (most recent call last): File \"index.py\", line 3, in <module> beef_index = array.index('zzz') ValueError: 'zzz' is not in list","title":"\u8981\u7d20\u306eindex"},{"location":"lang/python/#_17","text":"in \u3092\u4f7f\u3046\u3002 array = [ 'curry' , 'beef' , 'chicken' , 'vegetable' ] print ( 'curry' in array) print ( 'pork' in array) \u51fa\u529b\u306f\u4ee5\u4e0b\u306b\u306a\u308b\u3002 True False","title":"\u8981\u7d20\u306e\u6709\u7121"},{"location":"lang/python/#_18","text":"array = [ 'curry' , 'beef' , 'chicken' , 'vegetable' ] print (array[ 2 :]) print (array[: 3 ]) print (array[ 1 : 2 ]) \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b $ python3 slice.py ['chicken', 'vegetable'] ['curry', 'beef', 'chicken'] ['beef'] \u66f8\u5f0f\u306f array[\u59cb\u70b9:\u7d42\u70b9] \u3002\u7701\u7565\u6642\u306f\u6700\u521d\u304b\u3089or\u6700\u5f8c\u307e\u3067\u3002 \u59cb\u70b9\u306findex\u3092\u300c\u542b\u3080\u300d\u304c\u3001\u7d42\u70b9\u306findex\u3092\u300c\u542b\u307e\u306a\u3044\u300d\u306e\u3067\u6ce8\u610f\u3002 (\u8981\u7d20\u306eindex\u3068\u3044\u3046\u3088\u308a\u3001\u533a\u5207\u308a\u4f4d\u7f6e\u306eindex\u3068\u898b\u306a\u3059\u3068\u826f\u3044)","title":"\u30b9\u30e9\u30a4\u30b9"},{"location":"lang/python/#_19","text":"range(\u958b\u59cb, \u7d42\u4e86) \u3092\u4f7f\u3046 r = range ( 0 , 9 ) \u3053\u308c\u3067 r \u306f [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] \u3068\u306a\u308b\u3002 \u6b63\u78ba\u306b\u306frange\u578b\u306e\u305f\u3081\u30ea\u30b9\u30c8\u3067\u306f\u306a\u3044\u304c\u3001 list(r) \u3092\u4f7f\u3046\u3068\u30ea\u30b9\u30c8\u306b\u306a\u308b\u3002 1\u5f15\u6570\u306e\u5834\u5408\u306f\u958b\u59cb 0 \u3068\u307f\u306a\u3055\u308c\u308b\u3002(0\u958b\u59cb\u306e\u5834\u5408\u306f\u7d42\u4e86\u306e\u5024\u306e\u307f\u3067OK\u3002\u2191\u306f range(9) \u3068\u540c\u5024)","title":"\u9023\u756a\u306e\u5b9a\u7fa9"},{"location":"lang/python/#_20","text":"","title":"\u96c6\u5408"},{"location":"lang/python/#_21","text":"data_set = { 200 , 201 , 202 , 203 , 204 , 301 , 401 , 403 , 404 } print ( type (data_set)) # \u51fa\u529b\u306f <class 'set'>","title":"\u96c6\u5408\u306e\u5b9a\u7fa9"},{"location":"lang/python/#_22","text":"","title":"\u8f9e\u66f8"},{"location":"lang/python/#_23","text":"dict1 = { \"key1\" : \"value1\" , \"key2\" : \"value2\" } dict2 = dict (key1 = \"value1\" , key2 = \"value2\" ) \u3053\u306e\u5834\u5408\u3001 dict1 \u3068 dict2 \u306e\u4e2d\u8eab\u306f\u540c\u3058\u3002 dict1 == dict2 \u306e\u7d50\u679c\u3082true\u306b\u306a\u308b\u3002","title":"\u8f9e\u66f8\u306e\u5b9a\u7fa9"},{"location":"lang/python/#_24","text":"dict1[ 'key1' ] \u305f\u3060\u3057\u30ad\u30fc\u304c\u7121\u3044\u5834\u5408\u306f KeyError \u4f8b\u5916\u306b\u306a\u308b\u3002 get() \u3092\u4f7f\u3048\u3070\u30ad\u30fc\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f None \u304c\u8fd4\u308b\u3002 dict1 . get( 'key1' )","title":"\u30ad\u30fc\u3092\u4f7f\u3063\u305f\u5024\u3078\u306e\u30a2\u30af\u30bb\u30b9"},{"location":"lang/python/#_25","text":"sample_dict = { \"key1\" : \"value1\" , \"key2\" : \"value2\" , \"key3\" : \"value3\" , } for k, v in sample_dict . items(): print ( \"key: \" + k + \", value: \" + v) \u8f9e\u66f8.items() \u3067\u3001\u30ad\u30fc\u3068\u5024\u306e\u30da\u30a2\u306e\u30ea\u30b9\u30c8\u3092\u5f97\u3089\u308c\u308b\u306e\u3067\u3001\u3053\u308c\u3067\u30eb\u30fc\u30d7\u3067\u304d\u308b\u3002 \u4e0a\u306e\u30b3\u30fc\u30c9\u306e\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 key: key1, value: value1 key: key2, value: value2 key: key3, value: value3","title":"\u8f9e\u66f8\u8981\u7d20\u306e\u30eb\u30fc\u30d7(\u30ad\u30fc\u3068\u5024\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u53d6\u5f97)"},{"location":"lang/python/#-yaml","text":"import yaml print (yaml . dump(dict_data, default_flow_style = False )) \u5b50\u8981\u7d20\u304c\u30d5\u30ed\u30fc\u30b9\u30bf\u30a4\u30eb\u306b\u306a\u3063\u3066\u30d6\u30ed\u30c3\u30af\u30b9\u30bf\u30a4\u30eb\u306b\u306a\u3089\u306a\u3044\u5834\u5408\u306f default_flow_style \u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092 False \u6307\u5b9a\u3059\u308b\u3002","title":"\u8f9e\u66f8-&gt;YAML\u5316"},{"location":"lang/python/#yaml-","text":"import yaml with open ( 'config.yaml' , 'r' ) as yml: config = yaml . safe_load(yml) \u3053\u308c\u3067 config \u5909\u6570\u306bYAML\u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u7fa9\u3057\u305f\u60c5\u5831\u304c\u8f9e\u66f8\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u30bb\u30c3\u30c8\u3055\u308c\u308b\u3002","title":"YAML\u30d5\u30a1\u30a4\u30eb-&gt;\u8f9e\u66f8\u5316"},{"location":"lang/python/#-json","text":"import json print (json . dumps(dict_data))","title":"\u8f9e\u66f8-&gt;JSON\u5316"},{"location":"lang/python/#json-","text":"import json obj = json . loads(json_strings) YAML\u3068\u9055\u3063\u3066\u30e1\u30bd\u30c3\u30c9\u540d\u306f dumps() \u3067 s \u304c\u4ed8\u4e0e\u3055\u308c\u308b\u3002 dump() \u306f\u3001\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\u3092\u884c\u3046\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u5225\u306b\u5b58\u5728\u3059\u308b\u3002","title":"JSON\u6587\u5b57\u5217-&gt;\u8f9e\u66f8(\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)"},{"location":"lang/python/#json-_1","text":"STDIN\u306e\u5834\u5408\u306f import json with sys . stdin as f: obj = json . load(f)","title":"JSON\u30d5\u30a1\u30a4\u30eb-&gt;\u30aa\u30d6\u30b8\u30a7\u30af\u30c8"},{"location":"lang/python/#_26","text":"","title":"\u6587\u5b57\u5217"},{"location":"lang/python/#_27","text":"if string_value . startswith( \"kube\" ): # \u6587\u5b57\u5217\u304c\"kube\"\u3067\u59cb\u307e\u308b\u5834\u5408","title":"\u6307\u5b9a\u6587\u5b57\u3067\u59cb\u307e\u308b\u304b"},{"location":"lang/python/#1","text":"sample_str[ -1 ]","title":"\u672b\u5c3e1\u6587\u5b57"},{"location":"lang/python/#1_1","text":"sample_str[: -1 ]","title":"\u672b\u5c3e1\u6587\u5b57\u3092\u524a\u3063\u305f\u6587\u5b57\u5217"},{"location":"lang/python/#splitlines","text":"\u30c6\u30ad\u30b9\u30c8\u306e\u672b\u5c3e\u306b\u6539\u884c\u304c\u3042\u308b\u5834\u5408\u3001 split('\\n') \u3092\u4f7f\u3046\u3068\u672b\u5c3e\u306e\u6539\u884c\u3082\u30c7\u30ea\u30df\u30bf\u3068\u8a8d\u8b58\u3057\u3001\u30ea\u30b9\u30c8\u306e\u6700\u7d42\u8981\u7d20\u306f\u7a7a\u6587\u5b57\u306b\u306a\u308b\u304c\u3001 splitlines() \u3067\u3042\u308c\u3070\u672b\u5c3e\u306e\u6539\u884c\u5206\u306f\u7121\u8996\u3055\u308c\u308b\u3002\u884c\u3054\u3068\u306b\u51e6\u7406\u3057\u305f\u3044\u5834\u5408\u306f\u3053\u3061\u3089\u304c\u4fbf\u5229\u3002","title":"splitlines()"},{"location":"lang/python/#_28","text":"\u6587\u5b57\u5217\u306ezfill()\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3002 \u5f15\u6570\u306e\u6570\u5024\u306e\u6841\u6570\u9577\u306b\u30bc\u30ed\u30d1\u30c7\u30a3\u30f3\u30b0\u3055\u308c\u305f\u6587\u5b57\u5217\u3092\u8fd4\u3059\u3002 int_sample = '123' str_sample = 'foo' print (int_sample . zfill( 8 )) print (str_sample . zfill( 8 )) \u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u3002 00000123 00000foo","title":"\u30bc\u30ed\u30d1\u30c7\u30a3\u30f3\u30b0"},{"location":"lang/python/#_29","text":"","title":"\u6b63\u898f\u8868\u73fe\u51e6\u7406"},{"location":"lang/python/#research","text":"import re if re . search(regexp, string): # string\u304cregexp\u306b\u30de\u30c3\u30c1 re.match() \u306f\u5148\u982d\u304b\u3089\u30de\u30c3\u30c1\u3092\u884c\u3046\u305f\u3081\u3001\u6587\u5b57\u5217\u306e\u9014\u4e2d\u306b\u306f\u30de\u30c3\u30c1\u3057\u306a\u3044\u3002","title":"re.search()\u3067\u6587\u5b57\u5217\u5224\u5b9a"},{"location":"lang/python/#resub","text":"import re string = '/path/to/sample.txt' # s/a/A/ string = re . sub( r'a' , 'A' , string) print (string) # \u672b\u5c3e\u306e.txt\u3092\u524a\u308b string = re . sub( r'\\.txt$' , '' , string) print (string) # 't'\u3068'p'\u3092(t)\u304b(p)\u306b\u5909\u63db string = re . sub( r'([tp])' , r'(\\1)' , string) print (string) # r'...'\u3092\u4f7f\u308f\u306a\u3044\u5834\u5408\u306f'\\\\1'\u3068\u66f8\u304f # a\u3092\u5909\u63db\u3002\u305f\u3060\u3057\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u7121\u8996 string = re . sub( r'a' , r'_' , string, flags = re . IGNORECASE) print (string) # re.sub(pattern, repl, string, count=0, flags=0) \u306a\u306e\u3067\u3001count\u3092\u7701\u7565\u3059\u308b\u305f\u3081\u306b\u306f\"flags=\"\u3068\u3044\u3046\u540d\u524d\u4ed8\u304d\u5f15\u6570\u3092\u4f7f\u3046 \u4e0a\u8a18\u30b3\u30fc\u30c9\u306e\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 $ python replace.py /pAth/to/sAmple.txt /pAth/to/sAmple /(p)A(t)h/(t)o/sAm(p)le /(p)_(t)h/(t)o/s_m(p)le","title":"re.sub()\u3067\u7f6e\u63db"},{"location":"lang/python/#_30","text":"","title":"\u51fa\u529b"},{"location":"lang/python/#_31","text":"import sys print ( \"error\" , file = sys . stderr)","title":"\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b"},{"location":"lang/python/#print","text":"print ( \"sample\" , end = \"\" ) \u305f\u3060\u3057\u884c\u3054\u3068\u306b\u30d5\u30e9\u30c3\u30b7\u30e5\u3055\u308c\u308b\u305f\u3081\u3001\u30d7\u30ed\u30b0\u30ec\u30b9\u8868\u793a\u7684\u306b\u4f7f\u3046\u5834\u5408\u306f\u8ffd\u52a0\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u5fc5\u8981 print ( \".\" , end = \"\" , flush = True )","title":"print\u3067\u6539\u884c\u7121\u3057"},{"location":"lang/python/#_32","text":"print ( \"\"\" \u6771\u4eac\u30fb\u304a\u53f0\u5834\u306b\u3042\u308b\u3001\u81ea\u7531\u306a\u6821\u98a8\u3068\u5c02\u653b\u306e\u591a\u69d8\u3055\u3067\u4eba\u6c17\u306e\u9ad8\u6821\u300c\u8679\u30f6\u54b2\u5b66\u5712\u300d\u3002 \u30b9\u30af\u30fc\u30eb\u30a2\u30a4\u30c9\u30eb\u306e\u9b45\u529b\u306b\u3068\u304d\u3081\u3044\u305f\u666e\u901a\u79d12\u5e74\u306e\u9ad8\u54b2\u4f91\u306f\u3001 \u5e7c\u99b4\u67d3\u306e\u4e0a\u539f\u6b69\u5922\u3068\u3068\u3082\u306b\u300c\u30b9\u30af\u30fc\u30eb\u30a2\u30a4\u30c9\u30eb\u540c\u597d\u4f1a\u300d\u306e\u9580\u3092\u53e9\u304f\u3002 \"\"\" ) \u3053\u306e\u5834\u5408\u3001\u300c\u958b\u59cb\u306e \"\"\" \u300d\u306e\u3042\u3068\u306e\u6539\u884c\u3068\u3001\u300c\u7d42\u4e86\u306e \"\"\" \u300d\u306e\u624b\u524d\u306e\u6539\u884c\u3082\u542b\u307e\u308c\u308b\u3002","title":"\u30d2\u30a2\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"},{"location":"lang/python/#byte","text":"\u5909\u6570\u51fa\u529b\u3059\u308b\u3068 b'....' \u3068\u8868\u8a18\u3055\u308c\u51fa\u529b\u3055\u308c\u308b\u3002 byte_data = b'zzzzzzzz' print (byte_data) print ( len (byte_data)) print ( type (byte_data)) \u51fa\u529b\u306f\u4ee5\u4e0b\u3002 b'zzzzzzzz' 8 <class 'bytes'>","title":"byte\u578b"},{"location":"lang/python/#byte-string","text":"string_data = byte_data . decode() print (string_data) print ( type (string_data)) \u51fa\u529b\u306f <class 'str'>","title":"byte -&gt; string\u5909\u63db"},{"location":"lang/python/#string-byte","text":"byte_data = string_data . encode() print (byte_data) print ( type (byte_data)) \u3053\u308c\u3067\u51fa\u529b\u306f <class 'bytes'>","title":"string -&gt; byte\u5909\u63db"},{"location":"lang/python/#path","text":"","title":"path"},{"location":"lang/python/#_33","text":"os.path.expanduser \u3092\u4f7f\u3046\u3002 [zaki@cloud-dev2 ~]$ grep -e ^zaki -e ^root /etc/passwd root:x:0:0:root:/root:/bin/bash zaki:x:1000:1000:zaki:/home/zaki:/bin/bash \u3068\u3044\u3046\u30e6\u30fc\u30b6\u30fc\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u5b9f\u884c\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002 [zaki @cloud - dev2 ~ ] $ whoami zaki [zaki @cloud - dev2 ~ ] $ python Python 3.10.2 (main, Jan 17 2022 , 00 : 00 : 00 ) [GCC 11.2.1 20211203 (Red Hat 11.2.1-7 )] on linux Type \"help\" , \"copyright\" , \"credits\" or \"license\" for more information . >>> import os.path >>> print (os . path . expanduser( '~zaki' )) / home / zaki >>> print (os . path . expanduser( '~root' )) / root >>> print (os . path . expanduser( '~' )) / home / zaki >>>","title":"\u30e6\u30fc\u30b6\u30fc\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5c55\u958b"},{"location":"lang/python/#_34","text":"subprocess.run() \u3092\u4f7f\u3046\u3002( os.system \u306f\u3082\u3046\u4f7f\u308f\u306a\u3044) import subprocess ret = subprocess . run([ \"ls\" , \"-l\" ], capture_output = True , text = True ) print (ret . stdout) \u30ea\u30b9\u30c8\u3067\u306a\u304f\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u305f\u3044\u5834\u5408\u306f shell=True \u3092\u4ed8\u4e0e subprocess . run( \"ls -l\" , shell = True )","title":"\u5916\u90e8\u30b3\u30de\u30f3\u30c9\u5b9f\u884c"},{"location":"lang/python/#_35","text":"","title":"\u901a\u4fe1"},{"location":"lang/python/#httprequests","text":"requests \u3092\u4f7f\u3046\u3068\u697d\u3002 import requests r = requests . get( \"http://www.example.org\" )","title":"HTTP(requests)"},{"location":"lang/python/#post","text":"\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u306f data \u3067\u6307\u5b9a\u3059\u308b\u3002 \u8f9e\u66f8\u578b\u30c7\u30fc\u30bf\u3092JSON\u5f62\u5f0f\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u306b\u3059\u308b\u306a\u3089 json.dumps \u3092\u4f7f\u3046\u3068\u697d\u3002 payload = json . dumps(dict_params) headers = { 'Content-Type' : 'application/json' , 'Accept' : 'application/json' , 'Authorization' : 'Bearer ' + token } requests . post(url, data = payload, headers = headers)","title":"POST"},{"location":"lang/python/#delete","text":"POST\u3068\u540c\u3058\u8981\u9818 requests . delete(url)","title":"DELETE"},{"location":"lang/python/#_36","text":"headers = { 'Accept' : 'application/json' , 'Authorization' : 'Bearer ********' } requests . get(url, headers = headers)","title":"\u30ea\u30af\u30a8\u30b9\u30c8\u30d8\u30c3\u30c0"},{"location":"lang/python/#_37","text":"print (r . status_code) # \u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9(200\u306a\u3069) print (r . request) # Request\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 print (r . request . url) # \u30a2\u30af\u30bb\u30b9\u3057\u305fURL print (r . text) # \u30ec\u30b9\u30dd\u30f3\u30b9body REST API\u306e\u3088\u3046\u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u304cJSON\u5f62\u5f0f\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u5834\u5408\u306f\u3001 r.json() \u3092\u4f7f\u3046\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u5024\u3092\u3068\u308c\u308b\u3002 for item in r . json()[ 'items' ]: print (item[ 'metadata' ][ 'name' ])","title":"\u30ec\u30b9\u30dd\u30f3\u30b9"},{"location":"lang/python/#ssl","text":"r = requests . get( \"https://www.example.org\" , verify = False )","title":"SSL\u691c\u8a3c\u7121\u8996"},{"location":"lang/python/#basic","text":"requests . get(url, auth = HTTPBasicAuth(username, password))","title":"Basic\u8a8d\u8a3c"},{"location":"lang/python/#_38","text":"timeout_sec = 3 requests . get(url, timeout = timeout_sec)","title":"\u63a5\u7d9a\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u8a2d\u5b9a"},{"location":"lang/python/#_39","text":"\u4f8b\u5916\u304c\u767a\u751f\u3059\u308b\u306e\u3067\u305d\u308c\u3092catch\u3059\u308b\u3002 try : requests . post(url) except (requests . ConnectionError, requests . ConnectTimeout) as e: print (e)","title":"\u63a5\u7d9a\u30a8\u30e9\u30fc\u306e\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0"},{"location":"lang/python/#http-urllibrequest","text":"requests\u3092\u8ffd\u52a0\u3067\u304d\u306a\u3044\u5834\u5408\u306a\u3069\u3002","title":"HTTP (urllib.request)"},{"location":"lang/python/#get","text":"import urllib.request url = 'https://example.org' header = { 'Authorization' : 'Bearer ' + token } req = urllib . request . Request(url, headers = headers) with urllib . request . urlopen(req) as res: j = json . load(res)","title":"GET"},{"location":"lang/python/#post_1","text":"Request\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\u6642\u306b\u9001\u4fe1\u3059\u308b\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3059\u308c\u3070POST\u30e1\u30bd\u30c3\u30c9\u306b\u306a\u308b\u3002 auth_data = { 'Username' : username, 'Password' : password, } auth_req = urllib . request . Request(auth_page, urllib . parse . urlencode(auth_data) . encode( 'ascii' )) with urllib . request . urlopen(auth_req) as auth_resp: print (auth_resp . read())","title":"POST"},{"location":"lang/python/#ssl_1","text":"context = ssl . _create_univerified_context() r = urllib . request . Request(url, headers = headers) while urllib . request . urlopen(req, context = context) as res: ...","title":"SSL\u691c\u8a3c\u7121\u8996"},{"location":"lang/python/#_40","text":"","title":"\u4f8b\u5916"},{"location":"lang/python/#_41","text":"try , except \u3092\u4f7f\u3046 try : # \u4f8b\u5916\u304c\u767a\u751f\u3059\u308b\u30b3\u30fc\u30c9 except RuntimeError as e: # \u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u51e6\u7406 # \u30a8\u30e9\u30fc\u60c5\u5831\u306f\"e\"\u306b\u5165\u3063\u3066\u3044\u308b print (e) \u6355\u6349\u3059\u308b\u4f8b\u5916\u304c\u8907\u6570\u306e\u5834\u5408\u306f\u3001 except \u3092\u8907\u6570\u4e26\u3079\u308b\u304b\u3001\u30ab\u30c3\u30b3\u3067\u307e\u3068\u3081\u308b\u3002 try : # \u4f8b\u5916\u304c\u767a\u751f\u3059\u308b\u30b3\u30fc\u30c9 except ( RuntimeError , TypeError ) as e: print (e)","title":"\u4f8b\u5916\u306e\u6355\u6349"},{"location":"lang/python/#raise","text":"raise RuntimeError ( 'application error: ' + error_value) \u6a19\u6e96\u3067\u4f7f\u7528\u3067\u304d\u308b\u7d44\u307f\u8fbc\u307f\u4f8b\u5916\u306f\u4ee5\u4e0b\u3002 \u7d44\u307f\u8fbc\u307f\u4f8b\u5916","title":"\u4f8b\u5916\u3092\u6295\u3052\u308b(raise)"},{"location":"lang/python/#partial-application","text":"functiontools#partial() \u3092\u4f7f\u3046\u3002 \u5f15\u6570(\u306e\u4e00\u90e8\u3092)\u56fa\u5b9a\u3057\u305f\u95a2\u6570\u3092\u4f5c\u308b Python\u306efunctools.partial(\u90e8\u5206\u9069\u7528)\u3092\u89e3\u8aac\u3059\u308b - Qiita functools --- \u9ad8\u968e\u95a2\u6570\u3068\u547c\u3073\u51fa\u3057\u53ef\u80fd\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u64cd\u4f5c \u2014 Python 3.9.4 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3053\u3093\u306a\u611f\u3058\u3002 https://github.com/ansible/ansible/blob/stable-2.10/lib/ansible/playbook/base.py#L105-L114 method = \"_get_attr_ %s \" % attr_name if method in src_dict or method in dst_dict: getter = partial(_generic_g_method, attr_name) elif ( '_get_parent_attribute' in dst_dict or '_get_parent_attribute' in src_dict) and value . inherit: getter = partial(_generic_g_parent, attr_name) else : getter = partial(_generic_g, attr_name) setter = partial(_generic_s, attr_name) deleter = partial(_generic_d, attr_name) \u306a\u308b\u307b\u3069\u308f\u304b\u3089\u3093 [Ansible] \u305d\u306etag\u8a2d\u5b9a\u3001\u60f3\u5b9a\u901a\u308a\u306b\u52d5\u3044\u3066\u307e\u3059\u304b\uff1f (\u7d99\u627f\u6a5f\u80fd\u3068\u305d\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\u3059\u308b) - zaki work log","title":"\u90e8\u5206\u9069\u7528(partial application)"},{"location":"lang/python/#_42","text":"python\u3067\u8003\u3048\u308b\u30e1\u30bf\u30af\u30e9\u30b9\u3068\u306f\uff1f - Qiita __new__\u3068__init__\u3068\u30e1\u30bf\u30af\u30e9\u30b9\u3068 - Qiita \u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\u3092\u30b3\u30fc\u30c9\u3067\u52d5\u7684\u306b\u5b9f\u88c5\u3059\u308b\u611f\u3058\u3002 https://github.com/ansible/ansible/blob/stable-2.10/lib/ansible/playbook/base.py#L105-L114 method = \"_get_attr_ %s \" % attr_name if method in src_dict or method in dst_dict: getter = partial(_generic_g_method, attr_name) elif ( '_get_parent_attribute' in dst_dict or '_get_parent_attribute' in src_dict) and value . inherit: getter = partial(_generic_g_parent, attr_name) else : getter = partial(_generic_g, attr_name) setter = partial(_generic_s, attr_name) deleter = partial(_generic_d, attr_name) [Ansible] \u305d\u306etag\u8a2d\u5b9a\u3001\u60f3\u5b9a\u901a\u308a\u306b\u52d5\u3044\u3066\u307e\u3059\u304b\uff1f (\u7d99\u627f\u6a5f\u80fd\u3068\u305d\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\u3059\u308b) - zaki work log","title":"\u30e1\u30bf\u30af\u30e9\u30b9"},{"location":"lang/python/#_43","text":"","title":"\u74b0\u5883"},{"location":"lang/python/#pip","text":"","title":"pip"},{"location":"lang/python/#_44","text":"pip install ansible==9 \u300c\u4ee5\u4e0a\u300d\u306e\u5834\u5408\u306f\u4ee5\u4e0b pip install ansible>=8","title":"\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a"},{"location":"lang/python/#requirementstxt","text":"ansible==2.9.7 jmespath==0.10.0 \u3068\u3044\u3046\u5185\u5bb9\u306e requirements.txt \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u3053\u308c\u3067 $ pip install -r requirements.txt \u203b \u30d5\u30a1\u30a4\u30eb\u540d\u306f\u4efb\u610f","title":"requirements.txt\u306e\u5229\u7528"},{"location":"lang/python/#pip_1","text":"venv\u3068\u304b\u4f5c\u3063\u305f\u76f4\u5f8c\u306f pip \u81ea\u4f53\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u306e\u3067(\u76ee\u7684\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u5165\u308c\u308b\u3068\u304d\u306b\u30a8\u30e9\u30fc\u306b\u306a\u308b\u524d\u306b\u5148\u306b)\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b \u203b \u305d\u3082\u305d\u3082venv\u4f5c\u6210\u6642\u306b --upgrade-deps \u3092\u3064\u3051\u3066\u304a\u3051\u3070\u81ea\u52d5\u66f4\u65b0\u3055\u308c\u3066\u74b0\u5883\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002 $ pip install --upgrade pip","title":"pip\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8"},{"location":"lang/python/#_45","text":"\u57fa\u672c\u7684\u306b\u306f\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066\u4ee5\u4e0b\u3067OK $ pip install hogehoge =0 .0.1 requirements.txt \u8a18\u8f09\u306e\u5834\u5408\u3082\u3001\u8a18\u8f09\u3057\u305f\u6307\u5b9a\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u3082\u306e\u3088\u308a\u53e4\u3051\u308c\u3070\u81ea\u52d5\u3067\u66f4\u65b0\u3055\u308c\u308b\u3002 \u4ee5\u4e0b\u306f rich==11.0.0 \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u72b6\u614b\u3067 rich==9.5.1 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u306e\u30ed\u30b0\u3002 Installing collected packages: typing-extensions, rich Attempting uninstall: rich Found existing installation: rich 11.0.0 Uninstalling rich-11.0.0: Successfully uninstalled rich-11.0.0 Successfully installed rich-9.5.1 typing-extensions-3.10.0.2","title":"\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30b0\u30ec\u30fc\u30c9"},{"location":"lang/python/#_46","text":"$ pip uninstall docker Found existing installation: docker 5.0.3 Uninstalling docker-5.0.3: Would remove: /home/ubuntu/.local/lib/python3.8/site-packages/docker-5.0.3.dist-info/* /home/ubuntu/.local/lib/python3.8/site-packages/docker/* Proceed (y/n)? y Successfully uninstalled docker-5.0.3 -y \u3092\u4ed8\u3051\u308c\u3070\u5f37\u5236\u524a\u9664\u306b\u306a\u308b\u3063\u307d\u3044\u3002 Uninstall Options: -r, --requirement <file> Uninstall all the packages listed in the given requirements file. This option can be used multiple times. -y, --yes Don't ask for confirmation of uninstall deletions.","title":"\u30d1\u30c3\u30b1\u30fc\u30b8\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"lang/python/#_47","text":"$ pip uninstall -r < ( pip freeze )","title":"\u5168\u3066\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"lang/python/#_48","text":"$ pip show ansible-core : : Requires: cryptography, jinja2, packaging, PyYAML, resolvelib Required-by: ansible Required-by\u306e ansible \u306b\u3088\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3001\u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u3063\u3066 cryptography , jinja2 , packaging , PyYAML , resolvelib \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002","title":"\u4f9d\u5b58\u95a2\u4fc2\u306e\u78ba\u8a8d"},{"location":"lang/python/#pyenv","text":"pyenv/pyenv: Simple Python version management","title":"pyenv"},{"location":"lang/python/#_49","text":"curl https://pyenv.run | bash","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"lang/python/#_50","text":"cat <<'__EOL__' >> $HOME/.bashrc export PYENV_ROOT=\"$HOME/.pyenv\" command -v pyenv >/dev/null || export PATH=\"$PYENV_ROOT/bin:$PATH\" eval \"$(pyenv init -)\" __EOL__ . $HOME/.bashrc","title":"\u8a2d\u5b9a\u8ffd\u52a0"},{"location":"lang/python/#_51","text":"\u4ee5\u4e0b\u306fUbuntu\u306e\u5834\u5408\u3002 sudo apt update; sudo apt install build-essential libssl-dev zlib1g-dev \\ libbz2-dev libreadline-dev libsqlite3-dev curl \\ libncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev \u305d\u306e\u4ed6\u306e\u74b0\u5883\u306fwiki\u53c2\u7167: https://github.com/pyenv/pyenv/wiki#suggested-build-environment","title":"\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"lang/python/#python_1","text":"pyenv install 3.11.3 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306aPython\u306f pyenv install -l \u3067\u78ba\u8a8d","title":"Python\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"lang/python/#python_2","text":"pyenv global 3.11.3 \u5207\u66ff\u53ef\u80fd\u306aPython\u306f pyenv versions \u3067\u78ba\u8a8d","title":"python\u306e\u5207\u66ff"},{"location":"lang/python/#venv","text":"","title":"venv"},{"location":"lang/python/#_52","text":"$ python3 -m venv venv/ansible","title":"\u4f5c\u6210"},{"location":"lang/python/#pipsetuptools","text":"$ python3 -m venv ~/venv/dev --upgrade-deps","title":"\u4f5c\u6210\u6642\u306bpip\u3068setuptools\u3092\u66f4\u65b0\u3059\u308b"},{"location":"lang/python/#system","text":"$ python3 -m venv venv-sys --system-site-packages","title":"system\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30d1\u30b9\u3082\u53c2\u7167"},{"location":"lang/python/#pyvenv","text":"RHEL8\u306b\u5165\u3063\u3066\u308b\u3084\u3064\u3002 [zaki@rhel8-node ~]$ pyvenv-3 venv3 WARNING: the pyenv script is deprecated in favour of `platform-python -m venv` [zaki@rhel8-node ~]$ . venv3/bin/activate (venv3) [zaki@rhel8-node ~]$ (venv3) [zaki@rhel8-node ~]$ pip install --upgrade pip Cache entry deserialization failed, entry ignored Collecting pip Downloading https://files.pythonhosted.org/packages/47/ca/f0d790b6e18b3a6f3bd5e80c2ee4edbb5807286c21cdd0862ca933f751dd/pip-21.1.3-py3-none-any.whl (1.5MB) 100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1.6MB 641kB/s Installing collected packages: pip Found existing installation: pip 9.0.3 Uninstalling pip-9.0.3: Successfully uninstalled pip-9.0.3 Successfully installed pip-21.1.3 (venv3) [zaki@rhel8-node ~]$ pip list Package Version ---------- ------- pip 21.1.3 setuptools 39.2.0 --system-site-packages \u3082\u4f75\u7528\u53ef [zaki@rhel8-node ~]$ pyvenv-3.6 venv --system-site-packages WARNING: the pyenv script is deprecated in favour of `platform-python -m venv` [zaki@rhel8-ansible-node ~]$ . venv/bin/activate (venv) [zaki@rhel8-node ~]$ pip list DEPRECATION: The default format will switch to columns in the future. You can use --format=(legacy|columns) (or define a format=(legacy|columns) in your pip.conf under the [list] section) to disable this warning. cffi (1.11.5) chardet (3.0.4) configobj (5.0.6) configshell-fb (1.1.28) cryptography (3.2.1) dbus-python (1.2.4) decorator (4.2.1) ethtool (0.14) : :","title":"pyvenv"},{"location":"lang/python/#rhel-ansible","text":"Ansible \u304c\u5229\u7528\u3059\u308b Python \u5b9f\u884c\u74b0\u5883 - \u8d64\u5e3d\u30a8\u30f3\u30b8\u30cb\u30a2\u30d6\u30ed\u30b0","title":"RHEL / Ansible"},{"location":"lang/yaml/","text":"YAML tools Online YAML Parser \u8907\u6570\u884c [YAML] \u8907\u6570\u884c\u30c6\u30ad\u30b9\u30c8\u306e\u884c\u982d\u306b\u30a4\u30f3\u30c7\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u306b\u306f (Ansible/Kubernetes) - zaki work log \u30a4\u30f3\u30c7\u30f3\u30c8 block : | hoge foo bar \u3053\u306e\u5834\u5408\u306e block \u306e\u5024\u306f hoge foo bar \u3068\u306a\u308b\u3002 \u3053\u308c\u306f\u30a4\u30f3\u30c7\u30f3\u30c8\u91cf\u3092(\u5404\u884c\u540c\u3058\u91cf\u305a\u3064)\u5909\u5316\u3055\u305b\u3066\u3082\u540c\u3058\u3002 block \u306e\u5024\u306e\u6587\u5b57\u5217\u5185\u3067\u30a4\u30f3\u30c7\u30f3\u30c8\u304c\u6b32\u3057\u3044\u5834\u5408\u306f block : |2 hoge foo bar \u3068\u66f8\u304f\u3053\u3068\u3067\u3001\u300c2\u6587\u5b57\u5206\u306fYAML\u306e\u66f8\u5f0f\u3068\u3057\u3066\u306e\u30a4\u30f3\u30c7\u30f3\u30c8\u300d\u3068\u89e3\u91c8\u3055\u308c\u3001\u6b8b\u308a\u306e\u30b9\u30da\u30fc\u30b9\u306f\u6587\u5b57\u5217\u90e8\u5206\u3068\u3057\u3066\u89e3\u91c8\u3055\u308c\u308b\u3002","title":"YAML"},{"location":"lang/yaml/#yaml","text":"","title":"YAML"},{"location":"lang/yaml/#tools","text":"Online YAML Parser","title":"tools"},{"location":"lang/yaml/#_1","text":"[YAML] \u8907\u6570\u884c\u30c6\u30ad\u30b9\u30c8\u306e\u884c\u982d\u306b\u30a4\u30f3\u30c7\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u306b\u306f (Ansible/Kubernetes) - zaki work log","title":"\u8907\u6570\u884c"},{"location":"lang/yaml/#_2","text":"block : | hoge foo bar \u3053\u306e\u5834\u5408\u306e block \u306e\u5024\u306f hoge foo bar \u3068\u306a\u308b\u3002 \u3053\u308c\u306f\u30a4\u30f3\u30c7\u30f3\u30c8\u91cf\u3092(\u5404\u884c\u540c\u3058\u91cf\u305a\u3064)\u5909\u5316\u3055\u305b\u3066\u3082\u540c\u3058\u3002 block \u306e\u5024\u306e\u6587\u5b57\u5217\u5185\u3067\u30a4\u30f3\u30c7\u30f3\u30c8\u304c\u6b32\u3057\u3044\u5834\u5408\u306f block : |2 hoge foo bar \u3068\u66f8\u304f\u3053\u3068\u3067\u3001\u300c2\u6587\u5b57\u5206\u306fYAML\u306e\u66f8\u5f0f\u3068\u3057\u3066\u306e\u30a4\u30f3\u30c7\u30f3\u30c8\u300d\u3068\u89e3\u91c8\u3055\u308c\u3001\u6b8b\u308a\u306e\u30b9\u30da\u30fc\u30b9\u306f\u6587\u5b57\u5217\u90e8\u5206\u3068\u3057\u3066\u89e3\u91c8\u3055\u308c\u308b\u3002","title":"\u30a4\u30f3\u30c7\u30f3\u30c8"}]}